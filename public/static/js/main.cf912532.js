/*! For license information please see main.cf912532.js.LICENSE.txt */
(()=>{var __webpack_modules__={3638:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5043),_utils_hook_useAxios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7211),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(579);function AvailabilitiesItem(_ref){let{WeekDay:WeekDay,Data:Data}=_ref,weekdays=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];const[selectedValue,setSelectedValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[selectedValue2,setSelectedValue2]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),axios=(0,_utils_hook_useAxios__WEBPACK_IMPORTED_MODULE_1__.q)(),handleChange=e=>{setSelectedValue(e.target.value)},handleChange2=e=>{setSelectedValue2(e.target.value)},generateHourOptions=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("option",{value:a,children:a},a))}return e},[IsAlwaysAvailable,setIsAlwaysAvailable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked0,setWeekDayChecked0]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked1,setWeekDayChecked1]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked2,setWeekDayChecked2]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked3,setWeekDayChecked3]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked4,setWeekDayChecked4]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked5,setWeekDayChecked5]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[WeekDayChecked6,setWeekDayChecked6]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);let selectedWeekdays=[];for(let i=0;i<=6;i++)eval("WeekDayChecked".concat(i))&&selectedWeekdays.push(i.toString());function handleIsAlways(){(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e);(await axios.put("/hoteavailabilities/updateHoteAvailabilitiesByUserId2/"+e.userId,{ModeAvailability:Data.ModeAvailability,startTime:"00:00",endTime:"12:00",Weekday:selectedWeekdays})).data&&window.location.reload()})()}function handleChangeAvailabilities(){(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e);(await axios.put("/hoteavailabilities/updateHoteAvailabilitiesByUserId3/"+e.userId,{ModeAvailability:Data.ModeAvailability,startTime:selectedValue,endTime:selectedValue2,Weekday:WeekDay})).data&&window.location.reload()})()}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"card mb-2  ","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight"+WeekDay+Data.ModeAvailability,"aria-controls":"offcanvasRight"+WeekDay+Data.ModeAvailability,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"px-2 py-2  rounded  d-flex justify-content-between align-items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"badge bg-primary",children:"Disponilit\xe9(s)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("strong",{children:weekdays[WeekDay]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("p",{className:"text-muted",children:[Data.startTime," - ",Data.endTime]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{class:"bi bi-chevron-double-right"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight"+WeekDay+Data.ModeAvailability,"aria-labelledby":"offcanvasRightLabel",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"offcanvas-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("h5",{class:"offcanvas-title",id:"offcanvasRightLabel",children:weekdays[WeekDay]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"offcanvas-body",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"card mb-3",children:[" ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"form-check form-switch d-flex justify-content-between p-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{className:"form-check-label py-1",htmlFor:"flexSwitchCheckDefault5",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("strong",{children:"Toujours disponible"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault5",style:{height:"30px",width:"70px"},checked:IsAlwaysAvailable,onChange:e=>setIsAlwaysAvailable(!IsAlwaysAvailable)})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"card mb-3",children:[" ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"form-check form-switch d-flex justify-content-between p-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{className:"form-check-label py-1",htmlFor:"flexSwitchCheckDefault6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("strong",{children:"Heure"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"p-2",children:[" ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{htmlFor:"heureDebut",children:"Heure du d\xe9but"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("select",{class:"form-select form-select-sm mb-3 p-2","aria-label":"Small select example",value:selectedValue,onChange:handleChange,disabled:IsAlwaysAvailable,children:generateHourOptions()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{htmlFor:"heureDebut",children:"Heure du fin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("select",{class:"form-select form-select-sm mb-3 p-2","aria-label":"Small select example",value:selectedValue2,onChange:handleChange2,disabled:IsAlwaysAvailable,children:generateHourOptions()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("button",{className:"btn btn-primary w-100 text-white",disabled:IsAlwaysAvailable,onClick:handleChangeAvailabilities,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{class:"bi bi-card-checklist"})," Modifier la disponibilit\xe9"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("hr",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"Appliquer toutes ces heures \xe0 d'autres jours"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"d-flex justify-content-start",children:[" ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"lun"+WeekDay+Data.id,value:"0",checked:"0"===WeekDay?"0"===WeekDay:WeekDayChecked0,disabled:"0"===WeekDay,onChange:e=>setWeekDayChecked0(!WeekDayChecked0)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"lun"+WeekDay+Data.id,children:"Lun"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"mar"+WeekDay+Data.id,value:"1",checked:"1"===WeekDay?"1"===WeekDay:WeekDayChecked1,disabled:"1"===WeekDay,onChange:e=>setWeekDayChecked1(!WeekDayChecked1)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"mar"+WeekDay+Data.id,children:"Mar"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"mer"+WeekDay+Data.id,value:"1",checked:"2"===WeekDay?"2"===WeekDay:WeekDayChecked2,disabled:"2"===WeekDay,onChange:e=>setWeekDayChecked2(!WeekDayChecked2)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"mer"+WeekDay+Data.id,children:"Mer"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"jeu"+WeekDay+Data.id,value:"1",checked:"3"===WeekDay?"3"===WeekDay:WeekDayChecked3,disabled:"3"===WeekDay,onChange:e=>setWeekDayChecked3(!WeekDayChecked3)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"jeu"+WeekDay+Data.id,children:"Jeu"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"ven"+WeekDay+Data.id,value:"1",checked:"4"===WeekDay?"4"===WeekDay:WeekDayChecked4,disabled:"4"===WeekDay,onChange:e=>setWeekDayChecked4(!WeekDayChecked4)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"ven"+WeekDay+Data.id,children:"Ven"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"Sam"+WeekDay+Data.id,value:"1",checked:"5"===WeekDay?"5"===WeekDay:WeekDayChecked5,disabled:"5"===WeekDay,onChange:e=>setWeekDayChecked5(!WeekDayChecked5)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"Sam"+WeekDay+Data.id,children:"Sam"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{class:"me-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"dim"+WeekDay+Data.id,value:"1",checked:"6"===WeekDay?"6"===WeekDay:WeekDayChecked6,disabled:"6"===WeekDay,onChange:e=>setWeekDayChecked6(!WeekDayChecked6)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{class:"labelPlaceCheckBox",for:"dim"+WeekDay+Data.id,children:"Dim"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"btn btn-tertiary w-100 mb-2",disabled:IsAlwaysAvailable,children:"Enregistrer les modifications"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"btn btn-outline-tertiary w-100",disabled:!IsAlwaysAvailable,onClick:handleIsAlways,children:"Rendre toujours disponible"})]})]})]})]})]})}const __WEBPACK_DEFAULT_EXPORT__=AvailabilitiesItem},3488:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>r,Cc:()=>a,f9:()=>i});const r="https://moovicar-9c0b59206766.herokuapp.com",i="https://moovicar-9c0b59206766.herokuapp.com",a=2},7211:(e,t,n)=>{"use strict";n.d(t,{M:()=>c,q:()=>u});var r=n(7154),i=n(5043),a=n(3488),o=n(579);const s=(0,i.createContext)(),l="".concat(a.f9,"/api");function c(e){let{children:t}=e;const n={post:async(e,t)=>{try{return await r.A.post(l+e,t)}catch(n){}},get:async e=>{try{return await r.A.get(l+e)}catch(t){}},put:async(e,t)=>{try{return await r.A.put(l+e,t)}catch(n){}}};return(0,o.jsx)(s.Provider,{value:n,children:t})}const u=()=>(0,i.useContext)(s)},5513:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,b=0,y=0,x="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:m,column:g,length:o,return:""}}function _(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return y=b>0?u(x,--b):0,g--,10===y&&(g=1,m--),y}function S(){return y=b<v?u(x,b++):0,g++,10===y&&(g=1,m++),y}function C(){return u(x,b)}function A(){return b}function T(e,t){return d(x,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E(e){return m=g=1,v=h(x=e),b=0,[]}function N(e){return x="",e}function M(e){return s(T(b-1,R(91===e?e+2:40===e?e+1:e)))}function j(e){for(;(y=C())&&y<33;)S();return I(e)>2||I(y)>3?"":" "}function D(e,t){for(;--t&&S()&&!(y<48||y>102||y>57&&y<65||y>70&&y<97););return T(e,A()+(t<6&&32==C()&&32==S()))}function R(e){for(;S();)switch(y){case e:return b;case 34:case 39:34!==e&&39!==e&&R(y);break;case 40:41===e&&R(e);break;case 92:S()}return b}function P(e,t){for(;S()&&e+y!==57&&(e+y!==84||47!==C()););return"/*"+T(t,b-1)+"*"+a(47===e?e:S())}function O(e){for(;!I(C());)S();return T(e,b)}var L="-ms-",F="-moz-",z="-webkit-",B="comm",W="rule",V="decl",U="@keyframes";function H(e,t){for(var n="",r=p(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function q(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case V:return e.return=e.return||e.value;case B:return"";case U:return e.return=e.value+"{"+H(e.children,r)+"}";case W:e.value=e.props.join(",")}return h(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return N(Y("",null,null,null,[""],e=E(e),0,[0],e))}function Y(e,t,n,r,i,o,s,d,p){for(var m=0,g=0,v=s,b=0,y=0,x=0,w=1,_=1,T=1,I=0,E="",N=i,R=o,L=r,F=E;_;)switch(x=I,I=S()){case 40:if(108!=x&&58==u(F,v-1)){-1!=c(F+=l(M(I),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=M(I);break;case 9:case 10:case 13:case 32:F+=j(x);break;case 92:F+=D(A()-1,7);continue;case 47:switch(C()){case 42:case 47:f(K(P(S(),A()),t,n),p);break;default:F+="/"}break;case 123*w:d[m++]=h(F)*T;case 125*w:case 59:case 0:switch(I){case 0:case 125:_=0;case 59+g:-1==T&&(F=l(F,/\f/g,"")),y>0&&h(F)-v&&f(y>32?Z(F+";",r,n,v-1):Z(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(L=X(F,t,n,m,g,i,d,E,N=[],R=[],v),o),123===I)if(0===g)Y(F,t,L,L,N,o,v,d,R);else switch(99===b&&110===u(F,3)?100:b){case 100:case 108:case 109:case 115:Y(e,L,L,r&&f(X(e,L,L,0,0,i,d,E,i,N=[],v),R),i,R,v,d,r?N:R);break;default:Y(F,L,L,L,[""],R,0,d,R)}}m=g=y=0,w=T=1,E=F="",v=s;break;case 58:v=1+h(F),y=x;default:if(w<1)if(123==I)--w;else if(125==I&&0==w++&&125==k())continue;switch(F+=a(I),I*w){case 38:T=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*T,T=1;break;case 64:45===C()&&(F+=M(S())),b=C(),g=v=h(E=F+=O(A())),I++;break;case 45:45===x&&2==h(F)&&(w=0)}}return o}function X(e,t,n,r,a,o,c,u,h,f,m){for(var g=a-1,v=0===a?o:[""],b=p(v),y=0,x=0,_=0;y<r;++y)for(var k=0,S=d(e,g+1,g=i(x=c[y])),C=e;k<b;++k)(C=s(x>0?v[k]+" "+S:l(S,/&\f/g,v[k])))&&(h[_++]=C);return w(e,t,n,0===a?W:u,h,f,m)}function K(e,t,n){return w(e,t,n,B,a(y),d(e,2,-2),0)}function Z(e,t,n,r){return w(e,t,n,V,d(e,0,r),d(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(t[n]=1),!I(i);)S();return T(e,b)},Q=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=J(b-1,t,n);break;case 2:e[n]+=M(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=S());return e}(E(e),t))},$=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$.get(n))&&!r){$.set(e,!0);for(var i=[],a=Q(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+L+e+e;case 6828:case 4268:return z+e+L+e+e;case 6165:return z+e+L+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return z+e+L+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+L+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+L+l(e,"shrink","negative")+e;case 5292:return z+e+L+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+L+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+L+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=ne(e.value,e.length);break;case U:return H([_(e,{value:l(e.value,"@","@"+z)})],r);case W:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([_(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([_(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),_(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),_(e,{props:[l(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,s={},l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var c,u,d=[q,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([ee,te].concat(i,d));o=function(e,t,n,r){c=n,H(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return f.sheet.hydrate(l),f}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},5756:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>c,i:()=>a,w:()=>l});var r=n(5043),i=n(5513),a=(n(2830),n(9436),!0),o=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null);var s=o.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(o);return e(t,i,n)}))};a||(l=function(e){return function(t){var n=(0,r.useContext)(o);return null===n?(n=(0,i.A)({key:"css"}),r.createElement(o.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(5756),i=n(5043),a=n(1722),o=n(9436),s=n(2830),l=(n(5513),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,s.J)([n],void 0,i.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,h=l.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var p=!0===t.compat,f=t.insert("",{name:u,styles:d},t.sheet,p);return p?null:i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:f},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,o.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),m.current=[n,r],function(){n.flush()}}),[t]),(0,o.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,a.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},2830:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),a=/[A-Z]|^ms/g,o=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)((function(e){return s(e)?e:e.replace(a,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(o,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":l(o)&&(r+=c(a)+":"+u(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=d(e,t,o);switch(a){case"animation":case"animationName":r+=c(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var h=0;h<o.length;h++)l(o[h])&&(r+=c(a)+":"+u(a,o[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,a=n(e);return h=i,d(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var f=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=d(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=d(n,t,e[o]),r&&(i+=a[o]);p.lastIndex=0;for(var s,l="";null!==(s=p.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>s,s:()=>o});var i=n(5043),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()},s=a||i.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>a});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}},5881:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},805:(e,t,n)=>{"use strict";n(5881)},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(5043);var r=n(3290),i=n(579);function a(e){const{styles:t,defaultTheme:n={}}=e,a="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,i.jsx)(r.mL,{styles:a})}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>k.A,StyledEngineProvider:()=>_,ThemeContext:()=>l.T,css:()=>b.AH,default:()=>S,internal_processStyles:()=>C,keyframes:()=>b.i7});var r=n(8168),i=n(5043),a=n(918),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,a.A)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(5756),c=n(1722),u=n(2830),d=n(9436),h=s,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var a,o,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(a=n.label,o=n.target);var h=m(t,n,s),p=h||f(d),v=!p("as");return function(){var b=arguments,y=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&y.push("label:"+a+";"),null==b[0]||void 0===b[0].raw)y.push.apply(y,b);else{0,y.push(b[0][0]);for(var x=b.length,w=1;w<x;w++)y.push(b[w],b[0][w])}var _=(0,l.w)((function(e,t,n){var r=v&&e.as||d,a="",s=[],m=e;if(null==e.theme){for(var b in m={},e)m[b]=e[b];m.theme=i.useContext(l.T)}"string"===typeof e.className?a=(0,c.Rk)(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var x=(0,u.J)(y.concat(s),t.registered,m);a+=t.key+"-"+x.name,void 0!==o&&(a+=" "+o);var w=v&&void 0===h?f(r):p,_={};for(var k in e)v&&"as"===k||w(k)&&(_[k]=e[k]);return _.className=a,_.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:x,isStringTag:"string"===typeof r}),i.createElement(r,_))}));return _.displayName=void 0!==a?a:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=d,_.__emotion_styles=y,_.__emotion_forwardProp=h,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:m(_,i,!0)})).apply(void 0,y)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var b=n(3290),y=n(5513),x=n(579);let w;function _(e){const{injectFirst:t,children:n}=e;return t&&w?(0,x.jsx)(l.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,y.A)({key:"css",prepend:!0}));var k=n(869);function S(e,t){return v(e,t)}const C=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(7245)),a=r(n(5383));function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,a.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,a=e.substring(t+1,e.length-1);if("color"===n){if(a=a.split(" "),r=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else a=a.split(",");return a=a.map((e=>parseFloat(e))),{type:n,values:a,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),u({type:s,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:x,overridesResolver:w=b(g(p))}=c,_=(0,a.default)(c,h),k=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,S=x||!1;let C=f;"Root"===p||"root"===p?C=r:p?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const A=(0,o.default)(e,(0,i.default)({shouldForwardProp:C,label:undefined},_)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>y(e,(0,i.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,I=function(r){let a=T(r);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];const c=s?s.map(T):[];d&&w&&c.push((e=>{const r=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const a=r.components[d].styleOverrides,o={};return Object.entries(a).forEach((t=>{let[n,a]=t;o[n]=y(a,(0,i.default)({},e,{theme:r}))})),w(e,o)})),d&&!k&&c.push((e=>{var r;const a=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return y({variants:null==a||null==(r=a.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:a}))})),S||c.push(u);const h=c.length-s.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");a=[...r,...e],a.raw=[...r.raw,...e]}const p=A(a,...c);return e.muiName&&(p.muiName=e.muiName),p};return A.withConfig&&(I.withConfig=A.withConfig),I}};var i=r(n(4634)),a=r(n(4893)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(3174)),s=n(4534),l=(r(n(578)),r(n(2046)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function b(e){return e?(t,n)=>n[e]:null}function y(e,t){let{ownerState:n}=t,r=(0,a.default)(t,u);const o="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>y(e,(0,i.default)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,a.default)(o,d);return e.forEach((e=>{let a=!0;"function"===typeof e.props?a=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(a=!1)})),a&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return o}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>o,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(3216);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function o(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||a;return t.reduce(((r,i,a)=>(r[e.up(e.keys[a])]=n(t[a]),r)),{})}if("object"===typeof t){const e=r.breakpoints||a;return Object.keys(t).reduce(((r,a)=>{if(-1!==Object.keys(e.values||i).indexOf(a)){r[e.up(a)]=n(t[a],a)}else{const e=a;r[e]=t[e]}return r}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=s(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];const o=[t,...i].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),o)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),a=Object.keys(i);if(0===a.length)return t;let o;return a.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[o],o=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[o],o=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8587),i=n(8168);const a=["values","unit","step"],o=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,l=(0,r.A)(e,a),c=o(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-s/100).concat(n,")")}function p(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-s/100).concat(n,")")}return(0,i.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),i=n(8587),a=n(3216),o=n(4853);const s={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,i.A)(e,h),g=(0,o.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let b=(0,a.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},s,f)},m);b.applyStyles=d.A;for(var y=arguments.length,x=new Array(y>1?y-1:0),w=1;w<y;w++)x[w-1]=arguments[w];return b=x.reduce(((e,t)=>(0,a.A)(e,t)),b),b.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},b}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>a.A});var r=n(8280),i=n(4853),a=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3216);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>b,Ms:()=>y});var r=n(9751),i=n(7162),a=n(3815);const o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=o[t],i=s[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var a;const o=null!=(a=(0,i.Yn)(e,t,!1))?a:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const a=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),o=e[n];return(0,r.NI)(e,o,a)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(a.A,{})}function b(e){return v(e,u)}function y(e){return v(e,d)}function x(e){return v(e,h)}b.propTypes={},b.filterProps=u,y.propTypes={},y.filterProps=d,x.propTypes={},x.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>o,Yn:()=>a});var r=n(410),i=n(9751);function a(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function o(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:a(e,n)||i,t&&(r=t(r,i,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=a(e.theme,s)||{};return(0,i.NI)(e,c,(e=>{let i=o(u,l,e);return e===i&&"string"===typeof e&&(i=o(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(8604),i=n(7162),a=n(3815);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,a.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var s=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),b=c("borderBottomColor"),y=c("borderLeftColor"),x=c("outline",l),w=c("outlineColor"),_=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};_.propTypes={},_.filterProps=["borderRadius"];o(u,d,h,p,f,m,g,v,b,y,_,x,w);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const S=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];o(k,S,C,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function A(e,t){return"grey"===t?t:e}o((0,i.Ay)({prop:"color",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:A}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const I=(0,i.Ay)({prop:"width",transform:T}),E=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};E.filterProps=["maxWidth"];const N=(0,i.Ay)({prop:"minWidth",transform:T}),M=(0,i.Ay)({prop:"height",transform:T}),j=(0,i.Ay)({prop:"maxHeight",transform:T}),D=(0,i.Ay)({prop:"minHeight",transform:T}),R=((0,i.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:T}),o(I,E,N,M,j,D,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_},color:{themeKey:"palette",transform:A},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:A},backgroundColor:{themeKey:"palette",transform:A},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:C},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:E},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),i=n(8587),a=n(3216),o=n(7758);const s=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:o.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,s),{systemProps:o,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[o,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,a.Q)(e)?(0,r.A)({},o,e):o}:(0,r.A)({},o,t),(0,r.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>a.A});var r=n(8812),i=n(8698),a=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(410),i=n(3815),a=n(7162),o=n(9751),s=n(7758);function l(){function e(e,t,n,i){const s={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,a.Yn)(n,u)||{};if(h)return h(s);return(0,o.NI)(s,t,(t=>{let n=(0,a.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,a.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:a,theme:l={}}=n||{};if(!a)return null;const c=null!=(r=l.unstable_sxConfig)?r:s.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const a=(0,o.EU)(l.breakpoints),s=Object.keys(a);let u=a;return Object.keys(r).forEach((n=>{const a=(s=r[n],d=l,"function"===typeof s?s(d):s);var s,d;if(null!==a&&void 0!==a)if("object"===typeof a)if(c[n])u=(0,i.A)(u,e(n,a,l,c));else{const e=(0,o.NI)({theme:l},a,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,a)?u=(0,i.A)(u,e):u[n]=t({sx:a,theme:l})}else u=(0,i.A)(u,e(n,a,l,c))})),(0,o.vf)(s,u)}return Array.isArray(a)?a.map(u):u(a)}}const c=l();c.filterProps=["sx"];const u=c},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5043)),i=n(3174);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},410:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6632);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(410)},7040:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},5383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7040)},3216:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,Q:()=>i});var r=n(8168);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function a(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=a(e[n])})),t}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?s[r]=o(e[r],t[r],n):n.clone?s[r]=i(t[r])?a(t[r]):t[r]:s[r]=t[r])})),s}},4534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(3216)},6632:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6632)},2046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>a});var r=n(9565);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function a(e){const t="".concat(e).match(i);return t&&t[1]||""}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||a(e)||t}function s(e,t,n){const r=o(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return o(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return s(e,e.render,"ForwardRef");case r.Memo:return s(e,e.type,"memo");default:return}}}},8609:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},9565:(e,t,n)=>{"use strict";e.exports=n(8609)},3393:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return c(e)||u(e,t)||d(e,t)||p()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m,g,v,b,y={exports:{}};function x(){return g?m:(g=1,m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function w(){if(b)return v;b=1;var e=x();function t(){}function n(){}return n.resetWarningCache=t,v=function(){function r(t,n,r,i,a,o){if(o!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var a={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}y.exports=w()();var _=f(y.exports),k=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},S=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},C=function(e){return null!==e&&"object"===i(e)},A=function(e){return C(e)&&"function"===typeof e.then},T=function(e){return C(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},I="[object Object]",E=function e(t,n){if(!C(t)||!C(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===I;if(i!==(Object.prototype.toString.call(n)===I))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},l=0;l<a.length;l+=1)s[a[l]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var u=Object.keys(s);if(u.length!==a.length)return!1;var d=t,h=n,p=function(t){return e(d[t],h[t])};return u.every(p)},N=function(e,t,n){return C(e)?Object.keys(e).reduce((function(i,o){var s=!C(t)||!E(e[o],t[o]);return n.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):s?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},M="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;if(null===e||T(e))return e;throw new Error(t)},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;if(A(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return j(e,t)}))};var n=j(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},R=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},P=t.createContext(null);P.displayName="ElementsContext";var O=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},L=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return D(n)}),[n]),o=l(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),s=o[0],c=o[1];t.useEffect((function(){var e=!0,t=function(e){c((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||s.stripe?"sync"!==a.tag||s.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,s,r]);var u=S(n);t.useEffect((function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,n]);var d=S(r);return t.useEffect((function(){if(s.elements){var e=N(r,d,["clientSecret","fonts"]);e&&s.elements.update(e)}}),[r,d,s.elements]),t.useEffect((function(){R(s.stripe)}),[s.stripe]),t.createElement(P.Provider,{value:s},i)};L.propTypes={stripe:_.any,options:_.object};var F=function(e){var n=t.useContext(P);return O(n,e)},z=function(){return F("calls useElements()").elements},B=function(e){return(0,e.children)(F("mounts <ElementsConsumer>"))};B.propTypes={children:_.func.isRequired};var W=["on","session"],V=t.createContext(null);V.displayName="CustomCheckoutSdkContext";var U=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},H=t.createContext(null);H.displayName="CustomCheckoutContext";var q=function(e,t){if(!e)return null;e.on,e.session;var n=s(e,W);return r(r({},n),t||e.session())},G="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Y=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return D(n,G)}),[n]),o=l(t.useState(null),2),s=o[0],c=o[1],u=l(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,customCheckoutSdk:null}})),2),d=u[0],h=u[1],p=function(e,t){h((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},f=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==a.tag||d.stripe?"sync"===a.tag&&a.stripe&&!f.current&&(f.current=!0,a.stripe.initCustomCheckout(r).then((function(e){e&&(p(a.stripe,e),e.on("change",c))}))):a.stripePromise.then((function(t){t&&e&&!f.current&&(f.current=!0,t.initCustomCheckout(r).then((function(e){e&&(p(t,e),e.on("change",c))})))})),function(){e=!1}}),[a,d,r,c]);var m=S(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=S(r);t.useEffect((function(){var e,t;if(d.customCheckoutSdk){!r.clientSecret||C(g)||E(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!E(i,n)&&d.customCheckoutSdk.changeAppearance(i)}}),[r,g,d.customCheckoutSdk]),t.useEffect((function(){R(d.stripe)}),[d.stripe]);var v=t.useMemo((function(){return q(d.customCheckoutSdk,s)}),[d.customCheckoutSdk,s]);return d.customCheckoutSdk?t.createElement(V.Provider,{value:d},t.createElement(H.Provider,{value:v},i)):null};Y.propTypes={stripe:_.any,options:_.shape({clientSecret:_.string.isRequired,elementsOptions:_.object}).isRequired};var X=function(e){var n=t.useContext(V);return U(n,e)},K=function(e){var n=t.useContext(V),r=t.useContext(P);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?U(n,e):O(r,e)},Z=function(){X("calls useCustomCheckout()");var e=t.useContext(H);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},J=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Q=function(e,n){var r="".concat(J(e),"Element"),i=n?function(e){K("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,o=n.className,s=n.options,c=void 0===s?{}:s,u=n.onBlur,d=n.onFocus,h=n.onReady,p=n.onChange,f=n.onEscape,m=n.onClick,g=n.onLoadError,v=n.onLoaderStart,b=n.onNetworksChange,y=n.onConfirm,x=n.onCancel,w=n.onShippingAddressChange,_=n.onShippingRateChange,C=K("mounts <".concat(r,">")),A="elements"in C?C.elements:null,T="customCheckoutSdk"in C?C.customCheckoutSdk:null,I=l(t.useState(null),2),E=I[0],M=I[1],j=t.useRef(null),D=t.useRef(null);k(E,"blur",u),k(E,"focus",d),k(E,"escape",f),k(E,"click",m),k(E,"loaderror",g),k(E,"loaderstart",v),k(E,"networkschange",b),k(E,"confirm",y),k(E,"cancel",x),k(E,"shippingaddresschange",w),k(E,"shippingratechange",_),k(E,"change",p),h&&(i="expressCheckout"===e?h:function(){h(E)}),k(E,"ready",i),t.useLayoutEffect((function(){if(null===j.current&&null!==D.current&&(A||T)){var t=null;T?t=T.createElement(e,c):A&&(t=A.create(e,c)),j.current=t,M(t),t&&t.mount(D.current)}}),[A,T,c]);var R=S(c);return t.useEffect((function(){if(j.current){var e=N(c,R,["paymentRequest"]);e&&j.current.update(e)}}),[c,R]),t.useLayoutEffect((function(){return function(){if(j.current&&"function"===typeof j.current.destroy)try{j.current.destroy(),j.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:o,ref:D})};return i.propTypes={id:_.string,className:_.string,onChange:_.func,onBlur:_.func,onFocus:_.func,onReady:_.func,onEscape:_.func,onClick:_.func,onLoadError:_.func,onLoaderStart:_.func,onNetworksChange:_.func,onConfirm:_.func,onCancel:_.func,onShippingAddressChange:_.func,onShippingRateChange:_.func,options:_.object},i.displayName=r,i.__elementType=e,i},$="undefined"===typeof window,ee=t.createContext(null);ee.displayName="EmbeddedCheckoutProviderContext";var te=function(){var e=t.useContext(ee);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},ne="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",re=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return D(n,ne)}),[n]),o=t.useRef(null),s=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect((function(){if(!s.current&&!o.current){var e=function(e){s.current||o.current||(s.current=e,o.current=s.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"!==a.tag||s.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==a.tag||s.current||!r.clientSecret&&!r.fetchClientSecret||e(a.stripe):a.stripePromise.then((function(t){t&&e(t)}))}}),[a,r,u,s]),t.useEffect((function(){return function(){u.embeddedCheckout?(o.current=null,u.embeddedCheckout.destroy()):o.current&&o.current.then((function(){o.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){R(s)}),[s]);var h=S(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var p=S(r);return t.useEffect((function(){null!=p&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=p.clientSecret&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.fetchClientSecret&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.onComplete&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[p,r]),t.createElement(ee.Provider,{value:u},i)},ie=function(e){var n=e.id,r=e.className,i=te().embeddedCheckout,a=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect((function(){return!a.current&&i&&null!==o.current&&(i.mount(o.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:o,id:n,className:r})},ae=function(e){var n=e.id,r=e.className;return te(),t.createElement("div",{id:n,className:r})},oe=$?ae:ie,se=function(){return K("calls useStripe()").stripe},le=Q("auBankAccount",$),ce=Q("card",$),ue=Q("cardNumber",$),de=Q("cardExpiry",$),he=Q("cardCvc",$),pe=Q("fpxBank",$),fe=Q("iban",$),me=Q("idealBank",$),ge=Q("p24Bank",$),ve=Q("epsBank",$),be=Q("payment",$),ye=Q("expressCheckout",$),xe=Q("paymentRequestButton",$),we=Q("linkAuthentication",$),_e=Q("address",$),ke=Q("shippingAddress",$),Se=Q("paymentMethodMessaging",$),Ce=Q("affirmMessage",$),Ae=Q("afterpayClearpayMessage",$);e.AddressElement=_e,e.AffirmMessageElement=Ce,e.AfterpayClearpayMessageElement=Ae,e.AuBankAccountElement=le,e.CardCvcElement=he,e.CardElement=ce,e.CardExpiryElement=de,e.CardNumberElement=ue,e.CustomCheckoutProvider=Y,e.Elements=L,e.ElementsConsumer=B,e.EmbeddedCheckout=oe,e.EmbeddedCheckoutProvider=re,e.EpsBankElement=ve,e.ExpressCheckoutElement=ye,e.FpxBankElement=pe,e.IbanElement=fe,e.IdealBankElement=me,e.LinkAuthenticationElement=we,e.P24BankElement=ge,e.PaymentElement=be,e.PaymentMethodMessagingElement=Se,e.PaymentRequestButtonElement=xe,e.ShippingAddressElement=ke,e.useCustomCheckout=Z,e.useElements=z,e.useStripe=se}(t,n(5043))},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",o="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),a=n-i<0,o=t.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:o,m:a,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",x={};x[y]=g;var w="$isDayjsObject",_=function(e){return e instanceof A||!(!e||!e[w])},k=function e(t,n,r){var i;if(!t)return y;if("string"==typeof t){var a=t.toLowerCase();x[a]&&(i=a),n&&(x[a]=n,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;x[s]=t,i=s}return!r&&i&&(y=i),i||!r&&y},S=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},C=b;C.l=k,C.i=_,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!C.u(t)||t,u=C.p(e),p=function(e,t){var i=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},f=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return p(r?v-x:v+(6-x),g);case s:case h:return f(b+"Hours",0);case o:return f(b+"Minutes",1);case a:return f(b+"Seconds",2);case i:return f(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=C.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[o]=u+"Hours",n[a]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(r,u){var h,p=this;r=Number(r);var f=C.p(u),m=function(e){var t=S(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(f===c)return this.set(c,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var g=(h={},h[a]=t,h[o]=n,h[i]=e,h)[f]||1,v=this.$d.getTime()+r*g;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),a=this.$H,o=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},h=function(e){return C.s(a%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return s+1;case"MM":return C.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return C.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,o,!0);case"A":return f(a,o,!1);case"m":return String(o);case"mm":return C.s(o,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,p){var f,m=this,g=C.p(h),v=S(r),b=(v.utcOffset()-this.utcOffset())*t,y=this-v,x=function(){return C.m(m,v)};switch(g){case d:f=x()/12;break;case c:f=x();break;case u:f=x()/3;break;case l:f=(y-b)/6048e5;break;case s:f=(y-b)/864e5;break;case o:f=y/n;break;case a:f=y/t;break;case i:f=y/e;break;default:f=y}return p?f:C.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),T=A.prototype;return S.prototype=T,[["$ms",r],["$s",i],["$m",a],["$H",o],["$W",s],["$M",c],["$y",d],["$D",h]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,A,S),e.$i=!0),S},S.locale=k,S.isDayjs=_,S.unix=function(e){return S(1e3*e)},S.en=x[y],S.Ls=x,S.p={},S}()},7076:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),a=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(a)}}}()},8988:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},o=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=a.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[i,function(e){this.afternoon=u(e,!1)}],a:[i,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[i,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[i,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=o(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function h(n){var r,i;r=n,i=a&&a.formats;for(var o=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var a=r&&r.toUpperCase();return n||i[r]||e[r]||i[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=o.length,l=0;l<s;l+=1){var c=o[l],u=d[c],h=u&&u[0],p=u&&u[1];o[l]=p?{regex:h,parser:p}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var i=o[n];if("string"==typeof i)r+=i.length;else{var a=i.regex,l=i.parser,c=e.slice(r),u=a.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(o=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,o=e.args;this.$u=r;var s=o[1];if("string"==typeof s){var l=!0===o[2],c=!0===o[3],u=l||c,d=o[2];c&&(d=o[2]),a=this.$locale(),!l&&d&&(a=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=h(t)(e),i=r.year,a=r.month,o=r.day,s=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,p=new Date,f=o||(i||a?1:p.getDate()),m=i||p.getFullYear(),g=0;i&&!a||(g=a>0?a-1:p.getMonth());var v=s||0,b=l||0,y=c||0,x=u||0;return d?new Date(Date.UTC(m,g,f,v,b,y,x+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,f,v,b,y,x)):new Date(m,g,f,v,b,y,x)}catch(e){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(s)&&(this.$d=new Date("")),a={}}else if(s instanceof Array)for(var p=s.length,f=1;f<=p;f+=1){o[1]=s[f-1];var m=n.apply(this,o);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}f===p&&(this.$d=new Date(""))}else i.call(this,e)}}}()},1525:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var a=n(e),o=n(t),s="("===(i=i||"()")[0],l=")"===i[1];return(s?this.isAfter(a,r):!this.isBefore(a,r))&&(l?this.isBefore(o,r):!this.isAfter(o,r))||(s?this.isBefore(a,r):!this.isAfter(a,r))&&(l?this.isAfter(o,r):!this.isBefore(o,r))}}}()},4443:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,a=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var a=i&&i.toUpperCase();return r||n[i]||e[i]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return a.call(this,r)}}}()},6865:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,r,i){var a=r.prototype;a.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var a=i(this).startOf(t).add(1,t).date(r),o=i(this).endOf(e);if(a.isBefore(o))return 1}var s=i(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(s,e,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},a.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},5811:(e,t,n)=>{var r=n(347),i=n(1303).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},8537:(e,t,n)=>{var r=n(5811),i=n(1303),a=i.each,o=i.isFunction,s=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},347:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},1303:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},535:(e,t,n)=>{var r=n(8537);e.exports=new r},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var b=h(n,v);try{c(t,v,b)}catch(y){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function _(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||w(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===y||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},1270:(e,t,n)=>{var r=n(7475),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function l(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function b(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function _(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var k=window.requestAnimationFrame||x("RequestAnimationFrame")||_,S=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||k!==_)return k.call(window,i(e,t));e.call(t)}function A(e){e&&S.call(window,e)}var T={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:h,setOptions:p,getParamString:f,template:g,isArray:v,indexOf:b,emptyImageUrl:y,requestFn:k,cancelFn:S,requestAnimFrame:C,cancelAnimFrame:A};function I(){}function E(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,a=r(i);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(E(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},I.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},I.mergeOptions=function(e){return n(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var N={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,a=(e=h(e)).length;i<a;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var i=1===arguments.length,a=0,o=e.length;a<o;a++)i?this._off(e[a]):this._off(e[a],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var o=this._listens(e,t,n);if(!1!==o){var s=r[o];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(o,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var l=a[o],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,a=(e=h(e)).length;i<a;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var M=I.extend(N);function j(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var D=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof j?e:v(e)?new j(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new j(e.x,e.y):new j(e,t,n)}function P(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function O(e,t){return!e||e instanceof P?e:new P(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(e,t){return e instanceof F?e:new F(e,t)}function B(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function W(e,t,n){return e instanceof B?e:v(e)&&"object"!==typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,n)}j.prototype={clone:function(){return new j(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new j(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new j(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},P.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof j||"number"===typeof e[0]||"x"in e)t=n=R(e);else if(t=(e=O(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof j?R(e):O(e))instanceof P?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=O(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=O(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return O(R(t.x-r,t.y-i),R(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=O(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof B)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(W(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new F(new B(t.lat-r,t.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof B||"lat"in e?W(e):z(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=W(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return U.distance(this,W(e))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new P(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new F(new B(a.lat-r,a.lng-i),new B(o.lat-r,o.lng-i))}},U=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H=6378137,q={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new j(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=H*Math.PI;return new P([-e,-e],[e,e])}()};function G(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function Y(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new j((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var X=n({},U,{code:"EPSG:3857",projection:q,transformation:function(){var e=.5/(Math.PI*q.R);return Y(e,.5,-e,.5)}()}),K=n({},X,{code:"EPSG:900913"});function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e,t){var n,r,i,a,o,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,a=(o=e[n]).length;r<a;r++)l+=(r?"L":"M")+(s=o[r]).x+" "+s.y;l+=t?Oe.svg?"z":"x":""}return l||"M0 0"}var Q=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Pe("webkit"),re=Pe("android"),ie=Pe("android 2")||Pe("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=re&&Pe("Google")&&ae<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Pe("chrome"),ce=Pe("gecko")&&!ne&&!se&&!$,ue=!le&&Pe("safari"),de=Pe("phantom"),he="OTransition"in Q,pe=0===navigator.platform.indexOf("Win"),fe=$&&"transition"in Q,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in Q,ve=!window.L_DISABLE_3D&&(fe||me||ge)&&!he&&!de,be="undefined"!==typeof orientation||Pe("mobile"),ye=be&&ne,xe=be&&me,we=!window.PointerEvent&&window.MSPointerEvent,_e=!(!window.PointerEvent&&!we),ke="ontouchstart"in window||!!window.TouchEvent,Se=!window.L_NO_TOUCH&&(ke||_e),Ce=be&&se,Ae=be&&ce,Te=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Ee=!!document.createElement("canvas").getContext,Ne=!(!document.createElementNS||!Z("svg").createSVGRect),Me=!!Ne&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),je=!Ne&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),De=0===navigator.platform.indexOf("Mac"),Re=0===navigator.platform.indexOf("Linux");function Pe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Oe={ie:$,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:oe,opera:se,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:he,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:be,mobileWebkit:ye,mobileWebkit3d:xe,msPointer:we,pointer:_e,touch:Se,touchNative:ke,mobileOpera:Ce,mobileGecko:Ae,retina:Te,passiveEvents:Ie,canvas:Ee,svg:Ne,vml:je,inlineSvg:Me,mac:De,linux:Re},Le=Oe.msPointer?"MSPointerDown":"pointerdown",Fe=Oe.msPointer?"MSPointerMove":"pointermove",ze=Oe.msPointer?"MSPointerUp":"pointerup",Be=Oe.msPointer?"MSPointerCancel":"pointercancel",We={touchstart:Le,touchmove:Fe,touchend:ze,touchcancel:Be},Ve={touchstart:Qe,touchmove:Je,touchend:Je,touchcancel:Je},Ue={},He=!1;function qe(e,t,n){return"touchstart"===t&&Ze(),Ve[t]?(n=Ve[t].bind(this,n),e.addEventListener(We[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ge(e,t,n){We[t]?e.removeEventListener(We[t],n,!1):console.warn("wrong event specified:",t)}function Ye(e){Ue[e.pointerId]=e}function Xe(e){Ue[e.pointerId]&&(Ue[e.pointerId]=e)}function Ke(e){delete Ue[e.pointerId]}function Ze(){He||(document.addEventListener(Le,Ye,!0),document.addEventListener(Fe,Xe,!0),document.addEventListener(ze,Ke,!0),document.addEventListener(Be,Ke,!0),He=!0)}function Je(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Ue)t.touches.push(Ue[n]);t.changedTouches=[t],e(t)}}function Qe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Yt(t),Je(e,t)}function $e(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Kt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var a=Date.now();a-r<=et?2===++n&&t($e(e)):n=1,r=a}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,at,ot,st,lt=Ct(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Ct(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function dt(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function pt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function ft(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function bt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=_t(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function yt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!bt(e,t)){var a=_t(e);wt(e,(a?a+" ":"")+t)}}function xt(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,d((" "+_t(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function _t(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function kt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&St(e,t)}function St(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Ct(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function At(e,t,n){var r=t||new j(0,0);e.style[lt]=(Oe.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Tt(e,t){e._leaflet_pos=t,Oe.any3d?At(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function It(e){return e._leaflet_pos||new j(0,0)}if("onselectstart"in document)rt=function(){Lt(window,"selectstart",Yt)},it=function(){zt(window,"selectstart",Yt)};else{var Et=Ct(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Et){var e=document.documentElement.style;at=e[Et],e[Et]="none"}},it=function(){Et&&(document.documentElement.style[Et]=at,at=void 0)}}function Nt(){Lt(window,"dragstart",Yt)}function Mt(){zt(window,"dragstart",Yt)}function jt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Dt(),ot=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Lt(window,"keydown",Dt))}function Dt(){ot&&(ot.style.outlineStyle=st,ot=void 0,st=void 0,zt(window,"keydown",Dt))}function Rt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Pt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ot={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:dt,getStyle:ht,create:pt,remove:ft,empty:mt,toFront:gt,toBack:vt,hasClass:bt,addClass:yt,removeClass:xt,setClass:wt,getClass:_t,setOpacity:kt,testProp:Ct,setTransform:At,setPosition:Tt,getPosition:It,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:Nt,enableImageDrag:Mt,preventOutline:jt,restoreOutline:Dt,getSizedParentNode:Rt,getScale:Pt};function Lt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Vt(e,i,t[i],n);else for(var a=0,o=(t=h(t)).length;a<o;a++)Vt(e,t[a],n,r);return this}var Ft="_leaflet_events";function zt(e,t,n,r){if(1===arguments.length)Bt(e),delete e[Ft];else if(t&&"object"===typeof t)for(var i in t)Ut(e,i,t[i],n);else if(t=h(t),2===arguments.length)Bt(e,(function(e){return-1!==b(t,e)}));else for(var a=0,o=t.length;a<o;a++)Ut(e,t[a],n,r);return this}function Bt(e,t){for(var n in e[Ft]){var r=n.split(/\d/)[0];t&&!t(r)||Ut(e,r,null,null,n)}}var Wt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vt(e,t,n,r){var i=t+o(n)+(r?"_"+o(r):"");if(e[Ft]&&e[Ft][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!Oe.touchNative&&Oe.pointer&&0===t.indexOf("touch")?a=qe(e,t,a):Oe.touch&&"dblclick"===t?a=tt(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Wt[t]||t,a,!!Oe.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,$t(e,t)&&s(t)},e.addEventListener(Wt[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,a),e[Ft]=e[Ft]||{},e[Ft][i]=a}function Ut(e,t,n,r,i){i=i||t+o(n)+(r?"_"+o(r):"");var a=e[Ft]&&e[Ft][i];if(!a)return this;!Oe.touchNative&&Oe.pointer&&0===t.indexOf("touch")?Ge(e,t,a):Oe.touch&&"dblclick"===t?nt(e,a):"removeEventListener"in e?e.removeEventListener(Wt[t]||t,a,!1):e.detachEvent("on"+t,a),e[Ft][i]=null}function Ht(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function qt(e){return Vt(e,"wheel",Ht),this}function Gt(e){return Lt(e,"mousedown touchstart dblclick contextmenu",Ht),e._leaflet_disable_click=!0,this}function Yt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Xt(e){return Yt(e),Ht(e),this}function Kt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Zt(e,t){if(!t)return new j(e.clientX,e.clientY);var n=Pt(t),r=n.boundingClientRect;return new j((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Jt=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qt(e){return Oe.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Jt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Lt,off:zt,stopPropagation:Ht,disableScrollPropagation:qt,disableClickPropagation:Gt,preventDefault:Yt,stop:Xt,getPropagationPath:Kt,getMousePosition:Zt,getWheelDelta:Qt,isExternalTarget:$t,addListener:Lt,removeListener:zt},tn=M.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Tt(this._el,n),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=M.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(W(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(W(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof j?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(!(e=z(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){yt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Oe.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=W(e),t=void 0===t?o:t;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(o,t),c=i.distanceTo(r)||1,u=1.42,d=u*u;function h(e){var t=(l*l-s*s+(e?-1:1)*d*d*c*c)/(2*(e?l:s)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return p(e)/f(e)}var g=h(0);function v(e){return s*(f(g)/f(g+u*e))}function b(e){return s*(f(g)*m(g+u*e)-p(g))/d}function y(e){return 1-Math.pow(1-e,1.5)}var x=Date.now(),w=(h(1)-g)/u,_=n.duration?1e3*n.duration:1e3*w*.8;function k(){var n=(Date.now()-x)/_,a=y(n)*w;n<=1?(this._flyToFrame=C(k,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(b(a)/c)),o),this.getScaleZoom(s/v(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),k.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=z(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,z(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=O([o.min.add(n),o.max.subtract(r)]),l=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var c=a.subtract(s.getCenter()),u=s.extend(a).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new B(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ft(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=O(this.project(s,r),this.project(o,r)).getSize(),u=Oe.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,p=t?Math.max(d,h):Math.min(d,h);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new P(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(W(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(W(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(W(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(W(e),W(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(e)))},mouseEventToContainerPoint:function(e){return Zt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=dt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Lt(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,yt(e,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(e.markerPane,"leaflet-zoom-hide"),yt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Tt(this._mapPane,new j(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Tt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?zt:Lt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(a,e))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&jt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(e,t);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){"contextmenu"===t&&Yt(e);var l=a[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,c,!0),c.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==b(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new j(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return O([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new P(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new P(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=O(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new j(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Oe.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];At(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();At(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(C((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var an=I.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return yt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),on=function(e){return new an(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function r(r,i){var a=t+r+" "+t+i;e[r+i]=pt("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ft(this._controlCorners[e]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return an.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),qt(t);var r=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Lt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=pt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Lt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Yt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",r),this._separator=pt("div",e+"-separator",r),this._overlaysList=pt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(t),t.layerId=o(e.layer),Lt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Lt(e,"click",Yt),this.expand();var t=this;setTimeout((function(){zt(e,"click",Yt),t._preventClick=!1}))}}),ln=function(e,t,n){return new sn(e,t,n)},cn=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=pt("a",n,r);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Gt(a),Lt(a,"click",Xt),Lt(a,"click",i,this),Lt(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";xt(this._zoomInButton,t),xt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(yt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(yt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(e){return new cn(e)},dn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new dn(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(e){return new fn(e)};an.Layers=sn,an.Zoom=cn,an.Scale=dn,an.Attribution=fn,on.layers=ln,on.zoom=un,on.scale=hn,on.attribution=mn;var gn=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:N},bn=Oe.touch?"touchstart mousedown":"mousedown",yn=M.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Lt(this._dragStartTarget,bn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yn._dragging===this&&this.finishDrag(!0),zt(this._dragStartTarget,bn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!bt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)yn._dragging===this&&this.finishDrag();else if(!(yn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(yn._dragging=this,this._preventOutline&&jt(this._element),Nt(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Rt(this._element);this._startPoint=new j(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Pt(n);var r="mousedown"===e.type;Lt(document,r?"mousemove":"touchmove",this._onMove,this),Lt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new j(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Yt(e),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Tt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zt(document,"mousemove touchmove",this._onMove,this),zt(document,"mouseup touchend touchcancel",this._onUp,this),Mt(),it();var t=this._moved&&this._moving;this._moving=!1,yn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function xn(e,t,n){var r,i,a,o,s,l,c,u,d,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Dn(e[i],t);for(o=0;o<4;o++){for(u=h[o],r=[],i=0,a=(c=e.length)-1;i<c;a=i++)s=e[i],l=e[a],s._code&u?l._code&u||((d=jn(l,s,u,t,n))._code=Dn(d,t),r.push(d)):(l._code&u&&((d=jn(l,s,u,t,n))._code=Dn(d,t),r.push(d)),r.push(s));e=r}return e}function wn(e,t){var n,r,i,a,o,s,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");On(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=W([0,0]),h=z(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=_n(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=W(e[n]);f.push(t.project(W([m.lat-d.lat,m.lng-d.lng])))}for(s=l=c=0,n=0,r=p-1;n<p;r=n++)i=f[n],a=f[r],o=i.y*a.x-a.y*i.x,l+=(i.x+a.x)*o,c+=(i.y+a.y)*o,s+=3*o;u=0===s?f[0]:[l/s,c/s];var g=t.unproject(R(u));return W([g.lat+d.lat,g.lng+d.lng])}function _n(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var a=W(e[i]);t+=a.lat,n+=a.lng,r++}return W([t/r,n/r])}var kn,Sn={__proto__:null,clipPolygon:xn,polygonCenter:wn,centroid:_n};function Cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=In(e=Nn(e,n),n)}function An(e,t,n){return Math.sqrt(Pn(e,t,n,!0))}function Tn(e,t,n){return Pn(e,t,n)}function In(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,En(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function En(e,t,n,r,i){var a,o,s,l=0;for(o=r+1;o<=i-1;o++)(s=Pn(e[o],e[r],e[i],!0))>l&&(a=o,l=s);l>n&&(t[a]=1,En(e,t,n,r,a),En(e,t,n,a,i))}function Nn(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Rn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}function Mn(e,t,n,r,i){var a,o,s,l=r?kn:Dn(e,n),c=Dn(t,n);for(kn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=Dn(o=jn(e,t,a=l||c,n,i),n),a===l?(e=o,l=s):(t=o,c=s)}}function jn(e,t,n,r,i){var a,o,s=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(a=e.x+s*(u.y-e.y)/l,o=u.y):4&n?(a=e.x+s*(c.y-e.y)/l,o=c.y):2&n?(a=u.x,o=e.y+l*(u.x-e.x)/s):1&n&&(a=c.x,o=e.y+l*(c.x-e.x)/s),new j(a,o,i)}function Dn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Rn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Pn(e,t,n,r){var i,a=t.x,o=t.y,s=n.x-a,l=n.y-o,c=s*s+l*l;return c>0&&((i=((e.x-a)*s+(e.y-o)*l)/c)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=l*i)),s=e.x-a,l=e.y-o,r?s*s+l*l:new j(a,o)}function On(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Ln(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(e)}function Fn(e,t){var n,r,i,a,o,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");On(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=W([0,0]),d=z(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=_n(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=W(e[n]);p.push(t.project(W([f.lat-u.lat,f.lng-u.lng])))}for(n=0,r=0;n<h-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(0===r)c=p[0];else for(n=0,a=0;n<h-1;n++)if(o=p[n],s=p[n+1],(a+=i=o.distanceTo(s))>r){l=(a-r)/i,c=[s.x-l*(s.x-o.x),s.y-l*(s.y-o.y)];break}var m=t.unproject(R(c));return W([m.lat+u.lat,m.lng+u.lng])}var zn={__proto__:null,simplify:Cn,pointToSegmentDistance:An,closestPointOnSegment:Tn,clipSegment:Mn,_getEdgeIntersection:jn,_getBitCode:Dn,_sqClosestPointOnSegment:Pn,isFlat:On,_flat:Ln,polylineCenter:Fn},Bn={project:function(e){return new j(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new P([-180,-90],[180,90])},Wn={R:6378137,R_MINOR:6356752.314245179,bounds:new P([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new j(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=c=Math.PI/2-2*Math.atan(o*t)-s;return new B(s*n,e.x*n/r)}},Vn={__proto__:null,LonLat:Bn,Mercator:Wn,SphericalMercator:q},Un=n({},U,{code:"EPSG:3395",projection:Wn,transformation:function(){var e=.5/(Math.PI*Wn.R);return Y(e,.5,-e,.5)}()}),Hn=n({},U,{code:"EPSG:4326",projection:Bn,transformation:Y(1/180,1,-1/180,.5)}),qn=n({},V,{projection:Bn,transformation:Y(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=U,V.EPSG3395=Un,V.EPSG3857=X,V.EPSG900913=K,V.EPSG4326=Hn,V.Simple=qn;var Gn=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yn=Gn.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Xn=function(e,t){return new Yn(e,t)},Kn=Yn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Yn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Yn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Zn=function(e,t){return new Kn(e,t)},Jn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),a=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Oe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Qn(e){return new Jn(e)}var $n=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+Jn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new yn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=It(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=O(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!l.contains(a)){var c=R((Math.max(l.max.x,a.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Tt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=It(t._icon),i=t._map.layerPointToLatLng(r);n&&Tt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Gn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=W(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=W(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),yt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(yt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Tt(this._icon,e),this._shadow&&Tt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?R(t.iconSize):R(0,0),r=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=W(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=W(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new P(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ar(e,t){return new ir(e,t)}var or=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),p(this,t),this._latlng=W(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var i=Math.PI/180,a=this._mRadius/U.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),l=o.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=a/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-o.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function sr(e,t,n){return new or(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,a=Pn,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],c=1,u=l.length;c<u;c++){var d=a(e,t=l[c-1],n=l[c],!0);d<r&&(r=d,i=a(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=W(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=On(e),r=0,i=e.length;r<i;r++)n?(t[r]=W(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new j(e,e);this._rawPxBounds&&(this._pxBounds=new P([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,a=e[0]instanceof B,o=e.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,a,o,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=Mn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(l[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((t||0!==r)&&An(e,s[i],s[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=Ln;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof B&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new j(t,t);if(e=new P(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=xn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,a,o,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(l=(t=this._parts[i]).length)-1;a<l;o=a++)n=t[a],r=t[o],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function dr(e,t){return new ur(e,t)}var hr=Kn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=pr(e,a);return o?(o.feature=xr(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pr(e,t){var n,r,i,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||mr;if(!s&&!o)return null;switch(o.type){case"Point":return fr(c,e,n=u(s),t);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=u(s[i]),l.push(fr(c,e,n,t));return new Kn(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===o.type?0:1,u),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===o.type?1:2,u),new ur(r,t);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var d=pr({geometry:o.geometries[i],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Kn(l);case"FeatureCollection":for(i=0,a=o.features.length;i<a;i++){var h=pr(o.features[i],t);h&&l.push(h)}return new Kn(l);default:throw new Error("Invalid GeoJSON object.")}}function fr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function mr(e){return new B(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],a=0,o=e.length;a<o;a++)r=t?gr(e[a],t-1,n):(n||mr)(e[a]),i.push(r);return i}function vr(e,t){return void 0!==(e=W(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function br(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?br(e[a],On(e[a])?0:t-1,n,r):vr(e[a],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function yr(e,t){return e.feature?n({},e.feature,{geometry:t}):xr(t)}function xr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wr={toGeoJSON:function(e){return yr(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function _r(e,t){return new hr(e,t)}tr.include(wr),or.include(wr),ir.include(wr),lr.include({toGeoJSON:function(e){var t=!On(this._latlngs);return yr(this,{type:(t?"Multi":"")+"LineString",coordinates:br(this._latlngs,t?1:0,!1,e)})}}),ur.include({toGeoJSON:function(e){var t=!On(this._latlngs),n=t&&!On(this._latlngs[0]),r=br(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),yr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Yn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),yr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=xr(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}})),n?yr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var kr=_r,Sr=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;At(this._image,n,t)},_reset:function(){var e=this._image,t=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Tt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Cr=function(e,t,n){return new Sr(e,t,n)},Ar=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=pt("source");s.src=this._url[o],t.appendChild(s)}}}});function Tr(e,t,n){return new Ar(e,t,n)}var Ir=Sr.extend({_initImage:function(){var e=this._image=this._url;yt(e,"leaflet-image-layer"),this._zoomAnimated&&yt(e,"leaflet-zoom-animated"),this.options.className&&yt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Er(e,t,n){return new Ir(e,t,n)}var Nr=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof B||v(e))?(this._latlng=W(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(i(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=W(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Kn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?Tt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Gn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Mr=Nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Nr.prototype.openOn.call(this,e)},onAdd:function(e){Nr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Ht))},onRemove:function(e){Nr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Ht))},getEvents:function(){var e=Nr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Gt(t),qt(this._contentNode),Lt(t,"contextmenu",Ht),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=pt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(r,"click",(function(e){Yt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,a="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",yt(e,a)):xt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Tt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new j(this._containerLeft,-n-this._containerBottom);i._add(It(this._container));var a=e.layerPointToContainerPoint(i),o=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||o),l=R(this.options.autoPanPaddingBottomRight||o),c=e.getSize(),u=0,d=0;a.x+r+l.x>c.x&&(u=a.x+r-c.x+l.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+l.y>c.y&&(d=a.y+n-c.y+l.y),a.y-d-s.y<0&&(d=a.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),jr=function(e,t){return new Mr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Mr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Mr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Xt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Dr=Nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Nr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Nr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Nr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=R(this.options.offset),d=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):o.x<a.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(R(t,n,!0)).add(u).add(d),xt(i,"leaflet-tooltip-right"),xt(i,"leaflet-tooltip-left"),xt(i,"leaflet-tooltip-top"),xt(i,"leaflet-tooltip-bottom"),yt(i,"leaflet-tooltip-"+s),Tt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&kt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rr=function(e,t){return new Dr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Dr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Dr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Lt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Lt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Pr=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Or(e){return new Pr(e)}Jn.Default=$n;var Lr=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ft(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof j?e:new j(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,a=n.length;i<a;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){kt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(e-i.loaded)/200);kt(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(A(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ft(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new j(+i,+a);s.z=+o;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new j(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Oe.any3d?At(e.el,i,r):Tt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*r);return new P(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,l=new P(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new j(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var h=i.min.x;h<=i.max.x;h++){var p=new j(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:o.push(p)}}if(o.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<o.length;h++)this._addTile(o[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new j(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ft(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){yt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Oe.ielt9&&this.options.opacity<1&&kt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&C(i(this._tileReady,this,e,null,a)),Tt(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(kt(n.el,0),A(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(yt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new j(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new P(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new Lr(e)}var zr=Lr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Oe.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Lt(n,"load",i(this._tileOnLoad,this,t,n)),Lt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Oe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Oe.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=y;var n=this._tiles[e].coords;ft(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",y),Lr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Lr.prototype._tileReady.call(this,e,t,n)}});function Br(e,t){return new zr(e,t)}var Wr=zr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var a=(t=p(this,t)).detectRetina&&Oe.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,zr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=O(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=zr.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Vr(e,t){return new Wr(e,t)}zr.WMS=Wr,Br.wms=Vr;var Ur=Gn.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Oe.any3d?At(this._container,a,n):Tt(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new P(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=Ur.extend({options:{tolerance:0},getEvents:function(){var e=Ur.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Lt(e,"mousemove",this._onMouseMove,this),Lt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,ft(this._container),zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Oe.retina?2:1;Tt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],l[r?"lineTo":"moveTo"](a.x,a.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(xt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(yt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return Oe.canvas?new Hr(e):null}var Gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yr={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ur.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gr("shape");yt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ft(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Gr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Gr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Xr=Oe.vml?Gr:Z,Kr=Ur.extend({_initContainer:function(){this._container=Xr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Tt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Xr("path");e.options.className&&yt(t,e.options.className),e.options.interactive&&yt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ft(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,J(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Zr(e){return Oe.svg||Oe.vml?new Kr(e):null}Oe.vml&&Kr.include(Yr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||Zr(e)}});var Jr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=z(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Qr(e,t){return new Jr(e,t)}Kr.create=Xr,Kr.pointsToPath=J,hr.geometryToLayer=pr,hr.coordsToLatLng=mr,hr.coordsToLatLngs=gr,hr.latLngToCoords=vr,hr.latLngsToCoords=br,hr.getFeature=yr,hr.asFeature=xr,nn.mergeOptions({boxZoom:!0});var $r=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),Nt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Lt(document,{contextmenu:Xt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new P(this._point,this._startPoint),n=t.getSize();Tt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),xt(this._container,"leaflet-crosshair")),it(),Mt(),zt(document,{contextmenu:Xt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$r),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new yn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*o),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),C((function(){t.panBy(h,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Lt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(R(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Xt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Qt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Xt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var ai=gn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new j(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",Yt),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ii),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){zt(document,"touchend",Yt),zt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new j(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ai),nn.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var oi=gn.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),Yt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(s,this,!0),Yt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,A(this._animRequest),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",oi),nn.BoxZoom=$r,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=ai,nn.TouchZoom=oi,e.Bounds=P,e.Browser=Oe,e.CRS=V,e.Canvas=Hr,e.Circle=or,e.CircleMarker=ir,e.Class=I,e.Control=an,e.DivIcon=Pr,e.DivOverlay=Nr,e.DomEvent=en,e.DomUtil=Ot,e.Draggable=yn,e.Evented=M,e.FeatureGroup=Kn,e.GeoJSON=hr,e.GridLayer=Lr,e.Handler=gn,e.Icon=Jn,e.ImageOverlay=Sr,e.LatLng=B,e.LatLngBounds=F,e.Layer=Gn,e.LayerGroup=Yn,e.LineUtil=zn,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=j,e.PolyUtil=Sn,e.Polygon=ur,e.Polyline=lr,e.Popup=Mr,e.PosAnimation=tn,e.Projection=Vn,e.Rectangle=Jr,e.Renderer=Ur,e.SVG=Kr,e.SVGOverlay=Ir,e.TileLayer=zr,e.Tooltip=Dr,e.Transformation=G,e.Util=T,e.VideoOverlay=Ar,e.bind=i,e.bounds=O,e.canvas=qr,e.circle=sr,e.circleMarker=ar,e.control=on,e.divIcon=Or,e.extend=n,e.featureGroup=Zn,e.geoJSON=_r,e.geoJson=kr,e.gridLayer=Fr,e.icon=Qn,e.imageOverlay=Cr,e.latLng=W,e.latLngBounds=z,e.layerGroup=Xn,e.map=rn,e.marker=nr,e.point=R,e.polygon=dr,e.polyline=cr,e.popup=jr,e.rectangle=Qr,e.setOptions=p,e.stamp=o,e.svg=Zr,e.svgOverlay=Er,e.tileLayer=Br,e.tooltip=Rr,e.transformation=Y,e.version=t,e.videoOverlay=Tr;var si=window.L;e.noConflict=function(){return window.L=si,this},window.L=e}(t)},8065:(e,t,n)=>{var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==i}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function y(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function x(){var e=g();if(y(e))return w(e);s=setTimeout(x,function(e){var n=t-(e-l);return d?m(n,a-(e-c)):n}(e))}function w(e){return s=void 0,h&&r?p(e):(r=i=void 0,o)}function _(){var e=g(),n=y(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(x,t),u?p(e):o}(l);if(d)return s=setTimeout(x,t),p(l)}return void 0===s&&(s=setTimeout(x,t)),o}return t=b(t)||0,v(n)&&(u=!!n.leading,a=(d="maxWait"in n)?f(b(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},_.flush=function(){return void 0===s?o:w(g())},_}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),i=n(5051),a=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7160:(e,t,n)=>{var r=n(7563),i=n(9935),a=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),i=n(7159),a=n(8057),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),i=n(6179),a=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},5538:(e,t,n)=>{var r=n(7160),i=n(4545),a=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),a=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),a=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),a=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var b=l(e),y=l(t),x=b?h:s(e),w=y?h:s(t),_=(x=x==d?p:x)==p,k=(w=w==d?p:w)==p,S=x==w;if(S&&c(e)){if(!c(t))return!1;b=!0,_=!1}if(S&&!_)return v||(v=new r),b||u(e)?i(e,t,n,m,g,v):a(e,t,x,n,m,g,v);if(!(1&n)){var C=_&&f.call(e,"__wrapped__"),A=k&&f.call(t,"__wrapped__");if(C||A){var T=C?e.value():e,I=A?t.value():t;return v||(v=new r),g(T,I,n,m,v)}}return!!S&&(v||(v=new r),o(e,t,n,m,g,v))}},6954:(e,t,n)=>{var r=n(1629),i=n(7857),a=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},5428:(e,t,n)=>{var r=n(6913),i=n(6173),a=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},8114:e=>{e.exports=function(e,t){return e.has(t)}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3668:(e,t,n)=>{var r=n(8902),i=n(2587),a=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],b=t[f];if(o)var y=c?o(b,v,f,t,e,l):o(v,b,f,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(v===e||s(v,e,n,o,l)))return g.push(t)}))){m=!1;break}}else if(v!==b&&!s(v,b,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),a=n(3211),o=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=o(p(e),p(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],b=t[h];if(a)var y=l?a(b,v,h,t,e,s):a(v,b,h,e,t,s);if(!(void 0===y?v===b||o(v,b,n,a,s):y)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),i=n(9621),a=n(8673);e.exports=function(e){return r(e,a,i)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},6924:(e,t,n)=>{var r=n(7685),i=n(5204),a=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),v=c(a),b=c(o),y=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=f||i&&x(new i)!=u||a&&x(a.resolve())!=d||o&&x(new o)!=h||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case b:return h;case y:return p}return t}),e.exports=x},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},8057:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),a=n(6832),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},8673:(e,t,n)=>{var r=n(3204),i=n(3713),a=n(6571);e.exports=function(e){return a(e)?r(e):i(e)}},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=p)return _}else{if(e<=-f)return k;if(e+1>=f)return w}return e<0?s(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=s(c(n,8)),a=g,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var h=s(c(n,l));a=a.mul(h).add(s(d))}else a=(a=a.mul(i)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=o(1<<24),g=o(0);n.ZERO=g;var v=o(0,!0);n.UZERO=v;var b=o(1);n.ONE=b;var y=o(1,!0);n.UONE=y;var x=o(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var _=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=_;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),a=this,o="";;){var l=a.div(i),u=(a.sub(l.mul(i)).toInt()>>>0).toString(e);if((a=l).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},S.neg=S.negate,S.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=a+(65535&e.low))>>>16,h+=(p+=i+c)>>>16,u+=(h+=n+s)>>>16,u+=t+o,l((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,v=0,b=0,y=0;return b+=(y+=o*p)>>>16,v+=(b+=a*p)>>>16,b&=65535,v+=(b+=o*h)>>>16,f+=(v+=i*p)>>>16,v&=65535,f+=(v+=a*h)>>>16,v&=65535,f+=(v+=o*u)>>>16,f+=n*p+i*h+a*u+o*c,l((b&=65535)<<16|(y&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return y;a=v}else{if(this.eq(k))return e.eq(b)||e.eq(x)?k:e.eq(k)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:x:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(k))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:c(2,o-48),h=s(n),p=h.mul(e);p.isNegative()||p.gt(i);)p=(h=s(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=b),a=a.add(h),i=i.sub(p)}return a},S.div=S.divide,S.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return l(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},6178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Xn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function b(e){var t=f(NaN);return null!=e?p(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=r.momentProperties=[],x=!1;function w(e,t){var n,r,i,a=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=y[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function k(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,l=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];l.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var A,T={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function E(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)s(e,n)&&(E(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function M(e,t){var n,r=p({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=p({},r[n]));return r}function j(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,A=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var O=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},z={};function B(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(z[e]=i),t&&(z[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(O);for(t=0,n=r.length;t<n;t++)z[r[t]]?r[t]=z[r[t]]:r[t]=W(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=E(r[i])?r[i].call(t,e):r[i];return a}}function U(e,t){return e.isValid()?(t=H(t,e.localeData()),F[t]=F[t]||V(t),F[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(O).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function X(){return this._invalidDate}var K="%d",Z=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)s(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ae(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var oe,se=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,pe=/\d\d\d\d?/,fe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ge=/\d{1,4}/,ve=/[+-]?\d{1,6}/,be=/\d+/,ye=/[+-]?\d+/,xe=/Z|[+-]\d\d:?\d\d/gi,we=/Z|[+-]\d\d(?::?\d\d)?/gi,_e=/[+-]?\d+(\.\d{1,3})?/,ke=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Se=/^[1-9]\d?/,Ce=/^([1-9]\d|\d)/;function Ae(e,t,n){oe[e]=E(t)?t:function(e,r){return e&&n?n:t}}function Te(e,t){return s(oe,e)?oe[e](t._strict,t._locale):new RegExp(Ie(e))}function Ie(e){return Ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ne(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Me(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ne(t)),n}oe={};var je={};function De(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=Me(e)}),r=e.length,n=0;n<r;n++)je[e[n]]=i}function Re(e,t){De(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Pe(e,t,n){null!=t&&s(je,e)&&je[e](t,n._a,n,e)}function Oe(e){return e%4===0&&e%100!==0||e%400===0}var Le=0,Fe=1,ze=2,Be=3,We=4,Ve=5,Ue=6,He=7,qe=8;function Ge(e){return Oe(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?P(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),Ae("Y",ye),Ae("YY",he,le),Ae("YYYY",ge,ue),Ae("YYYYY",ve,de),Ae("YYYYYY",ve,de),De(["YYYYY","YYYYYY"],Le),De("YYYY",(function(e,t){t[Le]=2===e.length?r.parseTwoDigitYear(e):Me(e)})),De("YY",(function(e,t){t[Le]=r.parseTwoDigitYear(e)})),De("Y",(function(e,t){t[Le]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Me(e)+(Me(e)>68?1900:2e3)};var Ye,Xe=Ze("FullYear",!0);function Ke(){return Oe(this.year())}function Ze(e,t){return function(n){return null!=n?(Qe(this,e,n),r.updateOffset(this,t),this):Je(this,e)}}function Je(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qe(e,t,n){var r,i,a,o,s;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,o=e.month(),s=29!==(s=e.date())||1!==o||Oe(a)?s:28,i?r.setUTCFullYear(a,o,s):r.setFullYear(a,o,s)}}function $e(e){return E(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=ae(e=re(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(E(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Oe(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Ae("M",he,Se),Ae("MM",he,le),Ae("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ae("MMMM",(function(e,t){return t.monthsRegex(e)})),De(["M","MM"],(function(e,t){t[Fe]=Me(e)-1})),De(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Fe]=i:g(n).invalidMonth=e}));var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),it="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),at=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot=ke,st=ke;function lt(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||at).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ct(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[at.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ye.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,o))||-1!==(i=Ye.call(this._longMonthsParse,o))?i:null:-1!==(i=Ye.call(this._longMonthsParse,o))||-1!==(i=Ye.call(this._shortMonthsParse,o))?i:null}function dt(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Me(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function pt(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Je(this,"Month")}function ft(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=st),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,n,r,i,a=[],o=[],s=[];for(t=0;t<12;t++)n=f([2e3,t]),r=Ee(this.monthsShort(n,"")),i=Ee(this.months(n,"")),a.push(r),o.push(i),s.push(i),s.push(r);a.sort(e),o.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function bt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function yt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+yt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,i);return s<=0?o=Ge(a=e-1)+s:s>Ge(e)?(a=e+1,o=s-Ge(e)):(a=e,o=s),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=xt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+kt(i=e.year()-1,t,n):o>kt(e.year(),t,n)?(r=o-kt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function kt(e,t,n){var r=xt(e,t,n),i=xt(e+1,t,n);return(Ge(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),Ae("w",he,Se),Ae("ww",he,le),Ae("W",he,Se),Ae("WW",he,le),Re(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Me(e)}));var Ct={dow:0,doy:6};function At(){return this._week.dow}function Tt(){return this._week.doy}function It(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Et(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Mt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function jt(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),Ae("d",he),Ae("e",he),Ae("E",he),Ae("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ae("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ae("dddd",(function(e,t){return t.weekdaysRegex(e)})),Re(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Re(["d","e","E"],(function(e,t,n,r){t[r]=Me(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ot=ke,Lt=ke,Ft=ke;function zt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?jt(n,this._week.dow):e?n[e.day()]:n}function Bt(e){return!0===e?jt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Wt(e){return!0===e?jt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,o))||-1!==(i=Ye.call(this._shortWeekdaysParse,o))||-1!==(i=Ye.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,o))||-1!==(i=Ye.call(this._weekdaysParse,o))||-1!==(i=Ye.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,o))||-1!==(i=Ye.call(this._weekdaysParse,o))||-1!==(i=Ye.call(this._shortWeekdaysParse,o))?i:null}function Ut(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=Je(this,"Day");return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Mt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ot),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=Ee(this.weekdaysMin(n,"")),i=Ee(this.weekdaysShort(n,"")),a=Ee(this.weekdays(n,"")),o.push(r),s.push(i),l.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function $t(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Jt),B("k",["kk",2],0,Qt),B("hmm",0,0,(function(){return""+Jt.apply(this)+P(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Jt.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),$t("a",!0),$t("A",!1),Ae("a",en),Ae("A",en),Ae("H",he,Ce),Ae("h",he,Se),Ae("k",he,Se),Ae("HH",he,le),Ae("hh",he,le),Ae("kk",he,le),Ae("hmm",pe),Ae("hmmss",fe),Ae("Hmm",pe),Ae("Hmmss",fe),De(["H","HH"],Be),De(["k","kk"],(function(e,t,n){var r=Me(e);t[Be]=24===r?0:r})),De(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),De(["h","hh"],(function(e,t,n){t[Be]=Me(e),g(n).bigHour=!0})),De("hmm",(function(e,t,n){var r=e.length-2;t[Be]=Me(e.substr(0,r)),t[We]=Me(e.substr(r)),g(n).bigHour=!0})),De("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Be]=Me(e.substr(0,r)),t[We]=Me(e.substr(r,2)),t[Ve]=Me(e.substr(i)),g(n).bigHour=!0})),De("Hmm",(function(e,t,n){var r=e.length-2;t[Be]=Me(e.substr(0,r)),t[We]=Me(e.substr(r))})),De("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Be]=Me(e.substr(0,r)),t[We]=Me(e.substr(r,2)),t[Ve]=Me(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=Ze("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:D,longDateFormat:q,invalidDate:Y,ordinal:K,dayOfMonthOrdinalParse:Z,relativeTime:Q,months:rt,monthsShort:it,week:Ct,weekdays:Dt,weekdaysMin:Pt,weekdaysShort:Rt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=dn(e[a]).split("-")).length,n=(n=dn(e[a+1]))?n.split("-"):null;t>0;){if(r=fn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}a++}return on}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function fn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&pn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?bn(e):gn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=ln[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new j(M(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,r,i=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(M(ln[e]._config,t)):(null!=(r=fn(e))&&(i=r._config),t=M(i,t),null==r&&(t.abbr=e),(n=new j(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function bn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=fn(e))return t;e=[e]}return hn(e)}function yn(){return A(ln)}function xn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Fe]<0||n[Fe]>11?Fe:n[ze]<1||n[ze]>nt(n[Le],n[Fe])?ze:n[Be]<0||n[Be]>24||24===n[Be]&&(0!==n[We]||0!==n[Ve]||0!==n[Ue])?Be:n[We]<0||n[We]>59?We:n[Ve]<0||n[Ve]>59?Ve:n[Ue]<0||n[Ue]>999?Ue:-1,g(e)._overflowDayOfYear&&(t<Le||t>ze)&&(t=ze),g(e)._overflowWeeks&&-1===t&&(t=He),g(e)._overflowWeekday&&-1===t&&(t=qe),g(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],An=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function En(e){var t,n,r,i,a,o,s=e._i,l=wn.exec(s)||_n.exec(s),c=Sn.length,u=Cn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(l[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Cn[t][1].exec(l[3])){a=(l[2]||" ")+Cn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(l[4]){if(!kn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Wn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[Mn(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Mn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function jn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Pn(e){var t,n=Tn.exec(jn(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=yt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function On(e){var t=An.exec(e._i);null===t?(En(e),!1===e._isValid&&(delete e._isValid,Pn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[ze]&&null==e._a[Fe]&&Bn(e),null!=e._dayOfYear&&(a=Ln(e._a[Le],r[Le]),(e._dayOfYear>Ge(a)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=yt(a,0,e._dayOfYear),e._a[Fe]=n.getUTCMonth(),e._a[ze]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Be]&&0===e._a[We]&&0===e._a[Ve]&&0===e._a[Ue]&&(e._nextDay=!0,e._a[Be]=0),e._d=(e._useUTC?yt:bt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Be]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Bn(e){var t,n,r,i,a,o,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[Le],_t(Kn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Kn(),a,o),n=Ln(t.gg,e._a[Le],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),r<1||r>kt(n,a,o)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(s=wt(n,r,i,a,o),e._a[Le]=s.year,e._dayOfYear=s.dayOfYear)}function Wn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,a,o,s,l,c=""+e._i,u=c.length,d=0;for(l=(i=H(e._f,e._locale).match(O)||[]).length,t=0;t<l;t++)a=i[t],(n=(c.match(Te(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),z[a]?(n?g(e).empty=!1:g(e).unusedTokens.push(a),Pe(a,n,e)):e._strict&&!n&&g(e).unusedTokens.push(a);g(e).charsLeftOver=u-d,c.length>0&&g(e).unusedInput.push(c),e._a[Be]<=12&&!0===g(e).bigHour&&e._a[Be]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Be]=Vn(e._locale,e._a[Be],e._meridiem),null!==(s=g(e).era)&&(e._a[Le]=e._locale.erasConvertYear(s,e._a[Le])),zn(e),xn(e)}else Pn(e);else En(e)}function Vn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Un(e){var t,n,r,i,a,o,s=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Wn(t),v(t)&&(o=!0),a+=g(t).charsLeftOver,a+=10*g(t).unusedTokens.length,g(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));p(e,n||t)}function Hn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),zn(e)}}function qn(e){var t=new _(xn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||bn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new _(xn(t)):(d(t)?e._d=t:a(n)?Un(e):n?Wn(e):Yn(e),v(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?On(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),zn(e)):o(t)?Hn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Xn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,qn(s)}function Kn(e,t,n,r){return Xn(e,t,n,r,!1)}r.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Jn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Qn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return Qn("isBefore",[].slice.call(arguments,0))}function er(){return Qn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Ye.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Me(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Ir(NaN)}function or(e){var t=re(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=bn(),this._bubble()}function sr(e){return e instanceof or}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Me(e[r])!==Me(t[r]))&&o++;return o+a}function ur(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Ae("Z",we),Ae("ZZ",we),De(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(we,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+Me(n[2]))?0:"+"===n[0]?r:-r}function pr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function fr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(we,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=fr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Dr(this,Ir(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:fr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function br(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fr(this),"m")),this}function yr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(xe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Gn(t))._a?(e=t._isUTC?f(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ar=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ar.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:Me(o[ze])*n,h:Me(o[Be])*n,m:Me(o[We])*n,s:Me(o[Ve])*n,ms:Me(lr(1e3*o[Ue]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Er(o[2],n),M:Er(o[3],n),w:Er(o[4],n),d:Er(o[5],n),h:Er(o[6],n),m:Er(o[7],n),s:Er(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Mr(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Er(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Mr(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function jr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Ir(n,r),e),this}}function Dr(e,t,n,i){var a=t._milliseconds,o=lr(t._days),s=lr(t._months);e.isValid()&&(i=null==i||i,s&&ht(e,Je(e,"Month")+s*n),o&&Qe(e,"Date",Je(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ir.fn=or.prototype,Ir.invalid=ar;var Rr=jr(1,"add"),Pr=jr(-1,"subtract");function Or(e){return"string"===typeof e||e instanceof String}function Lr(e){return k(e)||d(e)||Or(e)||u(e)||zr(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!l(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function zr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Or(e)})).length),t&&n}function Br(e){var t,n,r=o(e)&&!l(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Wr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Br(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=pr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(E(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function Ur(){return new _(this)}function Hr(e,t){var n=k(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function qr(e,t){var n=k(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=k(e)?e:Kn(e),a=k(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yr(e,t){var n,r=k(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Xr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":a=Jr(this,r)/12;break;case"month":a=Jr(this,r);break;case"quarter":a=Jr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:Ne(a)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(k(e)&&e.isValid()||Kn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Kn(),e)}function ii(e,t){return this.isValid()&&(k(e)&&e.isValid()||Kn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Kn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=bn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function pi(e,t){return(e%t+t)%t}function fi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:fi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=pi(t,ui);break;case"second":t=this._d.valueOf(),t-=pi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:fi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-pi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-pi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-pi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function bi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function xi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ki(){return this.isValid()?this.toISOString():null}function Si(){return v(this)}function Ci(){return p({},g(this))}function Ai(){return g(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,a,o=this._eras||bn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ei(e,t,n){var r,i,a,o,s,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(a=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(a===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([a,o,s].indexOf(e)>=0)return l[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Mi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function ji(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Pi(e){return s(this,"_erasNameRegex")||Vi.call(this),e?this._erasNameRegex:this._erasRegex}function Oi(e){return s(this,"_erasAbbrRegex")||Vi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||Vi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function Bi(e,t){return t.erasNarrowRegex(e)}function Wi(e,t){return t._eraYearOrdinalRegex||be}function Vi(){var e,t,n,r,i,a=[],o=[],s=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Ee(c[e].name),r=Ee(c[e].abbr),i=Ee(c[e].narrow),o.push(n),a.push(r),s.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Ui(e,t){B(0,[e,e.length],0,t)}function Hi(e){return Zi.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function qi(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return kt(this.year(),1,4)}function Yi(){return kt(this.isoWeekYear(),1,4)}function Xi(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return kt(this.weekYear(),e.dow,e.doy)}function Zi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=kt(e,r,i))&&(t=a),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var a=wt(e,t,n,r,i),o=yt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Ae("N",Fi),Ae("NN",Fi),Ae("NNN",Fi),Ae("NNNN",zi),Ae("NNNNN",Bi),De(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Ae("y",be),Ae("yy",be),Ae("yyy",be),Ae("yyyy",be),Ae("yo",Wi),De(["y","yy","yyy","yyyy"],Le),De(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Le]=n._locale.eraYearOrdinalParse(e,i):t[Le]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ui("gggg","weekYear"),Ui("ggggg","weekYear"),Ui("GGGG","isoWeekYear"),Ui("GGGGG","isoWeekYear"),Ae("G",ye),Ae("g",ye),Ae("GG",he,le),Ae("gg",he,le),Ae("GGGG",ge,ue),Ae("gggg",ge,ue),Ae("GGGGG",ve,de),Ae("ggggg",ve,de),Re(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Me(e)})),Re(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),Ae("Q",se),De("Q",(function(e,t){t[Fe]=3*(Me(e)-1)})),B("D",["DD",2],"Do","date"),Ae("D",he,Se),Ae("DD",he,le),Ae("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),De(["D","DD"],ze),De("Do",(function(e,t){t[ze]=Me(e.match(he)[0])}));var $i=Ze("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),Ae("DDD",me),Ae("DDDD",ce),De(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Me(e)})),B("m",["mm",2],0,"minute"),Ae("m",he,Ce),Ae("mm",he,le),De(["m","mm"],We);var ta=Ze("Minutes",!1);B("s",["ss",2],0,"second"),Ae("s",he,Ce),Ae("ss",he,le),De(["s","ss"],Ve);var na,ra,ia=Ze("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Ae("S",me,se),Ae("SS",me,le),Ae("SSS",me,ce),na="SSSS";na.length<=9;na+="S")Ae(na,be);function aa(e,t){t[Ue]=Me(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")De(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=Ze("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var la=_.prototype;function ca(e){return Kn(1e3*e)}function ua(){return Kn.apply(null,arguments).parseZone()}function da(e){return e}la.add=Rr,la.calendar=Vr,la.clone=Ur,la.diff=Zr,la.endOf=vi,la.format=ti,la.from=ni,la.fromNow=ri,la.to=ii,la.toNow=ai,la.get=$e,la.invalidAt=Ai,la.isAfter=Hr,la.isBefore=qr,la.isBetween=Gr,la.isSame=Yr,la.isSameOrAfter=Xr,la.isSameOrBefore=Kr,la.isValid=Si,la.lang=si,la.locale=oi,la.localeData=li,la.max=Jn,la.min=Zn,la.parsingFlags=Ci,la.set=et,la.startOf=gi,la.subtract=Pr,la.toArray=wi,la.toObject=_i,la.toDate=xi,la.toISOString=$r,la.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(la[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),la.toJSON=ki,la.toString=Qr,la.unix=yi,la.valueOf=bi,la.creationData=Ti,la.eraName=Mi,la.eraNarrow=ji,la.eraAbbr=Di,la.eraYear=Ri,la.year=Xe,la.isLeapYear=Ke,la.weekYear=Hi,la.isoWeekYear=qi,la.quarter=la.quarters=Qi,la.month=pt,la.daysInMonth=ft,la.week=la.weeks=It,la.isoWeek=la.isoWeeks=Et,la.weeksInYear=Xi,la.weeksInWeekYear=Ki,la.isoWeeksInYear=Gi,la.isoWeeksInISOWeekYear=Yi,la.date=$i,la.day=la.days=Ht,la.weekday=qt,la.isoWeekday=Gt,la.dayOfYear=ea,la.hour=la.hours=rn,la.minute=la.minutes=ta,la.second=la.seconds=ia,la.millisecond=la.milliseconds=ra,la.utcOffset=mr,la.utc=vr,la.local=br,la.parseZone=yr,la.hasAlignedHourOffset=xr,la.isDST=wr,la.isLocal=kr,la.isUtcOffset=Sr,la.isUtc=Cr,la.isUTC=Cr,la.zoneAbbr=oa,la.zoneName=sa,la.dates=C("dates accessor is deprecated. Use date instead.",$i),la.months=C("months accessor is deprecated. Use month instead",pt),la.years=C("years accessor is deprecated. Use year instead",Xe),la.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),la.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ha=j.prototype;function pa(e,t,n,r){var i=bn(),a=f().set(r,t);return i[n](a,e)}function fa(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return pa(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=pa(e,r,n,"month");return i}function ma(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,a=bn(),o=e?a._week.dow:0,s=[];if(null!=n)return pa(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=pa(t,(i+o)%7,r,"day");return s}function ga(e,t){return fa(e,t,"months")}function va(e,t){return fa(e,t,"monthsShort")}function ba(e,t,n){return ma(e,t,n,"weekdays")}function ya(e,t,n){return ma(e,t,n,"weekdaysShort")}function xa(e,t,n){return ma(e,t,n,"weekdaysMin")}ha.calendar=R,ha.longDateFormat=G,ha.invalidDate=X,ha.ordinal=J,ha.preparse=da,ha.postformat=da,ha.relativeTime=$,ha.pastFuture=ee,ha.set=N,ha.eras=Ii,ha.erasParse=Ei,ha.erasConvertYear=Ni,ha.erasAbbrRegex=Oi,ha.erasNameRegex=Pi,ha.erasNarrowRegex=Li,ha.months=lt,ha.monthsShort=ct,ha.monthsParse=dt,ha.monthsRegex=gt,ha.monthsShortRegex=mt,ha.week=St,ha.firstDayOfYear=Tt,ha.firstDayOfWeek=At,ha.weekdays=zt,ha.weekdaysMin=Wt,ha.weekdaysShort=Bt,ha.weekdaysParse=Ut,ha.weekdaysRegex=Yt,ha.weekdaysShortRegex=Xt,ha.weekdaysMinRegex=Kt,ha.isPM=tn,ha.meridiem=an,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Me(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=C("moment.langData is deprecated. Use moment.localeData instead.",bn);var wa=Math.abs;function _a(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function ka(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return ka(this,e,t,1)}function Ca(e,t){return ka(this,e,t,-1)}function Aa(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Aa(Ea(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=Ne(a/1e3),l.seconds=e%60,t=Ne(e/60),l.minutes=t%60,n=Ne(t/60),l.hours=n%24,o+=Ne(n/24),s+=i=Ne(Ia(o)),o-=Aa(Ea(i)),r=Ne(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function Ia(e){return 4800*e/146097}function Ea(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ia(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ea(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ma(e){return function(){return this.as(e)}}var ja=Ma("ms"),Da=Ma("s"),Ra=Ma("m"),Pa=Ma("h"),Oa=Ma("d"),La=Ma("w"),Fa=Ma("M"),za=Ma("Q"),Ba=Ma("y"),Wa=ja;function Va(){return Ir(this)}function Ua(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Ha(e){return function(){return this.isValid()?this._data[e]:NaN}}var qa=Ha("milliseconds"),Ga=Ha("seconds"),Ya=Ha("minutes"),Xa=Ha("hours"),Ka=Ha("days"),Za=Ha("months"),Ja=Ha("years");function Qa(){return Ne(this.days()/7)}var $a=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Ir(e).abs(),a=$a(i.as("s")),o=$a(i.as("m")),s=$a(i.as("h")),l=$a(i.as("d")),c=$a(i.as("M")),u=$a(i.as("w")),d=$a(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?$a:"function"===typeof e&&($a=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),d=this.asSeconds();return d?(e=Ne(l/60),t=Ne(e/60),l%=60,e%=60,n=Ne(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",a=so(this._months)!==so(d)?"-":"",o=so(this._days)!==so(d)?"-":"",s=so(this._milliseconds)!==so(d)?"-":"",i+"P"+(n?a+n+"Y":"")+(u?a+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=_a,co.add=Sa,co.subtract=Ca,co.as=Na,co.asMilliseconds=ja,co.asSeconds=Da,co.asMinutes=Ra,co.asHours=Pa,co.asDays=Oa,co.asWeeks=La,co.asMonths=Fa,co.asQuarters=za,co.asYears=Ba,co.valueOf=Wa,co._bubble=Ta,co.clone=Va,co.get=Ua,co.milliseconds=qa,co.seconds=Ga,co.minutes=Ya,co.hours=Xa,co.days=Ka,co.weeks=Qa,co.months=Za,co.years=Ja,co.humanize=ao,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=oi,co.localeData=li,co.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=si,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Ae("x",ye),Ae("X",_e),De("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),De("x",(function(e,t,n){n._d=new Date(Me(e))})),r.version="2.30.1",i(Kn),r.fn=la,r.min=$n,r.max=er,r.now=tr,r.utc=f,r.unix=ca,r.months=ga,r.isDate=d,r.locale=mn,r.invalid=b,r.duration=Ir,r.isMoment=k,r.weekdays=ba,r.parseZone=ua,r.localeData=bn,r.isDuration=sr,r.monthsShort=va,r.weekdaysMin=xa,r.defineLocale=gn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=ya,r.normalizeUnits=ne,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=Wr,r.prototype=la,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,L=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function W(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case C:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ce(e){if(e=yi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ae(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Te(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Ee(){}var Ne=!1;function Me(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==ke||null!==Se)&&(Ee(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Pe(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Fe=!1,ze=null,Be={onError:function(e){Oe=!0,Le=e}};function We(e,t,n,r,i,a,o,s,l){Oe=!1,Le=null,Pe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Je=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,St,Ct,At=!1,Tt=[],It=null,Et=null,Nt=null,Mt=new Map,jt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=bi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){At=!1,null!==It&&Ft(It)&&(It=null),null!==Et&&Ft(Et)&&(Et=null),null!==Nt&&Ft(Nt)&&(Nt=null),Mt.forEach(zt),jt.forEach(zt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Wt(t,e)}if(0<Tt.length){Wt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Wt(It,e),null!==Et&&Wt(Et,e),null!==Nt&&Wt(Nt,e),Mt.forEach(t),jt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Ut=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=yt,a=Ut.transition;Ut.transition=null;try{yt=1,Yt(e,t,n,r)}finally{yt=i,Ut.transition=a}}function Gt(e,t,n,r){var i=yt,a=Ut.transition;Ut.transition=null;try{yt=4,Yt(e,t,n,r)}finally{yt=i,Ut.transition=a}}function Yt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return Et=Ot(Et,e,t,n,r,i),!0;case"mouseover":return Nt=Ot(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mt.set(a,Ot(Mt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,Ot(jt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Hr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=bi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(L({},pn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var An=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(An),In=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=an(Mn),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var On=u&&"TextEvent"in window&&!Pn,Ln=u&&(!Rn||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function Xn(e){Fr(e,0)}function Kn(e){if(Y(xi(e)))return e}function Zn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Qn=$n}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Yn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];qn(t,Yn,e,we(e)),Me(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Cr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ar=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),Er=Cr("transitionend"),Nr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Nr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Mr.length;Dr++){var Rr=Mr[Dr];jr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}jr(Ar,"onAnimationEnd"),jr(Tr,"onAnimationIteration"),jr(Ir,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(We.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var u=Le;Oe=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Wr]){e[Wr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Br("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Zt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=bi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Ar:case Tr:case Ir:l=vn;break;case Er:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=je(f,h))&&u.push(qr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:xi(l),p=null==c?s:xi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,bi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Yr(p))f++;for(p=0,m=h;m;m=Yr(m))p++;for(;0<f-p;)u=Yr(u),f--;for(;0<p-f;)h=Yr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Xr(o,s,l,u,!1),null!==c&&null!==d&&Xr(o,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Hn(s))if(Jn)g=or;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var b;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(b=en()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(v=Gr(r,y)).length&&(y=new xn(y,e,null,n,i),o.push({event:y,listeners:v}),b?y.data=b:null!==(b=Wn(n))&&(y.data=b))),(b=On?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),$t=Qt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=b))}Fr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(qr(e,a,i)),null!=(a=je(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=je(n,a))&&o.unshift(qr(n,l,s)):i||null!=(l=je(n,a))&&o.push(qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Ci(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ai(e,t){ki++,_i[ki]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ei=Si(!1),Ni=Ti;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Ei),Ci(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ai(Ii,t),Ai(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,U(e)||"Unknown",i));return L({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ai(Ii,e),Ai(Ei,Ei.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ei),Ci(Ii),Ai(Ii,e)):Ci(Ei),Ai(Ei,n)}var Fi=null,zi=!1,Bi=!1;function Wi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=yt;try{var n=Fi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye($e,Vi),i}finally{yt=t,Bi=!1}}return null}var Ui=[],Hi=0,qi=null,Gi=0,Yi=[],Xi=0,Ki=null,Zi=1,Ji="";function Qi(e,t){Ui[Hi++]=Gi,Ui[Hi++]=qi,qi=e,Gi=t}function $i(e,t,n){Yi[Xi++]=Zi,Yi[Xi++]=Ji,Yi[Xi++]=Ki,Ki=e;var r=Zi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Zi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Qi(e,1),$i(e,1,0))}function ta(e){for(;e===qi;)qi=Ui[--Hi],Ui[Hi]=null,Gi=Ui[--Hi],Ui[Hi]=null;for(;e===Ki;)Ki=Yi[--Xi],Yi[Xi]=null,Ji=Yi[--Xi],Yi[Xi]=null,Zi=Yi[--Xi],Yi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Zi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Si(null),ba=null,ya=null,xa=null;function wa(){xa=ya=ba=null}function _a(e){var t=va.current;Ci(va),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ba=e,xa=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ba)throw Error(a(308));ya=e,ba.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Aa=null;function Ta(e){null===Aa?Aa=[e]:Aa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ea(e,r)}function Ea(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ea(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ea(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),Pa(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ua(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=ji(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=ji(t)?Ni:Ii.current,i.context=Mi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&Xa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=zc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Ya(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case j:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Ya(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Ya(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),ia&&Qi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Qi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}function g(i,s,l,c){var u=P(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=p(i,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(i,m),ia&&Qi(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,c))&&(s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return ia&&Qi(i,g),u}for(m=r(i,m);!b.done;g++,b=l.next())null!==(b=f(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&Xa(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=Ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((a=Oc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Pc(o.type,o.key,o.props,null,r.mode,l)).ref=Ga(r,a,o),l.return=r,r=l)}return s(r);case _:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,l)).return=r,r=a}return s(r);case j:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(P(o))return g(r,a,o,l);Ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Za=Ka(!0),Ja=Ka(!1),Qa={},$a=Si(Qa),eo=Si(Qa),to=Si(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(Ai(to,t),Ai(eo,e),Ai($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci($a),Ai($a,t)}function io(){Ci($a),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no($a.current),n=le(t,e.type);t!==n&&(Ai(eo,e),Ai($a,n))}function oo(e){eo.current===e&&(Ci($a),Ci(eo))}var so=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,fo=0,mo=null,go=null,vo=null,bo=!1,yo=!1,xo=0,wo=0;function _o(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(fo=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),yo){o=0;do{if(yo=!1,xo=0,25<=o)throw Error(a(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(yo)}if(ho.current=os,t=null!==go&&null!==go.next,fo=0,vo=go=mo=null,bo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==xo;return xo=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function To(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Io(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((fo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,mo.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(){}function jo(e,t){var n=mo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Ho(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,zo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(a(349));0!==(30&fo)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Lo(e)}function Po(e,t,n){return n((function(){Oo(t)&&Lo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ea(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Wo(e,t,n,r){var i=Ao();mo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}mo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Uo(e,t){return Wo(8390656,8,e,t)}function Ho(e,t){return Vo(2048,8,e,t)}function qo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Yo.bind(null,t,e),n)}function Ko(){}function Zo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&fo)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Ll|=n,e.baseState=!0),t)}function $o(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{yt=n,po.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ta(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){yo=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var os={readContext:Ca,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Ao();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nl)throw Error(a(349));0!==(30&fo)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Po.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ao(),t=Nl.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:Zo,useContext:Ca,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Jo,useReducer:Eo,useRef:Bo,useState:function(){return Eo(Io)},useDebugValue:Ko,useDeferredValue:function(e){return Qo(To(),go.memoizedState,e)},useTransition:function(){return[Eo(Io)[0],To().memoizedState]},useMutableSource:Mo,useSyncExternalStore:jo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ca,useCallback:Zo,useContext:Ca,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Bo,useState:function(){return No(Io)},useDebugValue:Ko,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Qo(t,go.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Mo,useSyncExternalStore:jo,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),hs(0,t)},n}function ms(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Za(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Co(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Rl,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Rl,Dl),Dl|=r;return ws(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=ji(n)?Ni:Ii.current;return a=Mi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Co(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(ji(n)){var a=!0;Oi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),Ua(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Mi(t,c=ji(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ei.current||Na?("function"===typeof u&&(Ba(t,n,u,r),l=t.memoizedState),(s=Na||Va(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ga(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ca(l):l=Mi(t,l=ji(n)?Ni:Ii.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Ha(t,o,r,l),Na=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var f=t.memoizedState;s!==d||h!==f||Ei.current||Na?("function"===typeof p&&(Ba(t,n,p,r),f=t.memoizedState),(c=Na||Va(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,a,i)}function Es(e,t,n,r,i,a){As(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),qs(e,t,a);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ms(e,t,n,r,i){return pa(),fa(i),t.flags|=256,ws(e,t,n,r),t.child}var js,Ds,Rs,Ps,Os={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),e=Oc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Os,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Os,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ea(e,i),rc(r,e,i,-1))}return gc(),Bs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Yi[Xi++]=Zi,Yi[Xi++]=Ji,Yi[Xi++]=Ki,Zi=e.id,Ji=e.overflow,Ki=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Oc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&fa(r),Za(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return ji(t.type)&&Di(),Ys(t),null;case 3:return r=t.stateNode,io(),Ci(Ei),Ci(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ys(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ys(t),null}if(e=no($a.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)zr(Pr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in be(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,js(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)zr(Pr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Z(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in be(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&y(e,o,u,l))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ys(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return io(),Ds(e,t),null===e&&Vr(t.stateNode.containerInfo),Ys(t),null;case 10:return _a(t.type._context),Ys(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ul&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ys(t),null}else 2*Je()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ai(so,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return ji(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ei),Ci(Ii),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}js=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Js=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=dl,i=hl;dl=null,pl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pl(e,t,n),Js=r):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));fl(o,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),bl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(t,e),bl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),bl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),ye(l,s);var u=ye(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):y(i,d,h,u)}switch(l){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(t,e),bl(e);break;case 13:gl(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,gl(t,e),Js=u):gl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(f=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,$s=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),bl(e),4&r&&ml(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Zs;var c=Js;if(Zs=o,(Js=l)&&!c)for($s=i;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,$s=l):kl(i);for(;null!==a;)$s=a,xl(a,t,n),a=a.sibling;$s=i,Zs=s,Js=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wl(e)}}function wl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&al(t)}catch(p){Cc(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _l(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function kl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var a=t.return;try{al(t)}catch(l){Cc(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Cc(t,o,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Sl,Cl=Math.ceil,Al=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,El=0,Nl=null,Ml=null,jl=0,Dl=0,Rl=Si(0),Pl=0,Ol=null,Ll=0,Fl=0,zl=0,Bl=null,Wl=null,Vl=0,Ul=1/0,Hl=null,ql=!1,Gl=null,Yl=null,Xl=!1,Kl=null,Zl=0,Jl=0,Ql=null,$l=-1,ec=0;function tc(){return 0!==(6&El)?Je():-1!==$l?$l:$l=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==jl?jl&-jl:null!==ma.transition?(0===ec&&(ec=mt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Ql=null,Error(a(185));vt(e,n,r),0!==(2&El)&&e===Nl||(e===Nl&&(0===(2&El)&&(Fl|=n),4===Pl&&lc(e,jl)),ic(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Je()+500,zi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nl?jl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){zi=!0,Wi(e)}(cc.bind(null,e)):Wi(cc.bind(null,e)),oi((function(){0===(6&El)&&Vi()})),n=null;else{switch(xt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($l=-1,ec=0,0!==(6&El))throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=El;El|=2;var o=mc();for(Nl===e&&jl===t||(Hl=null,Ul=Je()+500,pc(e,t));;)try{yc();break}catch(l){fc(e,l)}wa(),Al.current=o,El=i,null!==Ml?t=0:(Nl=null,jl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ol,pc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=ft(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ol,pc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Wl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Wl,Hl),t);break}_c(e,Wl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Wl,Hl),r);break}_c(e,Wl,Hl);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Wl,Wl=n,null!==t&&sc(t)),e}function sc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function lc(e,t){for(t&=~zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&El))throw Error(a(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,pc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Wl,Hl),ic(e,Je()),null}function uc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Je()+500,zi&&Vi())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&kc();var t=El;El|=1;var n=Il.transition,r=yt;try{if(Il.transition=null,yt=1,e)return e()}finally{yt=r,Il.transition=n,0===(6&(El=t))&&Vi()}}function hc(){Dl=Rl.current,Ci(Rl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(Ei),Ci(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Ml=e=Rc(e.current,null),jl=Dl=t,Pl=0,Ol=null,zl=Fl=Ll=0,Wl=Bl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function fc(e,t){for(;;){var n=Ml;try{if(wa(),ho.current=os,bo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bo=!1}if(fo=0,vo=go=mo=null,yo=!1,xo=0,Tl.current=null,null===n||null===n.return){Pl=1,Ol=t,Ml=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,bs(f,s,l,0,t),1&f.mode&&gs(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(o,u,t),gc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bs(v,s,l,0,t),fa(us(c,l));break e}}o=c=us(c,l),4!==Pl&&(Pl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,fs(0,c,t));break e;case 1:l=c;var b=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Yl||!Yl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(x){t=x,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function mc(){var e=Al.current;return Al.current=os,null===e?os:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(Nl,jl)}function vc(e,t){var n=El;El|=2;var r=mc();for(Nl===e&&jl===t||(Hl=null,pc(e,t));;)try{bc();break}catch(i){fc(e,i)}if(wa(),El=n,Al.current=r,null!==Ml)throw Error(a(261));return Nl=null,jl=0,Pl}function bc(){for(;null!==Ml;)xc(Ml)}function yc(){for(;null!==Ml&&!Ke();)xc(Ml)}function xc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Ml=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Dl)))return void(Ml=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Pl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Pl&&(Pl=5)}function _c(e,t,n){var r=yt,i=Il.transition;try{Il.transition=null,yt=1,function(e,t,n,r){do{kc()}while(null!==Kl);if(0!==(6&El))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nl&&(Ml=Nl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Nc(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var s=yt;yt=1;var l=El;El|=4,Tl.current=null,function(e,t){if(ei=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=nl,nl=!1}(e,n),vl(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ze(),El=l,yt=s,Il.transition=o}else e.current=n;if(Xl&&(Xl=!1,Kl=e,Zl=i),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Zl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Vi()}(e,t,n,r)}finally{Il.transition=i,yt=r}return null}function kc(){if(null!==Kl){var e=xt(Zl),t=Il.transition,n=yt;try{if(Il.transition=null,yt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Zl=0,0!==(6&El))throw Error(a(331));var i=El;for(El|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var p=(d=$s).sibling,f=d.return;if(ol(d),d===u){$s=null;break}if(null!==p){p.return=f,$s=p;break}$s=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,$s=b;break e}$s=o.return}}var y=e.current;for($s=y;null!==$s;){var x=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,$s=x;else e:for(s=y;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Cc(l,l.return,_)}if(l===s){$s=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$s=w;break e}$s=l.return}}if(El=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{yt=n,Il.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=fs(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Ra(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(jl&n)===n&&(4===Pl||3===Pl&&(130023424&jl)===jl&&500>Je()-Vl?pc(e,0):zl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ea(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ye(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Mc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Oc(n.children,i,o,t);case S:s=8,i|=8;break;case C:return(e=jc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case E:return(e=jc(13,n,t,i)).elementType=E,e.lanes=o,e;case N:return(e=jc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case T:s=9;break e;case I:s=11;break e;case M:s=14;break e;case j:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,i,a,o,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=jc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Vc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return Pi(e,n,t)}return t}function Uc(e,t,n,r,i,a,o,s,l){return(e=Wc(n,r,!0,e,0,a,0,s,l)).context=Vc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),Pa(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),pa();break;case 5:ao(t);break;case 1:ji(t.type)&&Oi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ai(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ai(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return qs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Mi(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===M)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ms(e,t,r,n,i=us(Error(a(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=us(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),As(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ai(va,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ei.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ka(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ca(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),ks(e,t,r,i=ga(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Hs(e,t),t.tag=1,ji(r)?(e=!0,Oi(t)):e=!1,Sa(t,n),Ua(t,r,i),qa(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=qc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fi]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return qc(o)}Zc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Zc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[fi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),ic(t,Je()),0===(6&El)&&(Ul=Je()+500,Vi()))}break;case 13:dc((function(){var t=Ea(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},_t=function(e){if(13===e.tag){var t=Ea(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ea(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},St=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Y(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Ee=dc;var tu={usingClientEntryPoint:!1,Events:[yi,xi,wi,Ae,Te,uc]},nu={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(9853))&&r.__esModule?r:{default:r},a=n(5043);var o=function(e){var t,n,r=(0,a.useRef)(null);return t=e,n=r.current,(0,i.default)(t,n)&&(r.current=e),r.current},s=function(e,t){(0,a.useEffect)(e,[o(t),e])};t.default=s},9483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(5043)),i=n(1676),a=s(n(5173)),o=s(n(438));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var c=-Math.PI/2,u=Math.PI/2,d=["marginInPercent","arcPadding","percent","nrOfLevels","animDelay"],h=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)({}),a=(0,r.useRef)({}),s=(0,r.useRef)({}),l=(0,r.useRef)({}),h=(0,r.useRef)({}),p=(0,r.useRef)({}),g=(0,r.useRef)({}),v=(0,r.useRef)({}),b=(0,r.useRef)(0),y=(0,r.useRef)([]),x=(0,r.useRef)((0,i.arc)()),w=(0,r.useRef)([]),_=(0,r.useRef)((0,i.pie)()),k=(0,r.useRef)(e),S=(0,r.useRef)({}),C=(0,r.useCallback)((function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;r||(v.current.select("svg").remove(),t.current=v.current.append("svg"),n.current=t.current.append("g"),l.current=n.current.append("g").attr("class","doughnut"),_.current.value((function(e){return e.value})).startAngle(c).endAngle(u).sort(null),h.current=n.current.append("g").attr("class","needle")),m(i,o,a,g,s,p,n,l,x,h,_,t,e,v,w)}),[e]);(0,r.useLayoutEffect)((function(){f(e,b,y,w),v.current=(0,i.select)(S),C()}),[e,C]),(0,o.default)((function(){(e.nrOfLevels||k.current.arcsLength.every((function(t){return e.arcsLength.includes(t)}))||k.current.colors.every((function(t){return e.colors.includes(t)})))&&f(e,b,y,w);var t=!d.some((function(t){return k.current[t]!==e[t]}));C(!0,t,k.current),k.current=e}),[e.nrOfLevels,e.arcsLength,e.colors,e.percent,e.needleColor,e.needleBaseColor]),(0,r.useEffect)((function(){var r=function(){m(!0,k,a,g,s,p,n,l,x,h,_,t,e,v,w)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[e]);var A=e.id,T=e.style,I=e.className;return r.default.createElement("div",{id:A,className:I,style:T,ref:function(e){return S=e}})},p=h;t.default=p,h.defaultProps={style:{width:"100%"},marginInPercent:.05,cornerRadius:6,nrOfLevels:3,percent:.4,arcPadding:.05,arcWidth:.2,colors:["#00FF00","#FF0000"],textColor:"#fff",needleColor:"#464A4F",needleBaseColor:"#464A4F",hideText:!1,animate:!0,animDelay:500,formatTextValue:null,fontSize:null,animateDuration:3e3},h.propTypes={id:a.default.string,className:a.default.string,style:a.default.object,marginInPercent:a.default.number,cornerRadius:a.default.number,nrOfLevels:a.default.number,percent:a.default.number,arcPadding:a.default.number,arcWidth:a.default.number,arcsLength:a.default.array,colors:a.default.array,textColor:a.default.string,needleColor:a.default.string,needleBaseColor:a.default.string,hideText:a.default.bool,animate:a.default.bool,formatTextValue:a.default.func,fontSize:a.default.string,animateDuration:a.default.number,animDelay:a.default.number};var f=function(e,t,n,r){t.current=e.arcsLength?e.arcsLength.length:e.nrOfLevels,t.current===e.colors.length?n.current=e.colors:n.current=g(e,t),r.current=[];for(var i=0;i<t.current;i++){var a={value:e.arcsLength&&e.arcsLength.length>i?e.arcsLength[i]:1,color:n.current[i]};r.current.push(a)}},m=function(e,t,n,r,i,a,o,s,l,c,u,d,h,p,f){S(h,p,r,n,i),d.current.attr("width",n.current+r.current.left+r.current.right).attr("height",i.current+r.current.top+r.current.bottom),o.current.attr("transform","translate("+r.current.left+", "+r.current.top+")"),_(n,i,a,r,o),s.current.attr("transform","translate("+a.current+", "+a.current+")"),l.current.outerRadius(a.current).innerRadius(a.current*(1-h.arcWidth)).cornerRadius(h.cornerRadius).padAngle(h.arcPadding),s.current.selectAll(".arc").remove(),c.current.selectAll("*").remove(),o.current.selectAll(".text-group").remove(),s.current.selectAll(".arc").data(u.current(f.current)).enter().append("g").attr("class","arc").append("path").attr("d",l.current).style("fill",(function(e){return e.data.color})),v(e,t,h,n,c,p,a,o),c.current.attr("transform","translate("+a.current+", "+a.current+")")},g=function(e,t){for(var n=e.colors,r=(0,i.scaleLinear)().domain([1,t.current]).range([n[0],n[n.length-1]]).interpolate(i.interpolateHsl),a=[],o=1;o<=t.current;o++)a.push(r(o));return a},v=function(e,t,n,r,a,o,s,l){var c=n.percent,u=n.needleColor,d=n.needleBaseColor,h=n.hideText,p=n.animate,f=r.current/500*15,m=[0,-f/2],g=t?t.percent:0,v=b(g||c,s,r);a.current.append("path").attr("d",v).attr("fill",u),a.current.append("circle").attr("cx",m[0]).attr("cy",m[1]).attr("r",f).attr("fill",d),h||x(c,n,s,r,l),!e&&p?a.current.transition().delay(n.animDelay).ease(i.easeElastic).duration(n.animateDuration).tween("progress",(function(){var e=(0,i.interpolateNumber)(g,c);return function(t){var n=e(t);return o.current.select(".needle path").attr("d",b(n,s,r))}})):o.current.select(".needle path").attr("d",b(c,s,r))},b=function(e,t,n){var r=.55*t.current,i=n.current/500*15,a=y(e),o=[0,-i/2],s=[o[0]-r*Math.cos(a),o[1]-r*Math.sin(a)],l=[o[0]-i*Math.cos(a-Math.PI/2),o[1]-i*Math.sin(a-Math.PI/2)],c=[o[0]-i*Math.cos(a+Math.PI/2),o[1]-i*Math.sin(a+Math.PI/2)];return"M ".concat(l[0]," ").concat(l[1]," L ").concat(s[0]," ").concat(s[1]," L ").concat(c[0]," ").concat(c[1])},y=function(e){return e*Math.PI},x=function(e,t,n,r,i){var a=t.formatTextValue,o=t.fontSize,s=a?a(w(e)):w(e)+"%";i.current.append("g").attr("class","text-group").attr("transform","translate(".concat(n.current,", ").concat(n.current/2+20,")")).append("text").text(s).style("font-size",(function(){return o||"".concat(r.current/11/(s.length>10?s.length/10:1),"px")})).style("fill",t.textColor).style("text-anchor","middle")},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(100*e*Math.pow(10,t))/Math.pow(10,t)},_=function(e,t,n,r,i){e.current<2*t.current?n.current=(e.current-r.current.left-r.current.right)/2:n.current=t.current-r.current.top-r.current.bottom,k(e,i,n,r)},k=function(e,t,n,r){r.current.left=e.current/2-n.current+r.current.right,t.current.attr("transform","translate("+r.current.left+", "+r.current.top+")")},S=function(e,t,n,r,i){var a=e.marginInPercent,o=t.current.node().getBoundingClientRect(),s=o.width,l=o.height;n.current.left=s*a,n.current.right=s*a,r.current=s-n.current.left-n.current.right,n.current.top=l*a,n.current.bottom=l*a,i.current=r.current/2-n.current.top-n.current.bottom}},4713:(e,t,n)=>{"use strict";var r;t.A=void 0;var i=((r=n(9483))&&r.__esModule?r:{default:r}).default;t.A=i},6214:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(5043)),a=s(n(8139)),o=n(1200);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=y();return function(){var n,i=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}t.PrevArrow=function(e){g(n,e);var t=b(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,u(u({},n),r)):i.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent),t.NextArrow=function(e){g(n,e);var t=b(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,u(u({},n),r)):i.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent)},5112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(5043))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=a},8496:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(5043)),a=s(n(8139)),o=n(1200);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=f();return function(){var n,i=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,s=p(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),s.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,u=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,p=t.slideCount,f=t.currentSlide,m=(e={slideCount:p,slidesToScroll:d,slidesToShow:h,infinite:u}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},v=[],b=0;b<m;b++){var y=(b+1)*d-1,x=u?y:(0,o.clamp)(y,0,p-1),w=x-(d-1),_=u?w:(0,o.clamp)(w,0,p-1),k=(0,a.default)({"slick-active":u?f>=_&&f<=x:f===_}),S={message:"dots",index:b,slidesToScroll:d,currentSlide:f},C=this.clickHandler.bind(this,S);v=v.concat(i.default.createElement("li",{key:b,className:k},i.default.cloneElement(this.props.customPaging(b),{onClick:C})))}return i.default.cloneElement(this.props.appendDots(v),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},g))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent)},2382:(e,t,n)=>{"use strict";t.A=void 0;var r,i=(r=n(433))&&r.__esModule?r:{default:r};t.A=i.default},4910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},9826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(5043)),i=h(n(4910)),a=h(n(8065)),o=h(n(8139)),s=n(1200),l=n(737),c=n(8496),u=n(6214),d=h(n(5820));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function x(e){var t=_();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(_,e);var t,n,h,g=x(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),S(w(t=g.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(w(t),"trackRefHandler",(function(e){return t.track=e})),S(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),S(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(v(v({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=v({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(v(v({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=v(v({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=v(v({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(w(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=v(v(v({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=v(v({},e),{},{left:o});var l=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=l),t.setState(a,i)})),S(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<a;l++)n+=i[i.length-1-l],e+=i[i.length-1-l];for(var c=0;c<o;c++)e+=i[c];for(var u=0;u<t.state.currentSlide;u++)n+=i[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var p=r.default.Children.count(t.props.children),f=v(v(v({},t.props),t.state),{},{slideCount:p}),m=(0,s.getPreClones)(f)+(0,s.getPostClones)(f)+p,g=100/t.props.slidesToShow*m,b=100/m,y=-b*((0,s.getPreClones)(f)+t.state.currentSlide)*g/100;return t.props.centerMode&&(y+=(100-b*g/100)/2),{slideWidth:b+"%",trackStyle:{width:g+"%",left:y+"%"}}})),S(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(t){a(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=v(v({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,l=r.speed,c=r.afterChange,u=t.state.currentSlide,d=(0,s.slideHandler)(v(v(v({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,p=d.nextState;if(h){a&&a(u,h.currentSlide);var f=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&f.length>0&&o(f),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(u),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),p&&(t.animationEndCallback=setTimeout((function(){var e=p.animating,n=m(p,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),l))}))}})),S(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=v(v({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),S(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(w(t),"selectHandler",(function(e){t.changeSlide(e)})),S(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(v(v({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=v(v({},t.props),t.state),h=(0,s.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),p=t.props.pauseOnHover;if(h=v(v({},h),{},{onMouseEnter:p?t.onTrackOver:null,onMouseLeave:p?t.onTrackLeave:null,onMouseOver:p?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,s.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=v(v({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,m)}var b=(0,s.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);b.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(u.PrevArrow,b),i=r.default.createElement(u.NextArrow,b));var y=null;t.props.vertical&&(y={height:t.state.listHeight});var x=null;!1===t.props.vertical?!0===t.props.centerMode&&(x={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(x={padding:t.props.centerPadding+" 0px"});var w=v(v({},y),x),_=t.props.touchMove,k={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(k={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",f({ref:t.listRefHandler},k),r.default.createElement(l.Track,f({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=v(v({},i.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=v(v({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==p(e[a])&&"function"!==typeof e[a]&&!isNaN(e[a])&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&b(t.prototype,n),h&&b(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component)},433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(5043)),i=n(9826),a=l(n(1270)),o=l(n(5112)),s=n(1200);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){var t=v();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}var w=(0,s.canUseDOM)()&&n(535);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,n,l,c=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(g(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),y(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),y(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),y(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),y(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),y(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){w.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,a.default)({minWidth:0,maxWidth:n}):(0,a.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,a.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){w.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},o.default),this.props),t[0].settings):h(h({},o.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var a=r.default.Children.toArray(this.props.children);a=a.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var l=[],c=null,d=0;d<a.length;d+=e.rows*e.slidesPerRow){for(var p=[],f=d;f<d+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var m=[],g=f;g<f+e.slidesPerRow&&(e.variableWidth&&a[g].props.style&&(c=a[g].props.style.width),!(g>=a.length));g+=1)m.push(r.default.cloneElement(a[g],{key:100*d+10*f+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));p.push(r.default.createElement("div",{key:10*d+f},m))}e.variableWidth?l.push(r.default.createElement("div",{key:d,style:{width:c}},p)):l.push(r.default.createElement("div",{key:d},p))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},a)}return l.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(i.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(e)),l)}}])&&p(t.prototype,n),l&&p(t,l),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.default.Component)},737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=o(n(5043)),i=o(n(8139)),a=n(1200);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=p();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}var y=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},x=function(e,t){return e.key||t},w=function(e){var t,n=[],o=[],s=[],l=r.default.Children.count(e.children),c=(0,a.lazyStartIndex)(e),u=(0,a.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(d,h){var p,f={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};p=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:h})),v=p.props.className||"",b=y(g(g({},e),{},{index:h}));if(n.push(r.default.cloneElement(p,{key:"original"+x(p,h),"data-index":h,className:(0,i.default)(b,v),tabIndex:"-1","aria-hidden":!b["slick-active"],style:g(g({outline:"none"},p.props.style||{}),m),onClick:function(t){p.props&&p.props.onClick&&p.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&!1===e.fade){var w=l-h;w<=(0,a.getPreClones)(e)&&((t=-w)>=c&&(p=d),b=y(g(g({},e),{},{index:t})),o.push(r.default.cloneElement(p,{key:"precloned"+x(p,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(b,v),"aria-hidden":!b["slick-active"],style:g(g({},p.props.style||{}),m),onClick:function(t){p.props&&p.props.onClick&&p.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}}))),(t=l+h)<u&&(p=d),b=y(g(g({},e),{},{index:t})),s.push(r.default.cloneElement(p,{key:"postcloned"+x(p,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(b,v),"aria-hidden":!b["slick-active"],style:g(g({},p.props.style||{}),m),onClick:function(t){p.props&&p.props.onClick&&p.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(f)}}))}})),e.rtl?o.concat(n,s).reverse():o.concat(n,s)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,i,a=d(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=a.call.apply(a,[this].concat(n))),"node",null),v(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=w(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.default.PureComponent)},1200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.extractObject=void 0,t.filterSettings=function(e){return R.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=a(n(5043)),i=a(n(5112));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var d=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},h=t.getOnDemandLazySlides=function(e){for(var t=[],n=p(e),r=f(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},p=(t.getRequiredLazySlides=function(e){for(var t=[],n=p(e),r=f(e),i=n;i<r;i++)t.push(i);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),f=t.lazyEndIndex=function(e){return e.currentSlide+g(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},g=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},v=t.getWidth=function(e){return e&&e.offsetWidth||0},b=t.getHeight=function(e){return e&&e.offsetHeight||0},y=t.getSwipeDirection=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"},x=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},w=(t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),i=e.listRef,a=Math.ceil(v(i)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(v(o));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var u=i&&b(i.querySelector('[data-index="0"]')),d=u*e.slidesToShow,p=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(p=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=h(l(l({},e),{},{currentSlide:p,lazyLoadedList:f})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:s,currentSlide:p,slideHeight:u,listHeight:d,lazyLoadedList:f=f.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,o=e.slideCount,s=e.lazyLoad,c=e.currentSlide,d=e.centerMode,p=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var v,b,y,w=a,_={},k={},S=i?a:u(a,0,o-1);if(r){if(!i&&(a<0||a>=o))return{};a<0?w=a+o:a>=o&&(w=a-o),s&&g.indexOf(w)<0&&(g=g.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:g,targetSlide:w},k={animating:!1,targetSlide:w}}else v=w,w<0?(v=w+o,i?o%p!==0&&(v=o-o%p):v=0):!x(e)&&w>c?w=v=c:d&&w>=o?(w=i?o:o-1,v=i?0:o-1):w>=o&&(v=w-o,i?o%p!==0&&(v=0):v=o-f),!i&&w+f>=o&&(v=o-f),b=T(l(l({},e),{},{slideIndex:w})),y=T(l(l({},e),{},{slideIndex:v})),i||(b===y&&(w=v),b=y),s&&(g=g.concat(h(l(l({},e),{},{currentSlide:w})))),m?(_={animating:!0,currentSlide:v,trackStyle:A(l(l({},e),{},{left:b})),lazyLoadedList:g,targetSlide:S},k={animating:!1,currentSlide:v,trackStyle:C(l(l({},e),{},{left:y})),swipeLeft:null,targetSlide:S}):_={currentSlide:v,trackStyle:C(l(l({},e),{},{left:y})),lazyLoadedList:g,targetSlide:S};return{state:_,nextState:k}},t.changeSlide=function(e,t){var n,r,i,a,o=e.slidesToScroll,s=e.slidesToShow,c=e.slideCount,u=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,p=e.infinite;if(n=c%o!==0?0:(c-u)%o,"previous"===t.message)a=u-(i=0===n?o:s-n),h&&!p&&(a=-1===(r=u-i)?c-1:r),p||(a=d-o);else if("next"===t.message)a=u+(i=0===n?o:n),h&&!p&&(a=(u+o)%c+n),p||(a=d+o);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,p){var f=M(l(l({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===f?a-=c:a<t.currentSlide&&"right"===f&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&d(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,o=t.verticalSwiping,s=t.rtl,c=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,p=t.onEdge,f=t.swiped,m=t.swiping,g=t.slideCount,v=t.slidesToScroll,b=t.infinite,w=t.touchObject,_=t.swipeEvent,k=t.listHeight,S=t.listWidth;if(!n){if(r)return d(e);i&&a&&o&&d(e);var A,I={},E=T(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var N=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!o&&!m&&N>10)return{scrolling:!0};o&&(w.swipeLength=N);var M=(s?-1:1)*(w.curX>w.startX?1:-1);o&&(M=w.curY>w.startY?1:-1);var j=Math.ceil(g/v),D=y(t.touchObject,o),R=w.swipeLength;return b||(0===c&&("right"===D||"down"===D)||c+1>=j&&("left"===D||"up"===D)||!x(t)&&("left"===D||"up"===D))&&(R=w.swipeLength*u,!1===h&&p&&(p(D),I.edgeDragged=!0)),!f&&_&&(_(D),I.swiped=!0),A=i?E+R*(k/S)*M:s?E-R*M:E+R*M,o&&(A=E+R*M),I=l(l({},I),{},{touchObject:w,swipeLeft:A,trackStyle:C(l(l({},t),{},{left:A}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?I:(w.swipeLength>10&&(I.swiping=!0,d(e)),I)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,o=t.touchThreshold,s=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,h=t.scrolling,p=t.onSwipe,f=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&d(e),{};var v=s?c/o:a/o,b=y(i,s),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return x;if(!i.swipeLength)return x;if(i.swipeLength>v){var w,S;d(e),p&&p(b);var C=g?m:f;switch(b){case"left":case"up":S=C+k(t),w=u?_(t,S):S,x.currentDirection=0;break;case"right":case"down":S=C-k(t),w=u?_(t,S):S,x.currentDirection=1;break;default:w=C}x.triggerSlideHandler=w}else{var I=T(t);x.trackStyle=A(l(l({},t),{},{left:I}))}return x},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i}),_=t.checkNavigable=function(e,t){var n=w(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},k=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+b(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll},S=t.checkSpecKeys=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},C=t.getTrackCSS=function(e){var t,n;S(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=N(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=l(l({},i),{},{WebkitTransform:a,transform:o,msTransform:s})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},A=t.getTrackAnimateCSS=function(e){S(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=C(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},T=t.getTrackLeft=function(e){if(e.unslick)return 0;S(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,p=e.slideHeight,f=e.fade,m=e.vertical;if(f||1===e.slideCount)return 0;var g=0;if(a?(g=-I(e),s%c!==0&&r+c>s&&(g=-(r>s?l-(r-s):s%c)),o&&(g+=parseInt(l/2))):(s%c!==0&&r+c>s&&(g=l-s%c),o&&(g=parseInt(l/2))),t=m?r*p*-1+g*p:r*u*-1+g*u,!0===h){var v,b=i&&i.node;if(v=r+I(e),t=(n=b&&b.childNodes[v])?-1*n.offsetLeft:0,!0===o){v=a?r+I(e):r,n=b&&b.children[v],t=0;for(var y=0;y<v;y++)t-=b&&b.children[y]&&b.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},I=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},E=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},N=t.getTotalSlides=function(e){return 1===e.slideCount?1:I(e)+e.slideCount+E(e)},M=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+j(e)?"left":"right":e.targetSlide<e.currentSlide-D(e)?"right":"left"},j=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1},D=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0},R=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(i.default))},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+I(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),E(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+I(s=e[c],c);l+=E(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,i,u=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},D={transition:null},R={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},5820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function s(){o(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=b(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=p(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=p(r.width),l=p(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=f(r,"left","right")+a),Math.round(l+o)!==n&&(l-=f(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return b(i.left,i.top,s,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return i?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):m(e):h}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return u(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);u(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,k=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){k.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));const S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:k},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,D(_);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,b(A),A=-1),f=!0;var a=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,A=-1,T=5,I=-1;function E(){return!(t.unstable_now()-I<T)}function N(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof y)k=function(){y(N)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,j=M.port2;M.port1.onmessage=N,k=function(){j.postMessage(null)}}else k=function(){v(N,0)};function D(e){C=e,S||(S=!0,k())}function R(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(A),A=-1):g=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,D(_))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4334:(e,t,n)=>{var r=n(7359),i=n(7066),a=n(9016),o=n(9538),s=n(6288),l=n(5262),c=n(2430);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=l,e.exports=c},7359:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},5262:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},7066:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},6288:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},9538:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},9016:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},2430:function(e,t,n){var r;!function(i,a,o){var s,l=256,c=o.pow(l,6),u=o.pow(2,52),d=2*u,h=l-1;function p(e,t,n){var r=[],h=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(i.crypto||i.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,b(a)]}}():e,3),r),p=new f(r),y=function(){for(var e=p.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|p.g(4)},y.quick=function(){return p.g(4)/4294967296},y.double=y,v(b(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(o.random=e,t):e})(y,h,"global"in t?t.global:this==o,t.state)}function f(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<l;)o[i]=i++;for(i=0;i<l;i++)o[i]=o[a=h&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=h&i+1],n=n*l+o[h&(o[i]=o[a=h&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[h&i]=h&(n^=19*t[h&i])+r.charCodeAt(i++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(v(o.random(),a),e.exports){e.exports=p;try{s=n(1234)}catch(y){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},7475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},5817:()=>{},8590:()=>{},4530:()=>{},8108:()=>{},551:()=>{},1234:()=>{},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})},7528:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{A:()=>r})},7154:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ye});var r={};function i(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>re,hasStandardBrowserEnv:()=>ie,hasStandardBrowserWebWorkerEnv:()=>oe});const{toString:a}=Object.prototype,{getPrototypeOf:o}=Object,s=(l=Object.create(null),e=>{const t=a.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())});var l;const c=e=>(e=e.toLowerCase(),t=>s(t)===e),u=e=>t=>typeof t===e,{isArray:d}=Array,h=u("undefined");const p=c("ArrayBuffer");const f=u("string"),m=u("function"),g=u("number"),v=e=>null!==e&&"object"===typeof e,b=e=>{if("object"!==s(e))return!1;const t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y=c("Date"),x=c("File"),w=c("Blob"),_=c("FileList"),k=c("URLSearchParams");function S(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),d(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function C(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const A="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,T=e=>!h(e)&&e!==A;const I=(E="undefined"!==typeof Uint8Array&&o(Uint8Array),e=>E&&e instanceof E);var E;const N=c("HTMLFormElement"),M=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),j=c("RegExp"),D=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};S(n,((n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},R="abcdefghijklmnopqrstuvwxyz",P="0123456789",O={DIGIT:P,ALPHA:R,ALPHA_DIGIT:R+R.toUpperCase()+P};const L=c("AsyncFunction"),F={isArray:d,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=s(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:f,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:b,isUndefined:h,isDate:y,isFile:x,isBlob:w,isRegExp:j,isFunction:m,isStream:e=>v(e)&&m(e.pipe),isURLSearchParams:k,isTypedArray:I,isFileList:_,forEach:S,merge:function e(){const{caseless:t}=T(this)&&this||{},n={},r=(r,i)=>{const a=t&&C(n,i)||i;b(n[a])&&b(r)?n[a]=e(n[a],r):b(r)?n[a]=e({},r):d(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&S(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return S(t,((t,r)=>{n&&m(t)?e[r]=i(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:N,hasOwnProperty:M,hasOwnProp:M,reduceDescriptors:D,freezeMethods:e=>{D(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return d(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:C,global:A,isContextDefined:T,ALPHABET:O,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=d(e)?[]:{};return S(e,((e,t)=>{const a=n(e,r+1);!h(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(v(e)||m(e))&&m(e.then)&&m(e.catch)};function z(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}F.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B=z.prototype,W={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{W[e]={value:e}})),Object.defineProperties(z,W),Object.defineProperty(B,"isAxiosError",{value:!0}),z.from=(e,t,n,r,i,a)=>{const o=Object.create(B);return F.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),z.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const V=z;function U(e){return F.isPlainObject(e)||F.isArray(e)}function H(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function q(e,t,n){return e?e.concat(t).map((function(e,t){return e=H(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const G=F.toFlatObject(F,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Y=function(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!F.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(F.isDate(e))return e.toISOString();if(!s&&F.isBlob(e))throw new V("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(e)||F.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(F.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(F.isArray(e)&&function(e){return F.isArray(e)&&!e.some(U)}(e)||(F.isFileList(e)||F.endsWith(n,"[]"))&&(s=F.toArray(e)))return n=H(n),s.forEach((function(e,r){!F.isUndefined(e)&&null!==e&&t.append(!0===o?q([n],r,a):null===o?n:n+"[]",l(e))})),!1;return!!U(e)||(t.append(q(i,n,a),l(e)),!1)}const u=[],d=Object.assign(G,{defaultVisitor:c,convertValue:l,isVisitable:U});if(!F.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!F.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),F.forEach(n,(function(n,a){!0===(!(F.isUndefined(n)||null===n)&&i.call(t,n,F.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function X(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function K(e,t){this._pairs=[],e&&Y(e,this,t)}const Z=K.prototype;Z.append=function(e,t){this._pairs.push([e,t])},Z.toString=function(e){const t=e?function(t){return e.call(this,t,X)}:X;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const J=K;function Q(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $(e,t,n){if(!t)return e;const r=n&&n.encode||Q,i=n&&n.serialize;let a;if(a=i?i(t,n):F.isURLSearchParams(t)?t.toString():new J(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ee=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ne={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:J,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},re="undefined"!==typeof window&&"undefined"!==typeof document,ie=(ae="undefined"!==typeof navigator&&navigator.product,re&&["ReactNative","NativeScript","NS"].indexOf(ae)<0);var ae;const oe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,se={...r,...ne};const le=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&F.isArray(r)?r.length:a,s)return F.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&F.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&F.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,((e,r)=>{t(function(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ce={transitional:te,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=F.isObject(e);i&&F.isHTMLForm(e)&&(e=new FormData(e));if(F.isFormData(e))return r?JSON.stringify(le(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new se.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return se.isNode&&F.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=F.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Y(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ce.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&F.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw V.from(i,V.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:se.classes.FormData,Blob:se.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],(e=>{ce.headers[e]={}}));const ue=ce,de=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),he=Symbol("internals");function pe(e){return e&&String(e).trim().toLowerCase()}function fe(e){return!1===e||null==e?e:F.isArray(e)?e.map(fe):String(e)}function me(e,t,n,r,i){return F.isFunction(r)?r.call(this,t,n):(i&&(t=n),F.isString(t)?F.isString(r)?-1!==t.indexOf(r):F.isRegExp(r)?r.test(t):void 0:void 0)}class ge{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=pe(t);if(!i)throw new Error("header name must be a non-empty string");const a=F.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=fe(e))}const a=(e,t)=>F.forEach(e,((e,n)=>i(e,n,t)));return F.isPlainObject(e)||e instanceof this.constructor?a(e,t):F.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&de[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=pe(e)){const n=F.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(F.isFunction(t))return t.call(this,e,n);if(F.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pe(e)){const n=F.findKey(this,e);return!(!n||void 0===this[n]||t&&!me(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=pe(e)){const i=F.findKey(n,e);!i||t&&!me(0,n[i],i,t)||(delete n[i],r=!0)}}return F.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!me(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return F.forEach(this,((r,i)=>{const a=F.findKey(n,i);if(a)return t[a]=fe(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=fe(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return F.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&F.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[he]=this[he]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=pe(e);t[r]||(!function(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return F.isArray(e)?e.forEach(r):r(e),this}}ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(ge.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),F.freezeMethods(ge);const ve=ge;function be(e,t){const n=this||ue,r=t||n,i=ve.from(r.headers);let a=r.data;return F.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function ye(e){return!(!e||!e.__CANCEL__)}function xe(e,t,n){V.call(this,null==e?"canceled":e,V.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(xe,V,{__CANCEL__:!0});const we=xe;const _e=se.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(r)&&o.push("path="+r),F.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ke(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Se=se.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=F.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const Ce=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function Ae(e,t){let n=0;const r=Ce(50,250);return i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,l=r(s);n=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Te={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=ve.from(e.headers).normalize();let a,o,{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(F.isFormData(r))if(se.hasStandardBrowserEnv||se.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=ke(e.baseURL,e.url);function h(){if(!u)return;const r=ve.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),$(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new V("Request aborted",V.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||te;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new V(t,r.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,u)),u=null},se.hasStandardBrowserEnv&&(l&&F.isFunction(l)&&(l=l(e)),l||!1!==l&&Se(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&_e.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&F.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),F.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Ae(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Ae(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{u&&(n(!t||t.type?new we(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===se.protocols.indexOf(p)?n(new V("Unsupported protocol "+p+":",V.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};F.forEach(Te,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ie=e=>"- ".concat(e),Ee=e=>F.isFunction(e)||null===e||!1===e,Ne=e=>{e=F.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Ee(n)&&(r=Te[(t=String(n)).toLowerCase()],void 0===r))throw new V("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Ie).join("\n"):" "+Ie(e[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Me(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new we(null,e)}function je(e){Me(e),e.headers=ve.from(e.headers),e.data=be.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ne(e.adapter||ue.adapter)(e).then((function(t){return Me(e),t.data=be.call(e,e.transformResponse,t),t.headers=ve.from(t.headers),t}),(function(t){return ye(t)||(Me(e),t&&t.response&&(t.response.data=be.call(e,e.transformResponse,t.response),t.response.headers=ve.from(t.response.headers))),Promise.reject(t)}))}const De=e=>e instanceof ve?{...e}:e;function Re(e,t){t=t||{};const n={};function r(e,t,n){return F.isPlainObject(e)&&F.isPlainObject(t)?F.merge.call({caseless:n},e,t):F.isPlainObject(t)?F.merge({},t):F.isArray(t)?t.slice():t}function i(e,t,n){return F.isUndefined(t)?F.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!F.isUndefined(t))return r(void 0,t)}function o(e,t){return F.isUndefined(t)?F.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t)=>i(De(e),De(t),!0)};return F.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||i,o=a(e[r],t[r],r);F.isUndefined(o)&&a!==s||(n[r]=o)})),n}const Pe="1.6.8",Oe={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Oe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Le={};Oe.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new V(r(i," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!Le[i]&&(Le[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};const Fe={assertOptions:function(e,t,n){if("object"!==typeof e)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new V("option "+a+" must be "+n,V.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new V("Unknown option "+a,V.ERR_BAD_OPTION)}},validators:Oe},ze=Fe.validators;class Be{constructor(e){this.defaults=e,this.interceptors={request:new ee,response:new ee}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Re(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Fe.assertOptions(n,{silentJSONParsing:ze.transitional(ze.boolean),forcedJSONParsing:ze.transitional(ze.boolean),clarifyTimeoutError:ze.transitional(ze.boolean)},!1),null!=r&&(F.isFunction(r)?t.paramsSerializer={serialize:r}:Fe.assertOptions(r,{encode:ze.function,serialize:ze.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&F.merge(i.common,i[t.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=ve.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[je.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=je.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return $(ke((e=Re(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(e){Be.prototype[e]=function(t,n){return this.request(Re(n||{},{method:e,url:t,data:(n||{}).data}))}})),F.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Re(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Be.prototype[e]=t(),Be.prototype[e+"Form"]=t(!0)}));const We=Be;class Ve{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new we(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ve((function(t){e=t})),cancel:e}}}const Ue=Ve;const He={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(He).forEach((e=>{let[t,n]=e;He[n]=t}));const qe=He;const Ge=function e(t){const n=new We(t),r=i(We.prototype.request,n);return F.extend(r,We.prototype,n,{allOwnKeys:!0}),F.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Re(t,n))},r}(ue);Ge.Axios=We,Ge.CanceledError=we,Ge.CancelToken=Ue,Ge.isCancel=ye,Ge.VERSION=Pe,Ge.toFormData=Y,Ge.AxiosError=V,Ge.Cancel=Ge.CanceledError,Ge.all=function(e){return Promise.all(e)},Ge.spread=function(e){return function(t){return e.apply(null,t)}},Ge.isAxiosError=function(e){return F.isObject(e)&&!0===e.isAxiosError},Ge.mergeConfig=Re,Ge.AxiosHeaders=ve,Ge.formToJSON=e=>le(F.isHTMLForm(e)?new FormData(e):e),Ge.getAdapter=Ne,Ge.HttpStatusCode=qe,Ge.default=Ge;const Ye=Ge},1676:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a(e){let t,n,a;function s(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=r,n=(t,n)=>r(e(t),n),a=(t,n)=>e(t)-n):(t=e===r||e===i?e:o,n=e,a=e),{left:s,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=s(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return r>n&&a(e[r-1],t)>-a(e[r],t)?r-1:r},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function o(){return 0}function s(e){return null===e?NaN:+e}n.r(t),n.d(t,{Adder:()=>E,Delaunay:()=>ml,FormatSpecifier:()=>Ru,InternMap:()=>j,InternSet:()=>D,Node:()=>cg,Path:()=>Io,Voronoi:()=>cl,ZoomTransform:()=>yA,active:()=>va,arc:()=>rS,area:()=>dS,areaRadial:()=>xS,ascending:()=>r,autoType:()=>Kl,axisBottom:()=>yt,axisLeft:()=>xt,axisRight:()=>bt,axisTop:()=>vt,bin:()=>pe,bisect:()=>h,bisectCenter:()=>d,bisectLeft:()=>u,bisectRight:()=>c,bisector:()=>a,blob:()=>Fc,blur:()=>p,blur2:()=>f,blurImage:()=>m,brush:()=>Ga,brushSelection:()=>Ua,brushX:()=>Ha,brushY:()=>qa,buffer:()=>Bc,chord:()=>ro,chordDirected:()=>ao,chordTranspose:()=>io,cluster:()=>ng,color:()=>hr,contourDensity:()=>Ls,contours:()=>Es,count:()=>x,create:()=>Mk,creator:()=>Tn,cross:()=>S,csv:()=>qc,csvFormat:()=>Ol,csvFormatBody:()=>Ll,csvFormatRow:()=>zl,csvFormatRows:()=>Fl,csvFormatValue:()=>Bl,csvParse:()=>Rl,csvParseRows:()=>Pl,cubehelix:()=>ys,cumsum:()=>C,curveBasis:()=>uC,curveBasisClosed:()=>hC,curveBasisOpen:()=>fC,curveBumpX:()=>SS,curveBumpY:()=>CS,curveBundle:()=>gC,curveCardinal:()=>yC,curveCardinalClosed:()=>wC,curveCardinalOpen:()=>kC,curveCatmullRom:()=>AC,curveCatmullRomClosed:()=>IC,curveCatmullRomOpen:()=>NC,curveLinear:()=>sS,curveLinearClosed:()=>jC,curveMonotoneX:()=>BC,curveMonotoneY:()=>WC,curveNatural:()=>HC,curveStep:()=>GC,curveStepAfter:()=>XC,curveStepBefore:()=>YC,descending:()=>i,deviation:()=>T,difference:()=>Je,disjoint:()=>Qe,dispatch:()=>At,drag:()=>_l,dragDisable:()=>Gn,dragEnable:()=>Yn,dsv:()=>Hc,dsvFormat:()=>jl,easeBack:()=>jc,easeBackIn:()=>Nc,easeBackInOut:()=>jc,easeBackOut:()=>Mc,easeBounce:()=>Tc,easeBounceIn:()=>Ac,easeBounceInOut:()=>Ic,easeBounceOut:()=>Tc,easeCircle:()=>mc,easeCircleIn:()=>pc,easeCircleInOut:()=>mc,easeCircleOut:()=>fc,easeCubic:()=>pa,easeCubicIn:()=>da,easeCubicInOut:()=>pa,easeCubicOut:()=>ha,easeElastic:()=>Pc,easeElasticIn:()=>Rc,easeElasticInOut:()=>Oc,easeElasticOut:()=>Pc,easeExp:()=>hc,easeExpIn:()=>uc,easeExpInOut:()=>hc,easeExpOut:()=>dc,easeLinear:()=>Jl,easePoly:()=>rc,easePolyIn:()=>tc,easePolyInOut:()=>rc,easePolyOut:()=>nc,easeQuad:()=>ec,easeQuadIn:()=>Ql,easeQuadInOut:()=>ec,easeQuadOut:()=>$l,easeSin:()=>lc,easeSinIn:()=>oc,easeSinInOut:()=>lc,easeSinOut:()=>sc,every:()=>qe,extent:()=>I,fcumsum:()=>M,filter:()=>Ye,flatGroup:()=>V,flatRollup:()=>U,forceCenter:()=>eu,forceCollide:()=>pu,forceLink:()=>gu,forceManyBody:()=>Cu,forceRadial:()=>Au,forceSimulation:()=>Su,forceX:()=>Tu,forceY:()=>Iu,format:()=>zu,formatDefaultLocale:()=>Hu,formatLocale:()=>Uu,formatPrefix:()=>Bu,formatSpecifier:()=>Du,fsum:()=>N,geoAlbers:()=>vm,geoAlbersUsa:()=>bm,geoArea:()=>Xd,geoAzimuthalEqualArea:()=>_m,geoAzimuthalEqualAreaRaw:()=>wm,geoAzimuthalEquidistant:()=>Sm,geoAzimuthalEquidistantRaw:()=>km,geoBounds:()=>Eh,geoCentroid:()=>Wh,geoCircle:()=>Qh,geoClipAntimeridian:()=>cp,geoClipCircle:()=>up,geoClipExtent:()=>bp,geoClipRectangle:()=>vp,geoConicConformal:()=>Nm,geoConicConformalRaw:()=>Em,geoConicEqualArea:()=>gm,geoConicEqualAreaRaw:()=>mm,geoConicEquidistant:()=>Rm,geoConicEquidistantRaw:()=>Dm,geoContains:()=>Pp,geoDistance:()=>Ap,geoEqualEarth:()=>Wm,geoEqualEarthRaw:()=>Bm,geoEquirectangular:()=>jm,geoEquirectangularRaw:()=>Mm,geoGnomonic:()=>Um,geoGnomonicRaw:()=>Vm,geoGraticule:()=>Fp,geoGraticule10:()=>zp,geoIdentity:()=>Hm,geoInterpolate:()=>Bp,geoLength:()=>kp,geoMercator:()=>Am,geoMercatorRaw:()=>Cm,geoNaturalEarth1:()=>Gm,geoNaturalEarth1Raw:()=>qm,geoOrthographic:()=>Xm,geoOrthographicRaw:()=>Ym,geoPath:()=>Qf,geoProjection:()=>hm,geoProjectionMutator:()=>pm,geoRotation:()=>Kh,geoStereographic:()=>Zm,geoStereographicRaw:()=>Km,geoStream:()=>Sd,geoTransform:()=>$f,geoTransverseMercator:()=>Qm,geoTransverseMercatorRaw:()=>Jm,gray:()=>$o,greatest:()=>xe,greatestIndex:()=>Le,group:()=>z,groupSort:()=>ee,groups:()=>B,hcl:()=>ls,hierarchy:()=>ig,histogram:()=>pe,hsl:()=>Cr,html:()=>Qc,image:()=>Yc,index:()=>G,indexes:()=>Y,interpolate:()=>Qr,interpolateArray:()=>Hr,interpolateBasis:()=>Mr,interpolateBasisClosed:()=>jr,interpolateBlues:()=>ik,interpolateBrBG:()=>g_,interpolateBuGn:()=>R_,interpolateBuPu:()=>O_,interpolateCividis:()=>mk,interpolateCool:()=>bk,interpolateCubehelix:()=>kv,interpolateCubehelixDefault:()=>gk,interpolateCubehelixLong:()=>Sv,interpolateDate:()=>Gr,interpolateDiscrete:()=>uv,interpolateGnBu:()=>F_,interpolateGreens:()=>ok,interpolateGreys:()=>lk,interpolateHcl:()=>xv,interpolateHclLong:()=>wv,interpolateHsl:()=>gv,interpolateHslLong:()=>vv,interpolateHue:()=>dv,interpolateInferno:()=>Ek,interpolateLab:()=>bv,interpolateMagma:()=>Ik,interpolateNumber:()=>Yr,interpolateNumberArray:()=>Vr,interpolateObject:()=>Xr,interpolateOrRd:()=>B_,interpolateOranges:()=>fk,interpolatePRGn:()=>b_,interpolatePiYG:()=>x_,interpolatePlasma:()=>Nk,interpolatePuBu:()=>H_,interpolatePuBuGn:()=>V_,interpolatePuOr:()=>__,interpolatePuRd:()=>G_,interpolatePurples:()=>uk,interpolateRainbow:()=>xk,interpolateRdBu:()=>S_,interpolateRdGy:()=>A_,interpolateRdPu:()=>X_,interpolateRdYlBu:()=>I_,interpolateRdYlGn:()=>N_,interpolateReds:()=>hk,interpolateRgb:()=>Fr,interpolateRgbBasis:()=>Br,interpolateRgbBasisClosed:()=>Wr,interpolateRound:()=>hv,interpolateSinebow:()=>Sk,interpolateSpectral:()=>j_,interpolateString:()=>Jr,interpolateTransformCss:()=>Bi,interpolateTransformSvg:()=>Wi,interpolateTurbo:()=>Ck,interpolateViridis:()=>Tk,interpolateWarm:()=>vk,interpolateYlGn:()=>Q_,interpolateYlGnBu:()=>Z_,interpolateYlOrBr:()=>ek,interpolateYlOrRd:()=>nk,interpolateZoom:()=>fv,interrupt:()=>Ri,intersection:()=>$e,interval:()=>gA,isoFormat:()=>pA,isoParse:()=>mA,json:()=>Kc,lab:()=>es,lch:()=>ss,least:()=>Pe,leastIndex:()=>Oe,line:()=>uS,lineRadial:()=>yS,link:()=>ES,linkHorizontal:()=>NS,linkRadial:()=>jS,linkVertical:()=>MS,local:()=>Dk,map:()=>Xe,matcher:()=>jt,max:()=>fe,maxIndex:()=>me,mean:()=>Ae,median:()=>Te,medianIndex:()=>Ie,merge:()=>Ee,min:()=>ge,minIndex:()=>ve,mode:()=>Ne,namespace:()=>Yt,namespaces:()=>Gt,nice:()=>de,now:()=>hi,pack:()=>Rg,packEnclose:()=>bg,packSiblings:()=>jg,pairs:()=>Me,partition:()=>Bg,path:()=>Eo,pathRound:()=>No,permute:()=>Z,pie:()=>fS,piecewise:()=>Cv,pointRadial:()=>wS,pointer:()=>ei,pointers:()=>Pk,polygonArea:()=>Tv,polygonCentroid:()=>Iv,polygonContains:()=>Dv,polygonHull:()=>jv,polygonLength:()=>Rv,precisionFixed:()=>qu,precisionPrefix:()=>Gu,precisionRound:()=>Yu,quadtree:()=>au,quantile:()=>we,quantileIndex:()=>ke,quantileSorted:()=>_e,quantize:()=>Av,quickselect:()=>be,radialArea:()=>xS,radialLine:()=>yS,randomBates:()=>Wv,randomBernoulli:()=>Hv,randomBeta:()=>Yv,randomBinomial:()=>Xv,randomCauchy:()=>Zv,randomExponential:()=>Vv,randomGamma:()=>Gv,randomGeometric:()=>qv,randomInt:()=>Lv,randomIrwinHall:()=>Bv,randomLcg:()=>nb,randomLogNormal:()=>zv,randomLogistic:()=>Jv,randomNormal:()=>Fv,randomPareto:()=>Uv,randomPoisson:()=>Qv,randomUniform:()=>Ov,randomWeibull:()=>Kv,range:()=>De,rank:()=>Re,reduce:()=>Ke,reverse:()=>Ze,rgb:()=>gr,ribbon:()=>Wo,ribbonArrow:()=>Vo,rollup:()=>H,rollups:()=>q,scaleBand:()=>sb,scaleDiverging:()=>Jw,scaleDivergingLog:()=>Qw,scaleDivergingPow:()=>e_,scaleDivergingSqrt:()=>t_,scaleDivergingSymlog:()=>$w,scaleIdentity:()=>_b,scaleImplicit:()=>ab,scaleLinear:()=>wb,scaleLog:()=>Mb,scaleOrdinal:()=>ob,scalePoint:()=>cb,scalePow:()=>Bb,scaleQuantile:()=>Hb,scaleQuantize:()=>qb,scaleRadial:()=>Ub,scaleSequential:()=>Hw,scaleSequentialLog:()=>qw,scaleSequentialPow:()=>Yw,scaleSequentialQuantile:()=>Kw,scaleSequentialSqrt:()=>Xw,scaleSequentialSymlog:()=>Gw,scaleSqrt:()=>Wb,scaleSymlog:()=>Pb,scaleThreshold:()=>Gb,scaleTime:()=>Bw,scaleUtc:()=>Ww,scan:()=>Fe,schemeAccent:()=>i_,schemeBlues:()=>rk,schemeBrBG:()=>m_,schemeBuGn:()=>D_,schemeBuPu:()=>P_,schemeCategory10:()=>r_,schemeDark2:()=>a_,schemeGnBu:()=>L_,schemeGreens:()=>ak,schemeGreys:()=>sk,schemeObservable10:()=>o_,schemeOrRd:()=>z_,schemeOranges:()=>pk,schemePRGn:()=>v_,schemePaired:()=>s_,schemePastel1:()=>l_,schemePastel2:()=>c_,schemePiYG:()=>y_,schemePuBu:()=>U_,schemePuBuGn:()=>W_,schemePuOr:()=>w_,schemePuRd:()=>q_,schemePurples:()=>ck,schemeRdBu:()=>k_,schemeRdGy:()=>C_,schemeRdPu:()=>Y_,schemeRdYlBu:()=>T_,schemeRdYlGn:()=>E_,schemeReds:()=>dk,schemeSet1:()=>u_,schemeSet2:()=>d_,schemeSet3:()=>h_,schemeSpectral:()=>M_,schemeTableau10:()=>p_,schemeYlGn:()=>J_,schemeYlGnBu:()=>K_,schemeYlOrBr:()=>$_,schemeYlOrRd:()=>tk,select:()=>Wn,selectAll:()=>Ok,selection:()=>Bn,selector:()=>It,selectorAll:()=>Mt,shuffle:()=>ze,shuffler:()=>Be,some:()=>Ge,sort:()=>J,stack:()=>$C,stackOffsetDiverging:()=>tA,stackOffsetExpand:()=>eA,stackOffsetNone:()=>KC,stackOffsetSilhouette:()=>nA,stackOffsetWiggle:()=>rA,stackOrderAppearance:()=>iA,stackOrderAscending:()=>oA,stackOrderDescending:()=>lA,stackOrderInsideOut:()=>cA,stackOrderNone:()=>ZC,stackOrderReverse:()=>uA,stratify:()=>Gg,style:()=>an,subset:()=>rt,sum:()=>We,superset:()=>tt,svg:()=>$c,symbol:()=>oC,symbolAsterisk:()=>RS,symbolCircle:()=>PS,symbolCross:()=>OS,symbolDiamond:()=>zS,symbolDiamond2:()=>BS,symbolPlus:()=>WS,symbolSquare:()=>VS,symbolSquare2:()=>US,symbolStar:()=>YS,symbolTimes:()=>rC,symbolTriangle:()=>KS,symbolTriangle2:()=>JS,symbolWye:()=>nC,symbolX:()=>rC,symbols:()=>iC,symbolsFill:()=>iC,symbolsStroke:()=>aC,text:()=>Vc,thresholdFreedmanDiaconis:()=>Se,thresholdScott:()=>Ce,thresholdSturges:()=>he,tickFormat:()=>yb,tickIncrement:()=>ce,tickStep:()=>ue,ticks:()=>le,timeDay:()=>my,timeDays:()=>gy,timeFormat:()=>mx,timeFormatDefaultLocale:()=>Ow,timeFormatLocale:()=>px,timeFriday:()=>Ty,timeFridays:()=>Ry,timeHour:()=>dy,timeHours:()=>hy,timeInterval:()=>ny,timeMillisecond:()=>ry,timeMilliseconds:()=>iy,timeMinute:()=>sy,timeMinutes:()=>ly,timeMonday:()=>ky,timeMondays:()=>Ny,timeMonth:()=>Jy,timeMonths:()=>Qy,timeParse:()=>gx,timeSaturday:()=>Iy,timeSaturdays:()=>Py,timeSecond:()=>ay,timeSeconds:()=>oy,timeSunday:()=>_y,timeSundays:()=>Ey,timeThursday:()=>Ay,timeThursdays:()=>Dy,timeTickInterval:()=>cx,timeTicks:()=>lx,timeTuesday:()=>Sy,timeTuesdays:()=>My,timeWednesday:()=>Cy,timeWednesdays:()=>jy,timeWeek:()=>_y,timeWeeks:()=>Ey,timeYear:()=>tx,timeYears:()=>nx,timeout:()=>xi,timer:()=>mi,timerFlush:()=>gi,transition:()=>la,transpose:()=>Ve,tree:()=>tv,treemap:()=>ov,treemapBinary:()=>sv,treemapDice:()=>zg,treemapResquarify:()=>cv,treemapSlice:()=>nv,treemapSliceDice:()=>lv,treemapSquarify:()=>av,tsv:()=>Gc,tsvFormat:()=>Hl,tsvFormatBody:()=>ql,tsvFormatRow:()=>Yl,tsvFormatRows:()=>Gl,tsvFormatValue:()=>Xl,tsvParse:()=>Vl,tsvParseRows:()=>Ul,union:()=>it,unixDay:()=>yy,unixDays:()=>xy,utcDay:()=>vy,utcDays:()=>by,utcFormat:()=>vx,utcFriday:()=>Vy,utcFridays:()=>Ky,utcHour:()=>py,utcHours:()=>fy,utcMillisecond:()=>ry,utcMilliseconds:()=>iy,utcMinute:()=>cy,utcMinutes:()=>uy,utcMonday:()=>Fy,utcMondays:()=>qy,utcMonth:()=>$y,utcMonths:()=>ex,utcParse:()=>bx,utcSaturday:()=>Uy,utcSaturdays:()=>Zy,utcSecond:()=>ay,utcSeconds:()=>oy,utcSunday:()=>Ly,utcSundays:()=>Hy,utcThursday:()=>Wy,utcThursdays:()=>Xy,utcTickInterval:()=>sx,utcTicks:()=>ox,utcTuesday:()=>zy,utcTuesdays:()=>Gy,utcWednesday:()=>By,utcWednesdays:()=>Yy,utcWeek:()=>Ly,utcWeeks:()=>Hy,utcYear:()=>rx,utcYears:()=>ix,variance:()=>A,window:()=>en,xml:()=>Jc,zip:()=>He,zoom:()=>NA,zoomIdentity:()=>xA,zoomTransform:()=>wA});const l=a(r),c=l.right,u=l.left,d=a(s).center,h=c;function p(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=y(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const f=g(y),m=g((function(e){const t=y(e);return(e,n,r,i,a)=>{t(e,n,(r<<=2)+0,(i<<=2)+0,a<<=2),t(e,n,r+1,i+1,a),t(e,n,r+2,i+2,a),t(e,n,r+3,i+3,a)}}));function g(e){return function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(void 0!==o?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return t;const s=n&&e(n),l=r&&e(r),c=i.slice();return s&&l?(v(s,c,i,a,o),v(s,i,c,a,o),v(s,c,i,a,o),b(l,i,c,a,o),b(l,c,i,a,o),b(l,i,c,a,o)):s?(v(s,i,c,a,o),v(s,c,i,a,o),v(s,i,c,a,o)):l&&(b(l,i,c,a,o),b(l,c,i,a,o),b(l,i,c,a,o)),t}}function v(e,t,n,r,i){for(let a=0,o=r*i;a<o;)e(t,n,a,a+=r,1)}function b(e,t,n,r,i){for(let a=0,o=r*i;a<r;++a)e(t,n,a,a+o,r)}function y(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=e*r[i];const l=o*e;for(let e=i,t=i+l;e<t;e+=o)s+=r[Math.min(a,e)];for(let e=i,c=a;e<=c;e+=o)s+=r[Math.min(a,e+l)],n[e]=s/t,s-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,a,o,s)=>{if(!((o-=s)>=a))return;let l=t*i[a];const c=s*t,u=c+s;for(let t=a,n=a+c;t<n;t+=s)l+=i[Math.min(o,t)];for(let t=a,d=o;t<=d;t+=s)l+=i[Math.min(o,t+c)],e[t]=(l+n*(i[Math.max(a,t-u)]+i[Math.min(o,t+u)]))/r,l-=i[Math.max(a,t-c)]}}function x(e,t){let n=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function w(e){return 0|e.length}function _(e){return!(e>0)}function k(e){return"object"!==typeof e||"length"in e?e:Array.from(e)}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r="function"===typeof t[t.length-1]&&function(e){return t=>e(...t)}(t.pop()),i=(t=t.map(k)).map(w),a=t.length-1,o=new Array(a+1).fill(0),s=[];if(a<0||i.some(_))return s;for(;;){s.push(o.map(((e,n)=>t[n][e])));let e=a;for(;++o[e]===i[e];){if(0===e)return r?s.map(r):s;o[e--]=0}}}function C(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)}function A(e,t){let n,r=0,i=0,a=0;if(void 0===t)for(let o of e)null!=o&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i));else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i))}if(r>1)return a/(r-1)}function T(e,t){const n=A(e,t);return n?Math.sqrt(n):n}function I(e,t){let n,r;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class E{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,a=0;if(i>0){for(a=e[--i];i>0&&(t=a,n=e[--i],a=t+n,r=n-(a-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=a+n,n==t-a&&(a=t))}return a}}function N(e,t){const n=new E;if(void 0===t)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function M(e,t){const n=new E;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))}class j extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(R(this,e))}has(e){return super.has(R(this,e))}set(e,t){return super.set(P(this,e),t)}delete(e){return super.delete(O(this,e))}}class D extends Set{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const n of e)this.add(n)}has(e){return super.has(R(this,e))}add(e){return super.add(P(this,e))}delete(e){return super.delete(O(this,e))}}function R(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function P(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function O(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function L(e){return null!==e&&"object"===typeof e?e.valueOf():e}function F(e){return e}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(e,F,F,n)}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(e,Array.from,F,n)}function W(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap((e=>e.pop().map((t=>{let[n,r]=t;return[...e,n,r]}))));return e}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(B(e,...n),n)}function U(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return W(q(e,t,...r),r)}function H(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return K(e,F,t,r)}function q(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return K(e,Array.from,t,r)}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(e,F,X,n)}function Y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(e,Array.from,X,n)}function X(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function K(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);const o=new j,s=r[a++];let l=-1;for(const t of i){const e=s(t,++l,i),n=o.get(e);n?n.push(t):o.set(e,[t])}for(const[t,n]of o)o.set(t,e(n,a));return t(o)}(e,0)}function Z(e,t){return Array.from(t,(t=>e[t]))}function J(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[i]=n;if(i&&2!==i.length||n.length>1){const t=Uint32Array.from(e,((e,t)=>t));return n.length>1?(n=n.map((t=>e.map(t))),t.sort(((e,t)=>{for(const r of n){const n=$(r[e],r[t]);if(n)return n}}))):(i=e.map(i),t.sort(((e,t)=>$(i[e],i[t])))),Z(e,t)}return e.sort(Q(i))}function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(e===r)return $;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function $(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function ee(e,t,n){return(2!==t.length?J(H(e,t,n),((e,t)=>{let[n,i]=e,[a,o]=t;return r(i,o)||r(n,a)})):J(z(e,n),((e,n)=>{let[i,a]=e,[o,s]=n;return t(a,s)||r(i,o)}))).map((e=>{let[t]=e;return t}))}var te=Array.prototype,ne=te.slice;te.map;function re(e){return()=>e}const ie=Math.sqrt(50),ae=Math.sqrt(10),oe=Math.sqrt(2);function se(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=ie?10:a>=ae?5:a>=oe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?se(e,t,2*n):[s,l,c]}function le(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?se(t,e,n):se(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function ce(e,t,n){return se(e=+e,t=+t,n=+n)[2]}function ue(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?ce(t,e,n):ce(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function de(e,t,n){let r;for(;;){const i=ce(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function he(e){return Math.max(1,Math.ceil(Math.log(x(e))/Math.LN2)+1)}function pe(){var e=F,t=I,n=he;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,o,s=r.length,l=new Array(s);for(i=0;i<s;++i)l[i]=e(r[i],i,r);var c=t(l),u=c[0],d=c[1],p=n(l,u,d);if(!Array.isArray(p)){const e=d,n=+p;if(t===I&&([u,d]=de(u,d,n)),(p=le(u,d,n))[0]<=u&&(o=ce(u,d,n)),p[p.length-1]>=d)if(e>=d&&t===I){const e=ce(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else p.pop()}for(var f=p.length,m=0,g=f;p[m]<=u;)++m;for(;p[g-1]>d;)--g;(m||g<f)&&(p=p.slice(m,g),f=g-m);var v,b=new Array(f+1);for(i=0;i<=f;++i)(v=b[i]=[]).x0=i>0?p[i-1]:u,v.x1=i<f?p[i]:d;if(isFinite(o)){if(o>0)for(i=0;i<s;++i)null!=(a=l[i])&&u<=a&&a<=d&&b[Math.min(f,Math.floor((a-u)/o))].push(r[i]);else if(o<0)for(i=0;i<s;++i)if(null!=(a=l[i])&&u<=a&&a<=d){const e=Math.floor((u-a)*o);b[Math.min(f,e+(p[e]<=a))].push(r[i])}}else for(i=0;i<s;++i)null!=(a=l[i])&&u<=a&&a<=d&&b[h(p,a,0,f)].push(r[i]);return b}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:re(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:re([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:re(Array.isArray(e)?ne.call(e):e),r):n},r}function fe(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function me(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}function ge(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ve(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}function be(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?$:Q(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);be(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(ye(e,n,t),i(e[r],a)>0&&ye(e,n,r);o<s;){for(ye(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?ye(e,n,s):(++s,ye(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function ye(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=!1;if(1===n.length){let a;for(const o of e){const e=n(o);(i?r(e,a)>0:0===r(e,e))&&(t=o,a=e,i=!0)}}else for(const r of e)(i?n(r,t)>0:0===n(r,r))&&(t=r,i=!0);return t}function we(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ge(e);if(t>=1)return fe(e);var r,i=(r-1)*t,a=Math.floor(i),o=fe(be(e,a).subarray(0,a+1));return o+(ge(e.subarray(a+1))-o)*(i-a)}}function _e(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function ke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;if(!isNaN(t=+t)){if(r=Float64Array.from(e,((t,r)=>s(n(e[r],r,e)))),t<=0)return ve(r);if(t>=1)return me(r);var r,i=Uint32Array.from(e,((e,t)=>t)),a=r.length-1,o=Math.floor(a*t);return be(i,o,0,a,((e,t)=>$(r[e],r[t]))),(o=xe(i.subarray(0,o+1),(e=>r[e])))>=0?o:-1}}function Se(e,t,n){const r=x(e),i=we(e,.75)-we(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Ce(e,t,n){const r=x(e),i=T(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Ae(e,t){let n=0,r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Te(e,t){return we(e,.5,t)}function Ie(e,t){return ke(e,.5,t)}function Ee(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function Ne(e,t){const n=new j;if(void 0===t)for(let a of e)null!=a&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function Me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function je(e,t){return[e,t]}function De(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const i=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=r);const a=(e,r)=>t(n[e],n[r]);let o,s;return(e=Uint32Array.from(n,((e,t)=>t))).sort(t===r?(e,t)=>$(n[e],n[t]):Q(a)),e.forEach(((e,t)=>{const n=a(e,void 0===o?e:o);n>=0?((void 0===o||n>0)&&(o=e,s=t),i[e]=s):i[e]=NaN})),i}function Pe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=!1;if(1===n.length){let a;for(const o of e){const e=n(o);(i?r(e,a)<0:0===r(e,e))&&(t=o,a=e,i=!0)}}else for(const r of e)(i?n(r,t)<0:0===n(r,r))&&(t=r,i=!0);return t}function Oe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(1===n.length)return ve(e,n);let i=-1,a=-1;for(const r of e)++a,(i<0?0===n(r,r):n(r,t)<0)&&(t=r,i=a);return i}function Le(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(1===n.length)return me(e,n);let i=-1,a=-1;for(const r of e)++a,(i<0?0===n(r,r):n(r,t)>0)&&(t=r,i=a);return i}function Fe(e,t){const n=Oe(e,t);return n<0?void 0:n}const ze=Be(Math.random);function Be(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length)-(n=+n);for(;r;){const i=e()*r--|0,a=t[r+n];t[r+n]=t[i+n],t[i+n]=a}return t}}function We(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Ve(e){if(!(i=e.length))return[];for(var t=-1,n=ge(e,Ue),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Ue(e){return e.length}function He(){return Ve(arguments)}function qe(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function Ge(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function Ye(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function Xe(e,t){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function Ke(e,t,n){if("function"!==typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++o}for(;({done:i,value:a}=r.next()),!i;)n=t(n,a,++o,e);return n}function Ze(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Je(e){e=new D(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)for(const t of i)e.delete(t);return e}function Qe(e,t){const n=t[Symbol.iterator](),r=new D;for(const i of e){if(r.has(i))return!1;let e,t;for(;({value:e,done:t}=n.next())&&!t;){if(Object.is(i,e))return!1;r.add(e)}}return!0}function $e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new D(e),n=n.map(et);e:for(const i of e)for(const t of n)if(!t.has(i)){e.delete(i);continue e}return e}function et(e){return e instanceof D?e:new D(e)}function tt(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const e=nt(i);if(r.has(e))continue;let t,a;for(;({value:t,done:a}=n.next());){if(a)return!1;const n=nt(t);if(r.add(n),Object.is(e,n))break}}return!0}function nt(e){return null!==e&&"object"===typeof e?e.valueOf():e}function rt(e,t){return tt(t,e)}function it(){const e=new D;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)for(const t of i)e.add(t);return e}function at(e){return e}var ot=1,st=2,lt=3,ct=4,ut=1e-6;function dt(e){return"translate("+e+",0)"}function ht(e){return"translate(0,"+e+")"}function pt(e){return t=>+e(t)}function ft(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function mt(){return!this.__axis}function gt(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,l="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,c=e===ot||e===ct?-1:1,u=e===ct||e===st?"x":"y",d=e===ot||e===lt?dt:ht;function h(h){var p=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,f=null==i?t.tickFormat?t.tickFormat.apply(t,n):at:i,m=Math.max(a,0)+s,g=t.range(),v=+g[0]+l,b=+g[g.length-1]+l,y=(t.bandwidth?ft:pt)(t.copy(),l),x=h.selection?h.selection():h,w=x.selectAll(".domain").data([null]),_=x.selectAll(".tick").data(p,t).order(),k=_.exit(),S=_.enter().append("g").attr("class","tick"),C=_.select("line"),A=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(S),C=C.merge(S.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),A=A.merge(S.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",e===ot?"0em":e===lt?"0.71em":"0.32em")),h!==x&&(w=w.transition(h),_=_.transition(h),C=C.transition(h),A=A.transition(h),k=k.transition(h).attr("opacity",ut).attr("transform",(function(e){return isFinite(e=y(e))?d(e+l):this.getAttribute("transform")})),S.attr("opacity",ut).attr("transform",(function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:y(e))+l)}))),k.remove(),w.attr("d",e===ct||e===st?o?"M"+c*o+","+v+"H"+l+"V"+b+"H"+c*o:"M"+l+","+v+"V"+b:o?"M"+v+","+c*o+"V"+l+"H"+b+"V"+c*o:"M"+v+","+l+"H"+b),_.attr("opacity",1).attr("transform",(function(e){return d(y(e)+l)})),C.attr(u+"2",c*a),A.attr(u,c*m).text(f),x.filter(mt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===st?"start":e===ct?"end":"middle"),x.each((function(){this.__axis=y}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(a=o=+e,h):a},h.tickSizeInner=function(e){return arguments.length?(a=+e,h):a},h.tickSizeOuter=function(e){return arguments.length?(o=+e,h):o},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h.offset=function(e){return arguments.length?(l=+e,h):l},h}function vt(e){return gt(ot,e)}function bt(e){return gt(st,e)}function yt(e){return gt(lt,e)}function xt(e){return gt(ct,e)}var wt={value:()=>{}};function _t(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new kt(r)}function kt(e){this._=e}function St(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ct(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=wt,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}kt.prototype=_t.prototype={constructor:kt,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=a[o]).type)i[n]=Ct(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Ct(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=a[o]).type)&&(n=St(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new kt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};const At=_t;function Tt(){}function It(e){return null==e?Tt:function(){return this.querySelector(e)}}function Et(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function Nt(){return[]}function Mt(e){return null==e?Nt:function(){return this.querySelectorAll(e)}}function jt(e){return function(){return this.matches(e)}}function Dt(e){return function(t){return t.matches(e)}}var Rt=Array.prototype.find;function Pt(){return this.firstElementChild}var Ot=Array.prototype.filter;function Lt(){return Array.from(this.children)}function Ft(e){return new Array(e.length)}function zt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Bt(e,t,n,r,i,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new zt(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function Wt(e,t,n,r,i,a,o){var s,l,c,u=new Map,d=t.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=o.call(e,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new zt(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function Vt(e){return e.__data__}function Ut(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ht(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}zt.prototype={constructor:zt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var qt="http://www.w3.org/1999/xhtml";const Gt={svg:"http://www.w3.org/2000/svg",xhtml:qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yt(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Gt.hasOwnProperty(t)?{space:Gt[t],local:e}:e}function Xt(e){return function(){this.removeAttribute(e)}}function Kt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zt(e,t){return function(){this.setAttribute(e,t)}}function Jt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Qt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function $t(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function en(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tn(e){return function(){this.style.removeProperty(e)}}function nn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function an(e,t){return e.style.getPropertyValue(t)||en(e).getComputedStyle(e,null).getPropertyValue(t)}function on(e){return function(){delete this[e]}}function sn(e,t){return function(){this[e]=t}}function ln(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function cn(e){return e.trim().split(/^|\s+/)}function un(e){return e.classList||new dn(e)}function dn(e){this._node=e,this._names=cn(e.getAttribute("class")||"")}function hn(e,t){for(var n=un(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pn(e,t){for(var n=un(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fn(e){return function(){hn(this,e)}}function mn(e){return function(){pn(this,e)}}function gn(e,t){return function(){(t.apply(this,arguments)?hn:pn)(this,e)}}function vn(){this.textContent=""}function bn(e){return function(){this.textContent=e}}function yn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function xn(){this.innerHTML=""}function wn(e){return function(){this.innerHTML=e}}function _n(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function kn(){this.nextSibling&&this.parentNode.appendChild(this)}function Sn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qt&&t.documentElement.namespaceURI===qt?t.createElement(e):t.createElementNS(n,e)}}function An(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tn(e){var t=Yt(e);return(t.local?An:Cn)(t)}function In(){return null}function En(){var e=this.parentNode;e&&e.removeChild(this)}function Nn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jn(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Dn(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Rn(e,t,n){var r=en(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Pn(e,t){return function(){return Rn(this,e,t)}}function On(e,t){return function(){return Rn(this,e,t.apply(this,arguments))}}dn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ln=[null];function Fn(e,t){this._groups=e,this._parents=t}function zn(){return new Fn([[document.documentElement]],Ln)}Fn.prototype=zn.prototype={constructor:Fn,select:function(e){"function"!==typeof e&&(e=It(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new Fn(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){return Et(e.apply(this,arguments))}}(e):Mt(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),i.push(o));return new Fn(r,i)},selectChild:function(e){return this.select(null==e?Pt:function(e){return function(){return Rt.call(this.children,e)}}("function"===typeof e?e:Dt(e)))},selectChildren:function(e){return this.selectAll(null==e?Lt:function(e){return function(){return Ot.call(this.children,e)}}("function"===typeof e?e:Dt(e)))},filter:function(e){"function"!==typeof e&&(e=jt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new Fn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Vt);var n=t?Wt:Bt,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=Ut(e.call(u,u&&u.__data__,c,r)),f=p.length,m=s[c]=new Array(f),g=o[c]=new Array(f);n(u,d,m,g,l[c]=new Array(h),p,t);for(var v,b,y=0,x=0;y<f;++y)if(v=m[y]){for(y>=x&&(x=y+1);!(b=g[x])&&++x<f;);v._next=b||null}}return(o=new Fn(o,r))._enter=s,o._exit=l,o},enter:function(){return new Fn(this._enter||this._groups.map(Ft),this._parents)},exit:function(){return new Fn(this._exit||this._groups.map(Ft),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c,u=n[l],d=r[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<i;++l)s[l]=n[l];return new Fn(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ht);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new Fn(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=Yt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Kt:Xt:"function"===typeof t?n.local?$t:Qt:n.local?Jt:Zt)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?tn:"function"===typeof t?rn:nn)(e,t,null==n?"":n)):an(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?on:"function"===typeof t?ln:sn)(e,t)):this.node()[e]},classed:function(e,t){var n=cn(e+"");if(arguments.length<2){for(var r=un(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?gn:t?fn:mn)(n,t))},text:function(e){return arguments.length?this.each(null==e?vn:("function"===typeof e?yn:bn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?xn:("function"===typeof e?_n:wn)(e)):this.node().innerHTML},raise:function(){return this.each(kn)},lower:function(){return this.each(Sn)},append:function(e){var t="function"===typeof e?e:Tn(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Tn(e),r=null==t?In:"function"===typeof t?t:It(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(En)},clone:function(e){return this.select(e?Mn:Nn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?Dn:jn,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?On:Pn)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const Bn=zn;function Wn(e){return"string"===typeof e?new Fn([[document.querySelector(e)]],[document.documentElement]):new Fn([[e]],Ln)}const Vn={passive:!1},Un={capture:!0,passive:!1};function Hn(e){e.stopImmediatePropagation()}function qn(e){e.preventDefault(),e.stopImmediatePropagation()}function Gn(e){var t=e.document.documentElement,n=Wn(e).on("dragstart.drag",qn,Un);"onselectstart"in t?n.on("selectstart.drag",qn,Un):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Yn(e,t){var n=e.document.documentElement,r=Wn(e).on("dragstart.drag",null);t&&(r.on("click.drag",qn,Un),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Xn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Kn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zn(){}var Jn=.7,Qn=1/Jn,$n="\\s*([+-]?\\d+)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nr=/^#([0-9a-f]{3,8})$/,rr=new RegExp("^rgb\\(".concat($n,",").concat($n,",").concat($n,"\\)$")),ir=new RegExp("^rgb\\(".concat(tr,",").concat(tr,",").concat(tr,"\\)$")),ar=new RegExp("^rgba\\(".concat($n,",").concat($n,",").concat($n,",").concat(er,"\\)$")),or=new RegExp("^rgba\\(".concat(tr,",").concat(tr,",").concat(tr,",").concat(er,"\\)$")),sr=new RegExp("^hsl\\(".concat(er,",").concat(tr,",").concat(tr,"\\)$")),lr=new RegExp("^hsla\\(".concat(er,",").concat(tr,",").concat(tr,",").concat(er,"\\)$")),cr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ur(){return this.rgb().formatHex()}function dr(){return this.rgb().formatRgb()}function hr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pr(t):3===n?new vr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?fr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?fr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rr.exec(e))?new vr(t[1],t[2],t[3],1):(t=ir.exec(e))?new vr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ar.exec(e))?fr(t[1],t[2],t[3],t[4]):(t=or.exec(e))?fr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=sr.exec(e))?kr(t[1],t[2]/100,t[3]/100,1):(t=lr.exec(e))?kr(t[1],t[2]/100,t[3]/100,t[4]):cr.hasOwnProperty(e)?pr(cr[e]):"transparent"===e?new vr(NaN,NaN,NaN,0):null}function pr(e){return new vr(e>>16&255,e>>8&255,255&e,1)}function fr(e,t,n,r){return r<=0&&(e=t=n=NaN),new vr(e,t,n,r)}function mr(e){return e instanceof Zn||(e=hr(e)),e?new vr((e=e.rgb()).r,e.g,e.b,e.opacity):new vr}function gr(e,t,n,r){return 1===arguments.length?mr(e):new vr(e,t,n,null==r?1:r)}function vr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function br(){return"#".concat(_r(this.r)).concat(_r(this.g)).concat(_r(this.b))}function yr(){const e=xr(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(wr(this.r),", ").concat(wr(this.g),", ").concat(wr(this.b)).concat(1===e?")":", ".concat(e,")"))}function xr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _r(e){return((e=wr(e))<16?"0":"")+e.toString(16)}function kr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ar(e,t,n,r)}function Sr(e){if(e instanceof Ar)return new Ar(e.h,e.s,e.l,e.opacity);if(e instanceof Zn||(e=hr(e)),!e)return new Ar;if(e instanceof Ar)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ar(o,s,l,e.opacity)}function Cr(e,t,n,r){return 1===arguments.length?Sr(e):new Ar(e,t,n,null==r?1:r)}function Ar(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Tr(e){return(e=(e||0)%360)<0?e+360:e}function Ir(e){return Math.max(0,Math.min(1,e||0))}function Er(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Nr(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function Mr(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Nr((n-r/t)*t,o,i,a,s)}}function jr(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Nr((n-r/t)*t,i,a,o,s)}}Xn(Zn,hr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ur,formatHex:ur,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Sr(this).formatHsl()},formatRgb:dr,toString:dr}),Xn(vr,gr,Kn(Zn,{brighter(e){return e=null==e?Qn:Math.pow(Qn,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Jn:Math.pow(Jn,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(wr(this.r),wr(this.g),wr(this.b),xr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:br,formatHex:br,formatHex8:function(){return"#".concat(_r(this.r)).concat(_r(this.g)).concat(_r(this.b)).concat(_r(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:yr,toString:yr})),Xn(Ar,Cr,Kn(Zn,{brighter(e){return e=null==e?Qn:Math.pow(Qn,e),new Ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Jn:Math.pow(Jn,e),new Ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vr(Er(e>=240?e-240:e+120,i,r),Er(e,i,r),Er(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ar(Tr(this.h),Ir(this.s),Ir(this.l),xr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xr(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Tr(this.h),", ").concat(100*Ir(this.s),"%, ").concat(100*Ir(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Dr=e=>()=>e;function Rr(e,t){return function(n){return e+n*t}}function Pr(e,t){var n=t-e;return n?Rr(e,n>180||n<-180?n-360*Math.round(n/360):n):Dr(isNaN(e)?t:e)}function Or(e){return 1===(e=+e)?Lr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Dr(isNaN(t)?n:t)}}function Lr(e,t){var n=t-e;return n?Rr(e,n):Dr(isNaN(e)?t:e)}const Fr=function e(t){var n=Or(t);function r(e,t){var r=n((e=gr(e)).r,(t=gr(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Lr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function zr(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=gr(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}var Br=zr(Mr),Wr=zr(jr);function Vr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Ur(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Hr(e,t){return(Ur(t)?Vr:qr)(e,t)}function qr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Qr(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Gr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xr(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Qr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(Kr.source,"g");function Jr(e,t){var n,r,i,a=Kr.lastIndex=Zr.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Kr.exec(e))&&(r=Zr.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Yr(n,r)})),a=Zr.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Qr(e,t){var n,r=typeof t;return null==t||"boolean"===r?Dr(t):("number"===r?Yr:"string"===r?(n=hr(t))?(t=n,Fr):Jr:t instanceof hr?Fr:t instanceof Date?Gr:Ur(t)?Vr:Array.isArray(t)?qr:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Xr:Yr)(e,t)}function $r(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ei(e,t){if(e=$r(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var ti,ni,ri=0,ii=0,ai=0,oi=1e3,si=0,li=0,ci=0,ui="object"===typeof performance&&performance.now?performance:Date,di="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hi(){return li||(di(pi),li=ui.now()+ci)}function pi(){li=0}function fi(){this._call=this._time=this._next=null}function mi(e,t,n){var r=new fi;return r.restart(e,t,n),r}function gi(){hi(),++ri;for(var e,t=ti;t;)(e=li-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ri}function vi(){li=(si=ui.now())+ci,ri=ii=0;try{gi()}finally{ri=0,function(){var e,t,n=ti,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ti=t);ni=e,yi(r)}(),li=0}}function bi(){var e=ui.now(),t=e-si;t>oi&&(ci-=t,si=e)}function yi(e){ri||(ii&&(ii=clearTimeout(ii)),e-li>24?(e<1/0&&(ii=setTimeout(vi,e-ui.now()-ci)),ai&&(ai=clearInterval(ai))):(ai||(si=ui.now(),ai=setInterval(bi,oi)),ri=1,di(vi)))}function xi(e,t,n){var r=new fi;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}fi.prototype=mi.prototype={constructor:fi,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?hi():+n)+(null==t?0:+t),this._next||ni===this||(ni?ni._next=this:ti=this,ni=this),this._call=e,this._time=n,yi()},stop:function(){this._call&&(this._call=null,this._time=1/0,yi())}};var wi=At("start","end","cancel","interrupt"),_i=[],ki=0,Si=1,Ci=2,Ai=3,Ti=4,Ii=5,Ei=6;function Ni(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=Si,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var c,u,d,h;if(n.state!==Si)return l();for(c in i)if((h=i[c]).name===n.name){if(h.state===Ai)return xi(o);h.state===Ti?(h.state=Ei,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=Ei,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(xi((function(){n.state===Ai&&(n.state=Ti,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Ci,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ci){for(n.state=Ai,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=Ii,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===Ii&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Ei,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=mi(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:wi,tween:_i,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ki})}function Mi(e,t){var n=Di(e,t);if(n.state>ki)throw new Error("too late; already scheduled");return n}function ji(e,t){var n=Di(e,t);if(n.state>Ai)throw new Error("too late; already running");return n}function Di(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ri(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>Ci&&n.state<Ii,n.state=Ei,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}var Pi,Oi=180/Math.PI,Li={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fi(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Oi,skewX:Math.atan(l)*Oi,scaleX:o,scaleY:s}}function zi(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Yr(e,i)},{i:l-2,x:Yr(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Yr(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Yr(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,l),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Yr(e,n)},{i:s-2,x:Yr(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Bi=zi((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Li:Fi(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Wi=zi((function(e){return null==e?Li:(Pi||(Pi=document.createElementNS("http://www.w3.org/2000/svg","g")),Pi.setAttribute("transform",e),(e=Pi.transform.baseVal.consolidate())?Fi((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Li)}),", ",")",")");function Vi(e,t){var n,r;return function(){var i=ji(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Ui(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=ji(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function Hi(e,t,n){var r=e._id;return e.each((function(){var e=ji(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Di(e,r).value[t]}}function qi(e,t){var n;return("number"===typeof t?Yr:t instanceof hr?Fr:(n=hr(t))?(t=n,Fr):Jr)(e,t)}function Gi(e){return function(){this.removeAttribute(e)}}function Yi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xi(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function Ki(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Zi(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttribute(e)}}function Ji(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function Qi(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function $i(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function ea(e,t){return function(){Mi(this,e).delay=+t.apply(this,arguments)}}function ta(e,t){return t=+t,function(){Mi(this,e).delay=t}}function na(e,t){return function(){ji(this,e).duration=+t.apply(this,arguments)}}function ra(e,t){return t=+t,function(){ji(this,e).duration=t}}var ia=Bn.prototype.constructor;function aa(e){return function(){this.style.removeProperty(e)}}var oa=0;function sa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function la(e){return Bn().transition(e)}function ca(){return++oa}var ua=Bn.prototype;function da(e){return e*e*e}function ha(e){return--e*e*e+1}function pa(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}sa.prototype=la.prototype={constructor:sa,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=It(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Ni(d[h],t,n,h,d,Di(s,n)));return new sa(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Mt(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=Di(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&Ni(h,t,n,m,p,f);a.push(p),o.push(l)}return new sa(a,o,t,n)},selectChild:ua.selectChild,selectChildren:ua.selectChildren,filter:function(e){"function"!==typeof e&&(e=jt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new sa(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<r;++s)o[s]=t[s];return new sa(o,this._parents,this._name,this._id)},selection:function(){return new ia(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ca(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Di(o,t);Ni(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new sa(r,this._parents,e,n)},call:ua.call,nodes:ua.nodes,node:ua.node,size:ua.size,empty:ua.empty,each:ua.each,on:function(e,t){var n=this._id;return arguments.length<2?Di(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Mi:ji;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=Yt(e),r="transform"===n?Wi:qi;return this.attrTween(e,"function"===typeof t?(n.local?Ji:Zi)(n,r,Hi(this,"attr."+e,t)):null==t?(n.local?Yi:Gi)(n):(n.local?Ki:Xi)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Yt(e);return this.tween(n,(r.local?Qi:$i)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Bi:qi;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=an(this,e),o=(this.style.removeProperty(e),an(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,aa(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=an(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=an(this,e)),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}(e,r,Hi(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var l=ji(this,e),c=l.on,u=null==l.value[o]?a||(a=aa(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=an(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Hi(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Di(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?Vi:Ui)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?ea:ta)(t,e)):Di(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?na:ra)(t,e)):Di(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){ji(this,e).ease=t}}(t,e)):Di(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;ji(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0===--i&&a()}};n.each((function(){var n=ji(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&a()}))},[Symbol.iterator]:ua[Symbol.iterator]};var fa={time:null,delay:0,duration:250,ease:pa};function ma(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Bn.prototype.interrupt=function(e){return this.each((function(){Ri(this,e)}))},Bn.prototype.transition=function(e){var t,n;e instanceof sa?(t=e._id,e=e._name):(t=ca(),(n=fa).time=hi(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Ni(o,e,t,c,s,n||ma(o,t));return new sa(r,this._parents,e,t)};var ga=[null];function va(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>Si&&n.name===t)return new sa([[e]],ga,t,+r);return null}const ba=e=>()=>e;function ya(e,t){let{sourceEvent:n,target:r,selection:i,mode:a,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function xa(e){e.preventDefault(),e.stopImmediatePropagation()}var wa={name:"drag"},_a={name:"space"},ka={name:"handle"},Sa={name:"center"};const{abs:Ca,max:Aa,min:Ta}=Math;function Ia(e){return[+e[0],+e[1]]}function Ea(e){return[Ia(e[0]),Ia(e[1])]}var Na={name:"x",handles:["w","e"].map(Fa),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ma={name:"y",handles:["n","s"].map(Fa),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},ja={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Fa),input:function(e){return null==e?null:Ea(e)},output:function(e){return e}},Da={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ra={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Pa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Oa={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},La={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Fa(e){return{type:e}}function za(e){return!e.ctrlKey&&!e.button}function Ba(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Wa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Va(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Ua(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Ha(){return Ya(Na)}function qa(){return Ya(Ma)}function Ga(){return Ya(ja)}function Ya(e){var t,n=Ba,r=za,i=Wa,a=!0,o=At("start","brush","end"),s=6;function l(t){var n=t.property("__brush",m).selectAll(".overlay").data([Fa("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Da.overlay).merge(n).each((function(){var e=Va(this).extent;Wn(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([Fa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Da.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return Da[e.type]})),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=Wn(this),t=Va(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-s/2:t[0][0]-s/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-s/2:t[0][1]-s/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+s:s})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+s:s}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new d(e,t,n):r}function d(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function h(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,o,s,l,d,h,p,f,m,g,v,b=this,y=n.target.__data__.type,x="selection"===(a&&n.metaKey?y="overlay":y)?wa:a&&n.altKey?Sa:ka,w=e===Ma?null:Oa[y],_=e===Na?null:La[y],k=Va(b),S=k.extent,C=k.selection,A=S[0][0],T=S[0][1],I=S[1][0],E=S[1][1],N=0,M=0,j=w&&_&&a&&n.shiftKey,D=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=ei(e,b)).point0=e.slice(),e.identifier=t,e}));Ri(b);var R=u(b,arguments,!0).beforestart();if("overlay"===y){C&&(m=!0);const t=[D[0],D[1]||D[0]];k.selection=C=[[i=e===Ma?A:Ta(t[0][0],t[1][0]),s=e===Na?T:Ta(t[0][1],t[1][1])],[d=e===Ma?I:Aa(t[0][0],t[1][0]),p=e===Na?E:Aa(t[0][1],t[1][1])]],D.length>1&&z(n)}else i=C[0][0],s=C[0][1],d=C[1][0],p=C[1][1];o=i,l=s,h=d,f=p;var P=Wn(b).attr("pointer-events","none"),O=P.selectAll(".overlay").attr("cursor",Da[y]);if(n.touches)R.moved=F,R.ended=B;else{var L=Wn(n.view).on("mousemove.brush",F,!0).on("mouseup.brush",B,!0);a&&L.on("keydown.brush",(function(e){switch(e.keyCode){case 16:j=w&&_;break;case 18:x===ka&&(w&&(d=h-N*w,i=o+N*w),_&&(p=f-M*_,s=l+M*_),x=Sa,z(e));break;case 32:x!==ka&&x!==Sa||(w<0?d=h-N:w>0&&(i=o-N),_<0?p=f-M:_>0&&(s=l-M),x=_a,O.attr("cursor",Da.selection),z(e));break;default:return}xa(e)}),!0).on("keyup.brush",(function(e){switch(e.keyCode){case 16:j&&(g=v=j=!1,z(e));break;case 18:x===Sa&&(w<0?d=h:w>0&&(i=o),_<0?p=f:_>0&&(s=l),x=ka,z(e));break;case 32:x===_a&&(e.altKey?(w&&(d=h-N*w,i=o+N*w),_&&(p=f-M*_,s=l+M*_),x=Sa):(w<0?d=h:w>0&&(i=o),_<0?p=f:_>0&&(s=l),x=ka),O.attr("cursor",Da[y]),z(e));break;default:return}xa(e)}),!0),Gn(n.view)}c.call(b),R.start(n,x.name)}function F(e){for(const t of e.changedTouches||[e])for(const e of D)e.identifier===t.identifier&&(e.cur=ei(t,b));if(j&&!g&&!v&&1===D.length){const e=D[0];Ca(e.cur[0]-e[0])>Ca(e.cur[1]-e[1])?v=!0:g=!0}for(const t of D)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);m=!0,xa(e),z(e)}function z(e){const t=D[0],n=t.point0;var r;switch(N=t[0]-n[0],M=t[1]-n[1],x){case _a:case wa:w&&(N=Aa(A-i,Ta(I-d,N)),o=i+N,h=d+N),_&&(M=Aa(T-s,Ta(E-p,M)),l=s+M,f=p+M);break;case ka:D[1]?(w&&(o=Aa(A,Ta(I,D[0][0])),h=Aa(A,Ta(I,D[1][0])),w=1),_&&(l=Aa(T,Ta(E,D[0][1])),f=Aa(T,Ta(E,D[1][1])),_=1)):(w<0?(N=Aa(A-i,Ta(I-i,N)),o=i+N,h=d):w>0&&(N=Aa(A-d,Ta(I-d,N)),o=i,h=d+N),_<0?(M=Aa(T-s,Ta(E-s,M)),l=s+M,f=p):_>0&&(M=Aa(T-p,Ta(E-p,M)),l=s,f=p+M));break;case Sa:w&&(o=Aa(A,Ta(I,i-N*w)),h=Aa(A,Ta(I,d+N*w))),_&&(l=Aa(T,Ta(E,s-M*_)),f=Aa(T,Ta(E,p+M*_)))}h<o&&(w*=-1,r=i,i=d,d=r,r=o,o=h,h=r,y in Ra&&O.attr("cursor",Da[y=Ra[y]])),f<l&&(_*=-1,r=s,s=p,p=r,r=l,l=f,f=r,y in Pa&&O.attr("cursor",Da[y=Pa[y]])),k.selection&&(C=k.selection),g&&(o=C[0][0],h=C[1][0]),v&&(l=C[0][1],f=C[1][1]),C[0][0]===o&&C[0][1]===l&&C[1][0]===h&&C[1][1]===f||(k.selection=[[o,l],[h,f]],c.call(b),R.brush(e,x.name))}function B(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else Yn(e.view,m),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),O.attr("cursor",Da.overlay),k.selection&&(C=k.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(C)&&(k.selection=null,c.call(b)),R.end(e,x.name)}}function p(e){u(this,arguments).moved(e)}function f(e){u(this,arguments).ended(e)}function m(){var t=this.__brush||{selection:null};return t.extent=Ea(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){u(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){u(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=u(t,arguments),a=r.selection,o=e.input("function"===typeof n?n.apply(this,arguments):n,r.extent),s=Qr(a,o);function l(e){r.selection=1===e&&null===o?null:s(e),c.call(t),i.brush()}return null!==a&&null!==o?l:l(1)})):t.each((function(){var t=this,i=arguments,a=t.__brush,o=e.input("function"===typeof n?n.apply(t,i):n,a.extent),s=u(t,i).beforestart();Ri(t),a.selection=null===o?null:o,c.call(t),s.start(r).brush(r).end(r)}))},l.clear=function(e,t){l.move(e,null,t)},d.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0===--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=Wn(this.that).datum();o.call(t,this.that,new ya(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:o}),i)}},l.extent=function(e){return arguments.length?(n="function"===typeof e?e:ba(Ea(e)),l):n},l.filter=function(e){return arguments.length?(r="function"===typeof e?e:ba(!!e),l):r},l.touchable=function(e){return arguments.length?(i="function"===typeof e?e:ba(!!e),l):i},l.handleSize=function(e){return arguments.length?(s=+e,l):s},l.keyModifiers=function(e){return arguments.length?(a=!!e,l):a},l.on=function(){var e=o.on.apply(o,arguments);return e===o?l:e},l}var Xa=Math.abs,Ka=Math.cos,Za=Math.sin,Ja=Math.PI,Qa=Ja/2,$a=2*Ja,eo=Math.max,to=1e-12;function no(e,t){return Array.from({length:t-e},((t,n)=>e+n))}function ro(){return oo(!1,!1)}function io(){return oo(!1,!0)}function ao(){return oo(!0,!1)}function oo(e,t){var n=0,r=null,i=null,a=null;function o(o){var s,l=o.length,c=new Array(l),u=no(0,l),d=new Array(l*l),h=new Array(l),p=0;o=Float64Array.from({length:l*l},t?(e,t)=>o[t%l][t/l|0]:(e,t)=>o[t/l|0][t%l]);for(let t=0;t<l;++t){let n=0;for(let r=0;r<l;++r)n+=o[t*l+r]+e*o[r*l+t];p+=c[t]=n}s=(p=eo(0,$a-n*l)/p)?n:$a/l;{let t=0;r&&u.sort(((e,t)=>r(c[e],c[t])));for(const n of u){const r=t;if(e){const e=no(1+~l,l).filter((e=>e<0?o[~e*l+n]:o[n*l+e]));i&&e.sort(((e,t)=>i(e<0?-o[~e*l+n]:o[n*l+e],t<0?-o[~t*l+n]:o[n*l+t])));for(const r of e)if(r<0){(d[~r*l+n]||(d[~r*l+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=o[~r*l+n]*p,value:o[~r*l+n]}}else{(d[n*l+r]||(d[n*l+r]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=o[n*l+r]*p,value:o[n*l+r]}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}else{const e=no(0,l).filter((e=>o[n*l+e]||o[e*l+n]));i&&e.sort(((e,t)=>i(o[n*l+e],o[n*l+t])));for(const r of e){let e;if(n<r?(e=d[n*l+r]||(d[n*l+r]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=o[n*l+r]*p,value:o[n*l+r]}):(e=d[r*l+n]||(d[r*l+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=o[n*l+r]*p,value:o[n*l+r]},n===r&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}t+=s}}return(d=Object.values(d)).groups=h,a?d.sort(a):d}return o.padAngle=function(e){return arguments.length?(n=eo(0,e),o):n},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(i=e,o):i},o.sortChords=function(e){return arguments.length?(null==e?a=null:(t=e,a=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,o):a&&a._;var t},o}var so,lo,co,uo,ho,po,fo,mo,go,vo,bo,yo,xo,wo,_o=n(7528);const ko=Math.PI,So=2*ko,Co=1e-6,Ao=So-Co;function To(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Io{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?To:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return To;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(so||(so=(0,_o.A)(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(lo||(lo=(0,_o.A)(["Z"]))))}lineTo(e,t){this._append(co||(co=(0,_o.A)(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(uo||(uo=(0,_o.A)(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(ho||(ho=(0,_o.A)(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(po||(po=(0,_o.A)(["M",",",""])),this._x1=e,this._y1=t);else if(d>Co)if(Math.abs(u*s-l*c)>Co&&i){let h=n-a,p=r-o,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),b=i*Math.tan((ko-Math.acos((f+d-m)/(2*g*v)))/2),y=b/v,x=b/g;Math.abs(y-1)>Co&&this._append(mo||(mo=(0,_o.A)(["L",",",""])),e+y*c,t+y*u),this._append(go||(go=(0,_o.A)(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*p),this._x1=e+x*s,this._y1=t+x*l)}else this._append(fo||(fo=(0,_o.A)(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(vo||(vo=(0,_o.A)(["M",",",""])),l,c):(Math.abs(this._x1-l)>Co||Math.abs(this._y1-c)>Co)&&this._append(bo||(bo=(0,_o.A)(["L",",",""])),l,c),n&&(d<0&&(d=d%So+So),d>Ao?this._append(yo||(yo=(0,_o.A)(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>Co&&this._append(xo||(xo=(0,_o.A)(["A",",",",0,",",",",",",",""])),n,n,+(d>=ko),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(wo||(wo=(0,_o.A)(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Eo(){return new Io}function No(){return new Io(+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:3))}Eo.prototype=Io.prototype;var Mo=Array.prototype.slice;function jo(e){return function(){return e}}function Do(e){return e.source}function Ro(e){return e.target}function Po(e){return e.radius}function Oo(e){return e.startAngle}function Lo(e){return e.endAngle}function Fo(){return 0}function zo(){return 10}function Bo(e){var t=Do,n=Ro,r=Po,i=Po,a=Oo,o=Lo,s=Fo,l=null;function c(){var c,u=t.apply(this,arguments),d=n.apply(this,arguments),h=s.apply(this,arguments)/2,p=Mo.call(arguments),f=+r.apply(this,(p[0]=u,p)),m=a.apply(this,p)-Qa,g=o.apply(this,p)-Qa,v=+i.apply(this,(p[0]=d,p)),b=a.apply(this,p)-Qa,y=o.apply(this,p)-Qa;if(l||(l=c=Eo()),h>to&&(Xa(g-m)>2*h+to?g>m?(m+=h,g-=h):(m-=h,g+=h):m=g=(m+g)/2,Xa(y-b)>2*h+to?y>b?(b+=h,y-=h):(b-=h,y+=h):b=y=(b+y)/2),l.moveTo(f*Ka(m),f*Za(m)),l.arc(0,0,f,m,g),m!==b||g!==y)if(e){var x=v-+e.apply(this,arguments),w=(b+y)/2;l.quadraticCurveTo(0,0,x*Ka(b),x*Za(b)),l.lineTo(v*Ka(w),v*Za(w)),l.lineTo(x*Ka(y),x*Za(y))}else l.quadraticCurveTo(0,0,v*Ka(b),v*Za(b)),l.arc(0,0,v,b,y);if(l.quadraticCurveTo(0,0,f*Ka(m),f*Za(m)),l.closePath(),c)return l=null,c+""||null}return e&&(c.headRadius=function(t){return arguments.length?(e="function"===typeof t?t:jo(+t),c):e}),c.radius=function(e){return arguments.length?(r=i="function"===typeof e?e:jo(+e),c):r},c.sourceRadius=function(e){return arguments.length?(r="function"===typeof e?e:jo(+e),c):r},c.targetRadius=function(e){return arguments.length?(i="function"===typeof e?e:jo(+e),c):i},c.startAngle=function(e){return arguments.length?(a="function"===typeof e?e:jo(+e),c):a},c.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:jo(+e),c):o},c.padAngle=function(e){return arguments.length?(s="function"===typeof e?e:jo(+e),c):s},c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}function Wo(){return Bo()}function Vo(){return Bo(zo)}const Uo=Math.PI/180,Ho=180/Math.PI,qo=.96422,Go=1,Yo=.82521,Xo=4/29,Ko=6/29,Zo=3*Ko*Ko,Jo=Ko*Ko*Ko;function Qo(e){if(e instanceof ts)return new ts(e.l,e.a,e.b,e.opacity);if(e instanceof cs)return us(e);e instanceof vr||(e=mr(e));var t,n,r=as(e.r),i=as(e.g),a=as(e.b),o=ns((.2225045*r+.7168786*i+.0606169*a)/Go);return r===i&&i===a?t=n=o:(t=ns((.4360747*r+.3850649*i+.1430804*a)/qo),n=ns((.0139322*r+.0971045*i+.7141733*a)/Yo)),new ts(116*o-16,500*(t-o),200*(o-n),e.opacity)}function $o(e,t){return new ts(e,0,0,null==t?1:t)}function es(e,t,n,r){return 1===arguments.length?Qo(e):new ts(e,t,n,null==r?1:r)}function ts(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function ns(e){return e>Jo?Math.pow(e,1/3):e/Zo+Xo}function rs(e){return e>Ko?e*e*e:Zo*(e-Xo)}function is(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function as(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function os(e){if(e instanceof cs)return new cs(e.h,e.c,e.l,e.opacity);if(e instanceof ts||(e=Qo(e)),0===e.a&&0===e.b)return new cs(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ho;return new cs(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ss(e,t,n,r){return 1===arguments.length?os(e):new cs(n,t,e,null==r?1:r)}function ls(e,t,n,r){return 1===arguments.length?os(e):new cs(e,t,n,null==r?1:r)}function cs(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function us(e){if(isNaN(e.h))return new ts(e.l,0,0,e.opacity);var t=e.h*Uo;return new ts(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Xn(ts,es,Kn(Zn,{brighter(e){return new ts(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new ts(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new vr(is(3.1338561*(t=qo*rs(t))-1.6168667*(e=Go*rs(e))-.4906146*(n=Yo*rs(n))),is(-.9787684*t+1.9161415*e+.033454*n),is(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Xn(cs,ls,Kn(Zn,{brighter(e){return new cs(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new cs(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return us(this).rgb()}}));var ds=-.14861,hs=1.78277,ps=-.29227,fs=-.90649,ms=1.97294,gs=ms*fs,vs=ms*hs,bs=hs*ps-fs*ds;function ys(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof xs)return new xs(e.h,e.s,e.l,e.opacity);e instanceof vr||(e=mr(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(bs*r+gs*t-vs*n)/(bs+gs-vs),a=r-i,o=(ms*(n-i)-ps*a)/fs,s=Math.sqrt(o*o+a*a)/(ms*i*(1-i)),l=s?Math.atan2(o,a)*Ho-120:NaN;return new xs(l<0?l+360:l,s,i,e.opacity)}(e):new xs(e,t,n,null==r?1:r)}function xs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xn(xs,ys,Kn(Zn,{brighter(e){return e=null==e?Qn:Math.pow(Qn,e),new xs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Jn:Math.pow(Jn,e),new xs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Uo,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new vr(255*(t+n*(ds*r+hs*i)),255*(t+n*(ps*r+fs*i)),255*(t+n*(ms*r)),this.opacity)}}));var ws=Array.prototype.slice;function _s(e,t){return e-t}const ks=e=>()=>e;function Ss(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Cs(e,t[r]))return n;return 0}function Cs(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],c=l[0],u=l[1],d=e[s],h=d[0],p=d[1];if(As(l,d,t))return 0;u>r!==p>r&&n<(h-c)*(r-u)/(p-u)+c&&(i=-i)}return i}function As(e,t,n){var r,i,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],o=t[r],i<=a&&a<=o||o<=a&&a<=i)}function Ts(){}var Is=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Es(){var e=1,t=1,n=he,r=s;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(_s);else{const n=I(e,Ns);for(t=le(...de(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map((t=>a(e,t)))}function a(n,i){const a=null==i?NaN:+i;if(isNaN(a))throw new Error("invalid value: ".concat(i));var s=[],l=[];return function(n,r,i){var a,s,l,c,u,d,h=new Array,p=new Array;a=s=-1,c=Ms(n[0],r),Is[c<<1].forEach(f);for(;++a<e-1;)l=c,c=Ms(n[a+1],r),Is[l|c<<1].forEach(f);Is[c|0].forEach(f);for(;++s<t-1;){for(a=-1,c=Ms(n[s*e+e],r),u=Ms(n[s*e],r),Is[c<<1|u<<2].forEach(f);++a<e-1;)l=c,c=Ms(n[s*e+e+a+1],r),d=u,u=Ms(n[s*e+a+1],r),Is[l|c<<1|u<<2|d<<3].forEach(f);Is[c|u<<3].forEach(f)}a=-1,u=n[s*e]>=r,Is[u<<2].forEach(f);for(;++a<e-1;)d=u,u=Ms(n[s*e+a+1],r),Is[u<<2|d<<3].forEach(f);function f(e){var t,n,r=[e[0][0]+a,e[0][1]+s],l=[e[1][0]+a,e[1][1]+s],c=o(r),u=o(l);(t=p[c])?(n=h[u])?(delete p[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=p[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete p[t.end],t.ring.push(l),p[t.end=u]=t):(t=h[u])?(n=p[c])?(delete h[t.start],delete p[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=p[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=c]=t):h[c]=p[u]={start:c,end:u,ring:[r,l]}}Is[u<<3].forEach(f)}(n,a,(function(e){r(e,n,a),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?s.push([e]):l.push(e)})),l.forEach((function(e){for(var t,n=0,r=s.length;n<r;++n)if(-1!==Ss((t=s[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:s}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,r,i){n.forEach((function(n){var a=n[0],o=n[1],s=0|a,l=0|o,c=js(r[l*e+s]);a>0&&a<e&&s===a&&(n[0]=Ds(a,js(r[l*e+s-1]),c,i)),o>0&&o<t&&l===o&&(n[1]=Ds(o,js(r[(l-1)*e+s]),c,i))}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),a=Math.floor(n[1]);if(!(r>=0&&a>=0))throw new Error("invalid size");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?ks(ws.call(e)):ks(e),i):n},i.smooth=function(e){return arguments.length?(r=e?s:Ts,i):r===s},i}function Ns(e){return isFinite(e)?e:NaN}function Ms(e,t){return null!=e&&+e>=t}function js(e){return null==e||isNaN(e=+e)?-1/0:e}function Ds(e,t,n,r){const i=r-t,a=n-t,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?e:e+o-.5}function Rs(e){return e[0]}function Ps(e){return e[1]}function Os(){return 1}function Ls(){var e=Rs,t=Ps,n=Os,r=960,i=500,a=20,o=2,s=3*a,l=r+2*s>>o,c=i+2*s>>o,u=ks(20);function d(r){var i=new Float32Array(l*c),u=Math.pow(2,-o),d=-1;for(const a of r){var h=(e(a,++d,r)+s)*u,p=(t(a,d,r)+s)*u,m=+n(a,d,r);if(m&&h>=0&&h<l&&p>=0&&p<c){var g=Math.floor(h),v=Math.floor(p),b=h-g-.5,y=p-v-.5;i[g+v*l]+=(1-b)*(1-y)*m,i[g+1+v*l]+=b*(1-y)*m,i[g+1+(v+1)*l]+=b*y*m,i[g+(v+1)*l]+=(1-b)*y*m}}return f({data:i,width:l,height:c},a*u),i}function h(e){var t=d(e),n=u(t),r=Math.pow(2,2*o);return Array.isArray(n)||(n=le(Number.MIN_VALUE,fe(t)/r,n)),Es().size([l,c]).thresholds(n.map((e=>e*r)))(t).map(((e,t)=>(e.value=+n[t],p(e))))}function p(e){return e.coordinates.forEach(m),e}function m(e){e.forEach(g)}function g(e){e.forEach(v)}function v(e){e[0]=e[0]*Math.pow(2,o)-s,e[1]=e[1]*Math.pow(2,o)-s}function b(){return l=r+2*(s=3*a)>>o,c=i+2*s>>o,h}return h.contours=function(e){var t=d(e),n=Es().size([l,c]),r=Math.pow(2,2*o),i=e=>{e=+e;var i=p(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(i,"max",{get:()=>fe(t)/r}),i},h.x=function(t){return arguments.length?(e="function"===typeof t?t:ks(+t),h):e},h.y=function(e){return arguments.length?(t="function"===typeof e?e:ks(+e),h):t},h.weight=function(e){return arguments.length?(n="function"===typeof e?e:ks(+e),h):n},h.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,b()},h.cellSize=function(e){if(!arguments.length)return 1<<o;if(!((e=+e)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(e)/Math.LN2),b()},h.thresholds=function(e){return arguments.length?(u="function"===typeof e?e:Array.isArray(e)?ks(ws.call(e)):ks(e),h):u},h.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*e*e+1)-1)/2,b()},h}const Fs=134217729,zs=33306690738754706e-32;function Bs(e,t,n,r,i){let a,o,s,l,c=t[0],u=r[0],d=0,h=0;u>c===u>-c?(a=c,c=t[++d]):(a=u,u=r[++h]);let p=0;if(d<e&&h<n)for(u>c===u>-c?(o=c+a,s=a-(o-c),c=t[++d]):(o=u+a,s=a-(o-u),u=r[++h]),a=o,0!==s&&(i[p++]=s);d<e&&h<n;)u>c===u>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++d]):(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++h]),a=o,0!==s&&(i[p++]=s);for(;d<e;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=t[++d],a=o,0!==s&&(i[p++]=s);for(;h<n;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++h],a=o,0!==s&&(i[p++]=s);return 0===a&&0!==p||(i[p++]=a),p}function Ws(e){return new Float64Array(e)}const Vs=22204460492503146e-32,Us=11093356479670487e-47,Hs=Ws(4),qs=Ws(8),Gs=Ws(12),Ys=Ws(16),Xs=Ws(4);function Ks(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s,c=Math.abs(o+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,i,a,o){let s,l,c,u,d,h,p,f,m,g,v,b,y,x,w,_,k,S;const C=e-i,A=n-i,T=t-a,I=r-a;x=C*I,h=Fs*C,p=h-(h-C),f=C-p,h=Fs*I,m=h-(h-I),g=I-m,w=f*g-(x-p*m-f*m-p*g),_=T*A,h=Fs*T,p=h-(h-T),f=T-p,h=Fs*A,m=h-(h-A),g=A-m,k=f*g-(_-p*m-f*m-p*g),v=w-k,d=w-v,Hs[0]=w-(v+d)+(d-k),b=x+v,d=b-x,y=x-(b-d)+(v-d),v=y-_,d=y-v,Hs[1]=y-(v+d)+(d-_),S=b+v,d=S-b,Hs[2]=b-(S-d)+(v-d),Hs[3]=S;let E=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,Hs),N=Vs*o;if(E>=N||-E>=N)return E;if(d=e-C,s=e-(C+d)+(d-i),d=n-A,c=n-(A+d)+(d-i),d=t-T,l=t-(T+d)+(d-a),d=r-I,u=r-(I+d)+(d-a),0===s&&0===l&&0===c&&0===u)return E;if(N=Us*o+zs*Math.abs(E),E+=C*u+I*s-(T*c+A*l),E>=N||-E>=N)return E;x=s*I,h=Fs*s,p=h-(h-s),f=s-p,h=Fs*I,m=h-(h-I),g=I-m,w=f*g-(x-p*m-f*m-p*g),_=l*A,h=Fs*l,p=h-(h-l),f=l-p,h=Fs*A,m=h-(h-A),g=A-m,k=f*g-(_-p*m-f*m-p*g),v=w-k,d=w-v,Xs[0]=w-(v+d)+(d-k),b=x+v,d=b-x,y=x-(b-d)+(v-d),v=y-_,d=y-v,Xs[1]=y-(v+d)+(d-_),S=b+v,d=S-b,Xs[2]=b-(S-d)+(v-d),Xs[3]=S;const M=Bs(4,Hs,4,Xs,qs);x=C*u,h=Fs*C,p=h-(h-C),f=C-p,h=Fs*u,m=h-(h-u),g=u-m,w=f*g-(x-p*m-f*m-p*g),_=T*c,h=Fs*T,p=h-(h-T),f=T-p,h=Fs*c,m=h-(h-c),g=c-m,k=f*g-(_-p*m-f*m-p*g),v=w-k,d=w-v,Xs[0]=w-(v+d)+(d-k),b=x+v,d=b-x,y=x-(b-d)+(v-d),v=y-_,d=y-v,Xs[1]=y-(v+d)+(d-_),S=b+v,d=S-b,Xs[2]=b-(S-d)+(v-d),Xs[3]=S;const j=Bs(M,qs,4,Xs,Gs);x=s*u,h=Fs*s,p=h-(h-s),f=s-p,h=Fs*u,m=h-(h-u),g=u-m,w=f*g-(x-p*m-f*m-p*g),_=l*c,h=Fs*l,p=h-(h-l),f=l-p,h=Fs*c,m=h-(h-c),g=c-m,k=f*g-(_-p*m-f*m-p*g),v=w-k,d=w-v,Xs[0]=w-(v+d)+(d-k),b=x+v,d=b-x,y=x-(b-d)+(v-d),v=y-_,d=y-v,Xs[1]=y-(v+d)+(d-_),S=b+v,d=S-b,Xs[2]=b-(S-d)+(v-d),Xs[3]=S;const D=Bs(j,Gs,4,Xs,Ys);return Ys[D-1]}(e,t,n,r,i,a,c)}Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(8),Ws(8),Ws(8),Ws(4),Ws(8),Ws(8),Ws(8),Ws(12);Ws(192),Ws(192);Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(8),Ws(8),Ws(8),Ws(8),Ws(8),Ws(8),Ws(8),Ws(8),Ws(8),Ws(4),Ws(4),Ws(4),Ws(8),Ws(16),Ws(16),Ws(16),Ws(32),Ws(32),Ws(48),Ws(64);Ws(1152),Ws(1152);Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(4),Ws(24),Ws(24),Ws(24),Ws(24),Ws(24),Ws(24),Ws(24),Ws(24),Ws(24),Ws(24),Ws(1152),Ws(1152),Ws(1152),Ws(1152),Ws(1152),Ws(2304),Ws(2304),Ws(3456),Ws(5760),Ws(8),Ws(8),Ws(8),Ws(16),Ws(24),Ws(48),Ws(48),Ws(96),Ws(192),Ws(384),Ws(384),Ws(384),Ws(768);Ws(96),Ws(96),Ws(96),Ws(1152);const Zs=Math.pow(2,-52),Js=new Uint32Array(512);class Qs{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:il,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:al;const r=e.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){const r=e[a];i[2*a]=t(r),i[2*a+1]=n(r)}return new Qs(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,a=e.length>>1;let o=1/0,s=1/0,l=-1/0,c=-1/0;for(let S=0;S<a;S++){const t=e[2*S],n=e[2*S+1];t<o&&(o=t),n<s&&(s=n),t>l&&(l=t),n>c&&(c=n),this._ids[S]=S}const u=(o+l)/2,d=(s+c)/2;let h,p,f;for(let S=0,C=1/0;S<a;S++){const t=$s(u,d,e[2*S],e[2*S+1]);t<C&&(h=S,C=t)}const m=e[2*h],g=e[2*h+1];for(let S=0,C=1/0;S<a;S++){if(S===h)continue;const t=$s(m,g,e[2*S],e[2*S+1]);t<C&&t>0&&(p=S,C=t)}let v=e[2*p],b=e[2*p+1],y=1/0;for(let S=0;S<a;S++){if(S===h||S===p)continue;const t=tl(m,g,v,b,e[2*S],e[2*S+1]);t<y&&(f=S,y=t)}let x=e[2*f],w=e[2*f+1];if(y===1/0){for(let r=0;r<a;r++)this._dists[r]=e[2*r]-e[0]||e[2*r+1]-e[1];nl(this._ids,this._dists,0,a-1);const t=new Uint32Array(a);let n=0;for(let e=0,r=-1/0;e<a;e++){const i=this._ids[e],a=this._dists[i];a>r&&(t[n++]=i,r=a)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ks(m,g,v,b,x,w)<0){const e=p,t=v,n=b;p=f,v=x,b=w,f=e,x=t,w=n}const _=function(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,c=a-t,u=o*o+s*s,d=l*l+c*c,h=.5/(o*c-s*l),p=e+(c*u-s*d)*h,f=t+(o*d-l*u)*h;return{x:p,y:f}}(m,g,v,b,x,w);this._cx=_.x,this._cy=_.y;for(let S=0;S<a;S++)this._dists[S]=$s(e[2*S],e[2*S+1],_.x,_.y);nl(this._ids,this._dists,0,a-1),this._hullStart=h;let k=3;n[h]=t[f]=p,n[p]=t[h]=f,n[f]=t[p]=h,r[h]=0,r[p]=1,r[f]=2,i.fill(-1),i[this._hashKey(m,g)]=h,i[this._hashKey(v,b)]=p,i[this._hashKey(x,w)]=f,this.trianglesLen=0,this._addTriangle(h,p,f,-1,-1,-1);for(let S,C,A=0;A<this._ids.length;A++){const a=this._ids[A],o=e[2*a],s=e[2*a+1];if(A>0&&Math.abs(o-S)<=Zs&&Math.abs(s-C)<=Zs)continue;if(S=o,C=s,a===h||a===p||a===f)continue;let l=0;for(let e=0,t=this._hashKey(o,s);e<this._hashSize&&(l=i[(t+e)%this._hashSize],-1===l||l===n[l]);e++);l=t[l];let c,u=l;for(;c=n[u],Ks(o,s,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0;)if(u=c,u===l){u=-1;break}if(-1===u)continue;let d=this._addTriangle(u,a,n[u],-1,-1,r[u]);r[a]=this._legalize(d+2),r[u]=d,k++;let m=n[u];for(;c=n[m],Ks(o,s,e[2*m],e[2*m+1],e[2*c],e[2*c+1])<0;)d=this._addTriangle(m,a,c,r[a],-1,r[m]),r[a]=this._legalize(d+2),n[m]=m,k--,m=c;if(u===l)for(;c=t[u],Ks(o,s,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0;)d=this._addTriangle(c,a,u,-1,r[u],r[c]),this._legalize(d+2),r[c]=d,n[u]=u,k--,u=c;this._hullStart=t[a]=u,n[u]=t[m]=a,n[a]=m,i[this._hashKey(o,s)]=a,i[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(k);for(let S=0,C=this._hullStart;S<k;S++)this.hull[S]=C,C=n[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,a=0;for(;;){const o=n[e],s=e-e%3;if(a=s+(e+2)%3,-1===o){if(0===i)break;e=Js[--i];continue}const l=o-o%3,c=s+(e+1)%3,u=l+(o+2)%3,d=t[a],h=t[e],p=t[c],f=t[u];if(el(r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1],r[2*f],r[2*f+1])){t[e]=f,t[o]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(o,n[a]),this._link(a,u);const s=l+(o+1)%3;i<Js.length&&(Js[i++]=s)}else{if(0===i)break;e=Js[--i]}}return a}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,a){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}function $s(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function el(e,t,n,r,i,a,o,s){const l=e-o,c=t-s,u=n-o,d=r-s,h=i-o,p=a-s,f=u*u+d*d,m=h*h+p*p;return l*(d*m-f*p)-c*(u*m-f*h)+(l*l+c*c)*(u*p-d*h)<0}function tl(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,c=a-t,u=o*o+s*s,d=l*l+c*c,h=.5/(o*c-s*l),p=(c*u-s*d)*h,f=(o*d-l*u)*h;return p*p+f*f}function nl(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],a=t[r];let o=i-1;for(;o>=n&&t[e[o]]>a;)e[o+1]=e[o--];e[o+1]=r}else{let i=n+1,a=r;rl(e,n+r>>1,i),t[e[n]]>t[e[r]]&&rl(e,n,r),t[e[i]]>t[e[r]]&&rl(e,i,r),t[e[n]]>t[e[i]]&&rl(e,n,i);const o=e[i],s=t[o];for(;;){do{i++}while(t[e[i]]<s);do{a--}while(t[e[a]]>s);if(a<i)break;rl(e,i,a)}e[n+1]=e[a],e[a]=o,r-i+1>=a-n?(nl(e,t,i,r),nl(e,t,n,a-1)):(nl(e,t,n,a-1),nl(e,t,i,r))}}function rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function il(e){return e[0]}function al(e){return e[1]}const ol=1e-6;class sl{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>ol||Math.abs(this._y1-i)>ol)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}rect(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}value(){return this._||null}}class ll{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class cl{constructor(e){let[t,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(t=+t))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,a;const o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let f,m,g=0,v=0,b=n.length;g<b;g+=3,v+=2){const r=2*n[g],s=2*n[g+1],l=2*n[g+2],c=e[r],u=e[r+1],d=e[s],h=e[s+1],p=e[l],b=e[l+1],y=d-c,x=h-u,w=p-c,_=b-u,k=2*(y*_-x*w);if(Math.abs(k)<1e-9){if(void 0===i){i=a=0;for(const n of t)i+=e[2*n],a+=e[2*n+1];i/=t.length,a/=t.length}const n=1e9*Math.sign((i-c)*_-(a-u)*w);f=(c+p)/2-n*_,m=(u+b)/2+n*w}else{const e=1/k,t=y*y+x*x,n=w*w+_*_;f=c+(_*t-x*n)*e,m=u+(y*n-w*t)*e}o[v]=f,o[v+1]=m}let s,l,c,u=t[t.length-1],d=4*u,h=e[2*u],p=e[2*u+1];r.fill(0);for(let f=0;f<t.length;++f)u=t[f],s=d,l=h,c=p,d=4*u,h=e[2*u],p=e[2*u+1],r[s+2]=r[d]=c-p,r[s+3]=r[d+1]=h-l}render(e){const t=null==e?e=new sl:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:o}=this;if(i.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(t/3),o=a[r],s=a[r+1],l=a[i],u=a[i+1];this._renderSegment(o,s,l,u,e)}let s,l=i[i.length-1];for(let c=0;c<i.length;++c){s=l,l=i[c];const t=2*Math.floor(r[l]/3),n=a[t],u=a[t+1],d=4*s,h=this._project(n,u,o[d+2],o[d+3]);h&&this._renderSegment(n,u,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new sl:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new sl:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new ll;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let a;const o=this._regioncode(e,t),s=this._regioncode(n,r);0===o&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,o,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let a=0,o=e.length;a<o;a+=2)if(t[r]===e[a]&&t[r+1]===e[a+1]&&t[(r+2)%i]===e[(a+o-2)%o]&&t[(r+3)%i]===e[(a+o-1)%o]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[e];if(-1===a)return null;const o=[];let s=a;do{const n=Math.floor(s/3);if(o.push(t[2*n],t[2*n+1]),s=s%3===2?s-2:s+1,i[s]!==e)break;s=r[s]}while(s!==a&&-1!==s);return o}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,a,o,s=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),d=0;for(let h=0;h<n;h+=2)if(r=l,i=c,l=t[h],c=t[h+1],a=u,u=this._regioncode(l,c),0===a&&0===u)o=d,d=0,s?s.push(l,c):s=[l,c];else{let t,n,h,p,f;if(0===a){if(null===(t=this._clipSegment(r,i,l,c,a,u)))continue;[n,h,p,f]=t}else{if(null===(t=this._clipSegment(l,c,r,i,u,a)))continue;[p,f,n,h]=t,o=d,d=this._edgecode(n,h),o&&d&&this._edge(e,o,d,s,s.length),s?s.push(n,h):s=[n,h]}o=d,d=this._edgecode(p,f),o&&d&&this._edge(e,o,d,s,s.length),s?s.push(p,f):s=[p,f]}if(s)o=d,d=this._edgecode(s[0],s[1]),o&&d&&this._edge(e,o,d,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,t,n,r,i,a){const o=i<a;for(o&&([e,t,n,r,i,a]=[n,r,e,t,a,i]);;){if(0===i&&0===a)return o?[n,r,e,t]:[e,t,n,r];if(i&a)return null;let s,l,c=i||a;8&c?(s=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax):4&c?(s=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin):2&c?(l=t+(r-t)*(this.xmax-e)/(n-e),s=this.xmax):(l=t+(r-t)*(this.xmin-e)/(n-e),s=this.xmin),i?(e=s,t=l,i=this._regioncode(e,t)):(n=s,r=l,a=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,a){let o,s=Array.from(t);if((o=this._project(s[0],s[1],n,r))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],i,a))&&s.push(o[0],o[1]),s=this._clipFinite(e,s))for(let l,c=0,u=s.length,d=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)l=d,d=this._edgecode(s[c],s[c+1]),l&&d&&(c=this._edge(e,l,d,s,c),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,n,r,i){for(;t!==n;){let n,a;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,a=this.ymin}r[i]===n&&r[i+1]===a||!this.contains(e,n,a)||(r.splice(i,0,n,a),i+=2)}return i}_project(e,t,n,r){let i,a,o,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(o=this.ymin,a=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(o=this.ymax,a=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(a=this.xmax,o=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(a=this.xmin,o=t+(s=i)*r)}return[a,o]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const ul=2*Math.PI,dl=Math.pow;function hl(e){return e[0]}function pl(e){return e[1]}function fl(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class ml{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pl,r=arguments.length>3?arguments[3]:void 0;return new ml("length"in e?function(e,t,n,r){const i=e.length,a=new Float64Array(2*i);for(let o=0;o<i;++o){const i=e[o];a[2*o]=t.call(r,i,o,e),a[2*o+1]=n.call(r,i,o,e)}return a}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new Qs(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const e=2*t[r],i=2*t[r+1],a=2*t[r+2];if((n[a]-n[e])*(n[i+1]-n[e+1])-(n[i]-n[e])*(n[a+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let a=0,o=t.length/2;a<o;++a){const e=fl(t[2*a],t[2*a+1],i);t[2*a]=e[0],t[2*a+1]=e[1]}this._delaunator=new Qs(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let s=0,l=n.length;s<l;++s){const e=i[s%3===2?s-2:s+1];-1!==n[s]&&-1!==a[e]||(a[e]=s)}for(let s=0,l=r.length;s<l;++s)o[r[s]]=s;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,2===r.length&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new cl(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:o}=this;if(o){const t=o.indexOf(e);return t>0&&(yield o[t-1]),void(t<o.length-1&&(yield o[t+1]))}const s=t[e];if(-1===s)return;let l=s,c=-1;do{if(yield c=a[l],l=l%3===2?l-2:l+1,a[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==s)}find(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:a,halfedges:o,triangles:s,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=dl(t-l[2*e],2)+dl(n-l[2*e+1],2);const d=r[e];let h=d;do{let r=s[h];const d=dl(t-l[2*r],2)+dl(n-l[2*r+1],2);if(d<u&&(u=d,c=r),h=h%3===2?h-2:h+1,s[h]!==e)break;if(h=o[h],-1===h){if(h=i[(a[e]+1)%i.length],h!==r&&dl(t-l[2*h],2)+dl(n-l[2*h+1],2)<u)return h;break}}while(h!==d);return c}render(e){const t=null==e?e=new sl:void 0,{points:n,halfedges:r,triangles:i}=this;for(let a=0,o=r.length;a<o;++a){const t=r[a];if(t<a)continue;const o=2*i[a],s=2*i[t];e.moveTo(n[o],n[o+1]),e.lineTo(n[s],n[s+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"===typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;const n=null==e?e=new sl:void 0,{points:r}=this;for(let i=0,a=r.length;i<a;i+=2){const n=r[i],a=r[i+1];e.moveTo(n+t,a),e.arc(n,a,t,0,ul)}return n&&n.value()}renderHull(e){const t=null==e?e=new sl:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(let o=1;o<a;++o){const t=2*n[o];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new ll;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new sl:void 0,{points:r,triangles:i}=this,a=2*i[e*=3],o=2*i[e+1],s=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new ll;return this.renderTriangle(e,t),t.value()}}const gl=e=>()=>e;function vl(e,t){let{sourceEvent:n,subject:r,target:i,identifier:a,active:o,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function bl(e){return!e.ctrlKey&&!e.button}function yl(){return this.parentNode}function xl(e,t){return null==t?{x:e.x,y:e.y}:t}function wl(){return navigator.maxTouchPoints||"ontouchstart"in this}function _l(){var e,t,n,r,i=bl,a=yl,o=xl,s=wl,l={},c=At("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,Vn).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(o,s){if(!r&&i.call(this,o,s)){var l=y(this,a.call(this,o,s),o,s,"mouse");l&&(Wn(o.view).on("mousemove.drag",f,Un).on("mouseup.drag",m,Un),Gn(o.view),Hn(o),n=!1,e=o.clientX,t=o.clientY,l("start",o))}}function f(r){if(qn(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>d}l.mouse("drag",r)}function m(e){Wn(e.view).on("mousemove.drag mouseup.drag",null),Yn(e.view,n),qn(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,s=a.call(this,e,t),l=o.length;for(n=0;n<l;++n)(r=y(this,s,e,t,o[n].identifier,o[n]))&&(Hn(e),r("start",e,o[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(qn(e),n("drag",e,r[t]))}function b(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=l[i[t].identifier])&&(Hn(e),n("end",e,i[t]))}function y(e,t,n,r,i,a){var s,d,p,f=c.copy(),m=ei(a||n,t);if(null!=(p=o.call(e,new vl("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return s=p.x-m[0]||0,d=p.y-m[1]||0,function n(a,o,c){var g,v=m;switch(a){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":m=ei(c||o,t),g=u}f.call(a,e,new vl(a,{sourceEvent:o,subject:p,target:h,identifier:i,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:f}),r)}}return h.filter=function(e){return arguments.length?(i="function"===typeof e?e:gl(!!e),h):i},h.container=function(e){return arguments.length?(a="function"===typeof e?e:gl(e),h):a},h.subject=function(e){return arguments.length?(o="function"===typeof e?e:gl(e),h):o},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:gl(!!e),h):s},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}vl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var kl={},Sl={},Cl=34,Al=10,Tl=13;function Il(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function El(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Nl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ml(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+Nl(-t,6):t>9999?"+"+Nl(t,6):Nl(t,4))+"-"+Nl(e.getUTCMonth()+1,2)+"-"+Nl(e.getUTCDate(),2)+(a?"T"+Nl(n,2)+":"+Nl(r,2)+":"+Nl(i,2)+"."+Nl(a,3)+"Z":i?"T"+Nl(n,2)+":"+Nl(r,2)+":"+Nl(i,2)+"Z":r||n?"T"+Nl(n,2)+":"+Nl(r,2)+"Z":"")}function jl(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,s=0,l=a<=0,c=!1;function u(){if(l)return Sl;if(c)return c=!1,kl;var t,r,i=o;if(e.charCodeAt(i)===Cl){for(;o++<a&&e.charCodeAt(o)!==Cl||e.charCodeAt(++o)===Cl;);return(t=o)>=a?l=!0:(r=e.charCodeAt(o++))===Al?c=!0:r===Tl&&(c=!0,e.charCodeAt(o)===Al&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if((r=e.charCodeAt(t=o++))===Al)c=!0;else if(r===Tl)c=!0,e.charCodeAt(o)===Al&&++o;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,a)}for(e.charCodeAt(a-1)===Al&&--a,e.charCodeAt(a-1)===Tl&&--a;(r=u())!==Sl;){for(var d=[];r!==kl&&r!==Sl;)d.push(r),r=u();t&&null==(d=t(d,s++))||i.push(d)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?Ml(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Il(e);return function(r,i){return t(n(r),i,e)}}(e,t):Il(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=El(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=El(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}}var Dl=jl(","),Rl=Dl.parse,Pl=Dl.parseRows,Ol=Dl.format,Ll=Dl.formatBody,Fl=Dl.formatRows,zl=Dl.formatRow,Bl=Dl.formatValue,Wl=jl("\t"),Vl=Wl.parse,Ul=Wl.parseRows,Hl=Wl.format,ql=Wl.formatBody,Gl=Wl.formatRows,Yl=Wl.formatRow,Xl=Wl.formatValue;function Kl(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Zl&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}const Zl=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Jl=e=>+e;function Ql(e){return e*e}function $l(e){return e*(2-e)}function ec(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var tc=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),nc=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),rc=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),ic=Math.PI,ac=ic/2;function oc(e){return 1===+e?1:1-Math.cos(e*ac)}function sc(e){return Math.sin(e*ac)}function lc(e){return(1-Math.cos(ic*e))/2}function cc(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function uc(e){return cc(1-+e)}function dc(e){return 1-cc(e)}function hc(e){return((e*=2)<=1?cc(1-e):2-cc(e-1))/2}function pc(e){return 1-Math.sqrt(1-e*e)}function fc(e){return Math.sqrt(1- --e*e)}function mc(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var gc=4/11,vc=6/11,bc=8/11,yc=3/4,xc=9/11,wc=10/11,_c=15/16,kc=21/22,Sc=63/64,Cc=1/gc/gc;function Ac(e){return 1-Tc(1-e)}function Tc(e){return(e=+e)<gc?Cc*e*e:e<bc?Cc*(e-=vc)*e+yc:e<wc?Cc*(e-=xc)*e+_c:Cc*(e-=kc)*e+Sc}function Ic(e){return((e*=2)<=1?1-Tc(1-e):Tc(e-1)+1)/2}var Ec=1.70158,Nc=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(Ec),Mc=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(Ec),jc=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(Ec),Dc=2*Math.PI,Rc=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Dc);function i(e){return t*cc(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Dc)},i.period=function(n){return e(t,n)},i}(1,.3),Pc=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Dc);function i(e){return 1-t*cc(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Dc)},i.period=function(n){return e(t,n)},i}(1,.3),Oc=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Dc);function i(e){return((e=2*e-1)<0?t*cc(-e)*Math.sin((r-e)/n):2-t*cc(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Dc)},i.period=function(n){return e(t,n)},i}(1,.3);function Lc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Fc(e,t){return fetch(e,t).then(Lc)}function zc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Bc(e,t){return fetch(e,t).then(zc)}function Wc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Vc(e,t){return fetch(e,t).then(Wc)}function Uc(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),Vc(t,n).then((function(t){return e(t,r)}))}}function Hc(e,t,n,r){3===arguments.length&&"function"===typeof n&&(r=n,n=void 0);var i=jl(e);return Vc(t,n).then((function(e){return i.parse(e,r)}))}var qc=Uc(Rl),Gc=Uc(Vl);function Yc(e,t){return new Promise((function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e}))}function Xc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function Kc(e,t){return fetch(e,t).then(Xc)}function Zc(e){return(t,n)=>Vc(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}const Jc=Zc("application/xml");var Qc=Zc("text/html"),$c=Zc("image/svg+xml");function eu(e,t){var n,r=1;function i(){var i,a,o=n.length,s=0,l=0;for(i=0;i<o;++i)s+=(a=n[i]).x,l+=a.y;for(s=(s/o-e)*r,l=(l/o-t)*r,i=0;i<o;++i)(a=n[i]).x-=s,a.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function tu(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,l,c,u,d,h,p=e._root,f={data:r},m=e._x0,g=e._y0,v=e._x1,b=e._y1;if(!p)return e._root=f,e;for(;p.length;)if((c=t>=(a=(m+v)/2))?m=a:v=a,(u=n>=(o=(g+b)/2))?g=o:b=o,i=p,!(p=p[d=u<<1|c]))return i[d]=f,e;if(s=+e._x.call(null,p.data),l=+e._y.call(null,p.data),t===s&&n===l)return f.next=p,i?i[d]=f:e._root=f,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(a=(m+v)/2))?m=a:v=a,(u=n>=(o=(g+b)/2))?g=o:b=o}while((d=u<<1|c)===(h=(l>=o)<<1|s>=a));return i[h]=p,i[d]=f,e}function nu(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function ru(e){return e[0]}function iu(e){return e[1]}function au(e,t,n){var r=new ou(null==t?ru:t,null==n?iu:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ou(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function su(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var lu=au.prototype=ou.prototype;function cu(e){return function(){return e}}function uu(e){return 1e-6*(e()-.5)}function du(e){return e.x+e.vx}function hu(e){return e.y+e.vy}function pu(e){var t,n,r,i=1,a=1;function o(){for(var e,o,l,c,u,d,h,p=t.length,f=0;f<a;++f)for(o=au(t,du,hu).visitAfter(s),e=0;e<p;++e)l=t[e],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,o.visit(m);function m(e,t,n,a,o){var s=e.data,p=e.r,f=d+p;if(!s)return t>c+f||a<c-f||n>u+f||o<u-f;if(s.index>l.index){var m=c-s.x-s.vx,g=u-s.y-s.vy,v=m*m+g*g;v<f*f&&(0===m&&(v+=(m=uu(r))*m),0===g&&(v+=(g=uu(r))*g),v=(f-(v=Math.sqrt(v)))/v*i,l.vx+=(m*=v)*(f=(p*=p)/(h+p)),l.vy+=(g*=v)*f,s.vx-=m*(f=1-f),s.vy-=g*f)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=cu(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,l()},o.iterations=function(e){return arguments.length?(a=+e,o):a},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:cu(+t),l(),o):e},o}function fu(e){return e.index}function mu(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function gu(e){var t,n,r,i,a,o,s=fu,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=cu(30),u=1;function d(r){for(var i=0,s=e.length;i<u;++i)for(var l,c,d,h,p,f,m,g=0;g<s;++g)c=(l=e[g]).source,h=(d=l.target).x+d.vx-c.x-c.vx||uu(o),p=d.y+d.vy-c.y-c.vy||uu(o),h*=f=((f=Math.sqrt(h*h+p*p))-n[g])/f*r*t[g],p*=f,d.vx-=h*(m=a[g]),d.vy-=p*m,c.vx+=h*(m=1-m),c.vy+=p*m}function h(){if(r){var o,l,c=r.length,u=e.length,d=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(o=0,i=new Array(c);o<u;++o)(l=e[o]).index=o,"object"!==typeof l.source&&(l.source=mu(d,l.source)),"object"!==typeof l.target&&(l.target=mu(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(o=0,a=new Array(u);o<u;++o)l=e[o],a[o]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),p(),n=new Array(u),f()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function f(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,o=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"===typeof e?e:cu(+e),p(),d):l},d.distance=function(e){return arguments.length?(c="function"===typeof e?e:cu(+e),f(),d):c},d}lu.copy=function(){var e,t,n=new ou(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=su(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=su(t));return n},lu.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return tu(this.cover(t,n),t,n,e)},lu.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<a;++n)tu(this,o[n],s[n],e[n]);return this},lu.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=c,c=o,l*=2,s){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},lu.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},lu.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},lu.find=function(e,t,n){var r,i,a,o,s,l,c,u=this._x0,d=this._y0,h=this._x1,p=this._y1,f=[],m=this._root;for(m&&f.push(new nu(m,u,d,h,p)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,p=t+n,n*=n);l=f.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(a=l.y0)>p||(o=l.x1)<u||(s=l.y1)<d))if(m.length){var g=(i+o)/2,v=(a+s)/2;f.push(new nu(m[3],g,v,o,s),new nu(m[2],i,v,g,s),new nu(m[1],g,a,o,v),new nu(m[0],i,a,g,v)),(c=(t>=v)<<1|e>=g)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var b=e-+this._x.call(null,m.data),y=t-+this._y.call(null,m.data),x=b*b+y*y;if(x<n){var w=Math.sqrt(n=x);u=e-w,d=t-w,h=e+w,p=t+w,r=m.data}}return r},lu.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,l,c,u,d,h,p=this._root,f=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=a>=(s=(f+g)/2))?f=s:g=s,(u=o>=(l=(m+v)/2))?m=l:v=l,t=p,!(p=p[d=u<<1|c]))return this;if(!p.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},lu.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},lu.root=function(){return this._root},lu.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},lu.visit=function(e){var t,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new nu(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&l.length){var c=(r+a)/2,u=(i+o)/2;(n=l[3])&&s.push(new nu(n,c,u,a,o)),(n=l[2])&&s.push(new nu(n,r,u,c,o)),(n=l[1])&&s.push(new nu(n,c,i,a,u)),(n=l[0])&&s.push(new nu(n,r,i,c,u))}return this},lu.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new nu(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(o+l)/2,d=(s+c)/2;(a=i[0])&&n.push(new nu(a,o,s,u,d)),(a=i[1])&&n.push(new nu(a,u,s,l,d)),(a=i[2])&&n.push(new nu(a,o,d,u,c)),(a=i[3])&&n.push(new nu(a,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},lu.x=function(e){return arguments.length?(this._x=e,this):this._x},lu.y=function(e){return arguments.length?(this._y=e,this):this._y};const vu=1664525,bu=1013904223,yu=4294967296;function xu(e){return e.x}function wu(e){return e.y}var _u=10,ku=Math.PI*(3-Math.sqrt(5));function Su(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=mi(d),c=At("tick","end"),u=function(){let e=1;return()=>(e=(vu*e+bu)%yu)/yu}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,s.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function p(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=_u*Math.sqrt(.5+n),a=n*ku;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),p(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,p(),s.forEach(f),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(u=e,s.forEach(f),t):u},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,f(n)),t):s.get(e)},find:function(t,n,r){var i,a,o,s,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(o=(i=t-(s=e[c]).x)*i+(a=n-s.y)*a)<r&&(l=s,r=o);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function Cu(){var e,t,n,r,i,a=cu(-30),o=1,s=1/0,l=.81;function c(n){var i,a=e.length,o=au(e,xu,wu).visitAfter(d);for(r=n,i=0;i<a;++i)t=e[i],o.visit(h)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function d(e){var t,n,r,a,o,s=0,l=0;if(e.length){for(r=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,a+=n*t.y);e.x=r/l,e.y=a/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function h(e,a,c,u){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,p=u-a,f=d*d+h*h;if(p*p/l<f)return f<s&&(0===d&&(f+=(d=uu(n))*d),0===h&&(f+=(h=uu(n))*h),f<o&&(f=Math.sqrt(o*f)),t.vx+=d*e.value*r/f,t.vy+=h*e.value*r/f),!0;if(!(e.length||f>=s)){(e.data!==t||e.next)&&(0===d&&(f+=(d=uu(n))*d),0===h&&(f+=(h=uu(n))*h),f<o&&(f=Math.sqrt(o*f)));do{e.data!==t&&(p=i[e.data.index]*r/f,t.vx+=d*p,t.vy+=h*p)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(a="function"===typeof e?e:cu(+e),u(),c):a},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function Au(e,t,n){var r,i,a,o=cu(.1);function s(e){for(var o=0,s=r.length;o<s;++o){var l=r[o],c=l.x-t||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),h=(a[o]-d)*i[o]*e/d;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),i[t]=isNaN(a[t])?0:+o(r[t],t,r)}}return"function"!==typeof e&&(e=cu(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(o="function"===typeof e?e:cu(+e),l(),s):o},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:cu(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function Tu(e){var t,n,r,i=cu(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=cu(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:cu(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:cu(+t),o(),a):e},a}function Iu(e){var t,n,r,i=cu(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=cu(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:cu(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:cu(+t),o(),a):e},a}function Eu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Nu(e){return(e=Eu(Math.abs(e)))?e[1]:NaN}var Mu,ju=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Du(e){if(!(t=ju.exec(e)))throw new Error("invalid format: "+e);var t;return new Ru({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ru(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Pu(e,t){var n=Eu(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Du.prototype=Ru.prototype,Ru.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ou={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pu(100*e,t),r:Pu,s:function(e,t){var n=Eu(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Mu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Eu(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lu(e){return e}var Fu,zu,Bu,Wu=Array.prototype.map,Vu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Uu(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Lu:(t=Wu.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Lu:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Wu.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Du(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,v=e.trim,b=e.type;"n"===b?(m=!0,b="g"):Ou[b]||(void 0===g&&(g=12),v=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===h?a:/[%p]/.test(b)?l:"",w=Ou[b],_=/[defgprs%]/.test(b);function k(e){var i,a,l,h=y,k=x;if("c"===b)k=w(e)+k,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===b?Vu[8+Mu/3]:"")+k+(S&&"("===d?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var C=h.length+e.length+k.length,A=C<f?new Array(f-C+1).join(t):"";switch(m&&p&&(e=r(A+e,A.length?f-k.length:1/0),A=""),n){case"<":e=h+e+k+A;break;case"=":e=h+A+e+k;break;case"^":e=A.slice(0,C=A.length>>1)+h+e+k+A.slice(C);break;default:e=A+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Du(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Nu(t)/3))),i=Math.pow(10,-r),a=Vu[8+r/3];return function(e){return n(i*e)+a}}}}function Hu(e){return Fu=Uu(e),zu=Fu.format,Bu=Fu.formatPrefix,Fu}function qu(e){return Math.max(0,-Nu(Math.abs(e)))}function Gu(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nu(t)/3)))-Nu(Math.abs(e)))}function Yu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nu(t)-Nu(e))+1}Hu({thousands:",",grouping:[3],currency:["$",""]});var Xu=1e-6,Ku=1e-12,Zu=Math.PI,Ju=Zu/2,Qu=Zu/4,$u=2*Zu,ed=180/Zu,td=Zu/180,nd=Math.abs,rd=Math.atan,id=Math.atan2,ad=Math.cos,od=Math.ceil,sd=Math.exp,ld=(Math.floor,Math.hypot),cd=Math.log,ud=Math.pow,dd=Math.sin,hd=Math.sign||function(e){return e>0?1:e<0?-1:0},pd=Math.sqrt,fd=Math.tan;function md(e){return e>1?0:e<-1?Zu:Math.acos(e)}function gd(e){return e>1?Ju:e<-1?-Ju:Math.asin(e)}function vd(e){return(e=dd(e/2))*e}function bd(){}function yd(e,t){e&&wd.hasOwnProperty(e.type)&&wd[e.type](e,t)}var xd={Feature:function(e,t){yd(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)yd(n[r].geometry,t)}},wd={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){_d(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)_d(n[r],t,0)},Polygon:function(e,t){kd(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)kd(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)yd(n[r],t)}};function _d(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function kd(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)_d(e[n],t,1);t.polygonEnd()}function Sd(e,t){e&&xd.hasOwnProperty(e.type)?xd[e.type](e,t):yd(e,t)}var Cd,Ad,Td,Id,Ed,Nd,Md,jd,Dd,Rd,Pd,Od,Ld,Fd,zd,Bd,Wd=new E,Vd=new E,Ud={point:bd,lineStart:bd,lineEnd:bd,polygonStart:function(){Wd=new E,Ud.lineStart=Hd,Ud.lineEnd=qd},polygonEnd:function(){var e=+Wd;Vd.add(e<0?$u+e:e),this.lineStart=this.lineEnd=this.point=bd},sphere:function(){Vd.add($u)}};function Hd(){Ud.point=Gd}function qd(){Yd(Cd,Ad)}function Gd(e,t){Ud.point=Yd,Cd=e,Ad=t,Td=e*=td,Id=ad(t=(t*=td)/2+Qu),Ed=dd(t)}function Yd(e,t){var n=(e*=td)-Td,r=n>=0?1:-1,i=r*n,a=ad(t=(t*=td)/2+Qu),o=dd(t),s=Ed*o,l=Id*a+s*ad(i),c=s*r*dd(i);Wd.add(id(c,l)),Td=e,Id=a,Ed=o}function Xd(e){return Vd=new E,Sd(e,Ud),2*Vd}function Kd(e){return[id(e[1],e[0]),gd(e[2])]}function Zd(e){var t=e[0],n=e[1],r=ad(n);return[r*ad(t),r*dd(t),dd(n)]}function Jd(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Qd(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function $d(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function eh(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function th(e){var t=pd(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var nh,rh,ih,ah,oh,sh,lh,ch,uh,dh,hh,ph,fh,mh,gh,vh,bh={point:yh,lineStart:wh,lineEnd:_h,polygonStart:function(){bh.point=kh,bh.lineStart=Sh,bh.lineEnd=Ch,Fd=new E,Ud.polygonStart()},polygonEnd:function(){Ud.polygonEnd(),bh.point=yh,bh.lineStart=wh,bh.lineEnd=_h,Wd<0?(Nd=-(jd=180),Md=-(Dd=90)):Fd>Xu?Dd=90:Fd<-Xu&&(Md=-90),Bd[0]=Nd,Bd[1]=jd},sphere:function(){Nd=-(jd=180),Md=-(Dd=90)}};function yh(e,t){zd.push(Bd=[Nd=e,jd=e]),t<Md&&(Md=t),t>Dd&&(Dd=t)}function xh(e,t){var n=Zd([e*td,t*td]);if(Ld){var r=Qd(Ld,n),i=Qd([r[1],-r[0],0],r);th(i),i=Kd(i);var a,o=e-Rd,s=o>0?1:-1,l=i[0]*ed*s,c=nd(o)>180;c^(s*Rd<l&&l<s*e)?(a=i[1]*ed)>Dd&&(Dd=a):c^(s*Rd<(l=(l+360)%360-180)&&l<s*e)?(a=-i[1]*ed)<Md&&(Md=a):(t<Md&&(Md=t),t>Dd&&(Dd=t)),c?e<Rd?Ah(Nd,e)>Ah(Nd,jd)&&(jd=e):Ah(e,jd)>Ah(Nd,jd)&&(Nd=e):jd>=Nd?(e<Nd&&(Nd=e),e>jd&&(jd=e)):e>Rd?Ah(Nd,e)>Ah(Nd,jd)&&(jd=e):Ah(e,jd)>Ah(Nd,jd)&&(Nd=e)}else zd.push(Bd=[Nd=e,jd=e]);t<Md&&(Md=t),t>Dd&&(Dd=t),Ld=n,Rd=e}function wh(){bh.point=xh}function _h(){Bd[0]=Nd,Bd[1]=jd,bh.point=yh,Ld=null}function kh(e,t){if(Ld){var n=e-Rd;Fd.add(nd(n)>180?n+(n>0?360:-360):n)}else Pd=e,Od=t;Ud.point(e,t),xh(e,t)}function Sh(){Ud.lineStart()}function Ch(){kh(Pd,Od),Ud.lineEnd(),nd(Fd)>Xu&&(Nd=-(jd=180)),Bd[0]=Nd,Bd[1]=jd,Ld=null}function Ah(e,t){return(t-=e)<0?t+360:t}function Th(e,t){return e[0]-t[0]}function Ih(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Eh(e){var t,n,r,i,a,o,s;if(Dd=jd=-(Nd=Md=1/0),zd=[],Sd(e,bh),n=zd.length){for(zd.sort(Th),t=1,a=[r=zd[0]];t<n;++t)Ih(r,(i=zd[t])[0])||Ih(r,i[1])?(Ah(r[0],i[1])>Ah(r[0],r[1])&&(r[1]=i[1]),Ah(i[0],r[1])>Ah(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(s=Ah(r[1],i[0]))>o&&(o=s,Nd=i[0],jd=r[1])}return zd=Bd=null,Nd===1/0||Md===1/0?[[NaN,NaN],[NaN,NaN]]:[[Nd,Md],[jd,Dd]]}var Nh={sphere:bd,point:Mh,lineStart:Dh,lineEnd:Oh,polygonStart:function(){Nh.lineStart=Lh,Nh.lineEnd=Fh},polygonEnd:function(){Nh.lineStart=Dh,Nh.lineEnd=Oh}};function Mh(e,t){e*=td;var n=ad(t*=td);jh(n*ad(e),n*dd(e),dd(t))}function jh(e,t,n){++nh,ih+=(e-ih)/nh,ah+=(t-ah)/nh,oh+=(n-oh)/nh}function Dh(){Nh.point=Rh}function Rh(e,t){e*=td;var n=ad(t*=td);mh=n*ad(e),gh=n*dd(e),vh=dd(t),Nh.point=Ph,jh(mh,gh,vh)}function Ph(e,t){e*=td;var n=ad(t*=td),r=n*ad(e),i=n*dd(e),a=dd(t),o=id(pd((o=gh*a-vh*i)*o+(o=vh*r-mh*a)*o+(o=mh*i-gh*r)*o),mh*r+gh*i+vh*a);rh+=o,sh+=o*(mh+(mh=r)),lh+=o*(gh+(gh=i)),ch+=o*(vh+(vh=a)),jh(mh,gh,vh)}function Oh(){Nh.point=Mh}function Lh(){Nh.point=zh}function Fh(){Bh(ph,fh),Nh.point=Mh}function zh(e,t){ph=e,fh=t,e*=td,t*=td,Nh.point=Bh;var n=ad(t);mh=n*ad(e),gh=n*dd(e),vh=dd(t),jh(mh,gh,vh)}function Bh(e,t){e*=td;var n=ad(t*=td),r=n*ad(e),i=n*dd(e),a=dd(t),o=gh*a-vh*i,s=vh*r-mh*a,l=mh*i-gh*r,c=ld(o,s,l),u=gd(c),d=c&&-u/c;uh.add(d*o),dh.add(d*s),hh.add(d*l),rh+=u,sh+=u*(mh+(mh=r)),lh+=u*(gh+(gh=i)),ch+=u*(vh+(vh=a)),jh(mh,gh,vh)}function Wh(e){nh=rh=ih=ah=oh=sh=lh=ch=0,uh=new E,dh=new E,hh=new E,Sd(e,Nh);var t=+uh,n=+dh,r=+hh,i=ld(t,n,r);return i<Ku&&(t=sh,n=lh,r=ch,rh<Xu&&(t=ih,n=ah,r=oh),(i=ld(t,n,r))<Ku)?[NaN,NaN]:[id(n,t)*ed,gd(r/i)*ed]}function Vh(e){return function(){return e}}function Uh(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Hh(e,t){return nd(e)>Zu&&(e-=Math.round(e/$u)*$u),[e,t]}function qh(e,t,n){return(e%=$u)?t||n?Uh(Yh(e),Xh(t,n)):Yh(e):t||n?Xh(t,n):Hh}function Gh(e){return function(t,n){return nd(t+=e)>Zu&&(t-=Math.round(t/$u)*$u),[t,n]}}function Yh(e){var t=Gh(e);return t.invert=Gh(-e),t}function Xh(e,t){var n=ad(e),r=dd(e),i=ad(t),a=dd(t);function o(e,t){var o=ad(t),s=ad(e)*o,l=dd(e)*o,c=dd(t),u=c*n+s*r;return[id(l*i-u*a,s*n-c*r),gd(u*i+l*a)]}return o.invert=function(e,t){var o=ad(t),s=ad(e)*o,l=dd(e)*o,c=dd(t),u=c*i-l*a;return[id(l*i+c*a,s*n+u*r),gd(u*n-s*r)]},o}function Kh(e){function t(t){return(t=e(t[0]*td,t[1]*td))[0]*=ed,t[1]*=ed,t}return e=qh(e[0]*td,e[1]*td,e.length>2?e[2]*td:0),t.invert=function(t){return(t=e.invert(t[0]*td,t[1]*td))[0]*=ed,t[1]*=ed,t},t}function Zh(e,t,n,r,i,a){if(n){var o=ad(t),s=dd(t),l=r*n;null==i?(i=t+r*$u,a=t-l/2):(i=Jh(o,i),a=Jh(o,a),(r>0?i<a:i>a)&&(i+=r*$u));for(var c,u=i;r>0?u>a:u<a;u-=l)c=Kd([o,-s*ad(u),-s*dd(u)]),e.point(c[0],c[1])}}function Jh(e,t){(t=Zd(t))[0]-=e,th(t);var n=md(-t[1]);return((-t[2]<0?-n:n)+$u-Xu)%$u}function Qh(){var e,t,n=Vh([0,0]),r=Vh(90),i=Vh(2),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=ed,n[1]*=ed}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*td,l=i.apply(this,arguments)*td;return e=[],t=qh(-o[0]*td,-o[1]*td,0).invert,Zh(a,s,l,1),o={type:"Polygon",coordinates:[e]},e=t=null,o}return o.center=function(e){return arguments.length?(n="function"===typeof e?e:Vh([+e[0],+e[1]]),o):n},o.radius=function(e){return arguments.length?(r="function"===typeof e?e:Vh(+e),o):r},o.precision=function(e){return arguments.length?(i="function"===typeof e?e:Vh(+e),o):i},o}function $h(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:bd,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ep(e,t){return nd(e[0]-t[0])<Xu&&nd(e[1]-t[1])<Xu}function tp(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function np(e,t,n,r,i){var a,o,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(ep(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*Xu}s.push(n=new tp(r,e,null,!0)),l.push(n.o=new tp(r,null,n,!1)),s.push(n=new tp(o,e,null,!1)),l.push(n.o=new tp(o,null,n,!0))}})),s.length){for(l.sort(t),rp(s),rp(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,u,d=s[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=c.length;a<o;++a)i.point((u=c[a])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function rp(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function ip(e){return nd(e[0])<=Zu?e[0]:hd(e[0])*((nd(e[0])+Zu)%$u-Zu)}function ap(e,t){var n=ip(t),r=t[1],i=dd(r),a=[dd(n),-ad(n),0],o=0,s=0,l=new E;1===i?r=Ju+Xu:-1===i&&(r=-Ju-Xu);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,p=d[h-1],f=ip(p),m=p[1]/2+Qu,g=dd(m),v=ad(m),b=0;b<h;++b,f=x,g=_,v=k,p=y){var y=d[b],x=ip(y),w=y[1]/2+Qu,_=dd(w),k=ad(w),S=x-f,C=S>=0?1:-1,A=C*S,T=A>Zu,I=g*_;if(l.add(id(I*C*dd(A),v*k+I*ad(A))),o+=T?S+C*$u:S,T^f>=n^x>=n){var N=Qd(Zd(p),Zd(y));th(N);var M=Qd(a,N);th(M);var j=(T^S>=0?-1:1)*gd(M[2]);(r>j||r===j&&(N[0]||N[1]))&&(s+=T^S>=0?1:-1)}}return(o<-Xu||o<Xu&&l<-Ku)^1&s}function op(e,t,n,r){return function(i){var a,o,s,l=t(i),c=$h(),u=t(c),d=!1,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=y,o=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=g,o=Ee(o);var e=ap(a,r);o.length?(d||(i.polygonStart(),d=!0),np(o,lp,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function f(e,t){l.point(e,t)}function m(){h.point=f,l.lineStart()}function g(){h.point=p,l.lineEnd()}function v(e,t){s.push([e,t]),u.point(e,t)}function b(){u.lineStart(),s=[]}function y(){v(s[0][0],s[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),h=c.result(),p=h.length;if(s.pop(),a.push(s),s=null,p)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(sp))}return h}}function sp(e){return e.length>1}function lp(e,t){return((e=e.x)[0]<0?e[1]-Ju-Xu:Ju-e[1])-((t=t.x)[0]<0?t[1]-Ju-Xu:Ju-t[1])}Hh.invert=Hh;const cp=op((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Zu:-Zu,l=nd(a-n);nd(l-Zu)<Xu?(e.point(n,r=(r+o)/2>0?Ju:-Ju),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=Zu&&(nd(n-i)<Xu&&(n-=i*Xu),nd(a-s)<Xu&&(a-=s*Xu),r=function(e,t,n,r){var i,a,o=dd(e-n);return nd(o)>Xu?rd((dd(t)*(a=ad(r))*dd(n)-dd(r)*(i=ad(t))*dd(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Ju,r.point(-Zu,i),r.point(0,i),r.point(Zu,i),r.point(Zu,0),r.point(Zu,-i),r.point(0,-i),r.point(-Zu,-i),r.point(-Zu,0),r.point(-Zu,i);else if(nd(e[0]-t[0])>Xu){var a=e[0]<t[0]?Zu:-Zu;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-Zu,-Ju]);function up(e){var t=ad(e),n=2*td,r=t>0,i=nd(t)>Xu;function a(e,n){return ad(e)*ad(n)>t}function o(e,n,r){var i=[1,0,0],a=Qd(Zd(e),Zd(n)),o=Jd(a,a),s=a[0],l=o-s*s;if(!l)return!r&&e;var c=t*o/l,u=-t*s/l,d=Qd(i,a),h=eh(i,c);$d(h,eh(a,u));var p=d,f=Jd(h,p),m=Jd(p,p),g=f*f-m*(Jd(h,h)-1);if(!(g<0)){var v=pd(g),b=eh(p,(-f-v)/m);if($d(b,h),b=Kd(b),!r)return b;var y,x=e[0],w=n[0],_=e[1],k=n[1];w<x&&(y=x,x=w,w=y);var S=w-x,C=nd(S-Zu)<Xu;if(!C&&k<_&&(y=_,_=k,k=y),C||S<Xu?C?_+k>0^b[1]<(nd(b[0]-x)<Xu?_:k):_<=b[1]&&b[1]<=k:S>Zu^(x<=b[0]&&b[0]<=w)){var A=eh(p,(-f+v)/m);return $d(A,h),[b,Kd(A)]}}}function s(t,n){var i=r?e:Zu-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return op(a,(function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var p,f=[d,h],m=a(d,h),g=r?m?0:s(d,h):m?s(d+(d<0?Zu:-Zu),h):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(!(p=o(t,f))||ep(t,p)||ep(f,p))&&(f[2]=1),m!==l)u=0,m?(e.lineStart(),p=o(f,t),e.point(p[0],p[1])):(p=o(t,f),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(i&&t&&r^m){var v;g&n||!(v=o(f,t,!0))||(u=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!m||t&&ep(t,f)||e.point(f[0],f[1]),t=f,l=m,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),(function(t,r,i,a){Zh(a,e,n,i,t,r)}),r?[0,-e]:[-Zu,e-Zu])}var dp,hp,pp,fp,mp=1e9,gp=-mp;function vp(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,c){var u=0,d=0;if(null==i||(u=o(i,s))!==(d=o(a,s))||l(i,a)<0^s>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==d);else c.point(a[0],a[1])}function o(r,i){return nd(r[0]-e)<Xu?i>0?0:3:nd(r[0]-n)<Xu?i>0?2:1:nd(r[1]-t)<Xu?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var l,c,u,d,h,p,f,m,g,v,b,y=o,x=$h(),w={point:_,lineStart:function(){w.point=k,c&&c.push(u=[]);v=!0,g=!1,f=m=NaN},lineEnd:function(){l&&(k(d,h),p&&g&&x.rejoin(),l.push(x.result()));w.point=_,g&&y.lineEnd()},polygonStart:function(){y=x,l=[],c=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],l=1,u=s.length,d=s[0],h=d[0],p=d[1];l<u;++l)a=h,o=p,h=(d=s[l])[0],p=d[1],o<=r?p>r&&(h-a)*(r-o)>(p-o)*(e-a)&&++t:p<=r&&(h-a)*(r-o)<(p-o)*(e-a)&&--t;return t}(),n=b&&t,i=(l=Ee(l)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&np(l,s,t,a,o),o.polygonEnd());y=o,l=c=u=null}};function _(e,t){i(e,t)&&y.point(e,t)}function k(a,o){var s=i(a,o);if(c&&u.push([a,o]),v)d=a,h=o,p=s,v=!1,s&&(y.lineStart(),y.point(a,o));else if(s&&g)y.point(a,o);else{var l=[f=Math.max(gp,Math.min(mp,f)),m=Math.max(gp,Math.min(mp,m))],x=[a=Math.max(gp,Math.min(mp,a)),o=Math.max(gp,Math.min(mp,o))];!function(e,t,n,r,i,a){var o,s=e[0],l=e[1],c=0,u=1,d=t[0]-s,h=t[1]-l;if(o=n-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<u&&(u=o)}else if(d>0){if(o>u)return;o>c&&(c=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>u)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<u&&(u=o)}if(o=r-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<u&&(u=o)}else if(h>0){if(o>u)return;o>c&&(c=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>u)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<u&&(u=o)}return c>0&&(e[0]=s+c*d,e[1]=l+c*h),u<1&&(t[0]=s+u*d,t[1]=l+u*h),!0}}}}}(l,x,e,t,n,r)?s&&(y.lineStart(),y.point(a,o),b=!1):(g||(y.lineStart(),y.point(l[0],l[1])),y.point(x[0],x[1]),s||y.lineEnd(),b=!1)}f=a,m=o,g=s}return w}}function bp(){var e,t,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return e&&t===n?e:e=vp(r,i,a,o)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],e=t=null,n):[[r,i],[a,o]]}}}var yp={sphere:bd,point:bd,lineStart:function(){yp.point=wp,yp.lineEnd=xp},lineEnd:bd,polygonStart:bd,polygonEnd:bd};function xp(){yp.point=yp.lineEnd=bd}function wp(e,t){hp=e*=td,pp=dd(t*=td),fp=ad(t),yp.point=_p}function _p(e,t){e*=td;var n=dd(t*=td),r=ad(t),i=nd(e-hp),a=ad(i),o=r*dd(i),s=fp*n-pp*r*a,l=pp*n+fp*r*a;dp.add(id(pd(o*o+s*s),l)),hp=e,pp=n,fp=r}function kp(e){return dp=new E,Sd(e,yp),+dp}var Sp=[null,null],Cp={type:"LineString",coordinates:Sp};function Ap(e,t){return Sp[0]=e,Sp[1]=t,kp(Cp)}var Tp={Feature:function(e,t){return Ep(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Ep(n[r].geometry,t))return!0;return!1}},Ip={Sphere:function(){return!0},Point:function(e,t){return Np(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Np(n[r],t))return!0;return!1},LineString:function(e,t){return Mp(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Mp(n[r],t))return!0;return!1},Polygon:function(e,t){return jp(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(jp(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Ep(n[r],t))return!0;return!1}};function Ep(e,t){return!(!e||!Ip.hasOwnProperty(e.type))&&Ip[e.type](e,t)}function Np(e,t){return 0===Ap(e,t)}function Mp(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(0===(r=Ap(e[a],t)))return!0;if(a>0&&(i=Ap(e[a],e[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Ku*i)return!0;n=r}return!1}function jp(e,t){return!!ap(e.map(Dp),Rp(t))}function Dp(e){return(e=e.map(Rp)).pop(),e}function Rp(e){return[e[0]*td,e[1]*td]}function Pp(e,t){return(e&&Tp.hasOwnProperty(e.type)?Tp[e.type]:Ep)(e,t)}function Op(e,t,n){var r=De(e,t-Xu,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Lp(e,t,n){var r=De(e,t-Xu,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Fp(){var e,t,n,r,i,a,o,s,l,c,u,d,h=10,p=h,f=90,m=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return De(od(r/f)*f,n,f).map(u).concat(De(od(s/m)*m,o,m).map(d)).concat(De(od(t/h)*h,e,h).filter((function(e){return nd(e%f)>Xu})).map(l)).concat(De(od(a/p)*p,i,p).filter((function(e){return nd(e%m)>Xu})).map(c))}return v.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(o).slice(1),u(n).reverse().slice(1),d(s).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),v.precision(g)):[[r,s],[n,o]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),v.precision(g)):[[t,a],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(f=+e[0],m=+e[1],v):[f,m]},v.stepMinor=function(e){return arguments.length?(h=+e[0],p=+e[1],v):[h,p]},v.precision=function(h){return arguments.length?(g=+h,l=Op(a,i,90),c=Lp(t,e,g),u=Op(s,o,90),d=Lp(r,n,g),v):g},v.extentMajor([[-180,-90+Xu],[180,90-Xu]]).extentMinor([[-180,-80-Xu],[180,80+Xu]])}function zp(){return Fp()()}function Bp(e,t){var n=e[0]*td,r=e[1]*td,i=t[0]*td,a=t[1]*td,o=ad(r),s=dd(r),l=ad(a),c=dd(a),u=o*ad(n),d=o*dd(n),h=l*ad(i),p=l*dd(i),f=2*gd(pd(vd(a-r)+o*l*vd(i-n))),m=dd(f),g=f?function(e){var t=dd(e*=f)/m,n=dd(f-e)/m,r=n*u+t*h,i=n*d+t*p,a=n*s+t*c;return[id(i,r)*ed,id(a,pd(r*r+i*i))*ed]}:function(){return[n*ed,r*ed]};return g.distance=f,g}const Wp=e=>e;var Vp,Up,Hp,qp,Gp=new E,Yp=new E,Xp={point:bd,lineStart:bd,lineEnd:bd,polygonStart:function(){Xp.lineStart=Kp,Xp.lineEnd=Qp},polygonEnd:function(){Xp.lineStart=Xp.lineEnd=Xp.point=bd,Gp.add(nd(Yp)),Yp=new E},result:function(){var e=Gp/2;return Gp=new E,e}};function Kp(){Xp.point=Zp}function Zp(e,t){Xp.point=Jp,Vp=Hp=e,Up=qp=t}function Jp(e,t){Yp.add(qp*e-Hp*t),Hp=e,qp=t}function Qp(){Jp(Vp,Up)}const $p=Xp;var ef=1/0,tf=ef,nf=-ef,rf=nf,af={point:function(e,t){e<ef&&(ef=e);e>nf&&(nf=e);t<tf&&(tf=t);t>rf&&(rf=t)},lineStart:bd,lineEnd:bd,polygonStart:bd,polygonEnd:bd,result:function(){var e=[[ef,tf],[nf,rf]];return nf=rf=-(tf=ef=1/0),e}};const of=af;var sf,lf,cf,uf,df=0,hf=0,pf=0,ff=0,mf=0,gf=0,vf=0,bf=0,yf=0,xf={point:wf,lineStart:_f,lineEnd:Cf,polygonStart:function(){xf.lineStart=Af,xf.lineEnd=Tf},polygonEnd:function(){xf.point=wf,xf.lineStart=_f,xf.lineEnd=Cf},result:function(){var e=yf?[vf/yf,bf/yf]:gf?[ff/gf,mf/gf]:pf?[df/pf,hf/pf]:[NaN,NaN];return df=hf=pf=ff=mf=gf=vf=bf=yf=0,e}};function wf(e,t){df+=e,hf+=t,++pf}function _f(){xf.point=kf}function kf(e,t){xf.point=Sf,wf(cf=e,uf=t)}function Sf(e,t){var n=e-cf,r=t-uf,i=pd(n*n+r*r);ff+=i*(cf+e)/2,mf+=i*(uf+t)/2,gf+=i,wf(cf=e,uf=t)}function Cf(){xf.point=wf}function Af(){xf.point=If}function Tf(){Ef(sf,lf)}function If(e,t){xf.point=Ef,wf(sf=cf=e,lf=uf=t)}function Ef(e,t){var n=e-cf,r=t-uf,i=pd(n*n+r*r);ff+=i*(cf+e)/2,mf+=i*(uf+t)/2,gf+=i,vf+=(i=uf*e-cf*t)*(cf+e),bf+=i*(uf+t),yf+=3*i,wf(cf=e,uf=t)}const Nf=xf;function Mf(e){this._context=e}Mf.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,$u)}},result:bd};var jf,Df,Rf,Pf,Of,Lf=new E,Ff={point:bd,lineStart:function(){Ff.point=zf},lineEnd:function(){jf&&Bf(Df,Rf),Ff.point=bd},polygonStart:function(){jf=!0},polygonEnd:function(){jf=null},result:function(){var e=+Lf;return Lf=new E,e}};function zf(e,t){Ff.point=Bf,Df=Pf=e,Rf=Of=t}function Bf(e,t){Pf-=e,Of-=t,Lf.add(pd(Pf*Pf+Of*Of)),Pf=e,Of=t}const Wf=Ff;var Vf,Uf,Hf,qf;let Gf,Yf,Xf,Kf;class Zf{constructor(e){this._append=null==e?Jf:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: ".concat(e));if(t>15)return Jf;if(t!==Gf){const e=10**t;Gf=t,Yf=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return Yf}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append(Vf||(Vf=(0,_o.A)(["M",",",""])),e,t),this._point=1;break;case 1:this._append(Uf||(Uf=(0,_o.A)(["L",",",""])),e,t);break;default:if(this._append(Hf||(Hf=(0,_o.A)(["M",",",""])),e,t),this._radius!==Xf||this._append!==Yf){const e=this._radius,t=this._;this._="",this._append(qf||(qf=(0,_o.A)(["m0,","a",","," 0 1,1 0,","a",","," 0 1,1 0,","z"])),e,e,e,-2*e,e,e,2*e),Xf=e,Yf=this._append,Kf=this._,this._=t}this._+=Kf}}result(){const e=this._;return this._="",e.length?e:null}}function Jf(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Qf(e,t){let n,r,i=3,a=4.5;function o(e){return e&&("function"===typeof a&&r.pointRadius(+a.apply(this,arguments)),Sd(e,n(r))),r.result()}return o.area=function(e){return Sd(e,n($p)),$p.result()},o.measure=function(e){return Sd(e,n(Wf)),Wf.result()},o.bounds=function(e){return Sd(e,n(of)),of.result()},o.centroid=function(e){return Sd(e,n(Nf)),Nf.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Wp):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new Zf(i)):new Mf(t=e),"function"!==typeof a&&r.pointRadius(a),o):t},o.pointRadius=function(e){return arguments.length?(a="function"===typeof e?e:(r.pointRadius(+e),+e),o):a},o.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: ".concat(e));i=t}return null===t&&(r=new Zf(i)),o},o.projection(e).digits(i).context(t)}function $f(e){return{stream:em(e)}}function em(e){return function(t){var n=new tm;for(var r in e)n[r]=e[r];return n.stream=t,n}}function tm(){}function nm(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Sd(n,e.stream(of)),t(of.result()),null!=r&&e.clipExtent(r),e}function rm(e,t,n){return nm(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])}),n)}function im(e,t,n){return rm(e,[[0,0],t],n)}function am(e,t,n){return nm(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function om(e,t,n){return nm(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}tm.prototype={constructor:tm,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var sm=16,lm=ad(30*td);function cm(e,t){return+t?function(e,t){function n(r,i,a,o,s,l,c,u,d,h,p,f,m,g){var v=c-r,b=u-i,y=v*v+b*b;if(y>4*t&&m--){var x=o+h,w=s+p,_=l+f,k=pd(x*x+w*w+_*_),S=gd(_/=k),C=nd(nd(_)-1)<Xu||nd(a-d)<Xu?(a+d)/2:id(w,x),A=e(C,S),T=A[0],I=A[1],E=T-r,N=I-i,M=b*E-v*N;(M*M/y>t||nd((v*E+b*N)/y-.5)>.3||o*h+s*p+l*f<lm)&&(n(r,i,a,o,s,l,T,I,C,x/=k,w/=k,_,m,g),g.point(T,I),n(T,I,C,x,w,_,c,u,d,h,p,f,m,g))}}return function(t){var r,i,a,o,s,l,c,u,d,h,p,f,m={point:g,lineStart:v,lineEnd:y,polygonStart:function(){t.polygonStart(),m.lineStart=x},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,m.point=b,t.lineStart()}function b(r,i){var a=Zd([r,i]),o=e(r,i);n(u,d,c,h,p,f,u=o[0],d=o[1],c=r,h=a[0],p=a[1],f=a[2],sm,t),t.point(u,d)}function y(){m.point=g,t.lineEnd()}function x(){v(),m.point=w,m.lineEnd=_}function w(e,t){b(r=e,t),i=u,a=d,o=h,s=p,l=f,m.point=b}function _(){n(u,d,c,h,p,f,i,a,r,o,s,l,sm,t),m.lineEnd=y,y()}return m}}(e,t):function(e){return em({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var um=em({point:function(e,t){this.stream.point(e*td,t*td)}});function dm(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,o){return[t+e*(a*=r),n-e*(o*=i)]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}(e,t,n,r,i);var o=ad(a),s=dd(a),l=o*e,c=s*e,u=o/e,d=s/e,h=(s*n-o*t)/e,p=(s*t+o*n)/e;function f(e,a){return[l*(e*=r)-c*(a*=i)+t,n-c*e-l*a]}return f.invert=function(e,t){return[r*(u*e-d*t+h),i*(p-d*e-u*t)]},f}function hm(e){return pm((function(){return e}))()}function pm(e){var t,n,r,i,a,o,s,l,c,u,d=150,h=480,p=250,f=0,m=0,g=0,v=0,b=0,y=0,x=1,w=1,_=null,k=cp,S=null,C=Wp,A=.5;function T(e){return l(e[0]*td,e[1]*td)}function I(e){return(e=l.invert(e[0],e[1]))&&[e[0]*ed,e[1]*ed]}function E(){var e=dm(d,0,0,x,w,y).apply(null,t(f,m)),r=dm(d,h-e[0],p-e[1],x,w,y);return n=qh(g,v,b),s=Uh(t,r),l=Uh(n,s),o=cm(s,A),N()}function N(){return c=u=null,T}return T.stream=function(e){return c&&u===e?c:c=um(function(e){return em({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(o(C(u=e)))))},T.preclip=function(e){return arguments.length?(k=e,_=void 0,N()):k},T.postclip=function(e){return arguments.length?(C=e,S=r=i=a=null,N()):C},T.clipAngle=function(e){return arguments.length?(k=+e?up(_=e*td):(_=null,cp),N()):_*ed},T.clipExtent=function(e){return arguments.length?(C=null==e?(S=r=i=a=null,Wp):vp(S=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),N()):null==S?null:[[S,r],[i,a]]},T.scale=function(e){return arguments.length?(d=+e,E()):d},T.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],E()):[h,p]},T.center=function(e){return arguments.length?(f=e[0]%360*td,m=e[1]%360*td,E()):[f*ed,m*ed]},T.rotate=function(e){return arguments.length?(g=e[0]%360*td,v=e[1]%360*td,b=e.length>2?e[2]%360*td:0,E()):[g*ed,v*ed,b*ed]},T.angle=function(e){return arguments.length?(y=e%360*td,E()):y*ed},T.reflectX=function(e){return arguments.length?(x=e?-1:1,E()):x<0},T.reflectY=function(e){return arguments.length?(w=e?-1:1,E()):w<0},T.precision=function(e){return arguments.length?(o=cm(s,A=e*e),N()):pd(A)},T.fitExtent=function(e,t){return rm(T,e,t)},T.fitSize=function(e,t){return im(T,e,t)},T.fitWidth=function(e,t){return am(T,e,t)},T.fitHeight=function(e,t){return om(T,e,t)},function(){return t=e.apply(this,arguments),T.invert=t.invert&&I,E()}}function fm(e){var t=0,n=Zu/3,r=pm(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*td,n=e[1]*td):[t*ed,n*ed]},i}function mm(e,t){var n=dd(e),r=(n+dd(t))/2;if(nd(r)<Xu)return function(e){var t=ad(e);function n(e,n){return[e*t,dd(n)/t]}return n.invert=function(e,n){return[e/t,gd(n*t)]},n}(e);var i=1+n*(2*r-n),a=pd(i)/r;function o(e,t){var n=pd(i-2*r*dd(t))/r;return[n*dd(e*=r),a-n*ad(e)]}return o.invert=function(e,t){var n=a-t,o=id(e,nd(n))*hd(n);return n*r<0&&(o-=Zu*hd(e)*hd(n)),[o/r,gd((i-(e*e+n*n)*r*r)/(2*r))]},o}function gm(){return fm(mm).scale(155.424).center([0,33.6442])}function vm(){return gm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function bm(){var e,t,n,r,i,a,o=vm(),s=gm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=gm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function u(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function d(){return e=t=null,u}return u.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(e)},u.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),s.stream(n),l.stream(n)])},u.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),l.precision(e),d()):o.precision()},u.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),l.scale(e),u.translate(o.translate())):o.scale()},u.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],u=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,u-.238*t],[a+.455*t,u+.238*t]]).stream(c),r=s.translate([a-.307*t,u+.201*t]).clipExtent([[a-.425*t+Xu,u+.12*t+Xu],[a-.214*t-Xu,u+.234*t-Xu]]).stream(c),i=l.translate([a-.205*t,u+.212*t]).clipExtent([[a-.214*t+Xu,u+.166*t+Xu],[a-.115*t-Xu,u+.234*t-Xu]]).stream(c),d()},u.fitExtent=function(e,t){return rm(u,e,t)},u.fitSize=function(e,t){return im(u,e,t)},u.fitWidth=function(e,t){return am(u,e,t)},u.fitHeight=function(e,t){return om(u,e,t)},u.scale(1070)}function ym(e){return function(t,n){var r=ad(t),i=ad(n),a=e(r*i);return a===1/0?[2,0]:[a*i*dd(t),a*dd(n)]}}function xm(e){return function(t,n){var r=pd(t*t+n*n),i=e(r),a=dd(i),o=ad(i);return[id(t*a,r*o),gd(r&&n*a/r)]}}var wm=ym((function(e){return pd(2/(1+e))}));function _m(){return hm(wm).scale(124.75).clipAngle(179.999)}wm.invert=xm((function(e){return 2*gd(e/2)}));var km=ym((function(e){return(e=md(e))&&e/dd(e)}));function Sm(){return hm(km).scale(79.4188).clipAngle(179.999)}function Cm(e,t){return[e,cd(fd((Ju+t)/2))]}function Am(){return Tm(Cm).scale(961/$u)}function Tm(e){var t,n,r,i=hm(e),a=i.center,o=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var a=Zu*o(),s=i(Kh(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:e===Cm?[[Math.max(s[0]-a,c),t],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,t)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),u()):o()},i.translate=function(e){return arguments.length?(s(e),u()):s()},i.center=function(e){return arguments.length?(a(e),u()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function Im(e){return fd((Ju+e)/2)}function Em(e,t){var n=ad(e),r=e===t?dd(e):cd(n/ad(t))/cd(Im(t)/Im(e)),i=n*ud(Im(e),r)/r;if(!r)return Cm;function a(e,t){i>0?t<-Ju+Xu&&(t=-Ju+Xu):t>Ju-Xu&&(t=Ju-Xu);var n=i/ud(Im(t),r);return[n*dd(r*e),i-n*ad(r*e)]}return a.invert=function(e,t){var n=i-t,a=hd(r)*pd(e*e+n*n),o=id(e,nd(n))*hd(n);return n*r<0&&(o-=Zu*hd(e)*hd(n)),[o/r,2*rd(ud(i/a,1/r))-Ju]},a}function Nm(){return fm(Em).scale(109.5).parallels([30,30])}function Mm(e,t){return[e,t]}function jm(){return hm(Mm).scale(152.63)}function Dm(e,t){var n=ad(e),r=e===t?dd(e):(n-ad(t))/(t-e),i=n/r+e;if(nd(r)<Xu)return Mm;function a(e,t){var n=i-t,a=r*e;return[n*dd(a),i-n*ad(a)]}return a.invert=function(e,t){var n=i-t,a=id(e,nd(n))*hd(n);return n*r<0&&(a-=Zu*hd(e)*hd(n)),[a/r,i-hd(r)*pd(e*e+n*n)]},a}function Rm(){return fm(Dm).scale(131.154).center([0,13.9389])}km.invert=xm((function(e){return e})),Cm.invert=function(e,t){return[e,2*rd(sd(t))-Ju]},Mm.invert=Mm;var Pm=1.340264,Om=-.081106,Lm=893e-6,Fm=.003796,zm=pd(3)/2;function Bm(e,t){var n=gd(zm*dd(t)),r=n*n,i=r*r*r;return[e*ad(n)/(zm*(Pm+3*Om*r+i*(7*Lm+9*Fm*r))),n*(Pm+Om*r+i*(Lm+Fm*r))]}function Wm(){return hm(Bm).scale(177.158)}function Vm(e,t){var n=ad(t),r=ad(e)*n;return[n*dd(e)/r,dd(t)/r]}function Um(){return hm(Vm).scale(144.049).clipAngle(60)}function Hm(){var e,t,n,r,i,a,o,s=1,l=0,c=0,u=1,d=1,h=0,p=null,f=1,m=1,g=em({point:function(e,t){var n=y([e,t]);this.stream.point(n[0],n[1])}}),v=Wp;function b(){return f=s*u,m=s*d,a=o=null,y}function y(n){var r=n[0]*f,i=n[1]*m;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return y.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/f,i/m]},y.stream=function(e){return a&&o===e?a:a=g(v(o=e))},y.postclip=function(e){return arguments.length?(v=e,p=n=r=i=null,b()):v},y.clipExtent=function(e){return arguments.length?(v=null==e?(p=n=r=i=null,Wp):vp(p=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),b()):null==p?null:[[p,n],[r,i]]},y.scale=function(e){return arguments.length?(s=+e,b()):s},y.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],b()):[l,c]},y.angle=function(n){return arguments.length?(t=dd(h=n%360*td),e=ad(h),b()):h*ed},y.reflectX=function(e){return arguments.length?(u=e?-1:1,b()):u<0},y.reflectY=function(e){return arguments.length?(d=e?-1:1,b()):d<0},y.fitExtent=function(e,t){return rm(y,e,t)},y.fitSize=function(e,t){return im(y,e,t)},y.fitWidth=function(e,t){return am(y,e,t)},y.fitHeight=function(e,t){return om(y,e,t)},y}function qm(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Gm(){return hm(qm).scale(175.295)}function Ym(e,t){return[ad(t)*dd(e),dd(t)]}function Xm(){return hm(Ym).scale(249.5).clipAngle(90+Xu)}function Km(e,t){var n=ad(t),r=1+ad(e)*n;return[n*dd(e)/r,dd(t)/r]}function Zm(){return hm(Km).scale(250).clipAngle(142)}function Jm(e,t){return[cd(fd((Ju+t)/2)),-e]}function Qm(){var e=Tm(Jm),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}function $m(e,t){return e.parent===t.parent?1:2}function eg(e,t){return e+t.x}function tg(e,t){return Math.max(e,t.y)}function ng(){var e=$m,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(eg,0)/e.length}(n),t.y=function(e){return 1+e.reduce(tg,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=s.x-e(s,l)/2,u=l.x+e(l,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function rg(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function ig(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=og)):void 0===t&&(t=ag);for(var n,r,i,a,o,s=new cg(e),l=[s];n=l.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)l.push(r=i[a]=new cg(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(lg)}function ag(e){return e.children}function og(e){return Array.isArray(e)?e[1]:null}function sg(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function lg(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function cg(e){this.data=e,this.depth=this.height=0,this.parent=null}function ug(e){return null==e?null:dg(e)}function dg(e){if("function"!==typeof e)throw new Error;return e}function hg(){return 0}function pg(e){return function(){return e}}Bm.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(Pm+Om*i+a*(Lm+Fm*i))-t)/(Pm+3*Om*i+a*(7*Lm+9*Fm*i)))*r)*i*i,!(nd(n)<Ku));++o);return[zm*e*(Pm+3*Om*i+a*(7*Lm+9*Fm*i))/ad(r),gd(dd(r)/zm)]},Vm.invert=xm(rd),qm.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(nd(n)>Xu&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},Ym.invert=xm(gd),Km.invert=xm((function(e){return 2*rd(e)})),Jm.invert=function(e,t){return[-t,2*rd(sd(e))-Ju]},cg.prototype=ig.prototype={constructor:cg,count:function(){return this.eachAfter(rg)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],s=[],l=-1;a=o.pop();)if(s.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=s.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return ig(this).eachBefore(sg)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n])}while(a.length)}};const fg=1664525,mg=1013904223,gg=4294967296;function vg(){let e=1;return()=>(e=(fg*e+mg)%gg)/gg}function bg(e){return yg(e,vg())}function yg(e,t){for(var n,r,i=0,a=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,o=[];i<a;)n=e[i],r&&_g(r,n)?++i:(r=Sg(o=xg(o,n)),i=0);return r}function xg(e,t){var n,r;if(kg(t,e))return[t];for(n=0;n<e.length;++n)if(wg(t,e[n])&&kg(Cg(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(wg(Cg(e[n],e[r]),t)&&wg(Cg(e[n],t),e[r])&&wg(Cg(e[r],t),e[n])&&kg(Ag(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function wg(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function _g(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function kg(e,t){for(var n=0;n<t.length;++n)if(!_g(e,t[n]))return!1;return!0}function Sg(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return Cg(e[0],e[1]);case 3:return Ag(e[0],e[1],e[2])}}function Cg(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,c=o-r,u=s-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*u)/2,y:(r+o+c/d*u)/2,r:(d+i+s)/2}}function Ag(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-o,p=r-c,f=i-s,m=i-u,g=l-a,v=d-a,b=r*r+i*i-a*a,y=b-o*o-s*s+l*l,x=b-c*c-u*u+d*d,w=p*f-h*m,_=(f*x-m*y)/(2*w)-r,k=(m*g-f*v)/w,S=(p*y-h*x)/(2*w)-i,C=(h*v-p*g)/w,A=k*k+C*C-1,T=2*(a+_*k+S*C),I=_*_+S*S-a*a,E=-(Math.abs(A)>1e-6?(T+Math.sqrt(T*T-4*A*I))/(2*A):I/T);return{x:r+_+k*E,y:i+S+C*E,r:E}}function Tg(e,t,n){var r,i,a,o,s=e.x-t.x,l=e.y-t.y,c=s*s+l*l;c?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=e.x-r*s-a*l,n.y=e.y-r*l+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*s-a*l,n.y=t.y+r*l+a*s)):(n.x=t.x+n.r,n.y=t.y)}function Ig(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Eg(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function Ng(e){this._=e,this.next=null,this.previous=null}function Mg(e,t){if(!(a=(e=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var n,r,i,a,o,s,l,c,u,d,h;if((n=e[0]).x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;Tg(r,n,i=e[2]),n=new Ng(n),r=new Ng(r),i=new Ng(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){Tg(n._,r._,i=e[l]),i=new Ng(i),c=r.next,u=n.previous,d=r._.r,h=n._.r;do{if(d<=h){if(Ig(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(Ig(u._,i._)){(n=u).next=r,r.previous=n,--l;continue e}h+=u._.r,u=u.previous}}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=Eg(n);(i=i.next)!==r;)(s=Eg(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=yg(n,t),l=0;l<a;++l)(n=e[l]).x-=i.x,n.y-=i.y;return i.r}function jg(e){return Mg(e,vg()),e}function Dg(e){return Math.sqrt(e.value)}function Rg(){var e=null,t=1,n=1,r=hg;function i(i){const a=vg();return i.x=t/2,i.y=n/2,e?i.eachBefore(Pg(e)).eachAfter(Og(r,.5,a)).eachBefore(Lg(1)):i.eachBefore(Pg(Dg)).eachAfter(Og(hg,1,a)).eachAfter(Og(r,i.r/Math.min(t,n),a)).eachBefore(Lg(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=ug(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:pg(+e),i):r},i}function Pg(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Og(e,t,n){return function(r){if(i=r.children){var i,a,o,s=i.length,l=e(r)*t||0;if(l)for(a=0;a<s;++a)i[a].r+=l;if(o=Mg(i,n),l)for(a=0;a<s;++a)i[a].r-=l;r.r=o+l}}}function Lg(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Fg(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function zg(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,c=e.value&&(r-t)/e.value;++s<l;)(a=o[s]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}function Bg(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&zg(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(t,a)),r&&i.eachBefore(Fg),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}var Wg={depth:-1},Vg={},Ug={};function Hg(e){return e.id}function qg(e){return e.parentId}function Gg(){var e,t=Hg,n=qg;function r(r){var i,a,o,s,l,c,u,d,h=Array.from(r),p=t,f=n,m=new Map;if(null!=e){const t=h.map(((t,n)=>function(e){e="".concat(e);let t=e.length;Xg(e,t-1)&&!Xg(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:"/".concat(e)}(e(t,n,r)))),n=t.map(Yg),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(Yg(e)),h.push(Ug));p=(e,n)=>t[n],f=(e,t)=>n[t]}for(o=0,i=h.length;o<i;++o)a=h[o],c=h[o]=new cg(a),null!=(u=p(a,o,r))&&(u+="")&&(d=c.id=u,m.set(d,m.has(d)?Vg:c)),null!=(u=f(a,o,r))&&(u+="")&&(c.parent=u);for(o=0;o<i;++o)if(u=(c=h[o]).parent){if(!(l=m.get(u)))throw new Error("missing: "+u);if(l===Vg)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(s)throw new Error("multiple roots");s=c}if(!s)throw new Error("no root");if(null!=e){for(;s.data===Ug&&1===s.children.length;)s=s.children[0],--i;for(let e=h.length-1;e>=0&&(c=h[e]).data===Ug;--e)c.data=null}if(s.parent=Wg,s.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore(lg),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(e){return arguments.length?(t=ug(e),r):t},r.parentId=function(e){return arguments.length?(n=ug(e),r):n},r.path=function(t){return arguments.length?(e=ug(t),r):e},r}function Yg(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Xg(e,t););return e.slice(0,t)}function Xg(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(0===(1&n))return!0}return!1}function Kg(e,t){return e.parent===t.parent?1:2}function Zg(e){var t=e.children;return t?t[0]:e.t}function Jg(e){var t=e.children;return t?t[t.length-1]:e.t}function Qg(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function $g(e,t,n){return e.a.parent===t.parent?e.a:n}function ev(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function tv(){var e=Kg,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,a,o=new ev(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new ev(r[i],i)),n.parent=t;return(o.parent=new ev(null,0)).children=[o],o}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)i.eachBefore(s);else{var c=i,u=i,d=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)}));var h=c===u?1:e(c,u)/2,p=h-c.x,f=t/(u.x+h+p),m=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+p)*f,e.y=e.depth*m}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,s=n,l=a.parent.children[0],c=a.m,u=o.m,d=s.m,h=l.m;s=Jg(s),a=Zg(a),s&&a;)l=Zg(l),(o=Jg(o)).a=t,(i=s.z+d-a.z-c+e(s._,a._))>0&&(Qg($g(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!Jg(o)&&(o.t=s,o.m+=d-u),a&&!Zg(l)&&(l.t=a,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function nv(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,c=e.value&&(i-n)/e.value;++s<l;)(a=o[s]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}ev.prototype=Object.create(cg.prototype);var rv=(1+Math.sqrt(5))/2;function iv(e,t,n,r,i,a){for(var o,s,l,c,u,d,h,p,f,m,g,v=[],b=t.children,y=0,x=0,w=b.length,_=t.value;y<w;){l=i-n,c=a-r;do{u=b[x++].value}while(!u&&x<w);for(d=h=u,g=u*u*(m=Math.max(c/l,l/c)/(_*e)),f=Math.max(h/g,g/d);x<w;++x){if(u+=s=b[x].value,s<d&&(d=s),s>h&&(h=s),g=u*u*m,(p=Math.max(h/g,g/d))>f){u-=s;break}f=p}v.push(o={value:u,dice:l<c,children:b.slice(y,x)}),o.dice?zg(o,n,r,i,_?r+=c*u/_:a):nv(o,n,r,_?n+=l*u/_:i,a),_-=u,y=x}return v}const av=function e(t){function n(e,n,r,i,a){iv(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(rv);function ov(){var e=av,t=!1,n=1,r=1,i=[0],a=hg,o=hg,s=hg,l=hg,c=hg;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(Fg),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,h=t.y1-n;d<r&&(r=d=(r+d)/2),h<u&&(u=h=(u+h)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=h,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,u+=o(t)-n,(d-=s(t)-n)<r&&(r=d=(r+d)/2),(h-=l(t)-n)<u&&(u=h=(u+h)/2),e(t,r,u,d,h))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=dg(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:pg(+e),u):a},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:pg(+e),u):o},u.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:pg(+e),u):s},u.paddingBottom=function(e){return arguments.length?(l="function"===typeof e?e:pg(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:pg(+e),u):c},u}function sv(e,t,n,r,i){var a,o,s=e.children,l=s.length,c=new Array(l+1);for(c[0]=o=a=0;a<l;++a)c[a+1]=o+=s[a].value;!function e(t,n,r,i,a,o,l){if(t>=n-1){var u=s[t];return u.x0=i,u.y0=a,u.x1=o,void(u.y1=l)}var d=c[t],h=r/2+d,p=t+1,f=n-1;for(;p<f;){var m=p+f>>>1;c[m]<h?p=m+1:f=m}h-c[p-1]<c[p]-h&&t+1<p&&--p;var g=c[p]-d,v=r-g;if(o-i>l-a){var b=r?(i*v+o*g)/r:o;e(t,p,g,i,a,b,l),e(p,n,v,b,a,o,l)}else{var y=r?(a*v+l*g)/r:l;e(t,p,g,i,a,o,y),e(p,n,v,i,y,o,l)}}(0,l,e.value,t,n,r,i)}function lv(e,t,n,r,i){(1&e.depth?nv:zg)(e,t,n,r,i)}const cv=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,l,c,u,d=-1,h=o.length,p=e.value;++d<h;){for(l=(s=o[d]).children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?zg(s,n,r,i,p?r+=(a-r)*s.value/p:a):nv(s,n,r,p?n+=(i-n)*s.value/p:i,a),p-=s.value}else e._squarify=o=iv(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(rv);function uv(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function dv(e,t){var n=Pr(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}function hv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pv(e){return((e=Math.exp(e))+1/e)/2}const fv=function e(t,n,r){function i(e,i){var a,o,s=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],p=u-s,f=d-l,m=p*p+f*f;if(m<1e-12)o=Math.log(h/c)/t,a=function(e){return[s+e*p,l+e*f,c*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),b=(h*h-c*c-r*m)/(2*h*n*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(b*b+1)-b);o=(x-y)/t,a=function(e){var r=e*o,i=pv(y),a=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+y)-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[s+a*p,l+a*f,c*i/pv(t*r+y)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function mv(e){return function(t,n){var r=e((t=Cr(t)).h,(n=Cr(n)).h),i=Lr(t.s,n.s),a=Lr(t.l,n.l),o=Lr(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}const gv=mv(Pr);var vv=mv(Lr);function bv(e,t){var n=Lr((e=es(e)).l,(t=es(t)).l),r=Lr(e.a,t.a),i=Lr(e.b,t.b),a=Lr(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function yv(e){return function(t,n){var r=e((t=ls(t)).h,(n=ls(n)).h),i=Lr(t.c,n.c),a=Lr(t.l,n.l),o=Lr(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}const xv=yv(Pr);var wv=yv(Lr);function _v(e){return function t(n){function r(t,r){var i=e((t=ys(t)).h,(r=ys(r)).h),a=Lr(t.s,r.s),o=Lr(t.l,r.l),s=Lr(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}const kv=_v(Pr);var Sv=_v(Lr);function Cv(e,t){void 0===t&&(t=e,e=Qr);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function Av(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Tv(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2}function Iv(e){for(var t,n,r=-1,i=e.length,a=0,o=0,s=e[i-1],l=0;++r<i;)t=s,s=e[r],l+=n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a/(l*=3),o/l]}function Ev(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Nv(e,t){return e[0]-t[0]||e[1]-t[1]}function Mv(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&Ev(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function jv(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(Nv),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=Mv(r),o=Mv(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+s;t<o.length-l;++t)c.push(e[r[o[t]][2]]);return c}function Dv(e,t){for(var n,r,i=e.length,a=e[i-1],o=t[0],s=t[1],l=a[0],c=a[1],u=!1,d=0;d<i;++d)n=(a=e[d])[0],(r=a[1])>s!==c>s&&o<(l-n)*(s-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}function Rv(e){for(var t,n,r=-1,i=e.length,a=e[i-1],o=a[0],s=a[1],l=0;++r<i;)t=o,n=s,t-=o=(a=e[r])[0],n-=s=a[1],l+=Math.hypot(t,n);return l}const Pv=Math.random,Ov=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(Pv),Lv=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(Pv),Fv=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(Pv),zv=function e(t){var n=Fv.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(Pv),Bv=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(Pv),Wv=function e(t){var n=Bv.source(t);function r(e){if(0===(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(Pv),Vv=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(Pv),Uv=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(Pv),Hv=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(Pv),qv=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(Pv),Gv=function e(t){var n=Fv.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(i)),o=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),s=1+a*e}while(s<=0);s*=s*s;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-s+Math.log(s)));return i*s*o()*r}}return r.source=e,r}(Pv),Yv=function e(t){var n=Gv.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(Pv),Xv=function e(t){var n=qv.source(t),r=Yv.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,a=e,o=t;a*o>16&&a*(1-o)>16;){var s=Math.floor((a+1)*o),l=r(s,a-s+1)();l<=o?(i+=s,a-=s,o=(o-l)/(1-l)):(a=s-1,o/=l)}for(var c=o<.5,u=n(c?o:1-o),d=u(),h=0;d<=a;++h)d+=u();return i+(c?h:a-h)}}return i.source=e,i}(Pv),Kv=function e(t){function n(e,n,r){var i;return 0===(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(Pv),Zv=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(Pv),Jv=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(Pv),Qv=function e(t){var n=Gv.source(t),r=Xv.source(t);function i(e){return function(){for(var i=0,a=e;a>16;){var o=Math.floor(.875*a),s=n(o)();if(s>a)return i+r(o-1,a/s)();i+=o,a-=s}for(var l=-Math.log1p(-t()),c=0;l<=a;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(Pv),$v=1664525,eb=1013904223,tb=1/4294967296;function nb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),t=0|(0<=e&&e<1?e/tb:Math.abs(e));return()=>(t=$v*t+eb|0,tb*(t>>>0))}function rb(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ib(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}const ab=Symbol("implicit");function ob(){var e=new j,t=[],n=[],r=ab;function i(i){let a=e.get(i);if(void 0===a){if(r!==ab)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new j;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return ob(t,n).unknown(r)},rb.apply(i,arguments),i}function sb(){var e,t,n=ob().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,p=d?a:o;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var f=De(n).map((function(t){return h+e*t}));return i(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return sb(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},rb.apply(d(),arguments)}function lb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lb(t())},e}function cb(){return lb(sb.apply(null,arguments).paddingInner(1))}function ub(e){return+e}var db=[0,1];function hb(e){return e}function pb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function fb(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=pb(i,r),a=n(o,a)):(r=pb(r,i),a=n(a,o)),function(e){return a(r(e))}}function mb(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=pb(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=h(e,t,1,r)-1;return a[n](i[n](t))}}function gb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vb(){var e,t,n,r,i,a,o=db,s=db,l=Qr,c=hb;function u(){var e=Math.min(o.length,s.length);return c!==hb&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?mb:fb,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Yr)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,ub),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=hv,u()},d.clamp=function(e){return arguments.length?(c=!!e||hb,u()):c!==hb},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function bb(){return vb()(hb,hb)}function yb(e,t,n,r){var i,a=ue(e,t,n);switch((r=Du(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Gu(a,o))||(r.precision=i),Bu(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Yu(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=qu(a))||(r.precision=i-2*("%"===r.type))}return zu(r)}function xb(e){var t=e.domain;return e.ticks=function(e){var n=t();return le(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return yb(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=ce(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function wb(){var e=bb();return e.copy=function(){return gb(e,wb())},rb.apply(e,arguments),xb(e)}function _b(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,ub),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return _b(e).unknown(t)},e=arguments.length?Array.from(e,ub):[0,1],xb(n)}function kb(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Sb(e){return Math.log(e)}function Cb(e){return Math.exp(e)}function Ab(e){return-Math.log(-e)}function Tb(e){return-Math.exp(-e)}function Ib(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Eb(e){return(t,n)=>-e(-t,n)}function Nb(e){const t=e(Sb,Cb),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?Ib:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=Eb(r),i=Eb(i),e(Ab,Tb)):e(Sb,Cb),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const p=null==e?10:+e;let f=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;f.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;f.push(u)}2*f.length<p&&(f=le(o,s,p))}else f=le(d,h,Math.min(h-d,p)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=Du(n)).precision||(n.trim=!0),n=zu(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(kb(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Mb(){const e=Nb(vb()).domain([1,10]);return e.copy=()=>gb(e,Mb()).base(e.base()),rb.apply(e,arguments),e}function jb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Db(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Rb(e){var t=1,n=e(jb(t),Db(t));return n.constant=function(n){return arguments.length?e(jb(t=+n),Db(t)):t},xb(n)}function Pb(){var e=Rb(vb());return e.copy=function(){return gb(e,Pb()).constant(e.constant())},rb.apply(e,arguments)}function Ob(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lb(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fb(e){return e<0?-e*e:e*e}function zb(e){var t=e(hb,hb),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(hb,hb):.5===n?e(Lb,Fb):e(Ob(n),Ob(1/n)):n},xb(t)}function Bb(){var e=zb(vb());return e.copy=function(){return gb(e,Bb()).exponent(e.exponent())},rb.apply(e,arguments),e}function Wb(){return Bb.apply(null,arguments).exponent(.5)}function Vb(e){return Math.sign(e)*e*e}function Ub(){var e,t=bb(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Vb(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,ub)).map(Vb)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ub(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},rb.apply(i,arguments),xb(i)}function Hb(){var e,t=[],n=[],i=[];function a(){var e=0,r=Math.max(1,n.length);for(i=new Array(r-1);++e<r;)i[e-1]=_e(t,e/r);return o}function o(t){return null==t||isNaN(t=+t)?e:n[h(i,t)]}return o.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(r),a()},o.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return i.slice()},o.copy=function(){return Hb().domain(t).range(n).unknown(e)},rb.apply(o,arguments)}function qb(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[h(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return qb().domain([t,n]).range(a).unknown(e)},rb.apply(xb(o),arguments)}function Gb(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[h(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Gb().domain(t).range(n).unknown(e)},rb.apply(i,arguments)}const Yb=1e3,Xb=6e4,Kb=36e5,Zb=864e5,Jb=6048e5,Qb=2592e6,$b=31536e6,ey=new Date,ty=new Date;function ny(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>ny((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(ey.setTime(+t),ty.setTime(+r),e(ey),e(ty),Math.floor(n(ey,ty))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ry=ny((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));ry.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ny((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):ry:null);const iy=ry.range,ay=ny((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Yb)}),((e,t)=>(t-e)/Yb),(e=>e.getUTCSeconds())),oy=ay.range,sy=ny((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yb)}),((e,t)=>{e.setTime(+e+t*Xb)}),((e,t)=>(t-e)/Xb),(e=>e.getMinutes())),ly=sy.range,cy=ny((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Xb)}),((e,t)=>(t-e)/Xb),(e=>e.getUTCMinutes())),uy=cy.range,dy=ny((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yb-e.getMinutes()*Xb)}),((e,t)=>{e.setTime(+e+t*Kb)}),((e,t)=>(t-e)/Kb),(e=>e.getHours())),hy=dy.range,py=ny((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Kb)}),((e,t)=>(t-e)/Kb),(e=>e.getUTCHours())),fy=py.range,my=ny((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xb)/Zb),(e=>e.getDate()-1)),gy=my.range,vy=ny((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Zb),(e=>e.getUTCDate()-1)),by=vy.range,yy=ny((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Zb),(e=>Math.floor(e/Zb))),xy=yy.range;function wy(e){return ny((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xb)/Jb))}const _y=wy(0),ky=wy(1),Sy=wy(2),Cy=wy(3),Ay=wy(4),Ty=wy(5),Iy=wy(6),Ey=_y.range,Ny=ky.range,My=Sy.range,jy=Cy.range,Dy=Ay.range,Ry=Ty.range,Py=Iy.range;function Oy(e){return ny((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Jb))}const Ly=Oy(0),Fy=Oy(1),zy=Oy(2),By=Oy(3),Wy=Oy(4),Vy=Oy(5),Uy=Oy(6),Hy=Ly.range,qy=Fy.range,Gy=zy.range,Yy=By.range,Xy=Wy.range,Ky=Vy.range,Zy=Uy.range,Jy=ny((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),Qy=Jy.range,$y=ny((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth())),ex=$y.range,tx=ny((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));tx.every=e=>isFinite(e=Math.floor(e))&&e>0?ny((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;const nx=tx.range,rx=ny((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));rx.every=e=>isFinite(e=Math.floor(e))&&e>0?ny((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;const ix=rx.range;function ax(e,t,n,r,i,o){const s=[[ay,1,Yb],[ay,5,5e3],[ay,15,15e3],[ay,30,3e4],[o,1,Xb],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Kb],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Zb],[r,2,1728e5],[n,1,Jb],[t,1,Qb],[t,3,7776e6],[e,1,$b]];function l(t,n,r){const i=Math.abs(n-t)/r,o=a((e=>{let[,,t]=e;return t})).right(s,i);if(o===s.length)return e.every(ue(t/$b,n/$b,r));if(0===o)return ry.every(Math.max(ue(t,n,r),1));const[l,c]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return l.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:l(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},l]}const[ox,sx]=ax(rx,$y,Ly,yy,py,cy),[lx,cx]=ax(tx,Jy,_y,my,dy,sy);function ux(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function px(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Cx(i),u=Ax(i),d=Cx(a),h=Ax(a),p=Cx(o),f=Ax(o),m=Cx(s),g=Ax(s),v=Cx(l),b=Ax(l),y={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Yx,e:Yx,f:Qx,g:cw,G:dw,H:Xx,I:Kx,j:Zx,L:Jx,m:$x,M:ew,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Rw,s:Pw,S:tw,u:nw,U:rw,V:aw,w:ow,W:sw,x:null,X:null,y:lw,Y:uw,Z:hw,"%":Dw},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:pw,e:pw,f:bw,g:Ew,G:Mw,H:fw,I:mw,j:gw,L:vw,m:yw,M:xw,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Rw,s:Pw,S:ww,u:_w,U:kw,V:Cw,w:Aw,W:Tw,x:null,X:null,y:Iw,Y:Nw,Z:jw,"%":Dw},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Lx,e:Lx,f:Ux,g:Dx,G:jx,H:zx,I:zx,j:Fx,L:Vx,m:Ox,M:Bx,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Px,Q:qx,s:Gx,S:Wx,u:Ix,U:Ex,V:Nx,w:Tx,W:Mx,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Dx,Y:jx,Z:Rx,"%":Hx};function _(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=yx[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(n){var r,i,a=hx(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=dx(hx(a.y,0,1))).getUTCDay(),r=i>4||0===i?Fy.ceil(r):Fy(r),r=vy.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=ux(hx(a.y,0,1))).getDay(),r=i>4||0===i?ky.ceil(r):ky(r),r=my.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?dx(hx(a.y,0,1)).getUTCDay():ux(hx(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,dx(a)):ux(a)}}function S(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in yx?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=_(n,y),y.X=_(r,y),y.c=_(t,y),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}var fx,mx,gx,vx,bx,yx={"-":"",_:" ",0:"0"},xx=/^\s*\d+/,wx=/^%/,_x=/[\\^$*+?|[\]().{}]/g;function kx(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Sx(e){return e.replace(_x,"\\$&")}function Cx(e){return new RegExp("^(?:"+e.map(Sx).join("|")+")","i")}function Ax(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Tx(e,t,n){var r=xx.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ix(e,t,n){var r=xx.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ex(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Nx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Mx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jx(e,t,n){var r=xx.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Dx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rx(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Px(e,t,n){var r=xx.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ox(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Lx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fx(e,t,n){var r=xx.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Wx(e,t,n){var r=xx.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Vx(e,t,n){var r=xx.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ux(e,t,n){var r=xx.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hx(e,t,n){var r=wx.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qx(e,t,n){var r=xx.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Gx(e,t,n){var r=xx.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yx(e,t){return kx(e.getDate(),t,2)}function Xx(e,t){return kx(e.getHours(),t,2)}function Kx(e,t){return kx(e.getHours()%12||12,t,2)}function Zx(e,t){return kx(1+my.count(tx(e),e),t,3)}function Jx(e,t){return kx(e.getMilliseconds(),t,3)}function Qx(e,t){return Jx(e,t)+"000"}function $x(e,t){return kx(e.getMonth()+1,t,2)}function ew(e,t){return kx(e.getMinutes(),t,2)}function tw(e,t){return kx(e.getSeconds(),t,2)}function nw(e){var t=e.getDay();return 0===t?7:t}function rw(e,t){return kx(_y.count(tx(e)-1,e),t,2)}function iw(e){var t=e.getDay();return t>=4||0===t?Ay(e):Ay.ceil(e)}function aw(e,t){return e=iw(e),kx(Ay.count(tx(e),e)+(4===tx(e).getDay()),t,2)}function ow(e){return e.getDay()}function sw(e,t){return kx(ky.count(tx(e)-1,e),t,2)}function lw(e,t){return kx(e.getFullYear()%100,t,2)}function cw(e,t){return kx((e=iw(e)).getFullYear()%100,t,2)}function uw(e,t){return kx(e.getFullYear()%1e4,t,4)}function dw(e,t){var n=e.getDay();return kx((e=n>=4||0===n?Ay(e):Ay.ceil(e)).getFullYear()%1e4,t,4)}function hw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kx(t/60|0,"0",2)+kx(t%60,"0",2)}function pw(e,t){return kx(e.getUTCDate(),t,2)}function fw(e,t){return kx(e.getUTCHours(),t,2)}function mw(e,t){return kx(e.getUTCHours()%12||12,t,2)}function gw(e,t){return kx(1+vy.count(rx(e),e),t,3)}function vw(e,t){return kx(e.getUTCMilliseconds(),t,3)}function bw(e,t){return vw(e,t)+"000"}function yw(e,t){return kx(e.getUTCMonth()+1,t,2)}function xw(e,t){return kx(e.getUTCMinutes(),t,2)}function ww(e,t){return kx(e.getUTCSeconds(),t,2)}function _w(e){var t=e.getUTCDay();return 0===t?7:t}function kw(e,t){return kx(Ly.count(rx(e)-1,e),t,2)}function Sw(e){var t=e.getUTCDay();return t>=4||0===t?Wy(e):Wy.ceil(e)}function Cw(e,t){return e=Sw(e),kx(Wy.count(rx(e),e)+(4===rx(e).getUTCDay()),t,2)}function Aw(e){return e.getUTCDay()}function Tw(e,t){return kx(Fy.count(rx(e)-1,e),t,2)}function Iw(e,t){return kx(e.getUTCFullYear()%100,t,2)}function Ew(e,t){return kx((e=Sw(e)).getUTCFullYear()%100,t,2)}function Nw(e,t){return kx(e.getUTCFullYear()%1e4,t,4)}function Mw(e,t){var n=e.getUTCDay();return kx((e=n>=4||0===n?Wy(e):Wy.ceil(e)).getUTCFullYear()%1e4,t,4)}function jw(){return"+0000"}function Dw(){return"%"}function Rw(e){return+e}function Pw(e){return Math.floor(+e/1e3)}function Ow(e){return fx=px(e),mx=fx.format,gx=fx.parse,vx=fx.utcFormat,bx=fx.utcParse,fx}function Lw(e){return new Date(e)}function Fw(e){return e instanceof Date?+e:+new Date(+e)}function zw(e,t,n,r,i,a,o,s,l,c){var u=bb(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),x=c("%Y");function w(e){return(l(e)<e?p:s(e)<e?f:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?v:b:n(e)<e?y:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Fw)):h().map(Lw)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(kb(n,e)):u},u.copy=function(){return gb(u,zw(e,t,n,r,i,a,o,s,l,c))},u}function Bw(){return rb.apply(zw(lx,cx,tx,Jy,_y,my,dy,sy,ay,mx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ww(){return rb.apply(zw(ox,sx,rx,$y,Ly,vy,py,cy,ay,vx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vw(){var e,t,n,r,i,a=0,o=1,s=hb,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Qr),c.rangeRound=u(hv),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function Uw(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Hw(){var e=xb(Vw()(hb));return e.copy=function(){return Uw(e,Hw())},ib.apply(e,arguments)}function qw(){var e=Nb(Vw()).domain([1,10]);return e.copy=function(){return Uw(e,qw()).base(e.base())},ib.apply(e,arguments)}function Gw(){var e=Rb(Vw());return e.copy=function(){return Uw(e,Gw()).constant(e.constant())},ib.apply(e,arguments)}function Yw(){var e=zb(Vw());return e.copy=function(){return Uw(e,Yw()).exponent(e.exponent())},ib.apply(e,arguments)}function Xw(){return Yw.apply(null,arguments).exponent(.5)}function Kw(){var e=[],t=hb;function n(n){if(null!=n&&!isNaN(n=+n))return t((h(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(r),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>we(e,r/t)))},n.copy=function(){return Kw(t).domain(e)},ib.apply(n,arguments)}function Zw(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=hb,h=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=Cv(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=f(Qr),p.rangeRound=f(hv),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function Jw(){var e=xb(Zw()(hb));return e.copy=function(){return Uw(e,Jw())},ib.apply(e,arguments)}function Qw(){var e=Nb(Zw()).domain([.1,1,10]);return e.copy=function(){return Uw(e,Qw()).base(e.base())},ib.apply(e,arguments)}function $w(){var e=Rb(Zw());return e.copy=function(){return Uw(e,$w()).constant(e.constant())},ib.apply(e,arguments)}function e_(){var e=zb(Zw());return e.copy=function(){return Uw(e,e_()).exponent(e.exponent())},ib.apply(e,arguments)}function t_(){return e_.apply(null,arguments).exponent(.5)}function n_(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}Ow({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const r_=n_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),i_=n_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a_=n_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),o_=n_("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),s_=n_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l_=n_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),c_=n_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u_=n_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),d_=n_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),h_=n_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),p_=n_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),f_=e=>Br(e[e.length-1]);var m_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(n_);const g_=f_(m_);var v_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(n_);const b_=f_(v_);var y_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(n_);const x_=f_(y_);var w_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(n_);const __=f_(w_);var k_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(n_);const S_=f_(k_);var C_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(n_);const A_=f_(C_);var T_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(n_);const I_=f_(T_);var E_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(n_);const N_=f_(E_);var M_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(n_);const j_=f_(M_);var D_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(n_);const R_=f_(D_);var P_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(n_);const O_=f_(P_);var L_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(n_);const F_=f_(L_);var z_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(n_);const B_=f_(z_);var W_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(n_);const V_=f_(W_);var U_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(n_);const H_=f_(U_);var q_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(n_);const G_=f_(q_);var Y_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(n_);const X_=f_(Y_);var K_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(n_);const Z_=f_(K_);var J_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(n_);const Q_=f_(J_);var $_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(n_);const ek=f_($_);var tk=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(n_);const nk=f_(tk);var rk=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(n_);const ik=f_(rk);var ak=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(n_);const ok=f_(ak);var sk=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(n_);const lk=f_(sk);var ck=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(n_);const uk=f_(ck);var dk=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(n_);const hk=f_(dk);var pk=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(n_);const fk=f_(pk);function mk(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const gk=Sv(ys(300,.5,0),ys(-240,.5,1));var vk=Sv(ys(-100,.75,.35),ys(80,1.5,.8)),bk=Sv(ys(260,.75,.35),ys(80,1.5,.8)),yk=ys();function xk(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return yk.h=360*e-100,yk.s=1.5-1.5*t,yk.l=.8-.9*t,yk+""}var wk=gr(),_k=Math.PI/3,kk=2*Math.PI/3;function Sk(e){var t;return e=(.5-e)*Math.PI,wk.r=255*(t=Math.sin(e))*t,wk.g=255*(t=Math.sin(e+_k))*t,wk.b=255*(t=Math.sin(e+kk))*t,wk+""}function Ck(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Ak(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Tk=Ak(n_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ik=Ak(n_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ek=Ak(n_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Nk=Ak(n_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Mk(e){return Wn(Tn(e).call(document.documentElement))}var jk=0;function Dk(){return new Rk}function Rk(){this._="@"+(++jk).toString(36)}function Pk(e,t){return e.target&&(e=$r(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>ei(e,t)))}function Ok(e){return"string"===typeof e?new Fn([document.querySelectorAll(e)],[document.documentElement]):new Fn([Et(e)],Ln)}function Lk(e){return function(){return e}}Rk.prototype=Dk.prototype={constructor:Rk,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const Fk=Math.abs,zk=Math.atan2,Bk=Math.cos,Wk=Math.max,Vk=Math.min,Uk=Math.sin,Hk=Math.sqrt,qk=1e-12,Gk=Math.PI,Yk=Gk/2,Xk=2*Gk;function Kk(e){return e>=1?Yk:e<=-1?-Yk:Math.asin(e)}function Zk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Io(t)}function Jk(e){return e.innerRadius}function Qk(e){return e.outerRadius}function $k(e){return e.startAngle}function eS(e){return e.endAngle}function tS(e){return e&&e.padAngle}function nS(e,t,n,r,i,a,o){var s=e-n,l=t-r,c=(o?a:-a)/Hk(s*s+l*l),u=c*l,d=-c*s,h=e+u,p=t+d,f=n+u,m=r+d,g=(h+f)/2,v=(p+m)/2,b=f-h,y=m-p,x=b*b+y*y,w=i-a,_=h*m-f*p,k=(y<0?-1:1)*Hk(Wk(0,w*w*x-_*_)),S=(_*y-b*k)/x,C=(-_*b-y*k)/x,A=(_*y+b*k)/x,T=(-_*b+y*k)/x,I=S-g,E=C-v,N=A-g,M=T-v;return I*I+E*E>N*N+M*M&&(S=A,C=T),{cx:S,cy:C,x01:-u,y01:-d,x11:S*(i/w-1),y11:C*(i/w-1)}}function rS(){var e=Jk,t=Qk,n=Lk(0),r=null,i=$k,a=eS,o=tS,s=null,l=Zk(c);function c(){var c,u,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Yk,f=a.apply(this,arguments)-Yk,m=Fk(f-p),g=f>p;if(s||(s=c=l()),h<d&&(u=h,h=d,d=u),h>qk)if(m>Xk-qk)s.moveTo(h*Bk(p),h*Uk(p)),s.arc(0,0,h,p,f,!g),d>qk&&(s.moveTo(d*Bk(f),d*Uk(f)),s.arc(0,0,d,f,p,g));else{var v,b,y=p,x=f,w=p,_=f,k=m,S=m,C=o.apply(this,arguments)/2,A=C>qk&&(r?+r.apply(this,arguments):Hk(d*d+h*h)),T=Vk(Fk(h-d)/2,+n.apply(this,arguments)),I=T,E=T;if(A>qk){var N=Kk(A/d*Uk(C)),M=Kk(A/h*Uk(C));(k-=2*N)>qk?(w+=N*=g?1:-1,_-=N):(k=0,w=_=(p+f)/2),(S-=2*M)>qk?(y+=M*=g?1:-1,x-=M):(S=0,y=x=(p+f)/2)}var j=h*Bk(y),D=h*Uk(y),R=d*Bk(_),P=d*Uk(_);if(T>qk){var O,L=h*Bk(x),F=h*Uk(x),z=d*Bk(w),B=d*Uk(w);if(m<Gk)if(O=function(e,t,n,r,i,a,o,s){var l=n-e,c=r-t,u=o-i,d=s-a,h=d*l-u*c;if(!(h*h<qk))return[e+(h=(u*(t-a)-d*(e-i))/h)*l,t+h*c]}(j,D,z,B,L,F,R,P)){var W=j-O[0],V=D-O[1],U=L-O[0],H=F-O[1],q=1/Uk(function(e){return e>1?0:e<-1?Gk:Math.acos(e)}((W*U+V*H)/(Hk(W*W+V*V)*Hk(U*U+H*H)))/2),G=Hk(O[0]*O[0]+O[1]*O[1]);I=Vk(T,(d-G)/(q-1)),E=Vk(T,(h-G)/(q+1))}else I=E=0}S>qk?E>qk?(v=nS(z,B,j,D,h,E,g),b=nS(L,F,R,P,h,E,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),E<T?s.arc(v.cx,v.cy,E,zk(v.y01,v.x01),zk(b.y01,b.x01),!g):(s.arc(v.cx,v.cy,E,zk(v.y01,v.x01),zk(v.y11,v.x11),!g),s.arc(0,0,h,zk(v.cy+v.y11,v.cx+v.x11),zk(b.cy+b.y11,b.cx+b.x11),!g),s.arc(b.cx,b.cy,E,zk(b.y11,b.x11),zk(b.y01,b.x01),!g))):(s.moveTo(j,D),s.arc(0,0,h,y,x,!g)):s.moveTo(j,D),d>qk&&k>qk?I>qk?(v=nS(R,P,L,F,d,-I,g),b=nS(j,D,z,B,d,-I,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),I<T?s.arc(v.cx,v.cy,I,zk(v.y01,v.x01),zk(b.y01,b.x01),!g):(s.arc(v.cx,v.cy,I,zk(v.y01,v.x01),zk(v.y11,v.x11),!g),s.arc(0,0,d,zk(v.cy+v.y11,v.cx+v.x11),zk(b.cy+b.y11,b.cx+b.x11),g),s.arc(b.cx,b.cy,I,zk(b.y11,b.x11),zk(b.y01,b.x01),!g))):s.arc(0,0,d,_,w,g):s.lineTo(R,P)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Gk/2;return[Bk(r)*n,Uk(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Lk(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Lk(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Lk(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Lk(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:Lk(+e),c):i},c.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:Lk(+e),c):a},c.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:Lk(+e),c):o},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}var iS=Array.prototype.slice;function aS(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function oS(e){this._context=e}function sS(e){return new oS(e)}function lS(e){return e[0]}function cS(e){return e[1]}function uS(e,t){var n=Lk(!0),r=null,i=sS,a=null,o=Zk(s);function s(s){var l,c,u,d=(s=aS(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?lS:Lk(e),t="function"===typeof t?t:void 0===t?cS:Lk(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Lk(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Lk(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Lk(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function dS(e,t,n){var r=null,i=Lk(!0),a=null,o=sS,s=null,l=Zk(c);function c(c){var u,d,h,p,f,m=(c=aS(c)).length,g=!1,v=new Array(m),b=new Array(m);for(null==a&&(s=o(f=l())),u=0;u<=m;++u){if(!(u<m&&i(p=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],b[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(p,u,c),b[u]=+t(p,u,c),s.point(r?+r(p,u,c):v[u],n?+n(p,u,c):b[u]))}if(f)return s=null,f+""||null}function u(){return uS().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?lS:Lk(+e),t="function"===typeof t?t:Lk(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?cS:Lk(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Lk(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Lk(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Lk(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Lk(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Lk(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Lk(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Lk(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function hS(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function pS(e){return e}function fS(){var e=pS,t=hS,n=null,r=Lk(0),i=Lk(Xk),a=Lk(0);function o(o){var s,l,c,u,d,h=(o=aS(o)).length,p=0,f=new Array(h),m=new Array(h),g=+r.apply(this,arguments),v=Math.min(Xk,Math.max(-Xk,i.apply(this,arguments)-g)),b=Math.min(Math.abs(v)/h,a.apply(this,arguments)),y=b*(v<0?-1:1);for(s=0;s<h;++s)(d=m[f[s]=s]=+e(o[s],s,o))>0&&(p+=d);for(null!=t?f.sort((function(e,n){return t(m[e],m[n])})):null!=n&&f.sort((function(e,t){return n(o[e],o[t])})),s=0,c=p?(v-h*y)/p:0;s<h;++s,g=u)l=f[s],u=g+((d=m[l])>0?d*c:0)+y,m[l]={data:o[l],index:s,value:d,startAngle:g,endAngle:u,padAngle:b};return m}return o.value=function(t){return arguments.length?(e="function"===typeof t?t:Lk(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:Lk(+e),o):r},o.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:Lk(+e),o):i},o.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:Lk(+e),o):a},o}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var mS=vS(sS);function gS(e){this._curve=e}function vS(e){function t(t){return new gS(e(t))}return t._curve=e,t}function bS(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(vS(e)):t()._curve},e}function yS(){return bS(uS().curve(mS))}function xS(){var e=dS().curve(mS),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return bS(n())},delete e.lineX0,e.lineEndAngle=function(){return bS(r())},delete e.lineX1,e.lineInnerRadius=function(){return bS(i())},delete e.lineY0,e.lineOuterRadius=function(){return bS(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(vS(e)):t()._curve},e}function wS(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}gS.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class _S{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class kS{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=wS(this._x0,this._y0),r=wS(this._x0,this._y0=(this._y0+t)/2),i=wS(e,this._y0),a=wS(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...a)}this._x0=e,this._y0=t}}function SS(e){return new _S(e,!0)}function CS(e){return new _S(e,!1)}function AS(e){return new kS(e)}function TS(e){return e.source}function IS(e){return e.target}function ES(e){let t=TS,n=IS,r=lS,i=cS,a=null,o=null,s=Zk(l);function l(){let l;const c=iS.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(null==a&&(o=e(l=s())),o.lineStart(),c[0]=u,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),l)return o=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(r="function"===typeof e?e:Lk(+e),l):r},l.y=function(e){return arguments.length?(i="function"===typeof e?e:Lk(+e),l):i},l.context=function(t){return arguments.length?(null==t?a=o=null:o=e(a=t),l):a},l}function NS(){return ES(SS)}function MS(){return ES(CS)}function jS(){const e=ES(AS);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const DS=Hk(3),RS={draw(e,t){const n=.59436*Hk(t+Vk(t/28,.75)),r=n/2,i=r*DS;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},PS={draw(e,t){const n=Hk(t/Gk);e.moveTo(n,0),e.arc(0,0,n,0,Xk)}},OS={draw(e,t){const n=Hk(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LS=Hk(1/3),FS=2*LS,zS={draw(e,t){const n=Hk(t/FS),r=n*LS;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},BS={draw(e,t){const n=.62625*Hk(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},WS={draw(e,t){const n=.87559*Hk(t-Vk(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},VS={draw(e,t){const n=Hk(t),r=-n/2;e.rect(r,r,n,n)}},US={draw(e,t){const n=.4431*Hk(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},HS=Uk(Gk/10)/Uk(7*Gk/10),qS=Uk(Xk/10)*HS,GS=-Bk(Xk/10)*HS,YS={draw(e,t){const n=Hk(.8908130915292852*t),r=qS*n,i=GS*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=Xk*a/5,o=Bk(t),s=Uk(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},XS=Hk(3),KS={draw(e,t){const n=-Hk(t/(3*XS));e.moveTo(0,2*n),e.lineTo(-XS*n,-n),e.lineTo(XS*n,-n),e.closePath()}},ZS=Hk(3),JS={draw(e,t){const n=.6824*Hk(t),r=n/2,i=n*ZS/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},QS=-.5,$S=Hk(3)/2,eC=1/Hk(12),tC=3*(eC/2+1),nC={draw(e,t){const n=Hk(t/tC),r=n/2,i=n*eC,a=r,o=n*eC+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(QS*r-$S*i,$S*r+QS*i),e.lineTo(QS*a-$S*o,$S*a+QS*o),e.lineTo(QS*s-$S*l,$S*s+QS*l),e.lineTo(QS*r+$S*i,QS*i-$S*r),e.lineTo(QS*a+$S*o,QS*o-$S*a),e.lineTo(QS*s+$S*l,QS*l-$S*s),e.closePath()}},rC={draw(e,t){const n=.6189*Hk(t-Vk(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},iC=[PS,OS,zS,VS,YS,KS,nC],aC=[PS,WS,rC,JS,RS,US,BS];function oC(e,t){let n=null,r=Zk(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Lk(e||PS),t="function"===typeof t?t:Lk(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Lk(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Lk(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function sC(){}function lC(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function cC(e){this._context=e}function uC(e){return new cC(e)}function dC(e){this._context=e}function hC(e){return new dC(e)}function pC(e){this._context=e}function fC(e){return new pC(e)}function mC(e,t){this._basis=new cC(e),this._beta=t}cC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dC.prototype={areaStart:sC,areaEnd:sC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*o),this._beta*t[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const gC=function e(t){function n(e){return 1===t?new cC(e):new mC(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function vC(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function bC(e,t){this._context=e,this._k=(1-t)/6}bC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vC(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:vC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yC=function e(t){function n(e){return new bC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function xC(e,t){this._context=e,this._k=(1-t)/6}xC.prototype={areaStart:sC,areaEnd:sC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:vC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const wC=function e(t){function n(e){return new xC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function _C(e,t){this._context=e,this._k=(1-t)/6}_C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kC=function e(t){function n(e){return new _C(e,t)}return n.tension=function(t){return e(+t)},n}(0);function SC(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>qk){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>qk){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function CC(e,t){this._context=e,this._alpha=t}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:SC(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AC=function e(t){function n(e){return t?new CC(e,t):new bC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function TC(e,t){this._context=e,this._alpha=t}TC.prototype={areaStart:sC,areaEnd:sC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:SC(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IC=function e(t){function n(e){return t?new TC(e,t):new xC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function EC(e,t){this._context=e,this._alpha=t}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:SC(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const NC=function e(t){function n(e){return t?new EC(e,t):new _C(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function MC(e){this._context=e}function jC(e){return new MC(e)}function DC(e){return e<0?-1:1}function RC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(DC(a)+DC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function PC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function OC(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function LC(e){this._context=e}function FC(e){this._context=new zC(e)}function zC(e){this._context=e}function BC(e){return new LC(e)}function WC(e){return new FC(e)}function VC(e){this._context=e}function UC(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function HC(e){return new VC(e)}function qC(e,t){this._context=e,this._t=t}function GC(e){return new qC(e,.5)}function YC(e){return new qC(e,0)}function XC(e){return new qC(e,1)}function KC(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ZC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function JC(e,t){return e[t]}function QC(e){const t=[];return t.key=e,t}function $C(){var e=Lk([]),t=ZC,n=KC,r=JC;function i(i){var a,o,s=Array.from(e.apply(this,arguments),QC),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=aS(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Lk(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Lk(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?ZC:"function"===typeof e?e:Lk(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?KC:e,i):n},i}function eA(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}KC(e,t)}}function tA(e,t){if((s=e.length)>0)for(var n,r,i,a,o,s,l=0,c=e[t[0]].length;l<c;++l)for(a=o=0,n=0;n<s;++n)(i=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function nA(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}KC(e,t)}}function rA(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[o][1]||0)-(f[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,KC(e,t)}}function iA(e){var t=e.map(aA);return ZC(e).sort((function(e,n){return t[e]-t[n]}))}function aA(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}function oA(e){var t=e.map(sA);return ZC(e).sort((function(e,n){return t[e]-t[n]}))}function sA(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function lA(e){return oA(e).reverse()}function cA(e){var t,n,r=e.length,i=e.map(sA),a=iA(e),o=0,s=0,l=[],c=[];for(t=0;t<r;++t)n=a[t],o<s?(o+=i[n],l.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(l)}function uA(e){return ZC(e).reverse()}MC.prototype={areaStart:sC,areaEnd:sC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},LC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:OC(this,this._t0,PC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,OC(this,PC(this,n=RC(this,e,t)),n);break;default:OC(this,this._t0,n=RC(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(FC.prototype=Object.create(LC.prototype)).point=function(e,t){LC.prototype.point.call(this,t,e)},zC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=UC(e),i=UC(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var dA="%Y-%m-%dT%H:%M:%S.%LZ";var hA=Date.prototype.toISOString?function(e){return e.toISOString()}:vx(dA);const pA=hA;var fA=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:bx(dA);const mA=fA;function gA(e,t,n){var r=new fi,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?hi():+n,r._restart((function a(o){o+=i,r._restart(a,i+=t,n),e(o)}),t,n)},r.restart(e,t,n),r)}const vA=e=>()=>e;function bA(e,t){let{sourceEvent:n,target:r,transform:i,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function yA(e,t,n){this.k=e,this.x=t,this.y=n}yA.prototype={constructor:yA,scale:function(e){return 1===e?this:new yA(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new yA(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xA=new yA(1,0,0);function wA(e){for(;!e.__zoom;)if(!(e=e.parentNode))return xA;return e.__zoom}function _A(e){e.stopImmediatePropagation()}function kA(e){e.preventDefault(),e.stopImmediatePropagation()}function SA(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function CA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function AA(){return this.__zoom||xA}function TA(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function IA(){return navigator.maxTouchPoints||"ontouchstart"in this}function EA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function NA(){var e,t,n,r=SA,i=CA,a=EA,o=TA,s=IA,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=fv,h=At("start","zoom","end"),p=500,f=150,m=0,g=10;function v(e){e.property("__zoom",AA).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new yA(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new yA(e.k,r,i)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=_(e,a).event(r),s=i.apply(e,a),l=null==n?x(s):"function"===typeof n?n.apply(e,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,a):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new yA(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=_(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,o.apply(this,arguments)))),h=ei(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],Ri(this),s.start()}kA(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),f),s.zoom("mouse",a(y(b(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function C(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=_(this,i,!0).event(e),u=Wn(e.view).on("mousemove.zoom",(function(e){if(kA(e),!l.moved){var t=e.clientX-h,n=e.clientY-p;l.moved=t*t+n*n>m}l.event(e).zoom("mouse",a(y(l.that.__zoom,l.mouse[0]=ei(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),Yn(e.view,l.moved),kA(e),l.event(e).end()}),!0),d=ei(e,s),h=e.clientX,p=e.clientY;Gn(e.view),_A(e),l.mouse=[d,this.__zoom.invert(d)],Ri(this),l.start()}}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=this.__zoom,l=ei(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),p=a(y(b(s,h),l,d),i.apply(this,n),c);kA(e),u>0?Wn(this).transition().duration(u).call(w,p,l,e):Wn(this).call(v.transform,p,l,e)}}function T(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,f=_(this,a,n.changedTouches.length===h).event(n);for(_A(n),l=0;l<h;++l)u=[u=ei(c=d[l],this),this.__zoom.invert(u),c.identifier],f.touch0?f.touch1||f.touch0[2]===u[2]||(f.touch1=u,f.taps=0):(f.touch0=u,s=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(f.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),p)),Ri(this),f.start())}}function I(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s,l,u=_(this,n).event(e),d=e.changedTouches,h=d.length;for(kA(e),i=0;i<h;++i)s=ei(o=d[i],this),u.touch0&&u.touch0[2]===o.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===o.identifier&&(u.touch1[0]=s);if(o=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],m=u.touch1[0],g=u.touch1[1],v=(v=m[0]-p[0])*v+(v=m[1]-p[1])*v,x=(x=g[0]-f[0])*x+(x=g[1]-f[1])*x;o=b(o,Math.sqrt(v/x)),s=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",a(y(o,s,l),u.extent,c))}}function E(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,s,l=_(this,i).event(e),c=e.changedTouches,u=c.length;for(_A(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),o=0;o<u;++o)s=c[o],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=ei(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<g)){var d=Wn(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",AA),e!==i?w(e,t,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},v.scaleBy=function(e,t,n,r){v.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?x(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(o),l="function"===typeof t?t.apply(this,arguments):t;return a(y(b(r,l),o,s),e,c)}),n,r)},v.translateBy=function(e,t,n,r){v.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(e,t,n,r,o){v.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==r?x(e):"function"===typeof r?r.apply(this,arguments):r;return a(xA.translate(s[0],s[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,o)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Wn(this.that).datum();h.call(e,this.that,new bA(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:h}),t)}},v.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:vA(+e),v):o},v.filter=function(e){return arguments.length?(r="function"===typeof e?e:vA(!!e),v):r},v.touchable=function(e){return arguments.length?(s="function"===typeof e?e:vA(!!e),v):s},v.extent=function(e){return arguments.length?(i="function"===typeof e?e:vA([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):i},v.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],v):[l[0],l[1]]},v.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(e){return arguments.length?(a=e,v):a},v.duration=function(e){return arguments.length?(u=+e,v):u},v.interpolate=function(e){return arguments.length?(d=e,v):d},v.on=function(){var e=h.on.apply(h,arguments);return e===h?v:e},v.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,v):Math.sqrt(m)},v.tapDistance=function(e){return arguments.length?(g=+e,v):g},v}wA.prototype=yA.prototype}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,__webpack_require__.d(i,a),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/";var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{Decoder:()=>Hb,Encoder:()=>Vb,PacketType:()=>Wb,protocol:()=>Bb});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{assertParamsValid:()=>vL,computeFlatOffset:()=>NL,computeOutShape:()=>yL,getNormalizedAxes:()=>kL,isSliceContinous:()=>EL,maskToAxes:()=>bL,parseSliceParams:()=>ML,sliceInfo:()=>jL,startForAxis:()=>TL,startIndicesWithElidedDims:()=>SL,stopForAxis:()=>IL,stopIndicesWithElidedDims:()=>CL,stridesForAxis:()=>AL,stridesWithElidedDims:()=>xL});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{collectGatherOpShapeInfo:()=>ZW,computeOutShape:()=>KW,segOpComputeOptimalWindowSize:()=>XW});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{ERF_A1:()=>hW,ERF_A2:()=>pW,ERF_A3:()=>fW,ERF_A4:()=>mW,ERF_A5:()=>gW,ERF_P:()=>dW,PARALLELIZE_THRESHOLD:()=>JB,RowPartitionType:()=>GB,SELU_SCALE:()=>uW,SELU_SCALEALPHA:()=>cW,applyActivation:()=>Kz,assertAndGetBroadcastShape:()=>eL,assertAxesAreInnerMostDims:()=>VF,assertParamsConsistent:()=>HB,assignToTypedArray:()=>_W,axesAreInnerMostDims:()=>FF,calculateShapes:()=>lW,checkEinsumDimSizes:()=>MW,checkPadOnDimRoundingMode:()=>JL,combineLocations:()=>zF,combineRaggedTensorToTensorShapes:()=>YB,complexWithEvenIndex:()=>yW,complexWithOddIndex:()=>xW,computeConv2DInfo:()=>BL,computeConv3DInfo:()=>WL,computeDefaultPad:()=>VL,computeDilation2DInfo:()=>LL,computeOptimalWindowSize:()=>QB,computeOutAndReduceShapes:()=>BF,computeOutShape:()=>qB,computePool2DInfo:()=>FL,computePool3DInfo:()=>zL,convertConv2DDataFormat:()=>ZL,decodeEinsumEquation:()=>EW,eitherStridesOrDilationsAreOne:()=>XL,expandShapeToKeepDim:()=>WF,exponent:()=>SW,exponents:()=>kW,fromStringArrayToUint8:()=>QW,fromUint8ToStringArray:()=>JW,getAxesPermutation:()=>UF,getBroadcastDims:()=>QO,getComplexWithIndex:()=>wW,getEinsumComputePath:()=>jW,getEinsumPermutation:()=>NW,getFusedBiasGradient:()=>Xz,getFusedDyActivation:()=>Yz,getImageCenter:()=>$B,getInnerMostAxes:()=>qF,getPermuted:()=>tW,getRaggedRank:()=>KB,getReductionAxes:()=>$O,getReshaped:()=>eW,getReshapedPermuted:()=>nW,getRowPartitionTypesHelper:()=>XB,getSliceBeginCoords:()=>rW,getSliceSize:()=>iW,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>OW,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>LW,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>FW,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>WW,getSparseReshapeInputOutputMismatchErrorMessage:()=>UW,getSparseReshapeInputOutputMultipleErrorMessage:()=>VW,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>zW,getSparseReshapeNegativeOutputDimErrorMessage:()=>BW,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>YW,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>HW,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>qW,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>GW,getUndoAxesPermutation:()=>HF,isIdentityPermutation:()=>DW,log:()=>sR,mergeRealAndImagArrays:()=>vW,prepareAndValidate:()=>aW,prepareSplitSize:()=>PW,segment_util:()=>n,shouldFuse:()=>Zz,slice_util:()=>t,splitRealAndImagArrays:()=>bW,stridesOrDilationsArePositive:()=>KL,tupleValuesAreOne:()=>YL,upcastType:()=>lP,validateDefaultValueShape:()=>ZB,validateInput:()=>sW,validateUpdateShape:()=>oW,warn:()=>oR});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{addImpl:()=>QJ,bincountImpl:()=>HQ,bincountReduceImpl:()=>qQ,bitwiseAndImpl:()=>YQ,castImpl:()=>YJ,ceilImpl:()=>ZQ,concatImpl:()=>n$,equalImpl:()=>B$,expImpl:()=>J$,expm1Impl:()=>n0,floorImpl:()=>y0,gatherNdImpl:()=>T0,gatherV2Impl:()=>E0,greaterEqualImpl:()=>R0,greaterImpl:()=>M0,lessEqualImpl:()=>Y0,lessImpl:()=>H0,linSpaceImpl:()=>Z0,logImpl:()=>Q0,maxImpl:()=>p1,maximumImpl:()=>g1,minimumImpl:()=>A1,multiplyImpl:()=>j$,negImpl:()=>O1,notEqualImpl:()=>H1,prodImpl:()=>r2,raggedGatherImpl:()=>l2,raggedRangeImpl:()=>d2,raggedTensorToTensorImpl:()=>v2,rangeImpl:()=>y2,rsqrtImpl:()=>M2,scatterImpl:()=>R2,sigmoidImpl:()=>FJ,simpleAbsImpl:()=>sQ,sliceImpl:()=>BQ,sparseFillEmptyRowsImpl:()=>e3,sparseReshapeImpl:()=>n3,sparseSegmentReductionImpl:()=>i3,sqrtImpl:()=>c3,staticRegexReplaceImpl:()=>g3,stridedSliceImpl:()=>w3,stringNGramsImpl:()=>S3,stringSplitImpl:()=>T3,stringToHashBucketFastImpl:()=>E3,subImpl:()=>l0,tileImpl:()=>P3,topKImpl:()=>z3,transposeImpl:()=>fQ,uniqueImpl:()=>G3});var a,o=__webpack_require__(5043),s=__webpack_require__.t(o,2),l=__webpack_require__(4391),c=__webpack_require__(7950),u=__webpack_require__.t(c,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const h="popstate";function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,n,r){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=a.Pop,c=null,u=f();function f(){return(s.state||{idx:null}).idx}function b(){l=a.Pop;let e=f(),t=null==e?null:e-u;u=e,c&&c({action:l,location:x.location,delta:t})}function y(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:v(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,s.replaceState(d({},s.state,{idx:u}),""));let x={get action(){return l},get location(){return e(i,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(h,b),c=e,()=>{i.removeEventListener(h,b),c=null}},createHref:e=>t(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let r=g(x.location,e,t);n&&n(r,e),u=f()+1;let d=m(r,u),h=x.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&c&&c({action:l,location:x.location,delta:1})},replace:function(e,t){l=a.Replace;let r=g(x.location,e,t);n&&n(r,e),u=f();let i=m(r,u),d=x.createHref(r);s.replaceState(i,"",d),o&&c&&c({action:l,location:x.location,delta:0})},go:e=>s.go(e)};return x}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;let i=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=R(r);a=j(i[o],e)}return a}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(p(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=B([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),_(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:M(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=k(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,C=3,A=2,T=1,I=10,E=-2,N=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=E),t&&(r+=A),n.filter((e=>!N(e))).reduce(((e,t)=>e+(S.test(t)?C:""===t?T:I)),r)}function j(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let e=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;a.push({params:r,pathname:B([i,c.pathname]),pathnameBase:W(B([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=B([i,c.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=L(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=b(e):(i=d({},e),p(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),p(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),p(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:V(r),hash:U(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),W=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],G=(new Set(q),["get",...q]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const X=o.createContext(null);const K=o.createContext(null);const Z=o.createContext(null);const J=o.createContext(null);const Q=o.createContext({outlet:null,matches:[],isDataRoute:!1});const $=o.createContext(null);function ee(){return null!=o.useContext(J)}function te(){return ee()||p(!1),o.useContext(J).location}function ne(e){o.useContext(Z).static||o.useLayoutEffect(e)}function re(){let{isDataRoute:e}=o.useContext(Q);return e?function(){let{router:e}=fe(he.UseNavigateStable),t=ge(pe.UseNavigateStable),n=o.useRef(!1);ne((()=>{n.current=!0}));let r=o.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Y({fromRouteId:t},i)))}),[e,t]);return r}():function(){ee()||p(!1);let e=o.useContext(X),{basename:t,future:n,navigator:r}=o.useContext(Z),{matches:i}=o.useContext(Q),{pathname:a}=te(),s=JSON.stringify(F(i,n.v7_relativeSplatPath)),l=o.useRef(!1);ne((()=>{l.current=!0}));let c=o.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=z(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return c}()}function ie(){let{matches:e}=o.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Z),{matches:i}=o.useContext(Q),{pathname:a}=te(),s=JSON.stringify(F(i,r.v7_relativeSplatPath));return o.useMemo((()=>z(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function oe(e,t,n,r){ee()||p(!1);let{navigator:i}=o.useContext(Z),{matches:s}=o.useContext(Q),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=te();if(t){var f;let e="string"===typeof t?b(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||p(!1),d=e}else d=h;let m=d.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:g});let y=de(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&y?o.createElement(J.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:a.Pop}},y):y}function se(){let e=function(){var e;let t=o.useContext($),n=me(pe.UseRouteError),r=ge(pe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,null)}const le=o.createElement(se,null);class ce extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(Q.Provider,{value:this.props.routeContext},o.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(X);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(Q.Provider,{value:t},r)}function de(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||p(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<s.length;o++){let e=s[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,i)=>{let a,d=!1,h=null,p=null;var f;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||le,c&&(u<0&&0===i?(f="route-fallback",!1||ve[f]||(ve[f]=!0),d=!0,p=null):u===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=a?h:d?p:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ue,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(ce,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function fe(e){let t=o.useContext(X);return t||p(!1),t}function me(e){let t=o.useContext(K);return t||p(!1),t}function ge(e){let t=function(e){let t=o.useContext(Q);return t||p(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}const ve={};s.startTransition;function be(e){let{to:t,replace:n,state:r,relative:i}=e;ee()||p(!1);let{future:a,static:s}=o.useContext(Z),{matches:l}=o.useContext(Q),{pathname:c}=te(),u=re(),d=z(t,F(l,a.v7_relativeSplatPath),c,"path"===i),h=JSON.stringify(d);return o.useEffect((()=>u(JSON.parse(h),{replace:n,state:r,relative:i})),[u,h,i,n,r]),null}function ye(e){p(!1)}function xe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=a.Pop,navigator:s,static:l=!1,future:c}=e;ee()&&p(!1);let u=t.replace(/^\/*/,"/"),d=o.useMemo((()=>({basename:u,navigator:s,static:l,future:Y({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof r&&(r=b(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:v="default"}=r,y=o.useMemo((()=>{let e=P(h,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:v},navigationType:i}}),[u,h,f,m,g,v,i]);return null==y?null:o.createElement(Z.Provider,{value:d},o.createElement(J.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return oe(_e(t),n)}new Promise((()=>{}));o.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==ye&&p(!1),e.props.index&&e.props.children&&p(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_e(e.props.children,i)),n.push(a)})),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(die){}new Map;const Ae=s.startTransition;u.flushSync,s.useId;function Te(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),y((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return g("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:v(t)}),null,e)}({window:i,v5Compat:!0}));let s=a.current,[l,c]=o.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=o.useCallback((e=>{u&&Ae?Ae((()=>c(e))):c(e)}),[c,u]);return o.useLayoutEffect((()=>s.listen(d)),[s,d]),o.createElement(xe,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=Se(e,Ce),{basename:m}=o.useContext(Z),g=!1;if("string"===typeof u&&Ee.test(u)&&(n=u,Ie))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(die){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||p(!1);let{basename:r,navigator:i}=o.useContext(Z),{hash:a,pathname:s,search:l}=ae(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:B([r,s])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),y=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=ae(e,{relative:s});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:v(u)===v(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:l})}}),[u,c,d,r,i,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,unstable_viewTransition:h});return o.createElement("a",ke({},f,{href:n||b,onClick:g||a?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Me,je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));var De=__webpack_require__(8168),Re=__webpack_require__(8587);function Pe(e,t){const n=(0,De.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,De.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=(0,De.A)({},a),Object.keys(i).forEach((e=>{n[r][e]=Pe(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function Oe(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Pe(t.components[n].defaultProps,r):r}var Le=__webpack_require__(8280),Fe=__webpack_require__(5756);const ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=o.useContext(Fe.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Be=(0,Le.A)();const We=function(){return ze(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be)};function Ve(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,a=We(r);i&&(a=a[i]||a);return Oe({theme:a,name:n,props:t})}var Ue=__webpack_require__(6632),He=__webpack_require__(3216),qe=__webpack_require__(7758),Ge=__webpack_require__(8812);function Ye(e,t){return(0,De.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Xe=__webpack_require__(7266);const Ke={black:"#000",white:"#fff"},Ze={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Je={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Qe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},et={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tt={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},nt={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},rt=["mode","contrastThreshold","tonalOffset"],it={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ke.white,default:Ke.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},at={text:{primary:Ke.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ke.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ot(e,t,n,r){const i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Xe.a)(e.main,i):"dark"===t&&(e.dark=(0,Xe.e$)(e.main,a)))}function st(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=(0,Re.A)(e,rt),a=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:et[200],light:et[50],dark:et[400]}:{main:et[700],light:et[400],dark:et[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Je[200],light:Je[50],dark:Je[400]}:{main:Je[500],light:Je[300],dark:Je[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qe[500],light:Qe[300],dark:Qe[700]}:{main:Qe[700],light:Qe[400],dark:Qe[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tt[400],light:tt[300],dark:tt[700]}:{main:tt[700],light:tt[500],dark:tt[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nt[400],light:nt[300],dark:nt[700]}:{main:nt[800],light:nt[500],dark:nt[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$e[400],light:$e[300],dark:$e[700]}:{main:"#ed6c02",light:$e[500],dark:$e[900]}}(t);function d(e){return(0,Xe.eM)(e,at.text.primary)>=n?at.text.primary:it.text.primary}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:a=300,darkShade:o=700}=e;if(t=(0,De.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,Ue.A)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,Ue.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ot(t,"light",a,r),ot(t,"dark",o,r),t.contrastText||(t.contrastText=d(t.main)),t},p={dark:at,light:it};return(0,He.A)((0,De.A)({common:(0,De.A)({},Ke),mode:t,primary:h({color:a,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Ze,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const lt=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ct(e){return Math.round(1e5*e)/1e5}const ut={textTransform:"uppercase"},dt='"Roboto", "Helvetica", "Arial", sans-serif';function ht(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=dt,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=(0,Re.A)(n,lt);const p=i/14,f=d||(e=>"".concat(e/c*p,"rem")),m=(e,t,n,i,a)=>(0,De.A)({fontFamily:r,fontWeight:e,fontSize:f(t),lineHeight:n},r===dt?{letterSpacing:"".concat(ct(i/t),"em")}:{},a,u),g={h1:m(a,96,1.167,-1.5),h2:m(a,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,ut),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,ut),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,He.A)((0,De.A)({htmlFontSize:c,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:l},g),h,{clone:!1})}function pt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const ft=["none",pt(0,2,1,-1,0,1,1,0,0,1,3,0),pt(0,3,1,-2,0,2,2,0,0,1,5,0),pt(0,3,3,-2,0,3,4,0,0,1,8,0),pt(0,2,4,-1,0,4,5,0,0,1,10,0),pt(0,3,5,-1,0,5,8,0,0,1,14,0),pt(0,3,5,-1,0,6,10,0,0,1,18,0),pt(0,4,5,-2,0,7,10,1,0,2,16,1),pt(0,5,5,-3,0,8,10,1,0,3,14,2),pt(0,5,6,-3,0,9,12,1,0,3,16,2),pt(0,6,6,-3,0,10,14,1,0,4,18,3),pt(0,6,7,-4,0,11,15,1,0,4,20,3),pt(0,7,8,-4,0,12,17,2,0,5,22,4),pt(0,7,8,-4,0,13,19,2,0,5,24,4),pt(0,7,9,-4,0,14,21,2,0,5,26,4),pt(0,8,9,-5,0,15,22,2,0,6,28,5),pt(0,8,10,-5,0,16,24,2,0,6,30,5),pt(0,8,11,-5,0,17,26,2,0,6,32,5),pt(0,9,11,-5,0,18,28,2,0,7,34,6),pt(0,9,12,-6,0,19,29,2,0,7,36,6),pt(0,10,13,-6,0,20,31,3,0,8,38,7),pt(0,10,13,-6,0,21,33,3,0,8,40,7),pt(0,10,14,-6,0,22,35,3,0,8,42,7),pt(0,11,14,-7,0,23,36,3,0,9,44,8),pt(0,11,15,-7,0,24,38,3,0,9,46,8)],mt=["duration","easing","delay"],gt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bt(e){return"".concat(Math.round(e),"ms")}function yt(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function xt(e){const t=(0,De.A)({},gt,e.easing),n=(0,De.A)({},vt,e.duration);return(0,De.A)({getAutoHeightDuration:yt,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:a=t.easeInOut,delay:o=0}=r;(0,Re.A)(r,mt);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:bt(i)," ").concat(a," ").concat("string"===typeof o?o:bt(o)))).join(",")}},e,{easing:t,duration:n})}const wt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_t=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,a=(0,Re.A)(e,_t);if(e.vars)throw new Error((0,Ue.A)(18));const o=st(n),s=(0,Le.A)(e);let l=(0,He.A)(s,{mixins:Ye(s.breakpoints,t),palette:o,shadows:ft.slice(),typography:ht(o,i),transitions:xt(r),zIndex:(0,De.A)({},wt)});l=(0,He.A)(l,a);for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return l=u.reduce(((e,t)=>(0,He.A)(e,t)),l),l.unstable_sxConfig=(0,De.A)({},qe.A,null==a?void 0:a.unstable_sxConfig),l.unstable_sx=function(e){return(0,Ge.A)({sx:e,theme:this})},l}const St=kt,Ct=St(),At="$$material";function Tt(e){let{props:t,name:n}=e;return Ve({props:t,name:n,defaultTheme:Ct,themeId:At})}var It=__webpack_require__(579);const Et=["localeText"],Nt=o.createContext(null);const Mt=function(e){var t;const{localeText:n}=e,r=(0,Re.A)(e,Et),{utils:i,localeText:a}=null!==(t=o.useContext(Nt))&&void 0!==t?t:{utils:void 0,localeText:void 0},s=Tt({props:r,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:h,localeText:p}=s,f=o.useMemo((()=>(0,De.A)({},p,a,n)),[p,a,n]),m=o.useMemo((()=>{if(!c)return i||null;const e=new c({locale:h,formats:u,instance:d});if(!e.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[c,h,u,d,i]),g=o.useMemo((()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null),[m]),v=o.useMemo((()=>({utils:m,defaultDates:g,localeText:f})),[g,m,f]);return(0,It.jsx)(Nt.Provider,{value:v,children:l})};var jt=__webpack_require__(446),Dt=__webpack_require__.n(jt),Rt=__webpack_require__(6865),Pt=__webpack_require__.n(Rt),Ot=__webpack_require__(8988),Lt=__webpack_require__.n(Ot),Ft=__webpack_require__(4443),zt=__webpack_require__.n(Ft),Bt=__webpack_require__(1525),Wt=__webpack_require__.n(Bt),Vt=__webpack_require__(7076),Ut=__webpack_require__.n(Vt);const Ht=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1;const r=Array.isArray(e)?e.join("\n"):e;return()=>{n||(n=!0,"error"===t?console.error(r):console.warn(r))}};Dt().extend(zt()),Dt().extend(Pt()),Dt().extend(Wt()),Dt().extend(Ut());const qt=Ht(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),Gt={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Yt={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Xt=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join("\n"),Kt=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join("\n");class Zt{constructor(){var e=this;let{locale:t,formats:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r,i;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Gt,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>"undefined"!==typeof Dt().utc,this.hasTimezonePlugin=()=>"undefined"!==typeof Dt().tz,this.isSame=(e,t,n)=>{const r=this.setTimezone(t,this.getTimezone(e));return e.format(n)===r.format(n)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return Dt().tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=Dt().tz.guess();return"UTC"!==t?Dt().tz(e,t):Dt()(e)}return Dt()(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(Xt);return Dt().utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(Xt);if(!this.hasTimezonePlugin())throw new Error(Kt);const n=void 0!==e&&!e.endsWith("Z");return Dt()(e).tz(this.cleanTimezone(t),n)},this.getLocaleFormats=()=>{const e=Dt().Ls;let t=e[this.locale||"en"];return void 0===t&&(qt(),t=e.en),t.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if("UTC"!==t){var n,r;const i=e.tz(this.cleanTimezone(t),!0);return(null!==(n=i.$offset)&&void 0!==n?n:0)===(null!==(r=e.$offset)&&void 0!==r?r:0)?e:i}return e},this.date=function(t){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return null===t?null:(n="UTC"===r?e.createUTCDate(t):"system"===r||"default"===r&&!e.hasTimezonePlugin()?e.createSystemDate(t):e.createTZDate(t,r),void 0===e.locale?n:n.locale(e.locale))},this.getInvalidDate=()=>Dt()(new Date("Invalid date")),this.getTimezone=e=>{if(this.hasTimezonePlugin()){var t;const n=null===(t=e.$x)||void 0===t?void 0:t.$timezone;if(n)return n}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if("UTC"===t){if(!this.hasUTCPlugin())throw new Error(Xt);return e.utc()}if("system"===t)return e.local();if(!this.hasTimezonePlugin()){if("default"===t)return e;throw new Error(Kt)}return Dt().tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parse=(e,t)=>""===e?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats();return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,((e,n,r)=>{const i=r&&r.toUpperCase();return n||t[r]||t[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,((e,t,n)=>t||n.slice(1)))}))},this.isValid=e=>null!=e&&e.isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.isEqual=(e,t)=>null===e&&null===t||null!==e&&null!==t&&e.toDate().getTime()===t.toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,t)=>{let[n,r]=t;return e>=n&&e<=r},this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(e.startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(e.endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const t=this.setLocaleToValue(e),n=this.startOfWeek(this.startOfMonth(t)),r=this.endOfWeek(this.endOfMonth(t));let i=0,a=n;const o=[];for(;a<r;){const e=Math.floor(i/7);o[e]=o[e]||[],o[e].push(a),a=this.addDays(a,1),i+=1}return o},this.getWeekNumber=e=>e.week(),this.getYearRange=e=>{let[t,n]=e;const r=this.startOfYear(t),i=this.endOfYear(n),a=[];let o=r;for(;this.isBefore(o,i);)a.push(o),o=this.addYears(o,1);return a},this.dayjs=(r=Dt(),(i=t)?function(){return r(...arguments).locale(i)}:r),this.locale=t,this.formats=(0,De.A)({},Yt,n),Dt().extend(Lt())}getDayOfWeek(e){return e.day()+1}}const Jt="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;function Qt(e,t,n,r,i){const[a,s]=o.useState((()=>i&&n?n(e).matches:r?r(e).matches:t));return Jt((()=>{let t=!0;if(!n)return;const r=n(e),i=()=>{t&&s(r.matches)};return i(),r.addListener(i),()=>{t=!1,r.removeListener(i)}}),[e,n]),a}const $t=s.useSyncExternalStore;function en(e,t,n,r,i){const a=o.useCallback((()=>t),[t]),s=o.useMemo((()=>{if(i&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return a}),[a,e,r,i,n]),[l,c]=o.useMemo((()=>{if(null===n)return[a,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[a,n,e]);return $t(c,l,s)}function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ze(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:a=(r?window.matchMedia:null),ssrMatchMedia:o=null,noSsr:s=!1}=Oe({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==$t?en:Qt)(l,i,a,o,s)}var nn=__webpack_require__(5173),rn=__webpack_require__.n(nn);const an=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],on=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],sn=["minDateTime","maxDateTime"],ln=[...an,...on,...sn],cn=e=>ln.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{});function un(e,t,n){return"function"===typeof e?e(t,n):e}const dn=rn().oneOfType([rn().func,rn().object]),hn=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},pn=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:i,minDate:a,isDateDisabled:o,utils:s,timezone:l}=e;const c=hn(s,s.date(void 0,l),t);r&&s.isBefore(a,c)&&(a=c),n&&s.isAfter(i,c)&&(i=c);let u=t,d=t;for(s.isBefore(t,a)&&(u=a,d=null),s.isAfter(t,i)&&(d&&(d=i),u=null);u||d;){if(u&&s.isAfter(u,i)&&(u=null),d&&s.isBefore(d,a)&&(d=null),u){if(!o(u))return u;u=s.addDays(u,1)}if(d){if(!o(d))return d;d=s.addDays(d,-1)}}return null},fn=(e,t)=>null!=t&&e.isValid(t)?t:null,mn=(e,t,n)=>null!=t&&e.isValid(t)?t:n,gn=(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),vn=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},bn=(e,t,n)=>"date"===n?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),yn=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(n,t)))},xn=["hours","minutes","seconds"],wn=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),_n={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},kn=(e,t,n)=>{if(t===_n.year)return e.startOfYear(n);if(t===_n.month)return e.startOfMonth(n);if(t===_n.day)return e.startOfDay(n);let r=n;return t<_n.minutes&&(r=e.setMinutes(r,0)),t<_n.seconds&&(r=e.setSeconds(r,0)),t<_n.milliseconds&&(r=e.setMilliseconds(r,0)),r},Sn=e=>{var t;let{props:n,utils:r,granularity:i,timezone:a,getTodayDate:o}=e,s=o?o():kn(r,i,bn(r,a));null!=n.minDate&&r.isAfterDay(n.minDate,s)&&(s=kn(r,i,n.minDate)),null!=n.maxDate&&r.isBeforeDay(n.maxDate,s)&&(s=kn(r,i,n.maxDate));const l=((e,t)=>(n,r)=>e?t.isAfter(n,r):wn(n,t)>wn(r,t))(null!==(t=n.disableIgnoringDatePartForTimeValidation)&&void 0!==t&&t,r);return null!=n.minTime&&l(n.minTime,s)&&(s=kn(r,i,n.disableIgnoringDatePartForTimeValidation?n.minTime:hn(r,s,n.minTime))),null!=n.maxTime&&l(s,n.maxTime)&&(s=kn(r,i,n.disableIgnoringDatePartForTimeValidation?n.maxTime:hn(r,s,n.maxTime))),s},Cn=["value","referenceDate"],An={emptyValue:[null,null],getTodayValue:(e,t,n)=>[bn(e,t,n),bn(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,Re.A)(e,Cn);const i=null!=t[0]&&r.utils.isValid(t[0]),a=null!=t[1]&&r.utils.isValid(t[1]);if(i&&a)return t;const o=null!==n&&void 0!==n?n:Sn(r);return[i?t[0]:o,a?t[1]:o]},cleanValue:(e,t)=>t.map((t=>fn(e,t))),areValuesEqual:(e,t,n)=>gn(e,t[0],n[0])&&gn(e,t[1],n[1]),isSameError:(e,t)=>null!==t&&e[1]===t[1]&&e[0]===t[0],hasError:e=>null!=e[0]||null!=e[1],defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=null!=t[0]&&e.isValid(t[0])?e.getTimezone(t[0]):null,r=null!=t[1]&&e.isValid(t[1])?e.getTimezone(t[1]):null;if(null!=n&&null!=r&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return null!==n&&void 0!==n?n:r},setTimezone:(e,t,n)=>[null==n[0]?null:e.setTimezone(n[0],t),null==n[1]?null:e.setTimezone(n[1],t)]},Tn={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>"Select ".concat(e,". ").concat(null===t?"No time selected":"Selected time is ".concat(n.format(t,"fullTime"))),hoursClockNumberText:e=>"".concat(e," hours"),minutesClockNumberText:e=>"".concat(e," minutes"),secondsClockNumberText:e=>"".concat(e," seconds"),selectViewText:e=>"Select ".concat(e),calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>"Week ".concat(e),calendarWeekNumberText:e=>"".concat(e),openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?"Choose date, selected date is ".concat(t.format(e,"fullDate")):"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?"Choose time, selected time is ".concat(t.format(e,"fullTime")):"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},In=Tn;En=Tn,(0,De.A)({},En);var En;const Nn=()=>{const e=o.useContext(Nt);if(null===e)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=o.useMemo((()=>(0,De.A)({},In,e.localeText)),[e.localeText]);return o.useMemo((()=>(0,De.A)({},e,{localeText:t})),[e,t])},Mn=()=>Nn().utils,jn=()=>Nn().defaultDates,Dn=()=>Nn().localeText,Rn=e=>{const t=Mn(),n=o.useRef();return void 0===n.current&&(n.current=t.date(void 0,e)),n.current};function Pn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Pn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const On=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Pn(e))&&(r&&(r+=" "),r+=t);return r};var Ln=__webpack_require__(8698);function Fn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var zn=__webpack_require__(8052);const Bn=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Wn=e=>Bn(e)&&"classes"!==e,Vn=(0,zn.Ay)({themeId:At,defaultTheme:Ct,rootShouldForwardProp:Wn});var Un=__webpack_require__(410);const Hn=Un.A,qn=e=>e,Gn=(()=>{let e=qn;return{configure(t){e=t},generate:t=>e(t),reset(){e=qn}}})(),Yn=Gn,Xn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=Xn[t];return r?"".concat(n,"-").concat(r):"".concat(Yn.generate(e),"-").concat(t)}function Zn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Kn(e,t,n)})),r}function Jn(e){return Kn("MuiTypography",e)}Zn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Qn=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],$n=Vn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Hn(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),er={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},tr={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},nr=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTypography"}),r=(e=>tr[e]||e)(n.color),i=(0,Ln.A)((0,De.A)({},n,{color:r})),{align:a="inherit",className:o,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=er}=i,p=(0,Re.A)(i,Qn),f=(0,De.A)({},i,{align:a,color:r,className:o,component:s,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=s||(u?"p":h[d]||er[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:o}=e;return Fn({root:["root",a,"inherit"!==e.align&&"align".concat(Hn(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Jn,o)})(f);return(0,It.jsx)($n,(0,De.A)({as:m,ref:t,ownerState:f,className:On(g.root,o)},p))})),rr=nr;function ir(e){return Kn("MuiPickersToolbar",e)}Zn("MuiPickersToolbar",["root","content"]);const ar=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],or=Vn("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]}})),sr=Vn("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),lr=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersToolbar"}),{children:r,className:i,toolbarTitle:a,hidden:o,titleId:s}=n,l=(0,Re.A)(n,ar),c=n,u=(e=>{const{classes:t,isLandscape:n}=e;return Fn({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},ir,t)})(c);return o?null:(0,It.jsxs)(or,(0,De.A)({ref:t,className:On(u.root,i),ownerState:c},l,{children:[(0,It.jsx)(rr,{color:"text.secondary",variant:"overline",id:s,children:a}),(0,It.jsx)(sr,{className:u.content,ownerState:c,children:r})]}))}));function cr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{cr(t,e)}))}),t)}const dr=ur;const hr=function(e){const t=o.useRef(e);return Jt((()=>{t.current=e})),o.useRef((function(){return(0,t.current)(...arguments)})).current},pr=hr,fr={};const mr=[];class gr{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new gr}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function vr(){const e=function(e,t){const n=o.useRef(fr);return n.current===fr&&(n.current=e(t)),n}(gr.create).current;var t;return t=e.disposeEffect,o.useEffect(t,mr),e}let br=!0,yr=!1;const xr=new gr,wr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function _r(e){e.metaKey||e.altKey||e.ctrlKey||(br=!0)}function kr(){br=!1}function Sr(){"hidden"===this.visibilityState&&yr&&(br=!0)}function Cr(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return br||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!wr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const Ar=function(){const e=o.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",_r,!0),t.addEventListener("mousedown",kr,!0),t.addEventListener("pointerdown",kr,!0),t.addEventListener("touchstart",kr,!0),t.addEventListener("visibilitychange",Sr,!0))}),[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Cr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(yr=!0,xr.start(100,(()=>{yr=!1})),t.current=!1,!0)},ref:e}};var Tr=__webpack_require__(7528);function Ir(e,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ir(e,t)}function Er(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ir(e,t)}const Nr=o.createContext(null);function Mr(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function jr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Dr(e,t,n){var r=Mr(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var l=a in t,c=a in r,u=t[a],d=(0,o.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,o.isValidElement)(u)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:jr(s,"exit",e),enter:jr(s,"enter",e)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:jr(s,"exit",e),enter:jr(s,"enter",e)})}})),i}var Rr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Pr=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Er(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,Mr(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:jr(e,"appear",n),enter:jr(e,"enter",n),exit:jr(e,"exit",n)})}))):Dr(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=Mr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,De.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,Re.A)(e,["component","childFactory"]),i=this.state.contextValue,a=Rr(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.createElement(Nr.Provider,{value:i},a):o.createElement(Nr.Provider,{value:i},o.createElement(t,r,a))},t}(o.Component);Pr.propTypes={},Pr.defaultProps={component:"div",childFactory:function(e){return e}};const Or=Pr;var Lr=__webpack_require__(3290);const Fr=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=e,[d,h]=o.useState(!1),p=On(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:s,height:s,top:-s/2+a,left:-s/2+i},m=On(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),o.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,It.jsx)("span",{className:p,style:f,children:(0,It.jsx)("span",{className:m})})};const zr=Zn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Br,Wr,Vr,Ur;const Hr=["center","classes","className"];let qr,Gr,Yr,Xr;const Kr=(0,Lr.i7)(qr||(qr=Br||(Br=(0,Tr.A)(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Zr=(0,Lr.i7)(Gr||(Gr=Wr||(Wr=(0,Tr.A)(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Jr=(0,Lr.i7)(Yr||(Yr=Vr||(Vr=(0,Tr.A)(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Qr=Vn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$r=Vn(Fr,{name:"MuiTouchRipple",slot:"Ripple"})(Xr||(Xr=Ur||(Ur=(0,Tr.A)(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),zr.rippleVisible,Kr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),zr.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),zr.child,zr.childLeaving,Zr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),zr.childPulsate,Jr,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),ei=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:a}=n,s=(0,Re.A)(n,Hr),[l,c]=o.useState([]),u=o.useRef(0),d=o.useRef(null);o.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=o.useRef(!1),p=vr(),f=o.useRef(null),m=o.useRef(null),g=o.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:a,cb:o}=e;c((e=>[...e,(0,It.jsx)($r,{classes:{ripple:On(i.ripple,zr.ripple),rippleVisible:On(i.rippleVisible,zr.rippleVisible),ripplePulsate:On(i.ripplePulsate,zr.ripplePulsate),child:On(i.child,zr.child),childLeaving:On(i.childLeaving,zr.childLeaving),childPulsate:On(i.childPulsate,zr.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},u.current)])),u.current+=1,d.current=o}),[i]),v=o.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:a=r||t.pulsate,fakeElement:o=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const s=o?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(a)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,g,p]),b=o.useCallback((()=>{v({},{pulsate:!0})}),[v]),y=o.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{y(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return o.useImperativeHandle(t,(()=>({pulsate:b,start:v,stop:y})),[b,v,y]),(0,It.jsx)(Qr,(0,De.A)({className:On(zr.root,i.root,a),ref:m},s,{children:(0,It.jsx)(Or,{component:null,exit:!0,children:l})}))})),ti=ei;function ni(e){return Kn("MuiButtonBase",e)}const ri=Zn("MuiButtonBase",["root","disabled","focusVisible"]),ii=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ai=Vn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(ri.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),oi=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:b,onFocusVisible:y,onKeyDown:x,onKeyUp:w,onMouseDown:_,onMouseLeave:k,onMouseUp:S,onTouchEnd:C,onTouchMove:A,onTouchStart:T,tabIndex:I=0,TouchRippleProps:E,touchRippleRef:N,type:M}=n,j=(0,Re.A)(n,ii),D=o.useRef(null),R=o.useRef(null),P=dr(R,N),{isFocusVisibleRef:O,onFocus:L,onBlur:F,ref:z}=Ar(),[B,W]=o.useState(!1);c&&B&&W(!1),o.useImperativeHandle(r,(()=>({focusVisible:()=>{W(!0),D.current.focus()}})),[]);const[V,U]=o.useState(!1);o.useEffect((()=>{U(!0)}),[]);const H=V&&!u&&!c;function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return pr((r=>{t&&t(r);return!n&&R.current&&R.current[e](r),!0}))}o.useEffect((()=>{B&&h&&!u&&V&&R.current.pulsate()}),[u,h,B,V]);const G=q("start",_),Y=q("stop",g),X=q("stop",v),K=q("stop",S),Z=q("stop",(e=>{B&&e.preventDefault(),k&&k(e)})),J=q("start",T),Q=q("stop",C),$=q("stop",A),ee=q("stop",(e=>{F(e),!1===O.current&&W(!1),f&&f(e)}),!1),te=pr((e=>{D.current||(D.current=e.currentTarget),L(e),!0===O.current&&(W(!0),y&&y(e)),b&&b(e)})),ne=()=>{const e=D.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=o.useRef(!1),ie=pr((e=>{h&&!re.current&&B&&R.current&&" "===e.key&&(re.current=!0,R.current.stop(e,(()=>{R.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),ae=pr((e=>{h&&" "===e.key&&R.current&&B&&!e.defaultPrevented&&(re.current=!1,R.current.stop(e,(()=>{R.current.pulsate(e)}))),w&&w(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let oe=l;"button"===oe&&(j.href||j.to)&&(oe=p);const se={};"button"===oe?(se.type=void 0===M?"button":M,se.disabled=c):(j.href||j.to||(se.role="button"),c&&(se["aria-disabled"]=c));const le=dr(t,z,D);const ce=(0,De.A)({},n,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:I,focusVisible:B}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,a=Fn({root:["root",t&&"disabled",n&&"focusVisible"]},ni,i);return n&&r&&(a.root+=" ".concat(r)),a})(ce);return(0,It.jsxs)(ai,(0,De.A)({as:oe,className:On(ue.root,s),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:Y,onFocus:te,onKeyDown:ie,onKeyUp:ae,onMouseDown:G,onMouseLeave:Z,onMouseUp:K,onDragLeave:X,onTouchEnd:Q,onTouchMove:$,onTouchStart:J,ref:le,tabIndex:c?-1:I,type:M},se,j,{children:[a,H?(0,It.jsx)(ti,(0,De.A)({ref:P,center:i},E)):null]}))})),si=oi;function li(e){return Kn("MuiButton",e)}const ci=Zn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const ui=o.createContext({});const di=o.createContext(void 0),hi=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pi=e=>(0,De.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),fi=Vn(si,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Hn(n.color))],t["size".concat(Hn(n.size))],t["".concat(n.variant,"Size").concat(Hn(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const a="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],o="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,De.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,De.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,De.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(ci.focusVisible)]:(0,De.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(ci.disabled)]:(0,De.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Xe.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:a,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(ci.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(ci.disabled)]:{boxShadow:"none"}}})),mi=Vn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(Hn(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,De.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},pi(t))})),gi=Vn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(Hn(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,De.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},pi(t))})),vi=o.forwardRef((function(e,t){const n=o.useContext(ui),r=o.useContext(di),i=Tt({props:Pe(n,e),name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,size:g="medium",startIcon:v,type:b,variant:y="text"}=i,x=(0,Re.A)(i,hi),w=(0,De.A)({},i,{color:s,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:g,type:b,variant:y}),_=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:a,classes:o}=e,s=Fn({root:["root",a,"".concat(a).concat(Hn(t)),"size".concat(Hn(i)),"".concat(a,"Size").concat(Hn(i)),"color".concat(Hn(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(Hn(i))],endIcon:["icon","endIcon","iconSize".concat(Hn(i))]},li,o);return(0,De.A)({},o,s)})(w),k=v&&(0,It.jsx)(mi,{className:_.startIcon,ownerState:w,children:v}),S=p&&(0,It.jsx)(gi,{className:_.endIcon,ownerState:w,children:p}),C=r||"";return(0,It.jsxs)(fi,(0,De.A)({ownerState:w,className:On(n.className,_.root,c,C),component:l,disabled:u,focusRipple:!h,focusVisibleClassName:On(_.focusVisible,f),ref:t,type:b},x,{classes:_,children:[k,a,S]}))})),bi=vi;function yi(e){return Kn("MuiPickersToolbarText",e)}const xi=Zn("MuiPickersToolbarText",["root","selected"]),wi=["className","selected","value"],_i=Vn(rr,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{["&.".concat(xi.selected)]:t.selected}]})((e=>{let{theme:t}=e;return{transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,["&.".concat(xi.selected)]:{color:(t.vars||t).palette.text.primary}}})),ki=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersToolbarText"}),{className:r,value:i}=n,a=(0,Re.A)(n,wi),o=(e=>{const{classes:t,selected:n}=e;return Fn({root:["root",n&&"selected"]},yi,t)})(n);return(0,It.jsx)(_i,(0,De.A)({ref:t,className:On(r,o.root),component:"span"},a,{children:i}))})),Si=["align","className","selected","typographyClassName","value","variant","width"],Ci=Vn(bi,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),Ai=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersToolbarButton"}),{align:r,className:i,selected:a,typographyClassName:o,value:s,variant:l,width:c}=n,u=(0,Re.A)(n,Si),d=(e=>{const{classes:t}=e;return Fn({root:["root"]},ir,t)})(n);return(0,It.jsx)(Ci,(0,De.A)({variant:"text",ref:t,className:On(i,d.root)},c?{sx:{width:c}}:{},u,{children:(0,It.jsx)(ki,{align:r,className:o,variant:l,value:s,selected:a})}))}));function Ti(e){return Kn("MuiDateRangePickerToolbar",e)}Zn("MuiDateRangePickerToolbar",["root","container"]);const Ii=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],Ei=Vn(lr,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ni=Vn("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),Mi=o.forwardRef((function(e,t){const n=Mn(),r=Tt({props:e,name:"MuiDateRangePickerToolbar"}),{value:[i,a],rangePosition:o,onRangePositionChange:s,toolbarFormat:l,className:c}=r,u=(0,Re.A)(r,Ii),d=Dn(),h=i?n.formatByString(i,l||n.formats.shortDate):d.start,p=a?n.formatByString(a,l||n.formats.shortDate):d.end,f=r,m=(e=>{const{classes:t}=e;return Fn({root:["root"],container:["container"]},Ti,t)})(f);return(0,It.jsx)(Ei,(0,De.A)({},u,{toolbarTitle:d.dateRangePickerToolbarTitle,isLandscape:!1,className:On(c,m.root),ownerState:f,ref:t,children:(0,It.jsxs)(Ni,{className:m.container,children:[(0,It.jsx)(Ai,{variant:null!==i?"h5":"h6",value:h,selected:"start"===o,onClick:()=>s("start")}),(0,It.jsxs)(rr,{variant:"h5",children:["\xa0","\u2013","\xa0"]}),(0,It.jsx)(Ai,{variant:null!==a?"h5":"h6",value:p,selected:"end"===o,onClick:()=>s("end")})]})}))}));function ji(e,t){var n,r;const i=Mn(),a=jn(),s=Tt({props:e,name:t}),l=o.useMemo((()=>{var e;return null==(null===(e=s.localeText)||void 0===e?void 0:e.toolbarTitle)?s.localeText:(0,De.A)({},s.localeText,{dateRangePickerToolbarTitle:s.localeText.toolbarTitle})}),[s.localeText]);return(0,De.A)({},s,{localeText:l,disableFuture:null!==(n=s.disableFuture)&&void 0!==n&&n,disablePast:null!==(r=s.disablePast)&&void 0!==r&&r,minDate:mn(i,s.minDate,a.minDate),maxDate:mn(i,s.maxDate,a.maxDate),slots:(0,De.A)({toolbar:Mi},s.slots)})}function Di(e){return"string"===typeof e}function Ri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function Pi(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const Oi=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Li(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:a=!1}=e,o=(0,Re.A)(e,Oi),s=a?{}:un(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const e=On(null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,De.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),o=(0,De.A)({},n,i,r);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=Ri((0,De.A)({},i,r)),s=Pi(r),l=Pi(i),c=t(o),u=On(null==c?void 0:c.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,De.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,De.A)({},c,n,l,s);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}((0,De.A)({},o,{externalSlotProps:s})),u=ur(c,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||Di(e)?t:(0,De.A)({},t,{ownerState:(0,De.A)({},t.ownerState,n)})}(n,(0,De.A)({},l,{ref:u}),i);return d}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";const zi=e=>{let t,n,r,i,a,o,s,l="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)i=Fi.indexOf(e.charAt(c++)),a=Fi.indexOf(e.charAt(c++)),o=Fi.indexOf(e.charAt(c++)),s=Fi.indexOf(e.charAt(c++)),t=i<<2|a>>4,n=(15&a)<<4|o>>2,r=(3&o)<<6|s,l+=String.fromCharCode(t),64!=o&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(r));return l},Bi=[];let Wi=0;for(;Wi<64;)Bi[Wi]=0|4294967296*Math.sin(++Wi%Math.PI);let Vi=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e}({});const Ui=["pro","premium"],Hi=["perpetual","annual","subscription"];const qi=/^.*EXPIRY=([0-9]+),.*$/,Gi=e=>{const t=zi(e);return t.includes("KEYVERSION=1")?(e=>{let t;try{t=parseInt(e.match(qi)[1],10),t&&!Number.isNaN(t)||(t=null)}catch(n){t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t}})(t):t.includes("KV=2")?(e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null};return e.split(",").map((e=>e.split("="))).filter((e=>2===e.length)).forEach((e=>{let[n,r]=e;if("S"===n&&(t.scope=r),"LM"===n&&(t.licensingModel=r),"E"===n){const e=parseInt(r,10);e&&!Number.isNaN(e)&&(t.expiryTimestamp=e)}})),t})(t):null};function Yi(e){let{releaseInfo:t,licenseKey:n,acceptedScopes:r}=e;if(!t)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!n)return{status:Vi.NotFound};const i=n.substr(0,32),a=n.substr(32);if(i!==function(e){const t=[];let n,r,i,a=unescape(encodeURI(e))+"\x80",o=a.length;const s=[n=1732584193,r=4023233417,~n,~r];for(e=--o/4+2|15,t[--e]=8*o;~o;)t[o>>2]|=a.charCodeAt(o)<<8*o--;for(Wi=a=0;Wi<e;Wi+=16){for(o=s;a<64;o=[i=o[3],n+((i=o[0]+[n&r|~n&i,i&n|~i&r,n^r^i,r^(n|~i)][o=a>>4]+Bi[a]+~~t[Wi|15&[a,5*a+1,3*a+5,7*a][o]])<<(o=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*o+a++%4])|i>>>-o),n,r])n=0|o[1],r=o[2];for(a=4;a;)s[--a]+=o[a]}for(e="";a<32;)e+=(s[a>>3]>>4*(1^a++)&15).toString(16);return e}(a))return{status:Vi.Invalid};const o=Gi(a);if(null==o)return console.error("MUI X: Error checking license. Key version not found!"),{status:Vi.Invalid};if(null==o.licensingModel||!Hi.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:Vi.Invalid};if(null==o.expiryTimestamp)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:Vi.Invalid};o.licensingModel;{const e=parseInt(zi(t),10);if(Number.isNaN(e))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<e)return{status:Vi.ExpiredVersion}}return null!=o.scope&&Ui.includes(o.scope)?r.includes(o.scope)?{status:Vi.Valid}:{status:Vi.OutOfScope}:(console.error("Error checking license. scope not found or invalid!"),{status:Vi.Invalid})}const Xi="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();Xi.__MUI_LICENSE_INFO__=Xi.__MUI_LICENSE_INFO__||{key:void 0};class Ki{static getLicenseInfo(){return Xi.__MUI_LICENSE_INFO__}static getLicenseKey(){return Ki.getLicenseInfo().key}static setLicenseKey(e){Ki.getLicenseInfo().key=e}}function Zi(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join("\n"))}const Ji=o.createContext({key:void 0}),Qi={};function $i(e,t){const{key:n}=o.useContext(Ji);return o.useMemo((()=>{const r=null!==n&&void 0!==n?n:Ki.getLicenseKey();if(Qi[e]&&Qi[e].key===r)return Qi[e].licenseVerifier;const i=e.includes("premium")?["premium"]:["pro","premium"],a=e.includes("premium")?"Premium":"Pro",o=Yi({releaseInfo:t,licenseKey:r,acceptedScopes:i}),s="@mui/".concat(e);return o.status===Vi.Valid||(o.status===Vi.Invalid?Zi(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."]):o.status===Vi.OutOfScope?Zi(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."]):o.status===Vi.NotFound?function(e){let{plan:t,packageName:n}=e;Zi(["MUI X: Missing license key.","","The license key is missing. You might not be allowed to use `".concat(n,"` which is part of MUI X ").concat(t,"."),"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}({plan:a,packageName:s}):o.status===Vi.ExpiredAnnualGrace?function(e){let{plan:t,licenseKey:n,expiryTimestamp:r}=e;Zi(["MUI X: Expired license key.","","Your annual license key to use MUI X ".concat(t," in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ").concat(t," component (more details in https://mui.com/r/x-license-annual)."),"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key","- Stop making changes to code depending directly or indirectly on MUI X ".concat(t,"'s APIs"),"","Note that your license is perpetual in production environments with any version released before your license term ends.","","- License key expiry timestamp: ".concat(new Date(r)),"- Installed license key: ".concat(n),""])}((0,De.A)({plan:a},o.meta)):o.status===Vi.ExpiredAnnual?function(e){let{plan:t,licenseKey:n,expiryTimestamp:r}=e;throw new Error(["MUI X: Expired license key.","","Your annual license key to use MUI X ".concat(t," in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ").concat(t," component (more details in https://mui.com/r/x-license-annual)."),"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key","- Stop making changes to code depending directly or indirectly on MUI X ".concat(t,"'s APIs"),"","Note that your license is perpetual in production environments with any version released before your license term ends.","","- License key expiry timestamp: ".concat(new Date(r)),"- Installed license key: ".concat(n),""].join("\n"))}((0,De.A)({plan:a},o.meta)):o.status===Vi.ExpiredVersion&&function(e){let{packageName:t}=e;Zi(["MUI X: Expired package version.","","You have installed a version of `".concat(t,"` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase."),"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}({packageName:s})),Qi[e]={key:r,licenseVerifier:o},o}),[e,t,n])}function ea(e){switch(e){case Vi.ExpiredAnnualGrace:case Vi.ExpiredAnnual:return"MUI X Expired license key";case Vi.ExpiredVersion:return"MUI X Expired package version";case Vi.Invalid:return"MUI X Invalid license key";case Vi.OutOfScope:return"MUI X License key plan mismatch";case Vi.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function ta(e){const{packageName:t,releaseInfo:n}=e,r=$i(t,n);return r.status===Vi.Valid?null:(0,It.jsx)("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:ea(r.status)})}function na(){const e=We(Ct);return e[At]||e}function ra(e){let{controlled:t,default:n,name:r,state:i="value"}=e;const{current:a}=o.useRef(void 0!==t),[s,l]=o.useState(n);return[a?t:s,o.useCallback((e=>{a||l(e)}),[])]}var ia=__webpack_require__(7040);function aa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,ia.A)(e,t,n)}function oa(e){if(e.type)return e;if("#"===e.charAt(0))return oa(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,Ue.A)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,Ue.A)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function sa(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function la(e,t){return e=oa(e),t=aa(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,sa(e)}function ca(e){return Kn("MuiPickersDay",e)}const ua=Zn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),da=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],ha=e=>{let{theme:t}=e;return(0,De.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):la(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):la(t.palette.primary.main,t.palette.action.focusOpacity),["&.".concat(ua.selected)]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},["&.".concat(ua.selected)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},["&.".concat(ua.disabled,":not(.").concat(ua.selected,")")]:{color:(t.vars||t).palette.text.disabled},["&.".concat(ua.disabled,"&.").concat(ua.selected)]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 ".concat(2,"px")}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{["&:not(.".concat(ua.selected,")")]:{border:"1px solid ".concat((t.vars||t).palette.text.secondary)}}}]})},pa=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},fa=Vn(si,{name:"MuiPickersDay",slot:"Root",overridesResolver:pa})(ha),ma=Vn("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:pa})((e=>{let{theme:t}=e;return(0,De.A)({},ha({theme:t}),{opacity:0,pointerEvents:"none"})})),ga=()=>{},va=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersDay"}),{autoFocus:r=!1,className:i,day:a,disabled:s=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=ga,onBlur:f=ga,onKeyDown:m=ga,onMouseDown:g=ga,onMouseEnter:v=ga,outsideCurrentMonth:b,selected:y=!1,showDaysOutsideCurrentMonth:x=!1,children:w,today:_=!1}=n,k=(0,Re.A)(n,da),S=(0,De.A)({},n,{autoFocus:r,disabled:s,disableHighlightToday:l,disableMargin:c,selected:y,showDaysOutsideCurrentMonth:x,today:_}),C=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:a,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:s,classes:l}=e,c=o&&!s;return Fn({root:["root",t&&!c&&"selected",a&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",o&&s&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},ca,l)})(S),A=Mn(),T=o.useRef(null),I=ur(T,t);Jt((()=>{!r||s||u||b||T.current.focus()}),[r,s,u,b]);return b&&!x?(0,It.jsx)(ma,{className:On(C.root,C.hiddenDaySpacingFiller,i),ownerState:S,role:k.role}):(0,It.jsx)(fa,(0,De.A)({className:On(C.root,i),ref:I,centerRipple:!0,disabled:s,tabIndex:y?0:-1,onKeyDown:e=>m(e,a),onFocus:e=>p(e,a),onBlur:e=>f(e,a),onMouseEnter:e=>v(e,a),onClick:e=>{s||h(a),b&&e.currentTarget.focus(),d&&d(e)},onMouseDown:e=>{g(e),b&&e.preventDefault()}},k,{ownerState:S,children:w||A.format(a,"dayOfMonth")}))})),ba=o.memo(va);function ya(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const xa=!1;var wa=function(e){return e.scrollTop},_a="unmounted",ka="exited",Sa="entering",Ca="entered",Aa="exiting",Ta=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=ka,r.appearStatus=Sa):i=Ca:i=t.unmountOnExit||t.mountOnEnter?_a:ka,r.state={status:i},r.nextCallback=null,r}Er(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===_a?{status:ka}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Sa&&n!==Ca&&(t=Sa):n!==Sa&&n!==Ca||(t=Aa)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Sa){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this);n&&wa(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ka&&this.setState({status:_a})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[c.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||xa?this.safeSetState({status:Ca},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Sa},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Ca},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.findDOMNode(this);t&&!xa?(this.props.onExit(r),this.safeSetState({status:Aa},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ka},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ka},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===_a)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Re.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(Nr.Provider,{value:null},"function"===typeof n?n(e,r):o.cloneElement(o.Children.only(n),r))},t}(o.Component);function Ia(){}Ta.contextType=Nr,Ta.propTypes={},Ta.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ia,onEntering:Ia,onEntered:Ia,onExit:Ia,onExiting:Ia,onExited:Ia},Ta.UNMOUNTED=_a,Ta.EXITED=ka,Ta.ENTERING=Sa,Ta.ENTERED=Ca,Ta.EXITING=Aa;const Ea=Ta;var Na=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=ya(n.className,r):n.setAttribute("class",ya(n.className&&n.className.baseVal||"",r)));var n,r}))},Ma=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Er(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&wa(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&Na(e,r),i&&Na(e,i),a&&Na(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,Re.A)(e,["classNames"]));return o.createElement(Ea,(0,De.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);Ma.defaultProps={classNames:""},Ma.propTypes={};const ja=Ma,Da=e=>Kn("MuiPickersSlideTransition",e),Ra=Zn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Pa=["children","className","reduceAnimations","slideDirection","transKey","classes"],Oa=Vn(Or,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[".".concat(Ra["slideEnter-left"])]:t["slideEnter-left"]},{[".".concat(Ra["slideEnter-right"])]:t["slideEnter-right"]},{[".".concat(Ra.slideEnterActive)]:t.slideEnterActive},{[".".concat(Ra.slideExit)]:t.slideExit},{[".".concat(Ra["slideExitActiveLeft-left"])]:t["slideExitActiveLeft-left"]},{[".".concat(Ra["slideExitActiveLeft-right"])]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(Ra["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(Ra["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(Ra.slideEnterActive)]:{transform:"translate(0%)",transition:n},["& .".concat(Ra.slideExit)]:{transform:"translate(0%)"},["& .".concat(Ra["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},["& .".concat(Ra["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}}));const La=e=>{let{props:t,value:n,adapter:r}=e;if(null===n)return null;const{shouldDisableDate:i,shouldDisableMonth:a,shouldDisableYear:o,disablePast:s,disableFuture:l,timezone:c}=t,u=r.utils.date(void 0,c),d=mn(r.utils,t.minDate,r.defaultDates.minDate),h=mn(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(n):return"invalidDate";case Boolean(i&&i(n)):return"shouldDisableDate";case Boolean(a&&a(n)):return"shouldDisableMonth";case Boolean(o&&o(n)):return"shouldDisableYear";case Boolean(l&&r.utils.isAfterDay(n,u)):return"disableFuture";case Boolean(s&&r.utils.isBeforeDay(n,u)):return"disablePast";case Boolean(d&&r.utils.isBeforeDay(n,d)):return"minDate";case Boolean(h&&r.utils.isAfterDay(n,h)):return"maxDate";default:return null}},Fa=e=>{let{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:i,maxDate:a,disableFuture:s,disablePast:l,timezone:c}=e;const u=Nn();return o.useCallback((e=>null!==La({adapter:u,value:e,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:i,maxDate:a,disableFuture:s,disablePast:l,timezone:c}})),[u,t,n,r,i,a,s,l,c])},za=e=>Kn("MuiDayCalendar",e),Ba=(Zn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),Wa=["ownerState"],Va=Vn("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ua=Vn("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Ha=Vn(rr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),qa=Vn(rr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),Ga=Vn(rr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,De.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 ".concat(2,"px"),color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),Ya=Vn("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),Xa=Vn((function(e){const t=Tt({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:a}=t,s=(0,Re.A)(t,Pa),l=(e=>{const{classes:t,slideDirection:n}=e;return Fn({root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(n)],exitActive:["slideExitActiveLeft-".concat(n)]},Da,t)})(t),c=na();if(i)return(0,It.jsx)("div",{className:On(l.root,r),children:n});const u={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return(0,It.jsx)(Oa,{className:On(l.root,r),childFactory:e=>o.cloneElement(e,{classNames:u}),role:"presentation",children:(0,It.jsx)(ja,(0,De.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:u},s,{children:n}),a)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),Ka=Vn("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Za=Vn("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"".concat(2,"px 0"),display:"flex",justifyContent:"center"});function Ja(e){var t;let{parentProps:n,day:r,focusableDay:i,selectedDays:a,isDateDisabled:s,currentMonthNumber:l,isViewFocused:c}=e,u=(0,Re.A)(e,Ba);const{disabled:d,disableHighlightToday:h,isMonthSwitchingAnimating:p,showDaysOutsideCurrentMonth:f,slots:m,slotProps:g,timezone:v}=n,b=Mn(),y=Rn(v),x=null!==i&&b.isSameDay(r,i),w=a.some((e=>b.isSameDay(e,r))),_=b.isSameDay(r,y),k=null!==(t=null===m||void 0===m?void 0:m.day)&&void 0!==t?t:ba,S=Li({elementType:k,externalSlotProps:null===g||void 0===g?void 0:g.day,additionalProps:(0,De.A)({disableHighlightToday:h,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:p,"data-timestamp":b.toJsDate(r).valueOf()},u),ownerState:(0,De.A)({},n,{day:r,selected:w})}),C=(0,Re.A)(S,Wa),A=o.useMemo((()=>d||s(r)),[d,s,r]),T=o.useMemo((()=>b.getMonth(r)!==l),[b,r,l]),I=o.useMemo((()=>{const e=b.startOfMonth(b.setMonth(r,l));return f?b.isSameDay(r,b.startOfWeek(e)):b.isSameDay(r,e)}),[l,r,f,b]),E=o.useMemo((()=>{const e=b.endOfMonth(b.setMonth(r,l));return f?b.isSameDay(r,b.endOfWeek(e)):b.isSameDay(r,e)}),[l,r,f,b]);return(0,It.jsx)(k,(0,De.A)({},C,{day:r,disabled:A,autoFocus:c&&x,today:_,outsideCurrentMonth:T,isFirstVisibleCell:I,isLastVisibleCell:E,selected:w,tabIndex:x?0:-1,"aria-selected":w,"aria-current":_?"date":void 0}))}const Qa="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),$a=Qa&&Qa[1]?parseInt(Qa[1],10):null,eo=Qa&&Qa[2]?parseInt(Qa[2],10):null,to=$a&&$a<10||eo&&eo<13||!1,no=()=>tn("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||to;const ro=(e,t)=>n=>{"Enter"!==n.key&&" "!==n.key||(e(n),n.preventDefault(),n.stopPropagation()),t&&t(n)},io=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?io(e.shadowRoot):e:null},ao=e=>{var t,n;let{timezone:r,value:i,defaultValue:a,onChange:s,valueManager:l}=e;const c=Mn(),u=o.useRef(a),d=null!==(t=null!==i&&void 0!==i?i:u.current)&&void 0!==t?t:l.emptyValue,h=o.useMemo((()=>l.getTimezone(c,d)),[c,l,d]),p=hr((e=>null==h?e:l.setTimezone(c,h,e))),f=null!==(n=null!==r&&void 0!==r?r:h)&&void 0!==n?n:"default";return{value:o.useMemo((()=>l.setTimezone(c,f,d)),[l,c,f,d]),handleValueChange:hr((function(e){const t=p(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===s||void 0===s||s(t,...r)})),timezone:f}},oo=e=>{let{name:t,timezone:n,value:r,defaultValue:i,onChange:a,valueManager:o}=e;const[s,l]=ra({name:t,state:"value",controlled:r,default:null!==i&&void 0!==i?i:o.emptyValue}),c=hr((function(e){l(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null===a||void 0===a||a(e,...n)}));return ao({timezone:n,value:s,defaultValue:void 0,onChange:c,valueManager:o})};function so(e){var t,n;let{onChange:r,onViewChange:i,openTo:a,view:s,views:l,autoFocus:c,focusedView:u,onFocusedViewChange:d}=e;const h=o.useRef(a),p=o.useRef(l),f=o.useRef(l.includes(a)?a:l[0]),[m,g]=ra({name:"useViews",state:"view",controlled:s,default:f.current}),v=o.useRef(c?m:null),[b,y]=ra({name:"useViews",state:"focusedView",controlled:u,default:v.current});o.useEffect((()=>{(h.current&&h.current!==a||p.current&&p.current.some((e=>!l.includes(e))))&&(g(l.includes(a)?a:l[0]),p.current=l,h.current=a)}),[a,g,m,l]);const x=l.indexOf(m),w=null!==(t=l[x-1])&&void 0!==t?t:null,_=null!==(n=l[x+1])&&void 0!==n?n:null,k=hr(((e,t)=>{y(t?e:t=>e===t?null:t),null===d||void 0===d||d(e,t)})),S=hr((e=>{k(e,!0),e!==m&&(g(e),i&&i(e))})),C=hr((()=>{_&&S(_)})),A=hr(((e,t,n)=>{const i="finish"===t,a=n?l.indexOf(n)<l.length-1:Boolean(_);if(r(e,i&&a?"partial":t,n),n&&n!==m){const e=l[l.indexOf(n)+1];e&&S(e)}else i&&C()}));return{view:m,setView:S,focusedView:b,setFocusedView:k,nextView:_,previousView:w,defaultView:l.includes(a)?a:l[0],goToNextView:C,setValueAndGoToNextView:A}}const lo=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error(['MUI X: The token "'.concat(t,'" is not supported by the Date and Time Pickers.'),"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},co=(e,t,n)=>{const r=[],i=e.date(void 0,t),a=e.startOfWeek(i),o=e.endOfWeek(i);let s=a;for(;e.isBefore(s,o);)r.push(s),s=e.addDays(s,1);return r.map((t=>e.formatByString(t,n)))},uo=(e,t,n,r)=>{switch(n){case"month":return vn(e,e.date(void 0,t)).map((t=>e.formatByString(t,r)));case"weekDay":return co(e,t,r);case"meridiem":{const n=e.date(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map((t=>e.formatByString(t,r)))}default:return[]}},ho=["0","1","2","3","4","5","6","7","8","9"],po=(e,t)=>{if("0"===t[0])return e;const n=[];let r="";for(let i=0;i<e.length;i+=1){r+=e[i];const a=t.indexOf(r);a>-1&&(n.push(a.toString()),r="")}return n.join("")},fo=(e,t)=>"0"===t[0]?e:e.split("").map((e=>t[Number(e)])).join(""),mo=(e,t)=>{const n=po(e,t);return!Number.isNaN(Number(n))},go=(e,t)=>{let n=e;for(n=Number(n).toString();n.length<t;)n="0".concat(n);return n},vo=(e,t,n,r,i)=>{if("day"===i.type&&"digit-with-letter"===i.contentType){const r=e.setDate(n.longestMonth,t);return e.formatByString(r,i.format)}let a=t.toString();return i.hasLeadingZerosInInput&&(a=go(a,i.maxLength)),fo(a,r)},bo=(e,t,n,r,i,a,o,s)=>{const l=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),c="Home"===r,u="End"===r,d=""===n.value||c||u;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=i[n.type]({currentDate:o,format:n.format,contentType:n.contentType}),h=t=>vo(e,t,r,a,n),p="minutes"===n.type&&null!==s&&void 0!==s&&s.minutesStep?s.minutesStep:1;let f=parseInt(po(n.value,a),10)+l*p;if(d){if("year"===n.type&&!u&&!c)return e.formatByString(e.date(void 0,t),n.format);f=l>0||c?r.minimum:r.maximum}return f%p!==0&&((l<0||c)&&(f+=p-(p+f)%p),(l>0||u)&&(f-=f%p)),f>r.maximum?h(r.minimum+(f-r.maximum-1)%(r.maximum-r.minimum+1)):f<r.minimum?h(r.maximum-(r.minimum-f-1)%(r.maximum-r.minimum+1)):h(f)})():(()=>{const r=uo(e,t,n.type,n.format);if(0===r.length)return n.value;if(d)return l>0||c?r[0]:r[r.length-1];const i=r.indexOf(n.value);return r[(i+r.length+l)%r.length]})()},yo=(e,t,n)=>{let r=e.value||e.placeholder;const i="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(po(r,n)).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!i&&1===r.length&&(r="".concat(r,"\u200e")),"input-rtl"===t&&(r="\u2068".concat(r,"\u2069")),r},xo=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),wo=(e,t,n)=>4===e.formatByString(e.date(void 0,t),n).length,_o=(e,t,n,r,i)=>{if("digit"!==n)return!1;const a=e.date(void 0,t);switch(r){case"year":if(wo(e,t,i)){return"0001"===e.formatByString(e.setYear(a,1),i)}return"01"===e.formatByString(e.setYear(a,2001),i);case"month":return e.formatByString(e.startOfYear(a),i).length>1;case"day":return e.formatByString(e.startOfMonth(a),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(a),i).length>1;case"hours":return e.formatByString(e.setHours(a,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(a,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(a,1),i).length>1;default:throw new Error("Invalid section type")}};const ko=(e,t)=>{0},So={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Co=(e,t,n,r,i,a)=>[...r].sort(((e,t)=>So[e.type]-So[t.type])).reduce(((r,i)=>!a||i.modified?((e,t,n,r,i)=>{switch(n.type){case"year":return e.setYear(i,e.getYear(r));case"month":return e.setMonth(i,e.getMonth(r));case"weekDay":{const i=co(e,t,n.format),a=e.formatByString(r,n.format),o=i.indexOf(a),s=i.indexOf(n.value)-o;return e.addDays(r,s)}case"day":return e.setDate(i,e.getDate(r));case"meridiem":{const t=e.getHours(r)<12,n=e.getHours(i);return t&&n>=12?e.addHours(i,-12):!t&&n<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(r));case"minutes":return e.setMinutes(i,e.getMinutes(r));case"seconds":return e.setSeconds(i,e.getSeconds(r));default:return i}})(e,t,i,n,r):r),i),Ao=(e,t)=>null==e?null:"all"===e?"all":"string"===typeof e?t.findIndex((t=>t.type===e)):e,To=(e,t)=>{if(e.value)switch(e.type){case"month":{if("digit"===e.contentType)return t.format(t.setMonth(t.date(),Number(e.value)-1),"month");const n=t.parse(e.value,e.format);return n?t.format(n,"month"):void 0}case"day":return"digit"===e.contentType?t.format(t.setDate(t.startOfYear(t.date()),Number(e.value)),"dayOfMonthFull"):e.value;default:return}},Io=(e,t)=>{if(e.value)switch(e.type){case"weekDay":if("letter"===e.contentType)return;return Number(e.value);case"meridiem":{const n=t.parse("01:00 ".concat(e.value),"".concat(t.formats.hours12h,":").concat(t.formats.minutes," ").concat(e.format));return n?t.getHours(n)>=12?1:0:void 0}case"day":return"digit-with-letter"===e.contentType?parseInt(e.value,10):Number(e.value);case"month":{if("digit"===e.contentType)return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return"letter"!==e.contentType?Number(e.value):void 0}},Eo=["value","referenceDate"],No={emptyValue:null,getTodayValue:bn,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,Re.A)(e,Eo);return null!=t&&r.utils.isValid(t)?t:null!=n?n:Sn(r)},cleanValue:fn,areValuesEqual:gn,isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},Mo={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r)=>!e.isValid(t)&&!!n?n:r(t),getV7HiddenInputValueFromSections:e=>e.map((e=>"".concat(e.startSeparator).concat(e.value||e.placeholder).concat(e.endSeparator))).join(""),getV6InputValueFromSections:(e,t,n)=>{const r=e.map((e=>{const r=yo(e,n?"input-rtl":"input-ltr",t);return"".concat(e.startSeparator).concat(r).concat(e.endSeparator)})).join("");return n?"\u2066".concat(r,"\u2069"):r},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},jo=e=>{const{value:t,referenceDate:n,disableFuture:r,disablePast:i,disableSwitchToMonthOnDayFocus:a=!1,maxDate:s,minDate:l,onMonthChange:c,reduceAnimations:u,shouldDisableDate:d,timezone:h}=e,p=Mn(),f=o.useRef(((e,t,n)=>(r,i)=>{switch(i.type){case"changeMonth":return(0,De.A)({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,De.A)({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=r.focusedDay&&null!=i.focusedDay&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const a=null!=i.focusedDay&&!t&&!n.isSameMonth(r.currentMonth,i.focusedDay);return(0,De.A)({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:a&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:a?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:null!=i.focusedDay&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(u),a,p)).current,m=o.useMemo((()=>No.getInitialReferenceValue({value:t,utils:p,timezone:h,props:e,referenceDate:n,granularity:_n.day})),[]),[g,v]=o.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:p.startOfMonth(m),slideDirection:"left"}),b=o.useCallback((e=>{v((0,De.A)({type:"changeMonth"},e)),c&&c(e.newMonth)}),[c]),y=o.useCallback((e=>{const t=e;p.isSameMonth(t,g.currentMonth)||b({newMonth:p.startOfMonth(t),direction:p.isAfterDay(t,g.currentMonth)?"left":"right"})}),[g.currentMonth,b,p]),x=Fa({shouldDisableDate:d,minDate:l,maxDate:s,disableFuture:r,disablePast:i,timezone:h}),w=o.useCallback((()=>{v({type:"finishMonthSwitchingAnimation"})}),[]),_=hr(((e,t)=>{x(e)||v({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:m,calendarState:g,changeMonth:y,changeFocusedDay:_,isDateDisabled:x,onMonthSwitchingAnimationEnd:w,handleChangeMonth:b}},Do=e=>Kn("MuiDateRangeCalendar",e),Ro=Zn("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),Po=(e,t)=>Boolean(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Oo=(e,t,n)=>Po(e,n)&&e.isWithinRange(t,n),Lo=(e,t,n)=>Po(e,n)&&e.isSameDay(t,n[0]),Fo=(e,t,n)=>Po(e,n)&&e.isSameDay(t,n[1]);function zo(e){let{utils:t,range:n,newDate:r,rangePosition:i,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}=e;const[s,l]=n;if(o&&r&&(s&&"start"===i&&(r=hn(t,r,s)),l&&"end"===i&&(r=hn(t,r,l))),"start"===i){const e=a?{nextSelection:"start",newRange:[l,r]}:{nextSelection:"end",newRange:[r,null]};return Boolean(l)&&t.isAfter(r,l)?e:{nextSelection:"end",newRange:[r,l]}}const c=a?{nextSelection:"end",newRange:[r,s]}:{nextSelection:"end",newRange:[r,null]};return Boolean(s)&&t.isBeforeDay(r,s)?c:{nextSelection:"start",newRange:[s,r]}}function Bo(e){return Kn("MuiDateRangePickerDay",e)}const Wo=Zn("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),Vo=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],Uo={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},Ho={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},qo=Vn("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{["&.".concat(Wo.rangeIntervalDayHighlight)]:t.rangeIntervalDayHighlight},{["&.".concat(Wo.rangeIntervalDayHighlightStart)]:t.rangeIntervalDayHighlightStart},{["&.".concat(Wo.rangeIntervalDayHighlightEnd)]:t.rangeIntervalDayHighlightEnd},{["&.".concat(Wo.firstVisibleCell)]:t.firstVisibleCell},{["&.".concat(Wo.lastVisibleCell)]:t.lastVisibleCell},{["&.".concat(Wo.startOfMonth)]:t.startOfMonth},{["&.".concat(Wo.endOfMonth)]:t.endOfMonth},{["&.".concat(Wo.outsideCurrentMonth)]:t.outsideCurrentMonth},{["&.".concat(Wo.hiddenDayFiller)]:t.hiddenDayFiller},t.root]})((e=>{let{theme:t}=e;return{variants:[{props:{isHiddenDayFiller:!1},style:{["&:first-of-type .".concat(Wo.rangeIntervalDayPreview)]:(0,De.A)({},Ho,{borderLeftColor:(t.vars||t).palette.divider}),["&:last-of-type .".concat(Wo.rangeIntervalDayPreview)]:(0,De.A)({},Uo,{borderRightColor:(t.vars||t).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(t.vars||t).palette.primary.contrastText,backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):la(t.palette.primary.main,t.palette.action.focusOpacity),"&:first-of-type":Ho,"&:last-of-type":Uo}},{props:e=>{let{ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}}=e;return!t&&(n||r)},style:(0,De.A)({},Ho,{paddingLeft:0})},{props:e=>{let{ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}}=e;return!t&&(n||r)},style:(0,De.A)({},Uo,{paddingRight:0})}]}}));qo.propTypes={ownerState:rn().object.isRequired};const Go=Vn("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{["&.".concat(Wo.rangeIntervalDayPreview)]:t.rangeIntervalDayPreview},{["&.".concat(Wo.rangeIntervalDayPreviewStart)]:t.rangeIntervalDayPreviewStart},{["&.".concat(Wo.rangeIntervalDayPreviewEnd)]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})((e=>{let{theme:t}=e;return{border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:"2px dashed ".concat((t.vars||t).palette.divider),borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:e=>{let{ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:i}}=e;return t&&!n&&(r||i)},style:(0,De.A)({borderLeftColor:(t.vars||t).palette.divider},Ho)},{props:e=>{let{ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:i}}=e;return t&&!n&&(r||i)},style:(0,De.A)({borderRightColor:(t.vars||t).palette.divider},Uo)}]}}));Go.propTypes={ownerState:rn().object.isRequired};const Yo=Vn(ba,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{["&.".concat(Wo.dayInsideRangeInterval)]:t.dayInsideRangeInterval},{["&.".concat(Wo.dayOutsideRangeInterval)]:t.dayOutsideRangeInterval},{["&.".concat(Wo.notSelectedDate)]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),Xo=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDateRangePickerDay"}),{className:r,day:i,outsideCurrentMonth:a,isHighlighting:o,isPreviewing:s,selected:l=!1,isVisuallySelected:c,sx:u,draggable:d,isFirstVisibleCell:h,isLastVisibleCell:p}=n,f=(0,Re.A)(n,Vo);$i("x-date-pickers-pro","MTcxNDA3MTYwMDAwMA==");const m=Mn(),g=m.isSameDay(i,m.endOfMonth(i)),v=m.isSameDay(i,m.startOfMonth(i)),b=(0,De.A)({},n,{selected:l,isStartOfMonth:v,isEndOfMonth:g,draggable:d,isFirstVisibleCell:h,isLastVisibleCell:p,isHiddenDayFiller:a&&!f.showDaysOutsideCurrentMonth}),y=(e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:i,isEndOfHighlighting:a,isEndOfMonth:o,isPreviewing:s,isStartOfPreviewing:l,isEndOfPreviewing:c,isFirstVisibleCell:u,isLastVisibleCell:d,isHiddenDayFiller:h,selected:p,classes:f}=e;return Fn({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",a&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",i&&"startOfMonth",o&&"endOfMonth",u&&"firstVisibleCell",d&&"lastVisibleCell",h&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",s&&"rangeIntervalDayPreview",(l||i)&&"rangeIntervalDayPreviewStart",(c||o)&&"rangeIntervalDayPreviewEnd"],day:["day",!p&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!p&&t&&"dayInsideRangeInterval"]},Bo,f)})(b);return(0,It.jsx)(qo,{className:On(y.root,r),ownerState:b,sx:u,children:(0,It.jsx)(Go,{className:y.rangeIntervalPreview,ownerState:b,children:(0,It.jsx)(Yo,(0,De.A)({},f,{ref:t,disableMargin:!0,day:i,selected:c,outsideCurrentMonth:a,className:y.day,ownerState:b,draggable:d,isFirstVisibleCell:h,isLastVisibleCell:p}))})})})),Ko=o.memo(Xo),Zo=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const i=+r;return t.date(new Date(i).toISOString(),n)},Jo=e=>e?e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?Jo(e.children[0]):null:e,Qo=(e,t)=>{var n;if(1===(null===(n=e.changedTouches)||void 0===n?void 0:n.length)&&e.touches.length<=1){const n=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),r=Jo(n);return t&&r===e.changedTouches[0].target?null:r}return null},$o=e=>{let{disableDragEditing:t,utils:n,onDatePositionChange:r,onDrop:i,dateRange:a,timezone:s}=e;const[l,c]=o.useState(!1),[u,d]=o.useState(null),h=hr((e=>{n.isEqual(e,u)||d(e)})),p=o.useMemo((()=>{const[e,t]=a;if(u){if(e&&n.isBefore(u,e))return"start";if(t&&n.isAfter(u,t))return"end"}return null}),[a,u,n]),f=(e=>{let{utils:t,setRangeDragDay:n,setIsDragging:r,isDragging:i,onDatePositionChange:a,onDrop:s,disableDragEditing:l,dateRange:c,timezone:u}=e;const d=o.useRef(null);o.useEffect((()=>{d.current=document.createElement("img"),d.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}),[]);const h=e=>{if(null==e)return!1;const n=!l&&!!c[0]&&!!c[1],r=Lo(t,e,c),i=Fo(t,e,c);return n&&(r||i)},p=hr((e=>{const i=Zo(e.target,t,u);if(!h(i))return;e.stopPropagation(),d.current&&e.dataTransfer.setDragImage(d.current,0,0),n(i),e.dataTransfer.effectAllowed="move",r(!0);const o=e.target.dataset;o.timestamp&&e.dataTransfer.setData("draggingDate",o.timestamp),o.position&&a(o.position)})),f=hr((e=>{const r=Qo(e);if(!r)return;const i=Zo(r,t,u);h(i)&&n(i)})),m=hr((e=>{i&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",n(Zo(e.target,t,u)))})),g=hr((e=>{const i=Qo(e);if(!i)return;const o=Zo(i,t,u);if(o&&n(o),i!==e.changedTouches[0].target||!h(o))return;r(!0);const s=e.target.dataset;s.position&&a(s.position)})),v=hr((e=>{i&&(e.preventDefault(),e.stopPropagation())})),b=hr((e=>{i&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move")})),y=hr((e=>{if(!i)return;n(null),r(!1);const a=Qo(e,!0);if(!a)return;a.focus();const o=Zo(a,t,u);o&&s(o)}));return{onDragStart:p,onDragEnter:m,onDragLeave:v,onDragOver:b,onDragEnd:hr((e=>{i&&(e.preventDefault(),e.stopPropagation(),r(!1),n(null))})),onDrop:hr((e=>{if(!i)return;if(e.preventDefault(),e.stopPropagation(),r(!1),n(null),e.currentTarget.focus(),(e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"))(e))return;const a=Zo(e.target,t,u);a&&s(a)})),onTouchStart:f,onTouchMove:g,onTouchEnd:y}})({utils:n,onDatePositionChange:r,onDrop:i,setIsDragging:c,isDragging:l,setRangeDragDay:h,disableDragEditing:t,dateRange:a,timezone:s});return o.useMemo((()=>(0,De.A)({isDragging:l,rangeDragDay:u,draggingDatePosition:p},t?{}:f)),[l,u,p,t,f])},es=(e,t)=>{var n;const[r,i]=ra({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:null!==(n=e.defaultRangePosition)&&void 0!==n?n:"start"});return{rangePosition:r,onRangePositionChange:hr((n=>{var r;i(n),null===(r=e.onRangePositionChange)||void 0===r||r.call(e,n),(e=>{if(null==(null===t||void 0===t?void 0:t.current))return;const n=t.current.getSections(),r="start"===e?0:n.length/2;t.current.setSelectedSections(r)})(n)}))}},ts=e=>e.scrollTop;function ns(e,t){var n,r;const{timeout:i,easing:a,style:o={}}=e;return{duration:null!=(n=o.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=o.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:o.transitionDelay}}const rs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],is={entering:{opacity:1},entered:{opacity:1}},as=o.forwardRef((function(e,t){const n=na(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=r,TransitionComponent:b=Ea}=e,y=(0,Re.A)(e,rs),x=o.useRef(null),w=dr(x,s.ref,t),_=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},k=_(h),S=_(((e,t)=>{ts(e);const r=ns({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=_(d),A=_(m),T=_((e=>{const t=ns({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),I=_(f);return(0,It.jsx)(b,(0,De.A)({appear:a,in:c,nodeRef:x,onEnter:S,onEntered:C,onEntering:k,onExit:T,onExited:I,onExiting:A,addEndListener:e=>{i&&i(x.current,e)},timeout:v},y,{children:(e,t)=>o.cloneElement(s,(0,De.A)({style:(0,De.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},is[e],g,s.props.style),ref:w},t))}))})),os=as;function ss(e){return Kn("MuiIconButton",e)}const ls=Zn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),cs=["edge","children","className","color","disabled","disableFocusRipple","size"],us=Vn(si,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(Hn(n.color))],n.edge&&t["edge".concat(Hn(n.edge))],t["size".concat(Hn(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,De.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,De.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,De.A)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(ls.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),ds=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:a,color:o="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,Re.A)(n,cs),d=(0,De.A)({},n,{edge:r,color:o,disabled:s,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:a}=e;return Fn({root:["root",n&&"disabled","default"!==r&&"color".concat(Hn(r)),i&&"edge".concat(Hn(i)),"size".concat(Hn(a))]},ss,t)})(d);return(0,It.jsx)(us,(0,De.A)({className:On(h.root,a),centerRipple:!0,focusRipple:!l,disabled:s,ref:t},u,{ownerState:d,children:i}))})),hs=ds,ps=e=>Kn("MuiPickersFadeTransitionGroup",e),fs=(Zn("MuiPickersFadeTransitionGroup",["root"]),Vn(Or,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function ms(e){const t=Tt({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:a}=t,o=(e=>{const{classes:t}=e;return Fn({root:["root"]},ps,t)})(t),s=na();return i?n:(0,It.jsx)(fs,{className:On(o.root,r),children:(0,It.jsx)(os,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:s.transitions.duration.enteringScreen,enter:s.transitions.duration.enteringScreen,exit:0},children:n},a)})}function gs(e){return Kn("MuiSvgIcon",e)}Zn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vs=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],bs=Vn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Hn(n.color))],t["fontSize".concat(Hn(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,a,o,s,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(a=t.transitions)||null==(a=a.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(o=t.typography)||null==(s=o.pxToRem)?void 0:s.call(o,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),ys=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=(0,Re.A)(n,vs),f=o.isValidElement(r)&&"svg"===r.type,m=(0,De.A)({},n,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),g={};u||(g.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return Fn({root:["root","inherit"!==t&&"color".concat(Hn(t)),"fontSize".concat(Hn(n))]},gs,r)})(m);return(0,It.jsxs)(bs,(0,De.A)({as:s,className:On(v.root,i),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},g,p,f&&r.props,{ownerState:m,children:[f?r.props.children:r,d?(0,It.jsx)("title",{children:d}):null]}))}));ys.muiName="SvgIcon";const xs=ys;function ws(e,t){function n(n,r){return(0,It.jsx)(xs,(0,De.A)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=xs.muiName,o.memo(o.forwardRef(n))}const _s=ws((0,It.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ks=ws((0,It.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ss=ws((0,It.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");ws((0,It.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),ws((0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,It.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),ws((0,It.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),ws((0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,It.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),ws((0,It.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Cs(e){return Kn("MuiPickersArrowSwitcher",e)}Zn("MuiPickersArrowSwitcher",["root","spacer","button"]);const As=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Ts=["ownerState"],Is=["ownerState"],Es=Vn("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),Ns=Vn("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),Ms=Vn(hs,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),js=o.forwardRef((function(e,t){var n,r,i,a;const o="rtl"===na().direction,s=Tt({props:e,name:"MuiPickersArrowSwitcher"}),{children:l,className:c,slots:u,slotProps:d,isNextDisabled:h,isNextHidden:p,onGoToNext:f,nextLabel:m,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:b,previousLabel:y}=s,x=(0,Re.A)(s,As),w=s,_=(e=>{const{classes:t}=e;return Fn({root:["root"],spacer:["spacer"],button:["button"]},Cs,t)})(w),k={isDisabled:h,isHidden:p,goTo:f,label:m},S={isDisabled:g,isHidden:v,goTo:b,label:y},C=null!==(n=null===u||void 0===u?void 0:u.previousIconButton)&&void 0!==n?n:Ms,A=Li({elementType:C,externalSlotProps:null===d||void 0===d?void 0:d.previousIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"end",onClick:S.goTo},ownerState:(0,De.A)({},w,{hidden:S.isHidden}),className:_.button}),T=null!==(r=null===u||void 0===u?void 0:u.nextIconButton)&&void 0!==r?r:Ms,I=Li({elementType:T,externalSlotProps:null===d||void 0===d?void 0:d.nextIconButton,additionalProps:{size:"medium",title:k.label,"aria-label":k.label,disabled:k.isDisabled,edge:"start",onClick:k.goTo},ownerState:(0,De.A)({},w,{hidden:k.isHidden}),className:_.button}),E=null!==(i=null===u||void 0===u?void 0:u.leftArrowIcon)&&void 0!==i?i:ks,N=Li({elementType:E,externalSlotProps:null===d||void 0===d?void 0:d.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),M=(0,Re.A)(N,Ts),j=null!==(a=null===u||void 0===u?void 0:u.rightArrowIcon)&&void 0!==a?a:Ss,D=Li({elementType:j,externalSlotProps:null===d||void 0===d?void 0:d.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),R=(0,Re.A)(D,Is);return(0,It.jsxs)(Es,(0,De.A)({ref:t,className:On(_.root,c),ownerState:w},x,{children:[(0,It.jsx)(C,(0,De.A)({},A,{children:o?(0,It.jsx)(j,(0,De.A)({},R)):(0,It.jsx)(E,(0,De.A)({},M))})),l?(0,It.jsx)(rr,{variant:"subtitle1",component:"span",children:l}):(0,It.jsx)(Ns,{className:_.spacer,ownerState:w}),(0,It.jsx)(T,(0,De.A)({},I,{children:o?(0,It.jsx)(E,(0,De.A)({},M)):(0,It.jsx)(j,(0,De.A)({},R))}))]}))}));function Ds(e,t){let{disableFuture:n,maxDate:r,timezone:i}=t;const a=Mn();return o.useMemo((()=>{const t=a.date(void 0,i),o=a.startOfMonth(n&&a.isBefore(t,r)?t:r);return!a.isAfter(o,e)}),[n,r,e,a,i])}function Rs(e,t){let{disablePast:n,minDate:r,timezone:i}=t;const a=Mn();return o.useMemo((()=>{const t=a.date(void 0,i),o=a.startOfMonth(n&&a.isAfter(t,r)?t:r);return!a.isBefore(o,e)}),[n,r,e,a,i])}const Ps=e=>Kn("MuiPickersCalendarHeader",e),Os=Zn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Ls=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Fs=["ownerState"],zs=Vn("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Bs=Vn("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,De.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),Ws=Vn("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Vs=Vn(hs,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[".".concat(Os.switchViewIcon)]:{transform:"rotate(180deg)"}}}]}),Us=Vn(_s,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}})),Hs=o.forwardRef((function(e,t){var n,r;const i=Dn(),a=Mn(),o=Tt({props:e,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:l,currentMonth:c,disabled:u,disableFuture:d,disablePast:h,maxDate:p,minDate:f,onMonthChange:m,onViewChange:g,view:v,reduceAnimations:b,views:y,labelId:x,className:w,timezone:_,format:k="".concat(a.formats.month," ").concat(a.formats.year)}=o,S=(0,Re.A)(o,Ls),C=o,A=(e=>{const{classes:t}=e;return Fn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Ps,t)})(o),T=null!==(n=null===s||void 0===s?void 0:s.switchViewButton)&&void 0!==n?n:Vs,I=Li({elementType:T,externalSlotProps:null===l||void 0===l?void 0:l.switchViewButton,additionalProps:{size:"small","aria-label":i.calendarViewSwitchingButtonAriaLabel(v)},ownerState:C,className:A.switchViewButton}),E=null!==(r=null===s||void 0===s?void 0:s.switchViewIcon)&&void 0!==r?r:Us,N=Li({elementType:E,externalSlotProps:null===l||void 0===l?void 0:l.switchViewIcon,ownerState:void 0,className:A.switchViewIcon}),M=(0,Re.A)(N,Fs),j=Ds(c,{disableFuture:d,maxDate:p,timezone:_}),D=Rs(c,{disablePast:h,minDate:f,timezone:_});if(1===y.length&&"year"===y[0])return null;const R=a.formatByString(c,k);return(0,It.jsxs)(zs,(0,De.A)({},S,{ownerState:C,className:On(w,A.root),ref:t,children:[(0,It.jsxs)(Bs,{role:"presentation",onClick:()=>{if(1!==y.length&&g&&!u)if(2===y.length)g(y.find((e=>e!==v))||y[0]);else{const e=0!==y.indexOf(v)?0:1;g(y[e])}},ownerState:C,"aria-live":"polite",className:A.labelContainer,children:[(0,It.jsx)(ms,{reduceAnimations:b,transKey:R,children:(0,It.jsx)(Ws,{id:x,ownerState:C,className:A.label,children:R})}),y.length>1&&!u&&(0,It.jsx)(T,(0,De.A)({},I,{children:(0,It.jsx)(E,(0,De.A)({},M))}))]}),(0,It.jsx)(os,{in:"day"===v,children:(0,It.jsx)(js,{slots:s,slotProps:l,onGoToPrevious:()=>m(a.addMonths(c,-1),"right"),isPreviousDisabled:D,previousLabel:i.previousMonth,onGoToNext:()=>m(a.addMonths(c,1),"left"),isNextDisabled:j,nextLabel:i.nextMonth})})]}))})),qs=["calendars","month","monthIndex"],Gs=Vn(js)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Ys=o.forwardRef((function(e,t){const n=Mn(),r=Dn(),{calendars:i,month:a,monthIndex:o}=e,s=(0,Re.A)(e,qs),{format:l,slots:c,slotProps:u,currentMonth:d,onMonthChange:h,disableFuture:p,disablePast:f,minDate:m,maxDate:g,timezone:v}=e,b=Ds(d,{disableFuture:p,maxDate:g,timezone:v}),y=Rs(d,{disablePast:f,minDate:m,timezone:v});if(1===i)return(0,It.jsx)(Hs,(0,De.A)({},s,{ref:t}));return(0,It.jsx)(Gs,{ref:t,onGoToPrevious:()=>h(n.addMonths(d,-1),"right"),onGoToNext:()=>h(n.addMonths(d,1),"left"),isPreviousHidden:0!==o,isPreviousDisabled:y,previousLabel:r.previousMonth,isNextHidden:o!==i-1,isNextDisabled:b,nextLabel:r.nextMonth,slots:c,slotProps:u,children:n.formatByString(a,null!==l&&void 0!==l?l:"".concat(n.formats.month," ").concat(n.formats.year))})})),Xs=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],Ks=["isDragging","rangeDragDay","draggingDatePosition"],Zs=Vn("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),Js=Vn("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})((e=>{let{theme:t}=e;return{"&:not(:last-of-type)":{borderRight:"1px solid ".concat((t.vars||t).palette.divider)}}})),Qs=(Ht(["The `currentMonthCalendarPosition` prop must be an integer between `1` and the amount of calendars rendered.","For example if you have 2 calendars rendered, it should be equal to either 1 or 2."]),Vn((function(e){const t=Tt({props:e,name:"MuiDayCalendar"}),n=Mn(),{onFocusedDayChange:r,className:i,currentMonth:a,selectedDays:s,focusedDay:l,loading:c,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:d,readOnly:h,reduceAnimations:p,renderLoading:f=(()=>(0,It.jsx)("span",{children:"..."})),slideDirection:m,TransitionProps:g,disablePast:v,disableFuture:b,minDate:y,maxDate:x,shouldDisableDate:w,shouldDisableMonth:_,shouldDisableYear:k,dayOfWeekFormatter:S=(e=>n.format(e,"weekdayShort").charAt(0).toUpperCase()),hasFocus:C,onFocusedViewChange:A,gridLabelId:T,displayWeekNumber:I,fixedWeekNumber:E,autoFocus:N,timezone:M}=t,j=Rn(M),D=(e=>{const{classes:t}=e;return Fn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},za,t)})(t),R="rtl"===na().direction,P=Fa({shouldDisableDate:w,shouldDisableMonth:_,shouldDisableYear:k,minDate:y,maxDate:x,disablePast:v,disableFuture:b,timezone:M}),O=Dn(),[L,F]=ra({name:"DayCalendar",state:"hasFocus",controlled:C,default:null!==N&&void 0!==N&&N}),[z,B]=o.useState((()=>l||j)),W=hr((e=>{h||u(e)})),V=e=>{P(e)||(r(e),B(e),null===A||void 0===A||A(!0),F(!0))},U=hr(((e,t)=>{switch(e.key){case"ArrowUp":V(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":V(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const r=n.addDays(t,R?1:-1),i=n.addMonths(t,R?1:-1),a=pn({utils:n,date:r,minDate:R?r:n.startOfMonth(i),maxDate:R?n.endOfMonth(i):r,isDateDisabled:P,timezone:M});V(a||r),e.preventDefault();break}case"ArrowRight":{const r=n.addDays(t,R?-1:1),i=n.addMonths(t,R?-1:1),a=pn({utils:n,date:r,minDate:R?n.startOfMonth(i):r,maxDate:R?r:n.endOfMonth(i),isDateDisabled:P,timezone:M});V(a||r),e.preventDefault();break}case"Home":V(n.startOfWeek(t)),e.preventDefault();break;case"End":V(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":V(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":V(n.addMonths(t,-1)),e.preventDefault()}})),H=hr(((e,t)=>V(t))),q=hr(((e,t)=>{L&&n.isSameDay(z,t)&&(null===A||void 0===A||A(!1))})),G=n.getMonth(a),Y=n.getYear(a),X=o.useMemo((()=>s.filter((e=>!!e)).map((e=>n.startOfDay(e)))),[n,s]),K="".concat(Y,"-").concat(G),Z=o.useMemo((()=>o.createRef()),[K]),J=n.startOfWeek(j),Q=o.useMemo((()=>{const e=n.startOfMonth(a),t=n.endOfMonth(a);return P(z)||n.isAfterDay(z,t)||n.isBeforeDay(z,e)?pn({utils:n,date:z,minDate:e,maxDate:t,disablePast:v,disableFuture:b,isDateDisabled:P,timezone:M}):z}),[a,b,v,z,P,n,M]),$=o.useMemo((()=>{const e=n.setTimezone(a,M),t=n.getWeekArray(e);let r=n.addMonths(e,1);for(;E&&t.length<E;){const e=n.getWeekArray(r),i=n.isSameDay(t[t.length-1][0],e[0][0]);e.slice(i?1:0).forEach((e=>{t.length<E&&t.push(e)})),r=n.addMonths(r,1)}return t}),[a,E,n,M]);return(0,It.jsxs)(Va,{role:"grid","aria-labelledby":T,className:D.root,children:[(0,It.jsxs)(Ua,{role:"row",className:D.header,children:[I&&(0,It.jsx)(qa,{variant:"caption",role:"columnheader","aria-label":O.calendarWeekNumberHeaderLabel,className:D.weekNumberLabel,children:O.calendarWeekNumberHeaderText}),yn(n,j).map(((e,t)=>(0,It.jsx)(Ha,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(J,t),"weekday"),className:D.weekDayLabel,children:S(e)},t.toString())))]}),c?(0,It.jsx)(Ya,{className:D.loadingContainer,children:f()}):(0,It.jsx)(Xa,(0,De.A)({transKey:K,onExited:d,reduceAnimations:p,slideDirection:m,className:On(i,D.slideTransition)},g,{nodeRef:Z,children:(0,It.jsx)(Ka,{ref:Z,role:"rowgroup",className:D.monthContainer,children:$.map(((e,r)=>(0,It.jsxs)(Za,{role:"row",className:D.weekContainer,"aria-rowindex":r+1,children:[I&&(0,It.jsx)(Ga,{className:D.weekNumber,role:"rowheader","aria-label":O.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:O.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(((e,n)=>(0,It.jsx)(Ja,{parentProps:t,day:e,selectedDays:X,focusableDay:Q,onKeyDown:U,onFocus:H,onBlur:q,onDaySelect:W,isDateDisabled:P,currentMonthNumber:G,isViewFocused:L,"aria-colindex":n+1},e.toString())))]},"week-".concat(e[0]))))})}))]})}))((e=>{let{theme:t}=e;return{minWidth:312,minHeight:264,["&.".concat(Ro.dayDragging)]:{["& .".concat(Wo.day)]:{cursor:"grabbing"},["& .".concat(Wo.root,":not(.").concat(Wo.rangeIntervalDayHighlightStart,"):not(.").concat(Wo.rangeIntervalDayHighlightEnd,") .").concat(Wo.day,":not(.").concat(Wo.notSelectedDate,")")]:{opacity:.6}},["&:not(.".concat(Ro.dayDragging,") .").concat(Wo.dayOutsideRangeInterval)]:{"@media (pointer: fine)":{"&:hover":{border:"1px solid ".concat((t.vars||t).palette.grey[500])}}}}})));const $s=o.forwardRef((function(e,t){var n;const r=function(e,t){var n,r,i,a,o,s,l,c,u,d;const h=Mn(),p=jn(),f=no(),m=Tt({props:e,name:t});return(0,De.A)({},m,{renderLoading:null!==(n=m.renderLoading)&&void 0!==n?n:()=>(0,It.jsx)("span",{children:"..."}),reduceAnimations:null!==(r=m.reduceAnimations)&&void 0!==r?r:f,loading:null!==(i=e.loading)&&void 0!==i&&i,disablePast:null!==(a=e.disablePast)&&void 0!==a&&a,disableFuture:null!==(o=e.disableFuture)&&void 0!==o&&o,openTo:null!==(s=m.openTo)&&void 0!==s?s:"day",views:null!==(l=m.views)&&void 0!==l?l:["day"],minDate:mn(h,m.minDate,p.minDate),maxDate:mn(h,m.maxDate,p.maxDate),calendars:null!==(c=m.calendars)&&void 0!==c?c:2,disableDragEditing:null!==(u=m.disableDragEditing)&&void 0!==u&&u,availableRangePositions:null!==(d=m.availableRangePositions)&&void 0!==d?d:["start","end"]})}(e,"MuiDateRangeCalendar"),i=tn("@media (pointer: fine)",{defaultMatches:!1}),{value:a,defaultValue:s,referenceDate:l,onChange:c,className:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,reduceAnimations:g,onMonthChange:v,rangePosition:b,defaultRangePosition:y,onRangePositionChange:x,calendars:w,currentMonthCalendarPosition:_=1,slots:k,slotProps:S,loading:C,renderLoading:A,disableHighlightToday:T,readOnly:I,disabled:E,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:M,disableAutoMonthSwitching:j,autoFocus:D,fixedWeekNumber:R,disableDragEditing:P,displayWeekNumber:O,timezone:L,availableRangePositions:F,views:z,view:B,openTo:W,onViewChange:V}=r,U=(0,Re.A)(r,Xs),{value:H,handleValueChange:q,timezone:G}=oo({name:"DateRangeCalendar",timezone:L,value:a,defaultValue:s,onChange:c,valueManager:An}),{setValueAndGoToNextView:Y,view:X}=so({view:B,views:z,openTo:W,onChange:q,onViewChange:V,autoFocus:D}),K=Mn(),Z=Rn(G),{rangePosition:J,onRangePositionChange:Q}=es({rangePosition:b,defaultRangePosition:y,onRangePositionChange:x}),$=hr((e=>{J!==e&&Q(e)})),ee=hr((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{nextSelection:r,newRange:i}=zo({newDate:e,utils:K,range:H,rangePosition:J,allowRangeFlip:n,shouldMergeDateAndTime:!0}),a=F.includes(r);a&&Q(r);const o="end"===J&&Po(K,i);Y(i,o||!a?"finish":"partial",X)})),te=hr((e=>{ee(e,void 0,!0)})),ne=P||E||I,re=o.useMemo((()=>[null!=H[0]&&K.isValid(H[0])?K.startOfDay(H[0]):H[0],null!=H[1]&&K.isValid(H[1])?K.endOfDay(H[1]):H[1]]),[H,K]),ie=$o({disableDragEditing:ne,onDrop:te,onDatePositionChange:$,utils:K,dateRange:re,timezone:G}),{isDragging:ae,rangeDragDay:oe,draggingDatePosition:se}=ie,le=(0,Re.A)(ie,Ks),ce=(0,De.A)({},r,{isDragging:ae}),ue=(e=>{const{classes:t,isDragging:n}=e;return Fn({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},Do,t)})(ce),de=o.useMemo((()=>{if(!re[0]||!re[1]||!oe)return[null,null];const e=zo({utils:K,range:re,newDate:oe,rangePosition:J,allowRangeFlip:!0}).newRange;return null!==e[0]&&null!==e[1]?[K.startOfDay(e[0]),K.endOfDay(e[1])]:e}),[J,oe,K,re]),he=o.useMemo((()=>{if(m)return e=>m(e,se||J)}),[m,J,se]),{calendarState:pe,changeFocusedDay:fe,changeMonth:me,handleChangeMonth:ge,onMonthSwitchingAnimationEnd:ve}=jo({value:H[0]||H[1],referenceDate:l,disableFuture:d,disablePast:h,disableSwitchToMonthOnDayFocus:!0,maxDate:f,minDate:p,onMonthChange:v,reduceAnimations:g,shouldDisableDate:he,timezone:G}),be=null!==(n=null===k||void 0===k?void 0:k.calendarHeader)&&void 0!==n?n:Ys,ye=Li({elementType:be,externalSlotProps:null===S||void 0===S?void 0:S.calendarHeader,additionalProps:{calendars:w,views:["day"],view:"day",currentMonth:pe.currentMonth,onMonthChange:(e,t)=>ge({newMonth:e,direction:t}),minDate:p,maxDate:f,disabled:E,disablePast:h,disableFuture:d,reduceAnimations:g,timezone:G,slots:k,slotProps:S},ownerState:r}),xe=o.useRef(null);o.useEffect((()=>{var e,t;const n="start"===J?H[0]:H[1];if(!n||!K.isValid(n))return;const r="start"===J?null===(e=xe.current)||void 0===e?void 0:e[0]:null===(t=xe.current)||void 0===t?void 0:t[1];if(xe.current=H,j&&r&&K.isEqual(r,n))return;const i=w-1,a=K.getMonth(pe.currentMonth),o=K.getMonth(n);if(!K.isSameYear(pe.currentMonth,n)||o<a||o>a+i){const e="start"===J?n:K.addMonths(n,-i);me(e)}}),[J,H]);const we={disablePast:h,disableFuture:d,maxDate:f,minDate:p},_e={disableHighlightToday:T,readOnly:I,disabled:E},[ke,Se]=o.useState(null),Ce=o.useMemo((()=>({onMouseLeave:()=>Se(null)})),[]),Ae=function(e){if(null==e.newDate)return[null,null];const[t,n]=e.range,{newRange:r}=zo(e);if(!t||!n)return r;const[i,a]=r;return"end"===e.rangePosition?[n,a]:[i,t]}({utils:K,range:re,newDate:ke,rangePosition:J}),Te=hr(((e,t)=>{Oo(K,t,re)?Se(null):Se(t)})),Ie=(0,De.A)({day:Ko},k),Ee=(0,De.A)({},S,{day:e=>{var t;const{day:n}=e,r=Lo(K,n,re),a=Fo(K,n,re),o=!ne&&re[0]&&re[1]&&(r||a);let s;r?s="start":a&&(s="end");const l=ae?Lo(K,n,de):r,c=ae?Fo(K,n,de):a;return(0,De.A)({isPreviewing:!!i&&Oo(K,n,Ae),isStartOfPreviewing:!!i&&Lo(K,n,Ae),isEndOfPreviewing:!!i&&Fo(K,n,Ae),isHighlighting:Oo(K,n,ae?de:re),isStartOfHighlighting:l,isEndOfHighlighting:ae?Fo(K,n,de):a,onMouseEnter:i?Te:void 0,isVisuallySelected:e.selected||ae&&(l||c),"data-position":s},le,{draggable:!!o||void 0},null!==(t=un(null===S||void 0===S?void 0:S.day,e))&&void 0!==t?t:{})}}),Ne=o.useMemo((()=>Array.from({length:w}).map(((e,t)=>t))),[w]),Me=o.useMemo((()=>{const e=K.addMonths(pe.currentMonth,1-_);return Array.from({length:w}).map(((t,n)=>K.addMonths(e,n)))}),[K,pe.currentMonth,w,_]),je=o.useMemo((()=>{var e;return D?null!=H[0]?Me.find((e=>K.isSameMonth(e,H[0]))):null!=H[1]?Me.find((e=>K.isSameMonth(e,H[1]))):null!==(e=Me.find((e=>K.isSameMonth(e,Z))))&&void 0!==e?e:Me[0]:null}),[K,H,Me,D,Z]);return(0,It.jsxs)(Zs,(0,De.A)({ref:t,className:On(u,ue.root),ownerState:ce},U,{children:[(0,It.jsx)(ta,{packageName:"x-date-pickers-pro",releaseInfo:"MTcxNDA3MTYwMDAwMA=="}),Ne.map((e=>{const t=Me[e];return(0,It.jsxs)(Js,{className:ue.monthContainer,children:[(0,It.jsx)(be,(0,De.A)({},ye,{month:t,monthIndex:e})),(0,It.jsx)(Qs,(0,De.A)({className:ue.dayCalendar},pe,we,_e,{onMonthSwitchingAnimationEnd:ve,onFocusedDayChange:fe,reduceAnimations:g,selectedDays:H,onSelectedDaysChange:ee,currentMonth:t,TransitionProps:Ce,shouldDisableDate:he,showDaysOutsideCurrentMonth:1===w&&N,dayOfWeekFormatter:M,loading:C,renderLoading:A,slots:Ie,slotProps:Ee,autoFocus:t===je,fixedWeekNumber:R,displayWeekNumber:O,timezone:G}))]},e)}))]}))})),el=e=>{let{value:t,defaultValue:n,referenceDate:r,onChange:i,className:a,classes:o,disableFuture:s,disablePast:l,minDate:c,maxDate:u,shouldDisableDate:d,reduceAnimations:h,onMonthChange:p,rangePosition:f,defaultRangePosition:m,onRangePositionChange:g,calendars:v,currentMonthCalendarPosition:b,slots:y,slotProps:x,loading:w,renderLoading:_,disableHighlightToday:k,readOnly:S,disabled:C,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:T,disableAutoMonthSwitching:I,sx:E,autoFocus:N,fixedWeekNumber:M,disableDragEditing:j,displayWeekNumber:D,timezone:R,availableRangePositions:P,views:O,view:L,onViewChange:F}=e;return(0,It.jsx)($s,{value:t,defaultValue:n,referenceDate:r,onChange:i,className:a,classes:o,disableFuture:s,disablePast:l,minDate:c,maxDate:u,shouldDisableDate:d,reduceAnimations:h,onMonthChange:p,rangePosition:f,defaultRangePosition:m,onRangePositionChange:g,calendars:v,currentMonthCalendarPosition:b,slots:y,slotProps:x,loading:w,renderLoading:_,disableHighlightToday:k,readOnly:S,disabled:C,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:T,disableAutoMonthSwitching:I,sx:E,autoFocus:N,fixedWeekNumber:M,disableDragEditing:j,displayWeekNumber:D,timezone:R,availableRangePositions:P,view:L,views:O,onViewChange:F})};var tl=__webpack_require__(3174);const nl=["ownerState"],rl=["variants"],il=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function al(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const ol=(0,Le.A)(),sl=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function ll(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function cl(e){return e?(t,n)=>n[e]:null}function ul(e,t){let{ownerState:n}=t,r=(0,Re.A)(t,nl);const i="function"===typeof e?e((0,De.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>ul(e,(0,De.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,Re.A)(i,rl);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,De.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,De.A)({ownerState:n},r,n)):e.style))})),t}return i}const dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=ol,rootShouldForwardProp:r=al,slotShouldForwardProp:i=al}=e,a=e=>(0,Ge.A)((0,De.A)({},e,{theme:ll((0,De.A)({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,tl.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=cl(sl(l))}=o,h=(0,Re.A)(o,il),p=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=u||!1;let m=al;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,tl.default)(e,(0,De.A)({shouldForwardProp:m,label:undefined},h)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,He.Q)(e)?r=>ul(e,(0,De.A)({},r,{theme:ll({theme:r.theme,defaultTheme:n,themeId:t})})):e,b=function(r){let i=v(r);for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];const u=l?l.map(v):[];s&&d&&u.push((e=>{const r=ll((0,De.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const i=r.components[s].styleOverrides,a={};return Object.entries(i).forEach((t=>{let[n,i]=t;a[n]=ul(i,(0,De.A)({},e,{theme:r}))})),d(e,a)})),s&&!p&&u.push((e=>{var r;const i=ll((0,De.A)({},e,{defaultTheme:n,themeId:t}));return ul({variants:null==i||null==(r=i.components)||null==(r=r[s])?void 0:r.variants},(0,De.A)({},e,{theme:i}))})),f||u.push(a);const h=u.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const m=g(i,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(b.withConfig=g.withConfig),b}}(),hl=dl;var pl=__webpack_require__(9751),fl=__webpack_require__(8604);const ml=["component","direction","spacing","divider","children","className","useFlexGap"],gl=(0,Le.A)(),vl=hl("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function bl(e){return Ve({props:e,name:"MuiStack",defaultTheme:gl})}function yl(e,t){const n=o.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,i)=>(e.push(r),i<n.length-1&&e.push(o.cloneElement(t,{key:"separator-".concat(i)})),e)),[])}const xl=e=>{let{ownerState:t,theme:n}=e,r=(0,De.A)({display:"flex",flexDirection:"column"},(0,pl.NI)({theme:n},(0,pl.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,fl.LX)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),a=(0,pl.kW)({values:t.direction,base:i}),o=(0,pl.kW)({values:t.spacing,base:i});"object"===typeof a&&Object.keys(a).forEach(((e,t,n)=>{if(!a[e]){const r=t>0?a[n[t-1]]:"column";a[e]=r}}));const s=(n,r)=>{return t.useFlexGap?{gap:(0,fl._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?a[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,fl._W)(e,n)}};var i};r=(0,He.A)(r,(0,pl.NI)({theme:n},o,s))}return r=(0,pl.iZ)(n.breakpoints,r),r};const wl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=vl,useThemeProps:n=bl,componentName:r="MuiStack"}=e,i=t(xl),a=o.forwardRef((function(e,t){const a=n(e),o=(0,Ln.A)(a),{component:s="div",direction:l="column",spacing:c=0,divider:u,children:d,className:h,useFlexGap:p=!1}=o,f=(0,Re.A)(o,ml),m={direction:l,spacing:c,useFlexGap:p},g=Fn({root:["root"]},(e=>Kn(r,e)),{});return(0,It.jsx)(i,(0,De.A)({as:s,ownerState:m,ref:t,className:On(g.root,h)},f,{children:u?yl(d,u):d}))}));return a}({createStyledComponent:Vn("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Tt({props:e,name:"MuiStack"})}),_l=wl;let kl=0;const Sl=s["useId".toString()];function Cl(e){if(void 0!==Sl){const t=Sl();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(kl+=1,n("mui-".concat(kl)))}),[t]),r}(e)}function Al(e){return e&&e.ownerDocument||document}function Tl(e){return Al(e).defaultView||window}function Il(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}const El=["onChange","maxRows","minRows","style","value"];function Nl(e){return parseInt(e,10)||0}const Ml={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const jl=o.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:i=1,style:a,value:s}=e,l=(0,Re.A)(e,El),{current:c}=o.useRef(null!=s),u=o.useRef(null),d=ur(t,u),h=o.useRef(null),p=o.useCallback((()=>{const t=u.current,n=Tl(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const a=h.current;a.style.width=n.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");const o=n.boxSizing,s=Nl(n.paddingBottom)+Nl(n.paddingTop),l=Nl(n.borderBottomWidth)+Nl(n.borderTopWidth),c=a.scrollHeight;a.value="x";const d=a.scrollHeight;let p=c;i&&(p=Math.max(Number(i)*d,p)),r&&(p=Math.min(Number(r)*d,p)),p=Math.max(p,d);return{outerHeightStyle:p+("border-box"===o?s+l:0),overflowing:Math.abs(p-c)<=1}}),[r,i,e.placeholder]),f=o.useCallback((()=>{const e=p();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=u.current;n.style.height="".concat(e.outerHeightStyle,"px"),n.style.overflow=e.overflowing?"hidden":""}),[p]);Jt((()=>{const e=()=>{f()};let t;const n=Il(e),r=u.current,i=Tl(r);let a;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(a=new ResizeObserver(e),a.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),a&&a.disconnect()}}),[p,f]),Jt((()=>{f()}));return(0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)("textarea",(0,De.A)({value:s,onChange:e=>{c||f(),n&&n(e)},ref:d,rows:i,style:a},l)),(0,It.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,De.A)({},Ml,a,{paddingTop:0,paddingBottom:0})})]})}));function Dl(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const Rl=o.createContext(void 0);function Pl(){return o.useContext(Rl)}const Ol=Jt;var Ll=__webpack_require__(869);const Fl=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=We(r),a="function"===typeof t?t(n&&i[n]||i):t;return(0,It.jsx)(Ll.A,{styles:a})};const zl=function(e){return(0,It.jsx)(Fl,(0,De.A)({},e,{defaultTheme:Ct,themeId:At}))};function Bl(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Wl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Bl(e.value)&&""!==e.value||t&&Bl(e.defaultValue)&&""!==e.defaultValue)}function Vl(e){return Kn("MuiInputBase",e)}const Ul=Zn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Hl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ql=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Hn(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Gl=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Yl=Vn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ql})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(Ul.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,De.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Xl=Vn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gl})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,De.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,De.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(Ul.formControl," &")]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},["&.".concat(Ul.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),Kl=(0,It.jsx)(zl,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Zl=o.forwardRef((function(e,t){var n;const r=Tt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:s,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:b={},inputRef:y,maxRows:x,minRows:w,multiline:_=!1,name:k,onBlur:S,onChange:C,onClick:A,onFocus:T,onKeyDown:I,onKeyUp:E,placeholder:N,readOnly:M,renderSuffix:j,rows:D,slotProps:R={},slots:P={},startAdornment:O,type:L="text",value:F}=r,z=(0,Re.A)(r,Hl),B=null!=b.value?b.value:F,{current:W}=o.useRef(null!=B),V=o.useRef(),U=o.useCallback((e=>{0}),[]),H=dr(V,y,b.ref,U),[q,G]=o.useState(!1),Y=Pl();const X=Dl({props:r,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=Y?Y.focused:q,o.useEffect((()=>{!Y&&h&&q&&(G(!1),S&&S())}),[Y,h,q,S]);const K=Y&&Y.onFilled,Z=Y&&Y.onEmpty,J=o.useCallback((e=>{Wl(e)?K&&K():Z&&Z()}),[K,Z]);Ol((()=>{W&&J({value:B})}),[B,J,W]);o.useEffect((()=>{J(V.current)}),[]);let Q=v,$=b;_&&"input"===Q&&($=D?(0,De.A)({type:void 0,minRows:D,maxRows:D},$):(0,De.A)({type:void 0,maxRows:x,minRows:w},$),Q=jl);o.useEffect((()=>{Y&&Y.setAdornedStart(Boolean(O))}),[Y,O]);const ee=(0,De.A)({},r,{color:X.color||"primary",disabled:X.disabled,endAdornment:f,error:X.error,focused:X.focused,formControl:Y,fullWidth:m,hiddenLabel:X.hiddenLabel,multiline:_,size:X.size,startAdornment:O,type:L}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:a,focused:o,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return Fn({root:["root","color".concat(Hn(n)),r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",s&&"formControl",h&&"medium"!==h&&"size".concat(Hn(h)),u&&"multiline",p&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]},Vl,t)})(ee),ne=P.root||c.Root||Yl,re=R.root||u.root||{},ie=P.input||c.Input||Xl;return $=(0,De.A)({},$,null!=(n=R.input)?n:u.input),(0,It.jsxs)(o.Fragment,{children:[!p&&Kl,(0,It.jsxs)(ne,(0,De.A)({},re,!Di(ne)&&{ownerState:(0,De.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{V.current&&e.currentTarget===e.target&&V.current.focus(),A&&A(e)}},z,{className:On(te.root,re.className,l,M&&"MuiInputBase-readOnly"),children:[O,(0,It.jsx)(Rl.Provider,{value:null,children:(0,It.jsx)(ie,(0,De.A)({ownerState:ee,"aria-invalid":X.error,"aria-describedby":i,autoComplete:a,autoFocus:s,defaultValue:d,disabled:X.disabled,id:g,onAnimationStart:e=>{J("mui-auto-fill-cancel"===e.animationName?V.current:{value:"x"})},name:k,placeholder:N,readOnly:M,required:X.required,rows:D,value:B,onKeyDown:I,onKeyUp:E,type:L},$,!Di(ie)&&{as:Q,ownerState:(0,De.A)({},ee,$.ownerState)},{ref:H,className:On(te.input,$.className,M&&"MuiInputBase-readOnly"),onBlur:e=>{S&&S(e),b.onBlur&&b.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):G(!1)},onChange:function(e){if(!W){const t=e.target||V.current;if(null==t)throw new Error((0,Ue.A)(1));J({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{X.disabled?e.stopPropagation():(T&&T(e),b.onFocus&&b.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):G(!0))}}))}),f,j?j((0,De.A)({},X,{startAdornment:O})):null]}))]})})),Jl=Zl;function Ql(e){return Kn("MuiInput",e)}const $l=(0,De.A)({},Ul,Zn("MuiInput",["root","underline","input"])),ec=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],tc=Vn(Yl,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ql(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,De.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat($l.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat($l.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat($l.disabled,", .").concat($l.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat($l.disabled,":before")]:{borderBottomStyle:"dotted"}})})),nc=Vn(Xl,{name:"MuiInput",slot:"Input",overridesResolver:Gl})({}),rc=o.forwardRef((function(e,t){var n,r,i,a;const o=Tt({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=o,g=(0,Re.A)(o,ec),v=(e=>{const{classes:t,disableUnderline:n}=e,r=Fn({root:["root",!n&&"underline"],input:["input"]},Ql,t);return(0,De.A)({},t,r)})(o),b={root:{ownerState:{disableUnderline:s}}},y=(null!=p?p:c)?(0,He.A)(null!=p?p:c,b):b,x=null!=(n=null!=(r=f.root)?r:l.Root)?n:tc,w=null!=(i=null!=(a=f.input)?a:l.Input)?i:nc;return(0,It.jsx)(Jl,(0,De.A)({slots:{root:x,input:w},slotProps:y,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));rc.muiName="Input";const ic=rc;function ac(e){return Kn("MuiFilledInput",e)}const oc=(0,De.A)({},Ul,Zn("MuiFilledInput",["root","underline","input"])),sc=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],lc=Vn(Yl,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ql(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,a=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,De.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},["&.".concat(oc.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},["&.".concat(oc.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(oc.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(oc.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(oc.disabled,", .").concat(oc.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(oc.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,De.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),cc=Vn(Xl,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gl})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),uc=o.forwardRef((function(e,t){var n,r,i,a;const o=Tt({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:p={},type:f="text"}=o,m=(0,Re.A)(o,sc),g=(0,De.A)({},o,{fullWidth:c,inputComponent:u,multiline:d,type:f}),v=(e=>{const{classes:t,disableUnderline:n}=e,r=Fn({root:["root",!n&&"underline"],input:["input"]},ac,t);return(0,De.A)({},t,r)})(o),b={root:{ownerState:g},input:{ownerState:g}},y=(null!=h?h:l)?(0,He.A)(b,null!=h?h:l):b,x=null!=(n=null!=(r=p.root)?r:s.Root)?n:lc,w=null!=(i=null!=(a=p.input)?a:s.Input)?i:cc;return(0,It.jsx)(Jl,(0,De.A)({slots:{root:x,input:w},componentsProps:y,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:f},m,{classes:v}))}));uc.muiName="Input";const dc=uc;var hc;const pc=["children","classes","className","label","notched"],fc=Vn("fieldset",{shouldForwardProp:Wn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mc=Vn("legend",{shouldForwardProp:Wn})((e=>{let{ownerState:t,theme:n}=e;return(0,De.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,De.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function gc(e){return Kn("MuiOutlinedInput",e)}const vc=(0,De.A)({},Ul,Zn("MuiOutlinedInput",["root","notchedOutline","input"])),bc=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],yc=Vn(Yl,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:ql})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,De.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(vc.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(vc.focused," .").concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(vc.error," .").concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(vc.disabled," .").concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,De.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),xc=Vn((function(e){const{className:t,label:n,notched:r}=e,i=(0,Re.A)(e,pc),a=null!=n&&""!==n,o=(0,De.A)({},e,{notched:r,withLabel:a});return(0,It.jsx)(fc,(0,De.A)({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,It.jsx)(mc,{ownerState:o,children:a?(0,It.jsx)("span",{children:n}):hc||(hc=(0,It.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),wc=Vn(Xl,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gl})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),_c=o.forwardRef((function(e,t){var n,r,i,a,s;const l=Tt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=l,v=(0,Re.A)(l,bc),b=(e=>{const{classes:t}=e,n=Fn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gc,t);return(0,De.A)({},t,n)})(l),y=Pl(),x=Dl({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=(0,De.A)({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:y,fullWidth:u,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:g}),_=null!=(n=null!=(r=m.root)?r:c.Root)?n:yc,k=null!=(i=null!=(a=m.input)?a:c.Input)?i:wc;return(0,It.jsx)(Jl,(0,De.A)({slots:{root:_,input:k},renderSuffix:e=>(0,It.jsx)(xc,{ownerState:w,className:b.notchedOutline,label:null!=h&&""!==h&&x.required?s||(s=(0,It.jsxs)(o.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:g},v,{classes:(0,De.A)({},b,{notchedOutline:null})}))}));_c.muiName="Input";const kc=_c;function Sc(e){return Kn("MuiFormLabel",e)}const Cc=Zn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ac=["children","className","color","component","disabled","error","filled","focused","required"],Tc=Vn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,De.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(Cc.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(Cc.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Cc.error)]:{color:(t.vars||t).palette.error.main}})})),Ic=Vn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(Cc.error)]:{color:(t.vars||t).palette.error.main}}})),Ec=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:a="label"}=n,o=(0,Re.A)(n,Ac),s=Dl({props:n,muiFormControl:Pl(),states:["color","required","focused","disabled","error","filled"]}),l=(0,De.A)({},n,{color:s.color||"primary",component:a,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:a,filled:o,required:s}=e;return Fn({root:["root","color".concat(Hn(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]},Sc,t)})(l);return(0,It.jsxs)(Tc,(0,De.A)({as:a,ownerState:l,className:On(c.root,i),ref:t},o,{children:[r,s.required&&(0,It.jsxs)(Ic,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),Nc=Ec;function Mc(e){return Kn("MuiInputLabel",e)}Zn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jc=["disableAnimation","margin","shrink","variant","className"],Dc=Vn(Nc,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Cc.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,De.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,De.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,De.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Rc=o.forwardRef((function(e,t){const n=Tt({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:a}=n,o=(0,Re.A)(n,jc),s=Pl();let l=i;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const c=Dl({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),u=(0,De.A)({},n,{disableAnimation:r,formControl:s,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:a,variant:o,required:s}=e,l=Fn({root:["root",n&&"formControl",!a&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(Hn(r)),o],asterisk:[s&&"asterisk"]},Mc,t);return(0,De.A)({},t,l)})(u);return(0,It.jsx)(Dc,(0,De.A)({"data-shrink":l,ownerState:u,ref:t,className:On(d.root,a)},o,{classes:d}))}));const Pc=function(e,t){var n,r;return o.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function Oc(e){return Kn("MuiFormControl",e)}Zn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Lc=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Fc=Vn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,De.A)({},t.root,t["margin".concat(Hn(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,De.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),zc=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiFormControl"}),{children:r,className:i,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=n,v=(0,Re.A)(n,Lc),b=(0,De.A)({},n,{color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),y=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return Fn({root:["root","none"!==n&&"margin".concat(Hn(n)),r&&"fullWidth"]},Oc,t)})(b),[x,w]=o.useState((()=>{let e=!1;return r&&o.Children.forEach(r,(t=>{if(!Pc(t,["Input","Select"]))return;const n=Pc(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[_,k]=o.useState((()=>{let e=!1;return r&&o.Children.forEach(r,(t=>{Pc(t,["Input","Select"])&&(Wl(t.props,!0)||Wl(t.props.inputProps,!0))&&(e=!0)})),e})),[S,C]=o.useState(!1);l&&S&&C(!1);const A=void 0===u||l?S:u;let T;const I=o.useMemo((()=>({adornedStart:x,setAdornedStart:w,color:a,disabled:l,error:c,filled:_,focused:A,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{C(!0)},registerEffect:T,required:f,variant:g})),[x,a,l,c,_,A,d,h,T,f,m,g]);return(0,It.jsx)(Rl.Provider,{value:I,children:(0,It.jsx)(Fc,(0,De.A)({as:s,ownerState:b,className:On(y.root,i),ref:t},v,{children:r}))})})),Bc=zc;function Wc(e){return Kn("MuiFormHelperText",e)}const Vc=Zn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Uc;const Hc=["children","className","component","disabled","error","filled","focused","margin","required","variant"],qc=Vn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(Hn(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Vc.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Vc.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),Gc=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:a="p"}=n,o=(0,Re.A)(n,Hc),s=Dl({props:n,muiFormControl:Pl(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,De.A)({},n,{component:a,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:a,filled:o,focused:s,required:l}=e;return Fn({root:["root",i&&"disabled",a&&"error",r&&"size".concat(Hn(r)),n&&"contained",s&&"focused",o&&"filled",l&&"required"]},Wc,t)})(l);return(0,It.jsx)(qc,(0,De.A)({as:a,ownerState:l,className:On(c.root,i),ref:t},o,{children:" "===r?Uc||(Uc=(0,It.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));__webpack_require__(805);const Yc=Al,Xc=["value"],Kc=o.createContext();const Zc=()=>{const e=o.useContext(Kc);return null!=e&&e},Jc=function(e){let{value:t}=e,n=(0,Re.A)(e,Xc);return(0,It.jsx)(Kc.Provider,(0,De.A)({value:null==t||t},n))};const Qc=o.createContext({});function $c(e){return Kn("MuiList",e)}Zn("MuiList",["root","padding","dense","subheader"]);const eu=["children","className","component","dense","disablePadding","subheader"],tu=Vn("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,De.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),nu=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiList"}),{children:r,className:i,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=n,u=(0,Re.A)(n,eu),d=o.useMemo((()=>({dense:s})),[s]),h=(0,De.A)({},n,{component:a,dense:s,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Fn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},$c,t)})(h);return(0,It.jsx)(Qc.Provider,{value:d,children:(0,It.jsxs)(tu,(0,De.A)({as:a,className:On(p.root,i),ref:t,ownerState:h},u,{children:[c,r]}))})})),ru=nu;function iu(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const au=iu,ou=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function su(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function lu(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function cu(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function uu(e,t,n,r,i,a){let o=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(o)return!1;o=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&cu(s,a)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const du=o.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:i=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,Re.A)(e,ou),p=o.useRef(null),f=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ol((()=>{r&&p.current.focus()}),[r]),o.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t="".concat(au(Yc(e)),"px");p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width="calc(100% + ".concat(t,")")}return p.current}})),[]);const m=dr(p,t);let g=-1;o.Children.forEach(a,((e,t)=>{o.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===t&&(g+=1,g>=a.length&&(g=-1))}));const v=o.Children.map(a,((e,t)=>{if(t===g){const t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),o.cloneElement(e,t)}return e}));return(0,It.jsx)(ru,(0,De.A)({role:"menu",ref:m,className:s,onKeyDown:e=>{const t=p.current,n=e.key,r=Yc(t).activeElement;if("ArrowDown"===n)e.preventDefault(),uu(t,r,c,l,su);else if("ArrowUp"===n)e.preventDefault(),uu(t,r,c,l,lu);else if("Home"===n)e.preventDefault(),uu(t,null,c,l,su);else if("End"===n)e.preventDefault(),uu(t,null,c,l,lu);else if(1===n.length){const i=f.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);const s=r&&!i.repeating&&cu(r,i);i.previousKeyMatched&&(s||uu(t,r,!1,l,su,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},h,{children:v}))})),hu=du,pu=Il,fu=Tl,mu=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gu(e){return"scale(".concat(e,", ").concat(e**2,")")}const vu={entering:{opacity:1,transform:gu(1)},entered:{opacity:1,transform:"none"}},bu="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),yu=o.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:i,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=Ea}=e,v=(0,Re.A)(e,mu),b=vr(),y=o.useRef(),x=na(),w=o.useRef(null),_=dr(w,i.ref,t),k=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},S=k(u),C=k(((e,t)=>{ts(e);const{duration:n,delay:r,easing:i}=ns({style:f,timeout:m,easing:a},{mode:"enter"});let o;"auto"===m?(o=x.transitions.getAutoHeightDuration(e.clientHeight),y.current=o):o=n,e.style.transition=[x.transitions.create("opacity",{duration:o,delay:r}),x.transitions.create("transform",{duration:bu?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),A=k(c),T=k(p),I=k((e=>{const{duration:t,delay:n,easing:r}=ns({style:f,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=x.transitions.getAutoHeightDuration(e.clientHeight),y.current=i):i=t,e.style.transition=[x.transitions.create("opacity",{duration:i,delay:n}),x.transitions.create("transform",{duration:bu?i:.666*i,delay:bu?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=gu(.75),d&&d(e)})),E=k(h);return(0,It.jsx)(g,(0,De.A)({appear:r,in:s,nodeRef:w,onEnter:C,onEntered:A,onEntering:S,onExit:I,onExited:E,onExiting:T,addEndListener:e=>{"auto"===m&&b.start(y.current||0,e),n&&n(w.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>o.cloneElement(i,(0,De.A)({style:(0,De.A)({opacity:0,transform:gu(.75),visibility:"exited"!==e||s?void 0:"hidden"},vu[e],f,i.props.style),ref:_},t))}))}));yu.muiSupportAuto=!0;const xu=yu;function wu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function _u(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ku(e){return parseInt(Tl(e).getComputedStyle(e).paddingRight,10)||0}function Su(e,t,n,r,i){const a=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===a.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&_u(e,i)}))}function Cu(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Au(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Al(e);return t.body===e?Tl(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=iu(Al(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(ku(r)+e,"px");const t=Al(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(ku(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=Al(r).body;else{const t=r.parentElement,n=Tl(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const Tu=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&_u(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Su(t,e.mount,e.modalRef,r,!0);const i=Cu(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Cu(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Au(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Cu(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&_u(e.modalRef,t),Su(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&_u(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Iu(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Tu,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,p=o.useRef({}),f=o.useRef(null),m=o.useRef(null),g=ur(m,h),[v,b]=o.useState(!d),y=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let x=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(x=!1);const w=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),_=()=>{i.mount(w(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},k=hr((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||Al(f.current).body;i.add(w(),e),m.current&&_()})),S=o.useCallback((()=>i.isTopModal(w())),[i]),C=hr((e=>{f.current=e,e&&(d&&S()?_():m.current&&_u(m.current,x))})),A=o.useCallback((()=>{i.remove(w(),x)}),[x,i]);o.useEffect((()=>()=>{A()}),[A]),o.useEffect((()=>{d?k():y&&a||A()}),[d,A,y,a,k]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},I=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Ri(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,De.A)({},n,t);return(0,De.A)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,De.A)({"aria-hidden":!0},e,{onClick:I(e),open:d})},getTransitionProps:()=>({onEnter:wu((()=>{b(!1),s&&s()}),null==c?void 0:c.props.onEnter),onExited:wu((()=>{b(!0),l&&l(),a&&A()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:C,isTopModal:S,exited:v,hasTransition:y}}const Eu=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Nu(e){const t=[],n=[];return Array.from(e.querySelectorAll(Eu)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Mu(){return!0}function ju(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:a=Nu,isEnabled:s=Mu,open:l}=e,c=o.useRef(!1),u=o.useRef(null),d=o.useRef(null),h=o.useRef(null),p=o.useRef(null),f=o.useRef(!1),m=o.useRef(null),g=ur(t.ref,m),v=o.useRef(null);o.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),o.useEffect((()=>{if(!l||!m.current)return;const e=Al(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),o.useEffect((()=>{if(!l||!m.current)return;const e=Al(m.current),t=t=>{v.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){var i,o;const e=Boolean((null==(i=v.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,i,s,l,a]);const b=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelStart"}),o.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,It.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})}const Du=o.forwardRef((function(e,t){const{children:n,container:r,disablePortal:i=!1}=e,[a,s]=o.useState(null),l=ur(o.isValidElement(n)?n.ref:null,t);if(Jt((()=>{i||s(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,i]),Jt((()=>{if(a&&!i)return cr(t,a),()=>{cr(t,null)}}),[t,a,i]),i){if(o.isValidElement(n)){const e={ref:l};return o.cloneElement(n,e)}return(0,It.jsx)(o.Fragment,{children:n})}return(0,It.jsx)(o.Fragment,{children:a?c.createPortal(n,a):a})}));function Ru(e){return Kn("MuiBackdrop",e)}Zn("MuiBackdrop",["root","invisible"]);const Pu=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ou=Vn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,De.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Lu=o.forwardRef((function(e,t){var n,r,i;const a=Tt({props:e,name:"MuiBackdrop"}),{children:o,className:s,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:p={},slots:f={},TransitionComponent:m=os,transitionDuration:g}=a,v=(0,Re.A)(a,Pu),b=(0,De.A)({},a,{component:l,invisible:d}),y=(e=>{const{classes:t,invisible:n}=e;return Fn({root:["root",n&&"invisible"]},Ru,t)})(b),x=null!=(n=p.root)?n:u.root;return(0,It.jsx)(m,(0,De.A)({in:h,timeout:g},v,{children:(0,It.jsx)(Ou,(0,De.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(i=f.root)?i:c.Root)?r:l,className:On(y.root,s,null==x?void 0:x.className),ownerState:(0,De.A)({},b,null==x?void 0:x.ownerState),classes:y,ref:t,children:o}))}))}));function Fu(e){return Kn("MuiModal",e)}Zn("MuiModal",["root","hidden","backdrop"]);const zu=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Bu=Vn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Wu=Vn(Lu,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Vu=o.forwardRef((function(e,t){var n,r,i,a,s,l;const c=Tt({name:"MuiModal",props:e}),{BackdropComponent:u=Wu,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:g,components:v={},componentsProps:b={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:k=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:A=!1,onBackdropClick:T,open:I,slotProps:E,slots:N}=c,M=(0,Re.A)(c,zu),j=(0,De.A)({},c,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:k,disableScrollLock:S,hideBackdrop:C,keepMounted:A}),{getRootProps:D,getBackdropProps:R,getTransitionProps:P,portalRef:O,isTopModal:L,exited:F,hasTransition:z}=Iu((0,De.A)({},j,{rootRef:t})),B=(0,De.A)({},j,{exited:F}),W=(e=>{const{open:t,exited:n,classes:r}=e;return Fn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Fu,r)})(B),V={};if(void 0===f.props.tabIndex&&(V.tabIndex="-1"),z){const{onEnter:e,onExited:t}=P();V.onEnter=e,V.onExited=t}const U=null!=(n=null!=(r=null==N?void 0:N.root)?r:v.Root)?n:Bu,H=null!=(i=null!=(a=null==N?void 0:N.backdrop)?a:v.Backdrop)?i:u,q=null!=(s=null==E?void 0:E.root)?s:b.root,G=null!=(l=null==E?void 0:E.backdrop)?l:b.backdrop,Y=Li({elementType:U,externalSlotProps:q,externalForwardedProps:M,getSlotProps:D,additionalProps:{ref:t,as:g},ownerState:B,className:On(h,null==q?void 0:q.className,null==W?void 0:W.root,!B.open&&B.exited&&(null==W?void 0:W.hidden))}),X=Li({elementType:H,externalSlotProps:G,additionalProps:d,getSlotProps:e=>R((0,De.A)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:On(null==G?void 0:G.className,null==d?void 0:d.className,null==W?void 0:W.backdrop),ownerState:B});return A||I||z&&!F?(0,It.jsx)(Du,{ref:O,container:m,disablePortal:_,children:(0,It.jsxs)(U,(0,De.A)({},Y,{children:[!C&&u?(0,It.jsx)(H,(0,De.A)({},X)):null,(0,It.jsx)(ju,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:k,isEnabled:L,open:I,children:o.cloneElement(f,V)})]}))}):null})),Uu=Vu,Hu=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function qu(e){return Kn("MuiPaper",e)}Zn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Gu=["className","component","elevation","square","variant"],Yu=Vn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,De.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,De.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Xe.X4)("#fff",Hu(n.elevation)),", ").concat((0,Xe.X4)("#fff",Hu(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),Xu=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:a=1,square:o=!1,variant:s="elevation"}=n,l=(0,Re.A)(n,Gu),c=(0,De.A)({},n,{component:i,elevation:a,square:o,variant:s}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Fn({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},qu,i)})(c);return(0,It.jsx)(Yu,(0,De.A)({as:i,ownerState:c,className:On(u.root,r),ref:t},l))})),Ku=Xu;function Zu(e){return Kn("MuiPopover",e)}Zn("MuiPopover",["root","paper"]);const Ju=["onEntering"],Qu=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],$u=["slotProps"];function ed(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function td(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function nd(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function rd(e){return"function"===typeof e?e():e}const id=Vn(Uu,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ad=Vn(Ku,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),od=o.forwardRef((function(e,t){var n,r,i;const a=Tt({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:b={},slots:y,slotProps:x,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=xu,transitionDuration:k="auto",TransitionProps:{onEntering:S}={},disableScrollLock:C=!1}=a,A=(0,Re.A)(a.TransitionProps,Ju),T=(0,Re.A)(a,Qu),I=null!=(n=null==x?void 0:x.paper)?n:b,E=o.useRef(),N=dr(E,I.ref),M=(0,De.A)({},a,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:I,transformOrigin:w,TransitionComponent:_,transitionDuration:k,TransitionProps:A}),j=(e=>{const{classes:t}=e;return Fn({root:["root"],paper:["paper"]},Zu,t)})(M),D=o.useCallback((()=>{if("anchorPosition"===d)return u;const e=rd(l),t=(e&&1===e.nodeType?e:Yc(E.current).body).getBoundingClientRect();return{top:t.top+ed(t,c.vertical),left:t.left+td(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),R=o.useCallback((e=>({vertical:ed(e,w.vertical),horizontal:td(e,w.horizontal)})),[w.horizontal,w.vertical]),P=o.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=R(t);if("none"===d)return{top:null,left:null,transformOrigin:nd(n)};const r=D();let i=r.top-n.vertical,a=r.left-n.horizontal;const o=i+t.height,s=a+t.width,c=fu(rd(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&o>u){const e=o-u;i-=e,n.vertical+=e}if(null!==g&&a<g){const e=a-g;a-=e,n.horizontal+=e}else if(s>h){const e=s-h;a-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:nd(n)}}),[l,d,D,R,g]),[O,L]=o.useState(v),F=o.useCallback((()=>{const e=E.current;if(!e)return;const t=P(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,L(!0)}),[P]);o.useEffect((()=>(C&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F))),[l,C,F]);o.useEffect((()=>{v&&F()})),o.useImperativeHandle(s,(()=>v?{updatePosition:()=>{F()}}:null),[v,F]),o.useEffect((()=>{if(!v)return;const e=pu((()=>{F()})),t=fu(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,F]);let z=k;"auto"!==k||_.muiSupportAuto||(z=void 0);const B=f||(l?Yc(rd(l)).body:void 0),W=null!=(r=null==y?void 0:y.root)?r:id,V=null!=(i=null==y?void 0:y.paper)?i:ad,U=Li({elementType:V,externalSlotProps:(0,De.A)({},I,{style:O?I.style:(0,De.A)({},I.style,{opacity:0})}),additionalProps:{elevation:m,ref:N},ownerState:M,className:On(j.paper,null==I?void 0:I.className)}),H=Li({elementType:W,externalSlotProps:(null==x?void 0:x.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:B,open:v},ownerState:M,className:On(j.root,p)}),{slotProps:q}=H,G=(0,Re.A)(H,$u);return(0,It.jsx)(W,(0,De.A)({},G,!Di(W)&&{slotProps:q,disableScrollLock:C},{children:(0,It.jsx)(_,(0,De.A)({appear:!0,in:v,onEntering:(e,t)=>{S&&S(e,t),F()},onExited:()=>{L(!1)},timeout:z},A,{children:(0,It.jsx)(V,(0,De.A)({},U,{children:h}))}))}))})),sd=od;function ld(e){return Kn("MuiMenu",e)}Zn("MuiMenu",["root","paper","list"]);const cd=["onEntering"],ud=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],dd={vertical:"top",horizontal:"right"},hd={vertical:"top",horizontal:"left"},pd=Vn(sd,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fd=Vn(ad,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),md=Vn(hu,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),gd=o.forwardRef((function(e,t){var n,r;const i=Tt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:b={},slotProps:y={}}=i,x=(0,Re.A)(i.TransitionProps,cd),w=(0,Re.A)(i,ud),_=Zc(),k=(0,De.A)({},i,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:x,variant:v}),S=(e=>{const{classes:t}=e;return Fn({root:["root"],paper:["paper"],list:["list"]},ld,t)})(k),C=a&&!c&&h,A=o.useRef(null);let T=-1;o.Children.map(s,((e,t)=>{o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=t))}));const I=null!=(n=b.paper)?n:fd,E=null!=(r=y.paper)?r:p,N=Li({elementType:b.root,externalSlotProps:y.root,ownerState:k,className:[S.root,l]}),M=Li({elementType:I,externalSlotProps:E,ownerState:k,className:S.paper});return(0,It.jsx)(pd,(0,De.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?dd:hd,slots:{paper:I,root:b.root},slotProps:{root:N,paper:M},open:h,ref:t,transitionDuration:m,TransitionProps:(0,De.A)({onEntering:(e,t)=>{A.current&&A.current.adjustStyleForScrollbar(e,{direction:_?"rtl":"ltr"}),g&&g(e,t)}},x),ownerState:k},w,{classes:f,children:(0,It.jsx)(md,(0,De.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===T||c),autoFocusItem:C,variant:v},u,{className:On(S.list,u.className),children:s}))}))})),vd=gd;function bd(e){return Kn("MuiNativeSelect",e)}const yd=Zn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xd=["className","disabled","error","IconComponent","inputRef","variant"],wd=e=>{let{ownerState:t,theme:n}=e;return(0,De.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,De.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(yd.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},_d=Vn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Wn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(yd.multiple)]:t.multiple}]}})(wd),kd=e=>{let{ownerState:t,theme:n}=e;return(0,De.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(yd.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Sd=Vn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Hn(n.variant))],n.open&&t.iconOpen]}})(kd),Cd=o.forwardRef((function(e,t){const{className:n,disabled:r,error:i,IconComponent:a,inputRef:s,variant:l="standard"}=e,c=(0,Re.A)(e,xd),u=(0,De.A)({},e,{disabled:r,variant:l,error:i}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:a,error:o}=e;return Fn({select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon","icon".concat(Hn(n)),a&&"iconOpen",r&&"disabled"]},bd,t)})(u);return(0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)(_d,(0,De.A)({ownerState:u,className:On(d.select,n),disabled:r,ref:s||t},c)),e.multiple?null:(0,It.jsx)(Sd,{as:a,ownerState:u,className:d.icon})]})})),Ad=ra;function Td(e){return Kn("MuiSelect",e)}const Id=Zn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ed;const Nd=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Md=Vn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(Id.select)]:t.select},{["&.".concat(Id.select)]:t[n.variant]},{["&.".concat(Id.error)]:t.error},{["&.".concat(Id.multiple)]:t.multiple}]}})(wd,{["&.".concat(Id.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),jd=Vn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Hn(n.variant))],n.open&&t.iconOpen]}})(kd),Dd=Vn("input",{shouldForwardProp:e=>Bn(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Rd(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Pd(e){return null==e||"string"===typeof e&&!e.trim()}const Od=o.forwardRef((function(e,t){var n;const{"aria-describedby":r,"aria-label":i,autoFocus:a,autoWidth:s,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:b={},multiple:y,name:x,onBlur:w,onChange:_,onClose:k,onFocus:S,onOpen:C,open:A,readOnly:T,renderValue:I,SelectDisplayProps:E={},tabIndex:N,value:M,variant:j="standard"}=e,D=(0,Re.A)(e,Nd),[R,P]=Ad({controlled:M,default:d,name:"Select"}),[O,L]=Ad({controlled:A,default:u,name:"Select"}),F=o.useRef(null),z=o.useRef(null),[B,W]=o.useState(null),{current:V}=o.useRef(null!=A),[U,H]=o.useState(),q=dr(t,g),G=o.useCallback((e=>{z.current=e,e&&W(e)}),[]),Y=null==B?void 0:B.parentNode;o.useImperativeHandle(q,(()=>({focus:()=>{z.current.focus()},node:F.current,value:R})),[R]),o.useEffect((()=>{u&&O&&B&&!V&&(H(s?null:Y.clientWidth),z.current.focus())}),[B,s]),o.useEffect((()=>{a&&z.current.focus()}),[a]),o.useEffect((()=>{if(!v)return;const e=Yc(z.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const X=(e,t)=>{e?C&&C(t):k&&k(t),V||(H(s?null:Y.clientWidth),L(e))},K=o.Children.toArray(l),Z=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(R)?R.slice():[];const t=R.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),R!==n&&(P(n),_)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:x}}),_(i,e)}y||X(!1,t)}},J=null!==B&&O;let Q,$;delete D["aria-invalid"];const ee=[];let te=!1,ne=!1;(Wl({value:R})||p)&&(I?Q=I(R):te=!0);const re=K.map((e=>{if(!o.isValidElement(e))return null;let t;if(y){if(!Array.isArray(R))throw new Error((0,Ue.A)(2));t=R.some((t=>Rd(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=Rd(R,e.props.value),t&&te&&($=e.props.children);return t&&(ne=!0),o.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Z(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(Q=y?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):$);let ie,ae=U;!s&&V&&B&&(ae=Y.clientWidth),ie="undefined"!==typeof N?N:h?null:0;const oe=E.id||(x?"mui-component-select-".concat(x):void 0),se=(0,De.A)({},e,{variant:j,value:R,open:J,error:f}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:a,error:o}=e;return Fn({select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon","icon".concat(Hn(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Td,t)})(se),ce=(0,De.A)({},b.PaperProps,null==(n=b.slotProps)?void 0:n.paper),ue=Cl();return(0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)(Md,(0,De.A)({ref:G,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,oe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),X(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),z.current.focus(),X(!0,e))},onBlur:e=>{!J&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:R,name:x}}),w(e))},onFocus:S},E,{ownerState:se,className:On(E.className,le.select,c),id:oe,children:Pd(Q)?Ed||(Ed=(0,It.jsx)("span",{className:"notranslate",children:"\u200b"})):Q})),(0,It.jsx)(Dd,(0,De.A)({"aria-invalid":f,value:Array.isArray(R)?R.join(","):R,name:x,ref:F,"aria-hidden":!0,onChange:e=>{const t=K.find((t=>t.props.value===e.target.value));void 0!==t&&(P(t.props.value),_&&_(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:a,ownerState:se},D)),(0,It.jsx)(jd,{as:m,className:le.icon,ownerState:se}),(0,It.jsx)(vd,(0,De.A)({id:"menu-".concat(x||""),anchorEl:Y,open:J,onClose:e=>{X(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:(0,De.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:ue},b.MenuListProps),slotProps:(0,De.A)({},b.slotProps,{paper:(0,De.A)({},ce,{style:(0,De.A)({minWidth:ae},null!=ce?ce.style:null)})}),children:re}))]})})),Ld=Od,Fd=ws((0,It.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zd=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Bd=["root"],Wd={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Wn(e)&&"variant"!==e,slot:"Root"},Vd=Vn(ic,Wd)(""),Ud=Vn(kc,Wd)(""),Hd=Vn(dc,Wd)(""),qd=o.forwardRef((function(e,t){const n=Tt({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:i,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Fd,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:b=!1,onClose:y,onOpen:x,open:w,renderValue:_,SelectDisplayProps:k,variant:S="outlined"}=n,C=(0,Re.A)(n,zd),A=b?Cd:Ld,T=Dl({props:n,muiFormControl:Pl(),states:["variant","error"]}),I=T.variant||S,E=(0,De.A)({},n,{variant:I,classes:a}),N=(e=>{const{classes:t}=e;return t})(E),M=(0,Re.A)(N,Bd),j=h||{standard:(0,It.jsx)(Vd,{ownerState:E}),outlined:(0,It.jsx)(Ud,{label:f,ownerState:E}),filled:(0,It.jsx)(Hd,{ownerState:E})}[I],D=dr(t,j.ref);return(0,It.jsx)(o.Fragment,{children:o.cloneElement(j,(0,De.A)({inputComponent:A,inputProps:(0,De.A)({children:i,error:T.error,IconComponent:u,variant:I,type:void 0,multiple:v},b?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:y,onOpen:x,open:w,renderValue:_,SelectDisplayProps:(0,De.A)({id:d},k)},p,{classes:p?(0,He.A)(M,p.classes):M},h?h.props.inputProps:{})},(v&&b||c)&&"outlined"===I?{notched:!0}:{},{ref:D,className:On(j.props.className,s,N.root)},!h&&{variant:I},C))})}));qd.muiName="Select";const Gd=qd;function Yd(e){return Kn("MuiTextField",e)}const Xd=Zn("MuiTextField",["root"]),Kd=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Zd={standard:ic,filled:dc,outlined:kc},Jd=Vn(Bc,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Qd=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:a,className:o,color:s="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:b,label:y,maxRows:x,minRows:w,multiline:_=!1,name:k,onBlur:S,onChange:C,onFocus:A,placeholder:T,required:I=!1,rows:E,select:N=!1,SelectProps:M,type:j,value:D,variant:R="outlined"}=n,P=(0,Re.A)(n,Kd),O=(0,De.A)({},n,{autoFocus:i,color:s,disabled:c,error:u,fullWidth:h,multiline:_,required:I,select:N,variant:R}),L=(e=>{const{classes:t}=e;return Fn({root:["root"]},Yd,t)})(O);const F={};"outlined"===R&&(m&&"undefined"!==typeof m.shrink&&(F.notched=m.shrink),F.label=y),N&&(M&&M.native||(F.id=void 0),F["aria-describedby"]=void 0);const z=Cl(f),B=p&&z?"".concat(z,"-helper-text"):void 0,W=y&&z?"".concat(z,"-label"):void 0,V=Zd[R],U=(0,It.jsx)(V,(0,De.A)({"aria-describedby":B,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:_,name:k,rows:E,maxRows:x,minRows:w,type:j,value:D,id:z,inputRef:b,onBlur:S,onChange:C,onFocus:A,placeholder:T,inputProps:g},F,v));return(0,It.jsxs)(Jd,(0,De.A)({className:On(L.root,o),disabled:c,error:u,fullWidth:h,ref:t,required:I,color:s,variant:R,ownerState:O},P,{children:[null!=y&&""!==y&&(0,It.jsx)(Rc,(0,De.A)({htmlFor:z,id:W},m,{children:y})),N?(0,It.jsx)(Gd,(0,De.A)({"aria-describedby":B,id:z,labelId:W,value:D,input:U},M,{children:a})):U,p&&(0,It.jsx)(Gc,(0,De.A)({id:B},d,{children:p}))]}))})),$d=Qd,eh=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],th=(e,t)=>{const n=(0,De.A)({},e),r={},i=e=>{n.hasOwnProperty(e)&&(r[e]=n[e],delete n[e])};return eh.forEach(i),"date"===t?an.forEach(i):"time"===t?on.forEach(i):"date-time"===t&&(an.forEach(i),on.forEach(i),sn.forEach(i)),{forwardedProps:n,internalProps:r}},nh=["enableAccessibleFieldDOMStructure"],rh=["InputProps","readOnly"],ih=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],ah=e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=(0,Re.A)(e,nh);if(t){const{InputProps:e,readOnly:t}=n,r=(0,Re.A)(n,rh);return(0,De.A)({},r,{InputProps:(0,De.A)({},null!==e&&void 0!==e?e:{},{readOnly:t})})}const{onPaste:r,onKeyDown:i,inputMode:a,readOnly:o,InputProps:s,inputProps:l,inputRef:c}=n,u=(0,Re.A)(n,ih);return(0,De.A)({},u,{InputProps:(0,De.A)({},null!==s&&void 0!==s?s:{},{readOnly:o}),inputProps:(0,De.A)({},null!==l&&void 0!==l?l:{},{inputMode:a,onPaste:r,onKeyDown:i,ref:c})})};function oh(e){return Kn("MuiPickersTextField",e)}const sh=Zn("MuiPickersTextField",["root","focused","disabled","error","required"]);function lh(e){return Kn("MuiPickersInputBase",e)}const ch=Zn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function uh(e){return Kn("MuiPickersOutlinedInput",e)}const dh=(0,De.A)({},ch,Zn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),hh=["children","className","label","notched","shrink"],ph=Vn("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),fh=Vn("span")((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,fontSize:"inherit"}})),mh=Vn("legend")((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function gh(e){const{className:t,label:n}=e,r=(0,Re.A)(e,hh),i=null!=n&&""!==n,a=(0,De.A)({},e,{withLabel:i});return(0,It.jsx)(ph,(0,De.A)({"aria-hidden":!0,className:t},r,{ownerState:a,children:(0,It.jsx)(mh,{ownerState:a,children:i?(0,It.jsx)(fh,{children:n}):(0,It.jsx)(fh,{className:"notranslate",children:"\u200b"})})}))}const vh={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function bh(e){return Kn("MuiPickersSectionList",e)}const yh=Zn("MuiPickersSectionList",["root","section","sectionContent"]),xh=["slots","slotProps","elements","sectionListRef"],wh=Vn("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(e,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),_h=Vn("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(e,t)=>t.section})({}),kh=Vn("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(e,t)=>t.sectionSeparator})({whiteSpace:"pre"}),Sh=Vn("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(e,t)=>t.sectionContent})({outline:"none"});function Ch(e){var t,n,r;const{slots:i,slotProps:a,element:o,classes:s}=e,l=null!==(t=null===i||void 0===i?void 0:i.section)&&void 0!==t?t:_h,c=Li({elementType:l,externalSlotProps:null===a||void 0===a?void 0:a.section,externalForwardedProps:o.container,className:s.section,ownerState:{}}),u=null!==(n=null===i||void 0===i?void 0:i.sectionContent)&&void 0!==n?n:Sh,d=Li({elementType:u,externalSlotProps:null===a||void 0===a?void 0:a.sectionContent,externalForwardedProps:o.content,additionalProps:{suppressContentEditableWarning:!0},className:s.sectionContent,ownerState:{}}),h=null!==(r=null===i||void 0===i?void 0:i.sectionSeparator)&&void 0!==r?r:kh,p=Li({elementType:h,externalSlotProps:null===a||void 0===a?void 0:a.sectionSeparator,externalForwardedProps:o.before,ownerState:{position:"before"}}),f=Li({elementType:h,externalSlotProps:null===a||void 0===a?void 0:a.sectionSeparator,externalForwardedProps:o.after,ownerState:{position:"after"}});return(0,It.jsxs)(l,(0,De.A)({},c,{children:[(0,It.jsx)(h,(0,De.A)({},p)),(0,It.jsx)(u,(0,De.A)({},d)),(0,It.jsx)(h,(0,De.A)({},f))]}))}const Ah=o.forwardRef((function(e,t){var n;const r=Tt({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:a,elements:s,sectionListRef:l}=r,c=(0,Re.A)(r,xh),u=(e=>{const{classes:t}=e;return Fn({root:["root"],section:["section"],sectionContent:["sectionContent"]},bh,t)})(r),d=o.useRef(null),h=ur(t,d),p=e=>{if(!d.current)throw new Error("MUI X: Cannot call sectionListRef.".concat(e," before the mount of the component."));return d.current};o.useImperativeHandle(l,(()=>({getRoot:()=>p("getRoot"),getSectionContainer:e=>p("getSectionContainer").querySelector(".".concat(yh.section,'[data-sectionindex="').concat(e,'"]')),getSectionContent:e=>p("getSectionContent").querySelector(".".concat(yh.section,'[data-sectionindex="').concat(e,'"] .').concat(yh.sectionContent)),getSectionIndexFromDOMElement(e){const t=p("getSectionIndexFromDOMElement");if(null==e||!t.contains(e))return null;let n=null;return e.classList.contains(yh.section)?n=e:e.classList.contains(yh.sectionContent)&&(n=e.parentElement),null==n?null:Number(n.dataset.sectionindex)}})));const f=null!==(n=null===i||void 0===i?void 0:i.root)&&void 0!==n?n:wh,m=Li({elementType:f,externalSlotProps:null===a||void 0===a?void 0:a.root,externalForwardedProps:c,additionalProps:{ref:h,suppressContentEditableWarning:!0},className:u.root,ownerState:{}});return(0,It.jsx)(f,(0,De.A)({},m,{children:m.contentEditable?s.map((e=>{let{content:t,before:n,after:r}=e;return"".concat(n.children).concat(t.children).concat(r.children)})).join(""):(0,It.jsx)(o.Fragment,{children:s.map(((e,t)=>(0,It.jsx)(Ch,{slots:i,slotProps:a,element:e,classes:u},t)))})}))})),Th=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Ih=e=>Math.round(1e5*e)/1e5,Eh=Vn("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return(0,De.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:"".concat(Ih(.15/16),"em"),variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})})),Nh=Vn(wh,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})((e=>{let{theme:t}=e;return(0,De.A)({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},"rtl"===t.direction&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:e=>{let{adornedStart:t,focused:n,filled:r,label:i}=e;return!t&&!n&&!r&&null==i},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:"light"===t.palette.mode?.42:.5}}]})})),Mh=Vn(_h,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(e,t)=>t.section})((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"}})),jh=Vn(Sh,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"}})),Dh=Vn(kh,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(e,t)=>t.separator})((()=>({whiteSpace:"pre",letterSpacing:"inherit"}))),Rh=Vn("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})((0,De.A)({},vh)),Ph=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersInputBase"}),{elements:r,areAllSectionsEmpty:i,value:a,onChange:s,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:p,contentEditable:f,tabIndex:m,onInput:g,onPaste:v,onKeyDown:b,name:y,readOnly:x,inputProps:w,inputRef:_,sectionListRef:k}=n,S=(0,Re.A)(n,Th),C=ur(t,o.useRef(null)),A=ur(null===w||void 0===w?void 0:w.ref,_),T=Pl();if(!T)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");o.useEffect((()=>{T&&T.setAdornedStart(Boolean(u))}),[T,u]),o.useEffect((()=>{T&&(i?T.onEmpty():T.onFilled())}),[T,i]);const I=(0,De.A)({},n,T),E=(e=>{const{focused:t,disabled:n,error:r,classes:i,fullWidth:a,readOnly:o,color:s,size:l,endAdornment:c,startAdornment:u}=e;return Fn({root:["root",t&&!n&&"focused",n&&"disabled",o&&"readOnly",r&&"error",a&&"fullWidth","color".concat((0,Un.A)(s)),"small"===l&&"inputSizeSmall",Boolean(u)&&"adornedStart",Boolean(c)&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]},lh,i)})(I),N=(null===h||void 0===h?void 0:h.root)||Eh,M=Li({elementType:N,externalSlotProps:null===p||void 0===p?void 0:p.root,externalForwardedProps:S,additionalProps:{"aria-invalid":T.error,ref:C},className:E.root,ownerState:I}),j=(null===h||void 0===h?void 0:h.input)||Nh;return(0,It.jsxs)(N,(0,De.A)({},M,{children:[u,(0,It.jsx)(Ah,{sectionListRef:k,elements:r,contentEditable:f,tabIndex:m,className:E.sectionsContainer,onFocus:e=>{var t;T.disabled?e.stopPropagation():null===(t=T.onFocus)||void 0===t||t.call(T,e)},onBlur:T.onBlur,onInput:g,onPaste:v,onKeyDown:b,slots:{root:j,section:Mh,sectionContent:jh,sectionSeparator:Dh},slotProps:{root:{ownerState:I},sectionContent:{className:ch.sectionContent},sectionSeparator:e=>{let{position:t}=e;return{className:"before"===t?ch.sectionBefore:ch.sectionAfter}}}}),c,d?d((0,De.A)({},T)):null,(0,It.jsx)(Rh,(0,De.A)({name:y,className:E.input,value:a,onChange:s,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:x,required:T.required,disabled:T.disabled},w,{ref:A}))]}))})),Oh=["label","autoFocus","ownerState","notched"],Lh=Vn(Eh,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{var t;let{theme:n}=e;const r="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(n.vars||n).shape.borderRadius,["&:hover .".concat(dh.notchedOutline)]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(dh.notchedOutline)]:{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(dh.focused," .").concat(dh.notchedOutline)]:{borderStyle:"solid",borderWidth:2},["&.".concat(dh.disabled)]:{["& .".concat(dh.notchedOutline)]:{borderColor:(n.vars||n).palette.action.disabled},"*":{color:(n.vars||n).palette.action.disabled}},["&.".concat(dh.error," .").concat(dh.notchedOutline)]:{borderColor:(n.vars||n).palette.error.main},variants:Object.keys((null!==(t=n.vars)&&void 0!==t?t:n).palette).filter((e=>{var t;return(null!==(t=n.vars)&&void 0!==t?t:n).palette[e].main})).map((e=>({props:{color:e},style:{["&.".concat(dh.focused,":not(.").concat(dh.error,") .").concat(dh.notchedOutline)]:{borderColor:(n.vars||n).palette[e].main}}})))}})),Fh=Vn(Nh,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),zh=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersOutlinedInput"}),{label:r,ownerState:i,notched:a}=n,s=(0,Re.A)(n,Oh),l=Pl(),c=(0,De.A)({},n,i,l,{color:(null===l||void 0===l?void 0:l.color)||"primary"}),u=(e=>{const{classes:t}=e,n=Fn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},uh,t);return(0,De.A)({},t,n)})(c);return(0,It.jsx)(Ph,(0,De.A)({slots:{root:Lh,input:Fh},renderSuffix:e=>(0,It.jsx)(gh,{shrink:Boolean(a||e.adornedStart||e.focused||e.filled),notched:Boolean(a||e.adornedStart||e.focused||e.filled),className:u.notchedOutline,label:null!=r&&""!==r&&null!==l&&void 0!==l&&l.required?(0,It.jsxs)(o.Fragment,{children:[r,"\u2009","*"]}):r,ownerState:c})},s,{label:r,classes:u,ref:t}))}));function Bh(e){return Kn("MuiPickersFilledInput",e)}zh.muiName="Input";const Wh=(0,De.A)({},ch,Zn("MuiPickersFilledInput",["root","underline","input"])),Vh=["label","autoFocus","disableUnderline","ownerState"],Uh=Vn(Eh,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>al(e)&&"disableUnderline"!==e})((e=>{var t;let{theme:n}=e;const r="light"===n.palette.mode,i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:a}},["&.".concat(Wh.focused)]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:a},["&.".concat(Wh.disabled)]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((null!==(t=n.vars)&&void 0!==t?t:n).palette).filter((e=>{var t;return(null!==(t=n.vars)&&void 0!==t?t:n).palette[e].main})).map((e=>{var t;return{props:{color:e,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat(null===(t=(n.vars||n).palette[e])||void 0===t?void 0:t.main)}}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Wh.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Wh.error)]:{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")"):i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Wh.disabled,", .").concat(Wh.error,"):before")]:{borderBottom:"1px solid ".concat((n.vars||n).palette.text.primary)},["&.".concat(Wh.disabled,":before")]:{borderBottomStyle:"dotted"}}},{props:e=>{let{startAdornment:t}=e;return!!t},style:{paddingLeft:12}},{props:e=>{let{endAdornment:t}=e;return!!t},style:{paddingRight:12}}]}})),Hh=Vn(Nh,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{startAdornment:t}=e;return!!t},style:{paddingLeft:0}},{props:e=>{let{endAdornment:t}=e;return!!t},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),qh=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersFilledInput"}),{label:r,disableUnderline:i=!1,ownerState:a}=n,o=(0,Re.A)(n,Vh),s=Pl(),l=(e=>{const{classes:t,disableUnderline:n}=e,r=Fn({root:["root",!n&&"underline"],input:["input"]},Bh,t);return(0,De.A)({},t,r)})((0,De.A)({},n,a,s,{color:(null===s||void 0===s?void 0:s.color)||"primary"}));return(0,It.jsx)(Ph,(0,De.A)({slots:{root:Uh,input:Hh},slotProps:{root:{disableUnderline:i}}},o,{label:r,classes:l,ref:t}))}));function Gh(e){return Kn("MuiPickersFilledInput",e)}qh.muiName="Input";const Yh=(0,De.A)({},ch,Zn("MuiPickersInput",["root","input"])),Xh=["label","autoFocus","disableUnderline","ownerState"],Kh=Vn(Eh,{name:"MuiPickersInput",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{var t;let{theme:n}=e;let r="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),{"label + &":{marginTop:16},variants:[...Object.keys((null!==(t=n.vars)&&void 0!==t?t:n).palette).filter((e=>{var t;return(null!==(t=n.vars)&&void 0!==t?t:n).palette[e].main})).map((e=>({props:{color:e},style:{"&::after":{borderBottom:"2px solid ".concat((n.vars||n).palette[e].main)}}}))),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Yh.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Yh.error)]:{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Yh.disabled,", .").concat(Yh.error,"):before")]:{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(Yh.disabled,":before")]:{borderBottomStyle:"dotted"}}}]}})),Zh=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersInput"}),{label:r,disableUnderline:i=!1,ownerState:a}=n,o=(0,Re.A)(n,Xh),s=Pl(),l=(e=>{const{classes:t,disableUnderline:n}=e,r=Fn({root:["root",!n&&"underline"],input:["input"]},Gh,t);return(0,De.A)({},t,r)})((0,De.A)({},n,a,s,{disableUnderline:i,color:(null===s||void 0===s?void 0:s.color)||"primary"}));return(0,It.jsx)(Ph,(0,De.A)({slots:{root:Kh}},o,{label:r,classes:l,ref:t}))}));Zh.muiName="Input";const Jh=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Qh={standard:Zh,filled:qh,outlined:zh},$h=Vn(Bc,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ep=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiPickersTextField"}),{onFocus:r,onBlur:i,className:a,color:s="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:p,inputRef:f,sectionListRef:m,elements:g,areAllSectionsEmpty:v,onClick:b,onKeyDown:y,onPaste:x,onInput:w,endAdornment:_,startAdornment:k,tabIndex:S,contentEditable:C,focused:A,value:T,onChange:I,fullWidth:E,id:N,name:M,helperText:j,FormHelperTextProps:D,label:R,InputLabelProps:P}=n,O=(0,Re.A)(n,Jh),L=ur(t,o.useRef(null)),F=Cl(N),z=j&&F?"".concat(F,"-helper-text"):void 0,B=R&&F?"".concat(F,"-label"):void 0,W=(0,De.A)({},n,{color:s,disabled:l,error:c,focused:A,required:d,variant:u}),V=(e=>{const{focused:t,disabled:n,classes:r,required:i}=e;return Fn({root:["root",t&&!n&&"focused",n&&"disabled",i&&"required"]},oh,r)})(W),U=Qh[u];return(0,It.jsxs)($h,(0,De.A)({className:On(V.root,a),ref:L,focused:A,onFocus:r,onBlur:i,disabled:l,variant:u,error:c,color:s,fullWidth:E,required:d,ownerState:W},O,{children:[(0,It.jsx)(Rc,(0,De.A)({htmlFor:F,id:B},P,{children:R})),(0,It.jsx)(U,(0,De.A)({elements:g,areAllSectionsEmpty:v,onClick:b,onKeyDown:y,onInput:w,onPaste:x,endAdornment:_,startAdornment:k,tabIndex:S,contentEditable:C,value:T,onChange:I,id:F,fullWidth:E,inputProps:p,inputRef:f,sectionListRef:m,label:R,name:M,role:"group","aria-labelledby":B},h)),j&&(0,It.jsx)(Gc,(0,De.A)({id:z},D,{children:j}))]}))}));function tp(e,t,n,r){const{value:i,onError:a}=e,s=Nn(),l=o.useRef(r),c=t({adapter:s,value:i,props:e});return o.useEffect((()=>{a&&!n(c,l.current)&&a(c,i),l.current=c}),[n,a,l,c,i]),c}const np=(e,t,n,r,i)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,t),i).length,format:i});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:i});case"day":return n.fieldDayPlaceholder({format:i});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:i});case"hours":return n.fieldHoursPlaceholder({format:i});case"minutes":return n.fieldMinutesPlaceholder({format:i});case"seconds":return n.fieldSecondsPlaceholder({format:i});case"meridiem":return n.fieldMeridiemPlaceholder({format:i});default:return i}},rp=e=>{let{utils:t,timezone:n,date:r,shouldRespectLeadingZeros:i,localeText:a,localizedDigits:o,now:s,token:l,startSeparator:c}=e;if(""===l)throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=lo(t,l),d=_o(t,n,u.contentType,u.type,l),h=i?d:"digit"===u.contentType,p=null!=r&&t.isValid(r);let f=p?t.formatByString(r,l):"",m=null;if(h)if(d)m=""===f?t.formatByString(s,l).length:f.length;else{if(null==u.maxLength)throw new Error("MUI X: The token ".concat(l," should have a 'maxDigitNumber' property on it's adapter"));m=u.maxLength,p&&(f=fo(go(po(f,o),m),o))}return(0,De.A)({},u,{format:l,maxLength:m,value:f,placeholder:np(t,n,a,u,l),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:h,startSeparator:c,endSeparator:"",modified:!1})},ip=e=>{let t=(e=>{let{utils:t,format:n}=e,r=10,i=n,a=t.expandFormat(n);for(;a!==i;)if(i=a,a=t.expandFormat(i),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return a})(e);e.isRTL&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=(e=>{let{utils:t,expandedFormat:n}=e;const r=[],{start:i,end:a}=t.escapedCharacters,o=new RegExp("(\\".concat(i,"[^\\").concat(a,"]*\\").concat(a,")+"),"g");let s=null;for(;s=o.exec(n);)r.push({start:s.index,end:o.lastIndex-1});return r})((0,De.A)({},e,{expandedFormat:t})),r=(e=>{const{utils:t,expandedFormat:n,escapedParts:r}=e,i=t.date(void 0),a=[];let o="";const s=Object.keys(t.formatTokenMap).sort(((e,t)=>t.length-e.length)),l=/^([a-zA-Z]+)/,c=new RegExp("^(".concat(s.join("|"),")*$")),u=new RegExp("^(".concat(s.join("|"),")")),d=e=>r.find((t=>t.start<=e&&t.end>=e));let h=0;for(;h<n.length;){var p;const t=d(h),r=null!=t,s=null===(p=l.exec(n.slice(h)))||void 0===p?void 0:p[1];if(!r&&null!=s&&c.test(s)){let t=s;for(;t.length>0;){const n=u.exec(t)[1];t=t.slice(n.length),a.push(rp((0,De.A)({},e,{now:i,token:n,startSeparator:o}))),o=""}h+=s.length}else{const e=n[h];r&&(null===t||void 0===t?void 0:t.start)===h||(null===t||void 0===t?void 0:t.end)===h||(0===a.length?o+=e:a[a.length-1].endSeparator+=e),h+=1}}return 0===a.length&&o.length>0&&a.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:o,endSeparator:"",modified:!1}),a})((0,De.A)({},e,{expandedFormat:t,escapedParts:n}));return(e=>{let{isRTL:t,formatDensity:n,sections:r}=e;return r.map((e=>{const r=e=>{let r=e;return t&&null!==r&&r.includes(" ")&&(r="\u2069".concat(r,"\u2066")),"spacious"===n&&["/",".","-"].includes(r)&&(r=" ".concat(r," ")),r};return e.startSeparator=r(e.startSeparator),e.endSeparator=r(e.endSeparator),e}))})((0,De.A)({},e,{sections:r}))},ap=e=>{const t=Mn(),n=Dn(),r=Nn(),i="rtl"===na().direction,{valueManager:a,fieldValueManager:s,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:p,onChange:f,format:m,formatDensity:g="dense",selectedSections:v,onSelectedSectionsChange:b,shouldRespectLeadingZeros:y=!1,timezone:x,enableAccessibleFieldDOMStructure:w=!1}}=e,{timezone:_,value:k,handleValueChange:S}=ao({timezone:x,value:d,defaultValue:h,onChange:f,valueManager:a}),C=o.useMemo((()=>(e=>{const t=e.date(void 0);return"0"===e.formatByString(e.setSeconds(t,0),"s")?ho:Array.from({length:10}).map(((n,r)=>e.formatByString(e.setSeconds(t,r),"s")))})(t)),[t]),A=o.useMemo((()=>((e,t,n)=>{const r=e.date(void 0,n),i=e.endOfYear(r),a=e.endOfDay(r),{maxDaysInMonth:o,longestMonth:s}=vn(e,r).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:t=>{let{format:r}=t;return{minimum:0,maximum:wo(e,n,r)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(i)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):o,longestMonth:s}},weekDay:t=>{let{format:r,contentType:i}=t;if("digit"===i){const t=co(e,n,r).map(Number);return{minimum:Math.min(...t),maximum:Math.max(...t)}}return{minimum:1,maximum:7}},hours:n=>{let{format:i}=n;const o=e.getHours(a);return po(e.formatByString(e.endOfDay(r),i),t)!==o.toString()?{minimum:1,maximum:Number(po(e.formatByString(e.startOfDay(r),i),t))}:{minimum:0,maximum:o}},minutes:()=>({minimum:0,maximum:e.getMinutes(a)}),seconds:()=>({minimum:0,maximum:e.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}})(t,C,_)),[t,C,_]),T=o.useCallback((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.getSectionsFromValue(t,e,r,(e=>ip({utils:t,timezone:_,localeText:n,localizedDigits:C,format:m,date:e,formatDensity:g,shouldRespectLeadingZeros:y,enableAccessibleFieldDOMStructure:w,isRTL:i})))}),[s,m,n,C,i,y,t,g,_,w]),[I,E]=o.useState((()=>{const e=T(k);ko();const n={sections:e,value:k,referenceValue:a.emptyValue,tempValueStrAndroid:null},r=(e=>Math.max(...e.map((e=>{var t;return null!==(t=_n[e.type])&&void 0!==t?t:1}))))(e),i=a.getInitialReferenceValue({referenceDate:p,value:k,utils:t,props:u,granularity:r,timezone:_});return(0,De.A)({},n,{referenceValue:i})})),[N,M]=ra({controlled:v,default:null,name:"useField",state:"selectedSections"}),j=e=>{M(e),null===b||void 0===b||b(e)},D=o.useMemo((()=>Ao(N,I.sections)),[N,I.sections]),R="all"===D?0:D,P=e=>{let{value:n,referenceValue:i,sections:o}=e;if(E((e=>(0,De.A)({},e,{sections:o,value:n,referenceValue:i,tempValueStrAndroid:null}))),a.areValuesEqual(t,I.value,n))return;const s={validationError:c({adapter:r,value:n,props:(0,De.A)({},u,{value:n,timezone:_})})};S(n,s)},O=(e,t)=>{const n=[...I.sections];return n[e]=(0,De.A)({},n[e],{value:t,modified:!0}),n};return o.useEffect((()=>{const e=T(I.value);ko(),E((t=>(0,De.A)({},t,{sections:e})))}),[m,t.locale,i]),o.useEffect((()=>{let e;e=!a.areValuesEqual(t,I.value,k)||a.getTimezone(t,I.value)!==a.getTimezone(t,k),e&&E((e=>(0,De.A)({},e,{value:k,referenceValue:s.updateReferenceValue(t,k,e.referenceValue),sections:T(k)})))}),[k]),{state:I,activeSectionIndex:R,parsedSelectedSections:D,setSelectedSections:j,clearValue:()=>{P({value:a.emptyValue,referenceValue:I.referenceValue,sections:T(a.emptyValue)})},clearActiveSection:()=>{if(null==R)return;const e=I.sections[R],n=s.getActiveDateManager(t,I,e),r=n.getSections(I.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),i=O(R,""),a=r?null:t.getInvalidDate(),o=n.getNewValuesFromNewActiveDate(a);P((0,De.A)({},o,{sections:i}))},updateSectionValue:e=>{let{activeSection:n,newSectionValue:r,shouldGoToNextSection:i}=e;i&&R<I.sections.length-1&&j(R+1);const a=s.getActiveDateManager(t,I,n),o=O(R,r),l=a.getSections(o),c=((e,t,n)=>{const r=t.some((e=>"day"===e.type)),i=[],a=[];for(let l=0;l<t.length;l+=1){const e=t[l];r&&"weekDay"===e.type||(i.push(e.format),a.push(yo(e,"non-input",n)))}const o=i.join(" "),s=a.join(" ");return e.parse(s,o)})(t,l,C);let u,d;if(null!=c&&t.isValid(c)){const e=Co(t,_,c,l,a.referenceDate,!0);u=a.getNewValuesFromNewActiveDate(e),d=!0}else u=a.getNewValuesFromNewActiveDate(c),d=(null!=c&&!t.isValid(c))!==(null!=a.date&&!t.isValid(a.date));return d?P((0,De.A)({},u,{sections:o})):E((e=>(0,De.A)({},e,u,{sections:o,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=s.parseValueStr(e,I.referenceValue,((e,r)=>{const a=t.parse(e,m);if(null==a||!t.isValid(a))return null;const o=ip({utils:t,timezone:_,localeText:n,localizedDigits:C,format:m,date:a,formatDensity:g,shouldRespectLeadingZeros:y,enableAccessibleFieldDOMStructure:w,isRTL:i});return Co(t,_,a,o,r,!1)})),a=s.updateReferenceValue(t,r,I.referenceValue);P({value:r,referenceValue:a,sections:T(r,I.sections)})},setTempAndroidValueStr:e=>E((t=>(0,De.A)({},t,{tempValueStrAndroid:e}))),getSectionsFromValue:T,sectionsValueBoundaries:A,localizedDigits:C,timezone:_}},op=e=>null!=e.saveQuery,sp=e=>{let{sections:t,updateSectionValue:n,sectionsValueBoundaries:r,localizedDigits:i,setTempAndroidValueStr:a,timezone:s}=e;const l=Mn(),[c,u]=o.useState(null),d=hr((()=>u(null)));o.useEffect((()=>{var e;null!=c&&(null===(e=t[c.sectionIndex])||void 0===e?void 0:e.type)!==c.sectionType&&d()}),[t,c,d]),o.useEffect((()=>{if(null!=c){const e=setTimeout((()=>d()),5e3);return()=>{clearTimeout(e)}}return()=>{}}),[c,d]);const h=(e,n,r)=>{let{keyPressed:i,sectionIndex:a}=e;const o=i.toLowerCase(),s=t[a];if(null!=c&&(!r||r(c.value))&&c.sectionIndex===a){const e="".concat(c.value).concat(o),t=n(e,s);if(!op(t))return u({sectionIndex:a,value:e,sectionType:s.type}),t}const l=n(o,s);return op(l)&&!l.saveQuery?(d(),null):(u({sectionIndex:a,value:o,sectionType:s.type}),op(l)?null:l)},p=hr((e=>{const o=t[e.sectionIndex],c=mo(e.keyPressed,i)?(e=>{const t=(e,t)=>{const n=po(e,i),a=Number(n),o=r[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(a>o.maximum)return{saveQuery:!1};if(a<o.minimum)return{saveQuery:!0};const s=10*a>o.maximum||n.length===o.maximum.toString().length;return{sectionValue:vo(l,a,o,i,t),shouldGoToNextSection:s}};return h(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const r=_o(l,s,"digit","month","MM"),i=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:r,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(op(i))return i;const a=xo(l,i.sectionValue,"MM",n.format);return(0,De.A)({},i,{sectionValue:a})}if("weekDay"===n.type){const r=t(e,n);if(op(r))return r;const i=co(l,s,n.format)[Number(r.sectionValue)-1];return(0,De.A)({},r,{sectionValue:i})}return{saveQuery:!1}}),(e=>mo(e,i)))})((0,De.A)({},e,{keyPressed:fo(e.keyPressed,i)})):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,r,i)=>{const a=e=>uo(l,s,n.type,e);if("letter"===n.contentType)return t(n.format,a(n.format),e);if(r&&null!=i&&"letter"===lo(l,r).contentType){const n=a(r),o=t(0,n,e);return op(o)?{saveQuery:!1}:(0,De.A)({},o,{sectionValue:i(o.sectionValue,n)})}return{saveQuery:!1}};return h(e,((e,t)=>{switch(t.type){case"month":{const r=e=>xo(l,e,l.formats.month,t.format);return n(e,t,l.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,l.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(e);null!=c?n({activeSection:o,newSectionValue:c.sectionValue,shouldGoToNextSection:c.shouldGoToNextSection}):a(null)}));return{applyCharacterEditing:p,resetCharacterQuery:d}},lp=e=>{const{internalProps:{disabled:t,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:i,onClick:a,onFocus:s,onInput:l,onPaste:c,focused:u,autoFocus:d=!1},fieldValueManager:h,applyCharacterEditing:p,resetCharacterQuery:f,setSelectedSections:m,parsedSelectedSections:g,state:v,clearActiveSection:b,clearValue:y,updateSectionValue:x,updateValueFromValueStr:w,sectionOrder:_,areAllSectionsEmpty:k,sectionsValueBoundaries:S}=e,C=o.useRef(null),A=ur(r,C),T=Dn(),I=Mn(),E=Cl(),[N,M]=o.useState(!1),j=o.useMemo((()=>({syncSelectionToDOM:()=>{if(!C.current)return;const e=document.getSelection();if(!e)return;if(null==g)return e.rangeCount>0&&C.current.getRoot().contains(e.getRangeAt(0).startContainer)&&e.removeAllRanges(),void(N&&C.current.getRoot().blur());if(!C.current.getRoot().contains(io(document)))return;const t=new window.Range;let n;if("all"===g)n=C.current.getRoot();else{n="empty"===v.sections[g].type?C.current.getSectionContainer(g):C.current.getSectionContent(g)}t.selectNodeContents(n),n.focus(),e.removeAllRanges(),e.addRange(t)},getActiveSectionIndexFromDOM:()=>{const e=io(document);return e&&C.current&&C.current.getRoot().contains(e)?C.current.getSectionIndexFromDOMElement(e):null},focusField:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!C.current)return;const t=Ao(e,v.sections);M(!0),C.current.getSectionContent(t).focus()},setSelectedSections:e=>{if(!C.current)return;const t=Ao(e,v.sections);M(null!==("all"===t?0:t)),m(e)},isFieldFocused:()=>{const e=io(document);return!!C.current&&C.current.getRoot().contains(e)}})),[g,m,v.sections,N]),D=hr((e=>{if(!C.current)return;const t=v.sections[e];C.current.getSectionContent(e).innerHTML=t.value||t.placeholder,j.syncSelectionToDOM()})),R=hr((function(e){if(!e.isDefaultPrevented()&&C.current){M(!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null===a||void 0===a||a(e,...n),"all"===g)setTimeout((()=>{const e=document.getSelection().getRangeAt(0).startOffset;if(0===e)return void m(_.startIndex);let t=0,n=0;for(;n<e&&t<v.sections.length;){const e=v.sections[t];t+=1,n+="".concat(e.startSeparator).concat(e.value||e.placeholder).concat(e.endSeparator).length}m(t-1)}));else if(N){C.current.getRoot().contains(e.target)||m(_.startIndex)}else M(!0),m(_.startIndex)}})),P=hr((e=>{var t;if(null===l||void 0===l||l(e),!C.current||"all"!==g)return;const n=null!==(t=e.target.textContent)&&void 0!==t?t:"";C.current.getRoot().innerHTML=v.sections.map((e=>"".concat(e.startSeparator).concat(e.value||e.placeholder).concat(e.endSeparator))).join(""),j.syncSelectionToDOM(),0===n.length||10===n.charCodeAt(0)?(f(),y(),m("all")):n.length>1?w(n):p({keyPressed:n,sectionIndex:0})})),O=hr((e=>{if(null===c||void 0===c||c(e),n||"all"!==g)return void e.preventDefault();const t=e.clipboardData.getData("text");e.preventDefault(),f(),w(t)})),L=hr((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(null===s||void 0===s||s(...t),N||!C.current)return;M(!0);null!=C.current.getSectionIndexFromDOMElement(io(document))||m(_.startIndex)})),F=hr((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===i||void 0===i||i(...t),setTimeout((()=>{if(!C.current)return;const e=io(document);!C.current.getRoot().contains(e)&&(M(!1),m(null))}))})),z=hr((e=>t=>{t.isDefaultPrevented()||n||m(e)})),B=hr((e=>{e.preventDefault()})),W=hr((e=>()=>{n||m(e)})),V=hr((e=>{if(e.preventDefault(),n||"number"!==typeof g)return;const t=v.sections[g],r=e.clipboardData.getData("text"),i=/^[a-zA-Z]+$/.test(r),a=/^[0-9]+$/.test(r),o=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(r);"letter"===t.contentType&&i||"digit"===t.contentType&&a||"digit-with-letter"===t.contentType&&o?(f(),x({activeSection:t,newSectionValue:r,shouldGoToNextSection:!0})):i||a||(f(),w(r))})),U=hr((e=>{e.preventDefault(),e.dataTransfer.dropEffect="none"})),H=hr((e=>{var t;if(!C.current)return;const r=e.target,i=null!==(t=r.textContent)&&void 0!==t?t:"",a=C.current.getSectionIndexFromDOMElement(r),o=v.sections[a];if(!n&&C.current){if(0===i.length)return""===o.value?void D(a):(f(),void b());p({keyPressed:i,sectionIndex:a}),D(a)}else D(a)}));Jt((()=>{if(N&&C.current)if("all"===g)C.current.getRoot().focus();else if("number"===typeof g){const e=C.current.getSectionContent(g);e&&e.focus()}}),[g,N]);const q=o.useMemo((()=>v.sections.reduce(((e,t)=>(e[t.type]=S[t.type]({currentDate:null,contentType:t.contentType,format:t.format}),e)),{})),[S,v.sections]),G="all"===g,Y=o.useMemo((()=>v.sections.map(((e,r)=>{const i=!G&&!t&&!n;return{container:{"data-sectionindex":r,onClick:z(r)},content:{tabIndex:G||r>0?-1:0,contentEditable:!G&&!t&&!n,role:"spinbutton",id:"".concat(E,"-").concat(e.type),"aria-labelledby":"".concat(E,"-").concat(e.type),"aria-readonly":n,"aria-valuenow":Io(e,I),"aria-valuemin":q[e.type].minimum,"aria-valuemax":q[e.type].maximum,"aria-valuetext":e.value?To(e,I):T.empty,"aria-label":T[e.type],"aria-disabled":t,spellCheck:!i&&void 0,autoCapitalize:i?"off":void 0,autoCorrect:i?"off":void 0,[parseInt(o.version,10)>=17?"enterKeyHint":"enterkeyhint"]:i?"next":void 0,children:e.value||e.placeholder,onInput:H,onPaste:V,onFocus:W(r),onDragOver:U,onMouseUp:B,inputMode:"letter"===e.contentType?"text":"numeric"},before:{children:e.startSeparator},after:{children:e.endSeparator}}}))),[v.sections,W,V,U,H,z,B,t,n,G,T,I,q,E]),X=hr((e=>{w(e.target.value)})),K=o.useMemo((()=>k?"":h.getV7HiddenInputValueFromSections(v.sections)),[k,v.sections,h]);return o.useEffect((()=>{if(null==C.current)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join("\n"));d&&C.current&&C.current.getSectionContent(_.startIndex).focus()}),[]),{interactions:j,returnedValue:{autoFocus:d,readOnly:n,focused:null!==u&&void 0!==u?u:N,sectionListRef:A,onBlur:F,onClick:R,onFocus:L,onInput:P,onPaste:O,enableAccessibleFieldDOMStructure:!0,elements:Y,tabIndex:0===g?-1:0,contentEditable:G,value:K,onChange:X,areAllSectionsEmpty:k}}},cp=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),up=e=>{const t="rtl"===na().direction,n=o.useRef(),{forwardedProps:{onFocus:r,onClick:i,onPaste:a,onBlur:s,inputRef:l,placeholder:c},internalProps:{readOnly:u=!1},parsedSelectedSections:d,activeSectionIndex:h,state:p,fieldValueManager:f,valueManager:m,applyCharacterEditing:g,resetCharacterQuery:v,updateSectionValue:b,updateValueFromValueStr:y,clearActiveSection:x,clearValue:w,setTempAndroidValueStr:_,setSelectedSections:k,getSectionsFromValue:S,areAllSectionsEmpty:C,localizedDigits:A}=e,T=o.useRef(null),I=ur(l,T),E=o.useMemo((()=>((e,t,n)=>{let r=0,i=n?1:0;const a=[];for(let o=0;o<e.length;o+=1){const s=e[o],l=yo(s,n?"input-rtl":"input-ltr",t),c="".concat(s.startSeparator).concat(l).concat(s.endSeparator),u=cp(c).length,d=c.length,h=cp(l),p=i+(""===h?0:l.indexOf(h[0]))+s.startSeparator.length,f=p+h.length;a.push((0,De.A)({},s,{start:r,end:r+u,startInInput:p,endInInput:f})),r+=u,i+=d}return a})(p.sections,A,t)),[p.sections,A,t]),N=o.useMemo((()=>({syncSelectionToDOM:()=>{if(!T.current)return;if(null==d)return void(T.current.scrollLeft&&(T.current.scrollLeft=0));if(T.current!==io(document))return;const e=T.current.scrollTop;if("all"===d)T.current.select();else{const e=E[d],t="empty"===e.type?e.startInInput-e.startSeparator.length:e.startInInput,n="empty"===e.type?e.endInInput+e.endSeparator.length:e.endInInput;t===T.current.selectionStart&&n===T.current.selectionEnd||T.current===io(document)&&T.current.setSelectionRange(t,n)}T.current.scrollTop=e},getActiveSectionIndexFromDOM:()=>{var e,t,n;const r=null!==(e=T.current.selectionStart)&&void 0!==e?e:0,i=null!==(t=T.current.selectionEnd)&&void 0!==t?t:0,a=!(null===(n=T.current)||void 0===n||!n.readOnly);if(0===r&&0===i||a)return null;const o=r<=E[0].startInInput?1:E.findIndex((e=>e.startInInput-e.startSeparator.length>r));return-1===o?E.length-1:o-1},focusField:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=T.current)||void 0===e||e.focus(),k(t)},setSelectedSections:e=>k(e),isFieldFocused:()=>T.current===io(document)})),[T,d,E,k]),M=()=>{var e;if(u)return void k(null);const t=null!==(e=T.current.selectionStart)&&void 0!==e?e:0;let n;n=t<=E[0].startInInput||t>=E[E.length-1].endInInput?1:E.findIndex((e=>e.startInInput-e.startSeparator.length>t));const r=-1===n?E.length-1:n-1;k(r)},j=hr((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];null===r||void 0===r||r(...t);const a=T.current;clearTimeout(n.current),n.current=setTimeout((()=>{a&&a===T.current&&(null!=h||u||(a.value.length&&Number(a.selectionEnd)-Number(a.selectionStart)===a.value.length?k("all"):M()))}))})),D=hr((function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null===i||void 0===i||i(e,...n),M()}})),R=hr((e=>{if(null===a||void 0===a||a(e),e.preventDefault(),u)return;const t=e.clipboardData.getData("text");if("number"===typeof d){const e=p.sections[d],n=/^[a-zA-Z]+$/.test(t),r=/^[0-9]+$/.test(t),i=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===e.contentType&&n||"digit"===e.contentType&&r||"digit-with-letter"===e.contentType&&i)return v(),void b({activeSection:e,newSectionValue:t,shouldGoToNextSection:!0});if(n||r)return}v(),y(t)})),P=hr((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===s||void 0===s||s(...t),k(null)})),O=hr((e=>{if(u)return;const n=e.target.value;if(""===n)return v(),void w();const r=e.nativeEvent.data,i=r&&r.length>1,a=i?r:n,o=cp(a);if(null==h||i)return void y(i?r:o);let s;if("all"===d&&1===o.length)s=o;else{const e=cp(f.getV6InputValueFromSections(E,A,t));let n=-1,r=-1;for(let t=0;t<e.length;t+=1)-1===n&&e[t]!==o[t]&&(n=t),-1===r&&e[e.length-t-1]!==o[o.length-t-1]&&(r=t);const i=E[h];if(n<i.start||e.length-r-1>i.end)return;const a=o.length-e.length+i.end-cp(i.endSeparator||"").length;s=o.slice(i.start+cp(i.startSeparator||"").length,a)}0!==s.length?g({keyPressed:s,sectionIndex:h}):navigator.userAgent.toLowerCase().indexOf("android")>-1?_(a):(v(),x())})),L=o.useMemo((()=>c||f.getV6InputValueFromSections(S(m.emptyValue),A,t)),[c,f,S,m.emptyValue,A,t]),F=o.useMemo((()=>{var e;return null!==(e=p.tempValueStrAndroid)&&void 0!==e?e:f.getV6InputValueFromSections(p.sections,A,t)}),[p.sections,f,p.tempValueStrAndroid,A,t]);o.useEffect((()=>(T.current&&T.current===io(document)&&k("all"),()=>{clearTimeout(n.current)})),[]);const z=o.useMemo((()=>null==h||"letter"===p.sections[h].contentType?"text":"numeric"),[h,p.sections]),B=T.current&&T.current===io(document);return{interactions:N,returnedValue:{readOnly:u,onBlur:P,onClick:D,onFocus:j,onPaste:R,inputRef:I,enableAccessibleFieldDOMStructure:!1,placeholder:L,inputMode:z,autoComplete:"off",value:!B&&C?"":F,onChange:O}}},dp=e=>{var t,n,r;const i=Mn(),a=jn();return(0,De.A)({},e,{disablePast:null!==(t=e.disablePast)&&void 0!==t&&t,disableFuture:null!==(n=e.disableFuture)&&void 0!==n&&n,format:null!==(r=e.format)&&void 0!==r?r:i.formats.keyboardDate,minDate:mn(i,e.minDate,a.minDate),maxDate:mn(i,e.maxDate,a.maxDate)})},hp=e=>{const t=dp(e),{forwardedProps:n,internalProps:r}=th(t,"date");return(e=>{const t=Mn(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:i,enableAccessibleFieldDOMStructure:a=!1,disabled:s=!1,readOnly:l=!1},forwardedProps:{onKeyDown:c,error:u,clearable:d,onClear:h},fieldValueManager:p,valueManager:f,validator:m}=e,g="rtl"===na().direction,v=ap(e),{state:b,activeSectionIndex:y,parsedSelectedSections:x,setSelectedSections:w,clearValue:_,clearActiveSection:k,updateSectionValue:S,setTempAndroidValueStr:C,sectionsValueBoundaries:A,localizedDigits:T,timezone:I}=v,E=sp({sections:b.sections,updateSectionValue:S,sectionsValueBoundaries:A,localizedDigits:T,setTempAndroidValueStr:C,timezone:I}),{resetCharacterQuery:N}=E,M=f.areValuesEqual(t,b.value,f.emptyValue),j=a?lp:up,D=o.useMemo((()=>((e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const i=0===r?null:r-1,a=r===e.length-1?null:r+1;n[r]={leftIndex:i,rightIndex:a}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},i={};let a=0,o=0,s=e.length-1;for(;s>=0;){o=e.findIndex(((e,t)=>{var n;return t>=a&&(null===(n=e.endSeparator)||void 0===n?void 0:n.includes(" "))&&" / "!==e.endSeparator})),-1===o&&(o=e.length-1);for(let e=o;e>=a;e-=1)i[e]=s,r[s]=e,s-=1;a=o+1}return e.forEach(((t,a)=>{const o=i[a],s=0===o?null:r[o-1],l=o===e.length-1?null:r[o+1];n[a]={leftIndex:s,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(b.sections,g&&!a)),[b.sections,g,a]),{returnedValue:R,interactions:P}=j((0,De.A)({},e,v,E,{areAllSectionsEmpty:M,sectionOrder:D})),O=hr((e=>{switch(null===c||void 0===c||c(e),!0){case(e.ctrlKey||e.metaKey)&&"a"===e.key.toLowerCase()&&!e.shiftKey&&!e.altKey:e.preventDefault(),w("all");break;case"Enter"===e.key:e.preventDefault();break;case"ArrowRight"===e.key:if(e.preventDefault(),null==x)w(D.startIndex);else if("all"===x)w(D.endIndex);else{const e=D.neighbors[x].rightIndex;null!==e&&w(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==x)w(D.endIndex);else if("all"===x)w(D.startIndex);else{const e=D.neighbors[x].leftIndex;null!==e&&w(e)}break;case"Delete"===e.key:if(e.preventDefault(),l)break;null==x||"all"===x?_():k(),N();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),l||null==y)break;const n=b.sections[y],r=p.getActiveDateManager(t,b,n),a=bo(t,I,n,e.key,A,T,r.date,{minutesStep:i});S({activeSection:n,newSectionValue:a,shouldGoToNextSection:!1});break}}}));Jt((()=>{P.syncSelectionToDOM()}));const L=tp((0,De.A)({},n,{value:b.value,timezone:I}),m,f.isSameError,f.defaultErrorState),F=o.useMemo((()=>void 0!==u?u:f.hasError(L)),[f,L,u]);o.useEffect((()=>{F||null!=y||N()}),[b.referenceValue,y,F]),o.useEffect((()=>{null!=b.tempValueStrAndroid&&null!=y&&(N(),k())}),[b.sections]),o.useImperativeHandle(r,(()=>({getSections:()=>b.sections,getActiveSectionIndex:P.getActiveSectionIndexFromDOM,setSelectedSections:P.setSelectedSections,focusField:P.focusField,isFieldFocused:P.isFieldFocused})));const z={onKeyDown:O,onClear:hr((function(e){e.preventDefault();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null===h||void 0===h||h(e,...n),_(),P.isFieldFocused()?w(D.startIndex):P.focusField(0)})),error:F,clearable:Boolean(d&&!M&&!l&&!s)},B={disabled:s,readOnly:l};return(0,De.A)({},e.forwardedProps,z,B,R)})({forwardedProps:n,internalProps:r,valueManager:No,fieldValueManager:Mo,validator:La,valueType:"date"})},pp=["shouldDisableDate"],fp=e=>{let{props:t,value:n,adapter:r}=e;const[i,a]=n,{shouldDisableDate:o}=t,s=(0,Re.A)(t,pp),l=[La({adapter:r,value:i,props:(0,De.A)({},s,{shouldDisableDate:e=>!(null===o||void 0===o||!o(e,"start"))})}),La({adapter:r,value:a,props:(0,De.A)({},s,{shouldDisableDate:e=>!(null===o||void 0===o||!o(e,"end"))})})];return l[0]||l[1]?l:null===i||null===a||Po(r.utils,n)?[null,null]:["invalidRange","invalidRange"]},mp=(e,t)=>Object.keys(e).reduce(((n,r)=>(t.includes(r)||(n[r]=e[r]),n)),{}),gp=e=>{let{sharedProps:t,startTextFieldProps:n,unstableStartFieldRef:r,endTextFieldProps:i,unstableEndFieldRef:a}=e;const s=dp(t),l=Nn(),{value:c,defaultValue:u,format:d,formatDensity:h,shouldRespectLeadingZeros:p,onChange:f,disabled:m,readOnly:g,selectedSections:v,onSelectedSectionsChange:b,timezone:y,enableAccessibleFieldDOMStructure:x,autoFocus:w}=s,{value:_,handleValueChange:k,timezone:S}=oo({name:"useMultiInputDateRangeField",timezone:y,value:c,defaultValue:u,onChange:f,valueManager:An}),C=e=>(t,n)=>{const r=0===e?[t,_[1]]:[_[0],t],i=(0,De.A)({},n,{validationError:fp({adapter:l,value:r,props:(0,De.A)({},s,{timezone:S})})});k(r,i)},A=hr(C(0)),T=hr(C(1)),I=tp((0,De.A)({},s,{value:_,timezone:S}),fp,An.isSameError,An.defaultErrorState),E=(e=>{var t;const n=o.useRef(null),r=ur(e.unstableEndFieldRef,n),[i,a]=o.useState(null!==(t=e.selectedSections)&&void 0!==t?t:null),[s,l]=o.useState(null),c=()=>n.current&&n.current.isFieldFocused()?"end":"start",u=hr((t=>{var n;a(t),"start"===c()&&(null===(n=e.onSelectedSectionsChange)||void 0===n||n.call(e,t))})),d=hr((t=>{var n;l(t),"end"===c()&&(null===(n=e.onSelectedSectionsChange)||void 0===n||n.call(e,t))})),h=c();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:"start"===h&&void 0!==e.selectedSections?e.selectedSections:i,onSelectedSectionsChange:u},end:{unstableFieldRef:r,selectedSections:"end"===h&&void 0!==e.selectedSections?e.selectedSections:s,onSelectedSectionsChange:d}}})({selectedSections:v,onSelectedSectionsChange:b,unstableStartFieldRef:r,unstableEndFieldRef:a}),N=(0,De.A)({error:!!I[0]},n,E.start,{disabled:m,readOnly:g,format:d,formatDensity:h,shouldRespectLeadingZeros:p,timezone:S,value:void 0===c?void 0:c[0],defaultValue:void 0===u?void 0:u[0],onChange:A,enableAccessibleFieldDOMStructure:x,autoFocus:w}),M=(0,De.A)({error:!!I[1]},i,E.end,{format:d,formatDensity:h,shouldRespectLeadingZeros:p,disabled:m,readOnly:g,timezone:S,value:void 0===c?void 0:c[1],defaultValue:void 0===u?void 0:u[1],onChange:T,enableAccessibleFieldDOMStructure:x}),j=hp(N),D=hp(M);return{startDate:mp(j,["clearable","onClear"]),endDate:mp(D,["clearable","onClear"])}},vp=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"],bp=(Zn("MuiMultiInputDateRangeField",["root","separator"]),e=>Kn("MuiMultiInputDateRangeField",e)),yp=Vn(o.forwardRef(((e,t)=>(0,It.jsx)(_l,(0,De.A)({ref:t,spacing:2,direction:"row",alignItems:"center"},e)))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),xp=Vn(rr,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),wp=o.forwardRef((function(e,t){var n,r,i,a;const o=Tt({props:e,name:"MuiMultiInputDateRangeField"}),{internalProps:s,forwardedProps:l}=th(o,"date"),{slots:c,slotProps:u,unstableStartFieldRef:d,unstableEndFieldRef:h,className:p}=l,f=(0,Re.A)(l,vp),m=o,g=(e=>{const{classes:t}=e;return Fn({root:["root"],separator:["separator"]},bp,t)})(m),v=null!==(n=null===c||void 0===c?void 0:c.root)&&void 0!==n?n:yp,b=Li({elementType:v,externalSlotProps:null===u||void 0===u?void 0:u.root,externalForwardedProps:f,additionalProps:{ref:t},ownerState:m,className:On(p,g.root)}),y=null!==(r=null===c||void 0===c?void 0:c.textField)&&void 0!==r?r:e.enableAccessibleFieldDOMStructure?ep:$d,x=Li({elementType:y,externalSlotProps:null===u||void 0===u?void 0:u.textField,ownerState:(0,De.A)({},m,{position:"start"})}),w=Li({elementType:y,externalSlotProps:null===u||void 0===u?void 0:u.textField,ownerState:(0,De.A)({},m,{position:"end"})}),_=null!==(i=null===c||void 0===c?void 0:c.separator)&&void 0!==i?i:xp,k=Li({elementType:_,externalSlotProps:null===u||void 0===u?void 0:u.separator,additionalProps:{children:" ".concat(null!==(a=s.dateSeparator)&&void 0!==a?a:"\u2013"," ")},ownerState:m,className:g.separator}),S=gp({sharedProps:s,startTextFieldProps:x,endTextFieldProps:w,unstableStartFieldRef:d,unstableEndFieldRef:h}),C=ah(S.startDate),A=ah(S.endDate);return(0,It.jsxs)(v,(0,De.A)({},b,{children:[(0,It.jsx)(y,(0,De.A)({fullWidth:!0},C)),(0,It.jsx)(_,(0,De.A)({},k)),(0,It.jsx)(y,(0,De.A)({fullWidth:!0},A))]}))}));function _p(e){return Kn("MuiPickersLayout",e)}const kp=Zn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);function Sp(e){return Kn("MuiDialogActions",e)}Zn("MuiDialogActions",["root","spacing"]);const Cp=["className","disableSpacing"],Ap=Vn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,De.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Tp=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,a=(0,Re.A)(n,Cp),o=(0,De.A)({},n,{disableSpacing:i}),s=(e=>{const{classes:t,disableSpacing:n}=e;return Fn({root:["root",!n&&"spacing"]},Sp,t)})(o);return(0,It.jsx)(Ap,(0,De.A)({className:On(s.root,r),ownerState:o,ref:t},a))})),Ip=["onAccept","onClear","onCancel","onSetToday","actions"];function Ep(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:i,actions:a}=e,o=(0,Re.A)(e,Ip),s=Dn();if(null==a||0===a.length)return null;const l=null===a||void 0===a?void 0:a.map((e=>{switch(e){case"clear":return(0,It.jsx)(bi,{onClick:n,children:s.clearButtonLabel},e);case"cancel":return(0,It.jsx)(bi,{onClick:r,children:s.cancelButtonLabel},e);case"accept":return(0,It.jsx)(bi,{onClick:t,children:s.okButtonLabel},e);case"today":return(0,It.jsx)(bi,{onClick:i,children:s.todayButtonLabel},e);default:return null}}));return(0,It.jsx)(Tp,(0,De.A)({},o,{children:l}))}function Np(e){return Kn("MuiListItem",e)}const Mp=Zn("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const jp=Zn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Dp(e){return Kn("MuiListItemSecondaryAction",e)}Zn("MuiListItemSecondaryAction",["root","disableGutters"]);const Rp=["className"],Pp=Vn("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,De.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Op=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,i=(0,Re.A)(n,Rp),a=o.useContext(Qc),s=(0,De.A)({},n,{disableGutters:a.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e;return Fn({root:["root",t&&"disableGutters"]},Dp,n)})(s);return(0,It.jsx)(Pp,(0,De.A)({className:On(l.root,r),ownerState:s,ref:t},i))}));Op.muiName="ListItemSecondaryAction";const Lp=Op,Fp=["className"],zp=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Bp=Vn("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,De.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(jp.root)]:{paddingRight:48}},{["&.".concat(Mp.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Mp.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Mp.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(Mp.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Mp.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),Wp=Vn("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Vp=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:i=!1,button:a=!1,children:s,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:f=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:v=!1,divider:b=!1,focusVisibleClassName:y,secondaryAction:x,selected:w=!1,slotProps:_={},slots:k={}}=n,S=(0,Re.A)(n.ContainerProps,Fp),C=(0,Re.A)(n,zp),A=o.useContext(Qc),T=o.useMemo((()=>({dense:f||A.dense||!1,alignItems:r,disableGutters:g})),[r,A.dense,f,g]),I=o.useRef(null);Ol((()=>{i&&I.current&&I.current.focus()}),[i]);const E=o.Children.toArray(s),N=E.length&&Pc(E[E.length-1],["ListItemSecondaryAction"]),M=(0,De.A)({},n,{alignItems:r,autoFocus:i,button:a,dense:T.dense,disabled:m,disableGutters:g,disablePadding:v,divider:b,hasSecondaryAction:N,selected:w}),j=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:a,disableGutters:o,disablePadding:s,divider:l,hasSecondaryAction:c,selected:u}=e;return Fn({root:["root",i&&"dense",!o&&"gutters",!s&&"padding",l&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Np,r)})(M),D=dr(I,t),R=k.root||u.Root||Bp,P=_.root||d.root||{},O=(0,De.A)({className:On(j.root,P.className,l),disabled:m},C);let L=c||"li";return a&&(O.component=c||"div",O.focusVisibleClassName=On(Mp.focusVisible,y),L=si),N?(L=O.component||c?L:"div","li"===h&&("li"===L?L="div":"li"===O.component&&(O.component="div")),(0,It.jsx)(Qc.Provider,{value:T,children:(0,It.jsxs)(Wp,(0,De.A)({as:h,className:On(j.container,p),ref:D,ownerState:M},S,{children:[(0,It.jsx)(R,(0,De.A)({},P,!Di(R)&&{as:L,ownerState:(0,De.A)({},M,P.ownerState)},O,{children:E})),E.pop()]}))})):(0,It.jsx)(Qc.Provider,{value:T,children:(0,It.jsxs)(R,(0,De.A)({},P,{as:L,ref:D},!Di(R)&&{ownerState:(0,De.A)({},M,P.ownerState)},O,{children:[E,x&&(0,It.jsx)(Lp,{children:x})]}))})})),Up=Vp,Hp=ws((0,It.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function qp(e){return Kn("MuiChip",e)}const Gp=Zn("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Yp=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Xp=Vn("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:a,onDelete:o,size:s,variant:l}=n;return[{["& .".concat(Gp.avatar)]:t.avatar},{["& .".concat(Gp.avatar)]:t["avatar".concat(Hn(s))]},{["& .".concat(Gp.avatar)]:t["avatarColor".concat(Hn(r))]},{["& .".concat(Gp.icon)]:t.icon},{["& .".concat(Gp.icon)]:t["icon".concat(Hn(s))]},{["& .".concat(Gp.icon)]:t["iconColor".concat(Hn(i))]},{["& .".concat(Gp.deleteIcon)]:t.deleteIcon},{["& .".concat(Gp.deleteIcon)]:t["deleteIcon".concat(Hn(s))]},{["& .".concat(Gp.deleteIcon)]:t["deleteIconColor".concat(Hn(r))]},{["& .".concat(Gp.deleteIcon)]:t["deleteIcon".concat(Hn(l),"Color").concat(Hn(r))]},t.root,t["size".concat(Hn(s))],t["color".concat(Hn(r))],a&&t.clickable,a&&"default"!==r&&t["clickableColor".concat(Hn(r),")")],o&&t.deletable,o&&"default"!==r&&t["deletableColor".concat(Hn(r))],t[l],t["".concat(l).concat(Hn(r))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,De.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(Gp.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(Gp.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(Gp.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(Gp.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(Gp.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(Gp.icon)]:(0,De.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,De.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(Gp.deleteIcon)]:(0,De.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,Xe.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,Xe.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,Xe.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(Gp.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Xe.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(Gp.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xe.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(Gp.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Xe.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(Gp.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(Gp.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(Gp.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(Gp.avatar)]:{marginLeft:4},["& .".concat(Gp.avatarSmall)]:{marginLeft:2},["& .".concat(Gp.icon)]:{marginLeft:4},["& .".concat(Gp.iconSmall)]:{marginLeft:2},["& .".concat(Gp.deleteIcon)]:{marginRight:5},["& .".concat(Gp.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,Xe.X4)(t.palette[n.color].main,.7)),["&.".concat(Gp.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(Gp.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,Xe.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(Gp.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,Xe.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),Kp=Vn("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(Hn(r))]]}})((e=>{let{ownerState:t}=e;return(0,De.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function Zp(e){return"Backspace"===e.key||"Delete"===e.key}const Jp=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiChip"}),{avatar:r,className:i,clickable:a,color:s="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:b="filled",tabIndex:y,skipFocusWhenDisabled:x=!1}=n,w=(0,Re.A)(n,Yp),_=o.useRef(null),k=dr(_,t),S=e=>{e.stopPropagation(),f&&f(e)},C=!(!1===a||!p)||a,A=C||f?si:l||"div",T=(0,De.A)({},n,{component:A,disabled:u,size:v,color:s,iconColor:o.isValidElement(d)&&d.props.color||s,onDelete:!!f,clickable:C,variant:b}),I=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:a,onDelete:o,clickable:s,variant:l}=e;return Fn({root:["root",l,n&&"disabled","size".concat(Hn(r)),"color".concat(Hn(i)),s&&"clickable",s&&"clickableColor".concat(Hn(i)),o&&"deletable",o&&"deletableColor".concat(Hn(i)),"".concat(l).concat(Hn(i))],label:["label","label".concat(Hn(r))],avatar:["avatar","avatar".concat(Hn(r)),"avatarColor".concat(Hn(i))],icon:["icon","icon".concat(Hn(r)),"iconColor".concat(Hn(a))],deleteIcon:["deleteIcon","deleteIcon".concat(Hn(r)),"deleteIconColor".concat(Hn(i)),"deleteIcon".concat(Hn(l),"Color").concat(Hn(i))]},qp,t)})(T),E=A===si?(0,De.A)({component:l||"div",focusVisibleClassName:I.focusVisible},f&&{disableRipple:!0}):{};let N=null;f&&(N=c&&o.isValidElement(c)?o.cloneElement(c,{className:On(c.props.className,I.deleteIcon),onClick:S}):(0,It.jsx)(Hp,{className:On(I.deleteIcon),onClick:S}));let M=null;r&&o.isValidElement(r)&&(M=o.cloneElement(r,{className:On(I.avatar,r.props.className)}));let j=null;return d&&o.isValidElement(d)&&(j=o.cloneElement(d,{className:On(I.icon,d.props.className)})),(0,It.jsxs)(Xp,(0,De.A)({as:A,className:On(I.root,i),disabled:!(!C||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&Zp(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(f&&Zp(e)?f(e):"Escape"===e.key&&_.current&&_.current.blur()),g&&g(e)},ref:k,tabIndex:x&&u?-1:y,ownerState:T},E,w,{children:[M||j,(0,It.jsx)(Kp,{className:On(I.label),ownerState:T,children:h}),N]}))})),Qp=Jp,$p=["items","changeImportance","isLandscape","onChange","isValid"],ef=["getValue"];function tf(e){const{items:t,changeImportance:n="accept",onChange:r,isValid:i}=e,a=(0,Re.A)(e,$p);if(null==t||0===t.length)return null;const o=t.map((e=>{let{getValue:t}=e,a=(0,Re.A)(e,ef);const o=t({isValid:i});return{label:a.label,onClick:()=>{r(o,n,a)},disabled:!i(o)}}));return(0,It.jsx)(ru,(0,De.A)({dense:!0,sx:[{maxHeight:336,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:o.map((e=>(0,It.jsx)(Up,{children:(0,It.jsx)(Qp,(0,De.A)({},e))},e.label)))}))}const nf=e=>{var t,n;const{wrapperVariant:r,onAccept:i,onClear:a,onCancel:o,onSetToday:s,view:l,views:c,onViewChange:u,value:d,onChange:h,onSelectShortcut:p,isValid:f,isLandscape:m,disabled:g,readOnly:v,children:b,slots:y,slotProps:x}=e,w=(e=>{const{classes:t,isLandscape:n}=e;return Fn({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},_p,t)})(e),_=null!==(t=null===y||void 0===y?void 0:y.actionBar)&&void 0!==t?t:Ep,k=Li({elementType:_,externalSlotProps:null===x||void 0===x?void 0:x.actionBar,additionalProps:{onAccept:i,onClear:a,onCancel:o,onSetToday:s,actions:"desktop"===r?[]:["cancel","accept"],className:w.actionBar},ownerState:(0,De.A)({},e,{wrapperVariant:r})}),S=(0,It.jsx)(_,(0,De.A)({},k)),C=null===y||void 0===y?void 0:y.toolbar,A=Li({elementType:C,externalSlotProps:null===x||void 0===x?void 0:x.toolbar,additionalProps:{isLandscape:m,onChange:h,value:d,view:l,onViewChange:u,views:c,disabled:g,readOnly:v,className:w.toolbar},ownerState:(0,De.A)({},e,{wrapperVariant:r})}),T=function(e){return null!==e.view}(A)&&C?(0,It.jsx)(C,(0,De.A)({},A)):null,I=b,E=null===y||void 0===y?void 0:y.tabs,N=l&&E?(0,It.jsx)(E,(0,De.A)({view:l,onViewChange:u,className:w.tabs},null===x||void 0===x?void 0:x.tabs)):null,M=null!==(n=null===y||void 0===y?void 0:y.shortcuts)&&void 0!==n?n:tf,j=Li({elementType:M,externalSlotProps:null===x||void 0===x?void 0:x.shortcuts,additionalProps:{isValid:f,isLandscape:m,onChange:p,className:w.shortcuts},ownerState:{isValid:f,isLandscape:m,onChange:p,className:w.shortcuts,wrapperVariant:r}});return{toolbar:T,content:I,tabs:N,actionBar:S,shortcuts:l&&M?(0,It.jsx)(M,(0,De.A)({},j)):null}},rf=Vn("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",["& .".concat(kp.actionBar)]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{["& .".concat(kp.toolbar)]:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"},[".".concat(kp.shortcuts)]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{["& .".concat(kp.toolbar)]:{gridColumn:"2 / 4",gridRow:1},["& .".concat(kp.shortcuts)]:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"}}}]}}));rf.propTypes={as:rn().elementType,ownerState:rn().shape({isLandscape:rn().bool.isRequired}).isRequired,sx:rn().oneOfType([rn().arrayOf(rn().oneOfType([rn().func,rn().object,rn().bool])),rn().func,rn().object])};const af=Vn("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),of=function(e){const t=Tt({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:r,tabs:i,actionBar:a,shortcuts:s}=nf(t),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=t,p=t,f=(e=>{const{isLandscape:t,classes:n}=e;return Fn({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},_p,n)})(p);return(0,It.jsxs)(rf,{ref:d,sx:l,className:On(c,f.root),ownerState:p,children:[u?s:n,u?n:s,(0,It.jsx)(af,{className:f.contentWrapper,children:"desktop"===h?(0,It.jsxs)(o.Fragment,{children:[r,i]}):(0,It.jsxs)(o.Fragment,{children:[i,r]})}),a]})},sf=e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:i,validator:a}=e;const{onAccept:s,onChange:l,value:c,defaultValue:u,closeOnSelect:d="desktop"===i,timezone:h}=t,{current:p}=o.useRef(u),{current:f}=o.useRef(void 0!==c);const m=Mn(),g=Nn(),{isOpen:v,setIsOpen:b}=(e=>{let{open:t,onOpen:n,onClose:r}=e;const i=o.useRef("boolean"===typeof t).current,[a,s]=o.useState(!1);return o.useEffect((()=>{if(i){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}}),[i,t]),{isOpen:a,setIsOpen:o.useCallback((e=>{i||s(e),e&&n&&n(),!e&&r&&r()}),[i,n,r])}})(t),[y,x]=o.useState((()=>{let e;return e=void 0!==c?c:void 0!==p?p:n.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:c,hasBeenModifiedSinceMount:!1}})),{timezone:w,handleValueChange:_}=ao({timezone:h,value:c,defaultValue:p,onChange:l,valueManager:n});tp((0,De.A)({},t,{value:y.draft,timezone:w}),a,n.isSameError,n.defaultErrorState);const k=hr((e=>{const r={action:e,dateState:y,hasChanged:t=>!n.areValuesEqual(m,e.value,t),isControlled:f,closeOnSelect:d},i=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i}=e,a=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!a||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!a||n(r.lastPublishedValue)))})(r),o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:a}=e,o=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!o||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&a?!!o||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(r),l=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(r);if(x((t=>(0,De.A)({},t,{draft:e.value,lastPublishedValue:i?e.value:t.lastPublishedValue,lastCommittedValue:o?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0}))),i){const n={validationError:"setValueFromField"===e.name?e.context.validationError:a({adapter:g,value:e.value,props:(0,De.A)({},t,{value:e.value,timezone:w})})};"setValueFromShortcut"===e.name&&(n.shortcut=e.shortcut),_(e.value,n)}o&&s&&s(e.value),l&&b(!1)}));if(void 0!==c&&(void 0===y.lastControlledValue||!n.areValuesEqual(m,y.lastControlledValue,c))){const e=n.areValuesEqual(m,y.draft,c);x((t=>(0,De.A)({},t,{lastControlledValue:c},e?{}:{lastCommittedValue:c,lastPublishedValue:c,draft:c,hasBeenModifiedSinceMount:!0})))}const S=hr((()=>{k({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),C=hr((()=>{k({value:y.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),A=hr((()=>{k({value:y.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),T=hr((()=>{k({value:y.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),I=hr((()=>{k({value:n.getTodayValue(m,w,r),name:"setValueFromAction",pickerAction:"today"})})),E=hr((e=>{e.preventDefault(),b(!0)})),N=hr((e=>{null===e||void 0===e||e.preventDefault(),b(!1)})),M=hr((function(e){return k({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})})),j=hr(((e,t,n)=>k({name:"setValueFromShortcut",value:e,changeImportance:t,shortcut:n}))),D=hr(((e,t)=>k({name:"setValueFromField",value:e,context:t}))),R={onClear:S,onAccept:C,onDismiss:A,onCancel:T,onSetToday:I,onOpen:E,onClose:N},P={value:y.draft,onChange:D},O=o.useMemo((()=>n.cleanValue(m,y.draft)),[m,n,y.draft]);return{open:v,fieldProps:P,viewProps:{value:O,onChange:M,onClose:N,open:v},layoutProps:(0,De.A)({},R,{value:O,onChange:M,onSelectShortcut:j,isValid:e=>{const r=a({adapter:g,value:e,props:(0,De.A)({},t,{value:e,timezone:w})});return!n.hasError(r)}}),actions:R}},lf=["className","sx"],cf=e=>{let{props:t,propsFromPickerValue:n,additionalViewProps:r,autoFocusView:i,rendererInterceptor:a,fieldRef:s}=e;const{onChange:l,open:c,onClose:u}=n,{views:d,openTo:h,onViewChange:p,disableOpenPicker:f,viewRenderers:m,timezone:g}=t,v=(0,Re.A)(t,lf),{view:b,setView:y,defaultView:x,focusedView:w,setFocusedView:_,setValueAndGoToNextView:k}=so({view:void 0,views:d,openTo:h,onChange:l,onViewChange:p,autoFocus:i}),{hasUIView:S,viewModeLookup:C}=o.useMemo((()=>d.reduce(((e,t)=>{let n;return n=f?"field":null!=m[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[f,m,d]),A=o.useMemo((()=>d.reduce(((e,t)=>null!=m[t]&&(e=>xn.includes(e))(t)?e+1:e),0)),[m,d]),T=C[b],I=hr((()=>"UI"===T)),[E,N]=o.useState("UI"===T?b:null);E!==b&&"UI"===C[b]&&N(b),Jt((()=>{"field"===T&&c&&(u(),setTimeout((()=>{var e;null===s||void 0===s||null===(e=s.current)||void 0===e||e.focusField(b)})))}),[b]),Jt((()=>{if(!c)return;let e=b;"field"===T&&null!=E&&(e=E),e!==x&&"UI"===C[e]&&"UI"===C[x]&&(e=x),e!==b&&y(e),_(e,!0)}),[c]);return{hasUIView:S,shouldRestoreFocus:I,layoutProps:{views:d,view:E,onViewChange:y},renderCurrentView:()=>{if(null==E)return null;const e=m[E];if(null==e)return null;const t=(0,De.A)({},v,r,n,{views:d,timezone:g,onChange:k,view:E,onViewChange:y,focusedView:w,onFocusedViewChange:_,showViewSwitcher:A>1,timeViewsCount:A});return a?a(m,E,t):e(t)}}};function uf(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const df=(e,t)=>{const[n,r]=o.useState(uf);if(Jt((()=>{const e=()=>{r(uf())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),function(e,t){return Array.isArray(t)?t.every((t=>-1!==e.indexOf(t))):-1!==e.indexOf(t)}(e,["hours","minutes","seconds"]))return!1;return"landscape"===(t||n)},hf=(Ht(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:i,additionalViewProps:a,validator:o,autoFocusView:s,rendererInterceptor:l,fieldRef:c}=e;const u=sf({props:t,valueManager:n,valueType:r,wrapperVariant:i,validator:o}),d=cf({props:t,additionalViewProps:a,autoFocusView:s,fieldRef:c,propsFromPickerValue:u.viewProps,rendererInterceptor:l}),h=(e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:i}=e;const{orientation:a}=t,o=df(r.views,a);return{layoutProps:(0,De.A)({},r,n,{isLandscape:o,wrapperVariant:i,disabled:t.disabled,readOnly:t.readOnly})}})({props:t,wrapperVariant:i,propsFromPickerValue:u.layoutProps,propsFromPickerViews:d.layoutProps});return{open:u.open,actions:u.actions,fieldProps:u.fieldProps,renderCurrentView:d.renderCurrentView,hasUIView:d.hasUIView,shouldRestoreFocus:d.shouldRestoreFocus,layoutProps:h.layoutProps}});function pf(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ff(e){return e instanceof pf(e).Element||e instanceof Element}function mf(e){return e instanceof pf(e).HTMLElement||e instanceof HTMLElement}function gf(e){return"undefined"!==typeof ShadowRoot&&(e instanceof pf(e).ShadowRoot||e instanceof ShadowRoot)}var vf=Math.max,bf=Math.min,yf=Math.round;function xf(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function wf(){return!/^((?!chrome|android).)*safari/i.test(xf())}function _f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&mf(e)&&(i=e.offsetWidth>0&&yf(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&yf(r.height)/e.offsetHeight||1);var o=(ff(e)?pf(e):window).visualViewport,s=!wf()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,u=r.width/i,d=r.height/a;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function kf(e){var t=pf(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Sf(e){return e?(e.nodeName||"").toLowerCase():null}function Cf(e){return((ff(e)?e.ownerDocument:e.document)||window.document).documentElement}function Af(e){return _f(Cf(e)).left+kf(e).scrollLeft}function Tf(e){return pf(e).getComputedStyle(e)}function If(e){var t=Tf(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ef(e,t,n){void 0===n&&(n=!1);var r=mf(t),i=mf(t)&&function(e){var t=e.getBoundingClientRect(),n=yf(t.width)/e.offsetWidth||1,r=yf(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Cf(t),o=_f(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Sf(t)||If(a))&&(s=function(e){return e!==pf(e)&&mf(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:kf(e);var t}(t)),mf(t)?((l=_f(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=Af(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Nf(e){var t=_f(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Mf(e){return"html"===Sf(e)?e:e.assignedSlot||e.parentNode||(gf(e)?e.host:null)||Cf(e)}function jf(e){return["html","body","#document"].indexOf(Sf(e))>=0?e.ownerDocument.body:mf(e)&&If(e)?e:jf(Mf(e))}function Df(e,t){var n;void 0===t&&(t=[]);var r=jf(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=pf(r),o=i?[a].concat(a.visualViewport||[],If(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Df(Mf(o)))}function Rf(e){return["table","td","th"].indexOf(Sf(e))>=0}function Pf(e){return mf(e)&&"fixed"!==Tf(e).position?e.offsetParent:null}function Of(e){for(var t=pf(e),n=Pf(e);n&&Rf(n)&&"static"===Tf(n).position;)n=Pf(n);return n&&("html"===Sf(n)||"body"===Sf(n)&&"static"===Tf(n).position)?t:n||function(e){var t=/firefox/i.test(xf());if(/Trident/i.test(xf())&&mf(e)&&"fixed"===Tf(e).position)return null;var n=Mf(e);for(gf(n)&&(n=n.host);mf(n)&&["html","body"].indexOf(Sf(n))<0;){var r=Tf(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Lf="top",Ff="bottom",zf="right",Bf="left",Wf="auto",Vf=[Lf,Ff,zf,Bf],Uf="start",Hf="end",qf="clippingParents",Gf="viewport",Yf="popper",Xf="reference",Kf=Vf.reduce((function(e,t){return e.concat([t+"-"+Uf,t+"-"+Hf])}),[]),Zf=[].concat(Vf,[Wf]).reduce((function(e,t){return e.concat([t,t+"-"+Uf,t+"-"+Hf])}),[]),Jf=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Qf(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function $f(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var em={placement:"bottom",modifiers:[],strategy:"absolute"};function tm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function nm(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?em:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},em,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:ff(e)?Df(e):e.contextElement?Df(e.contextElement):[],popper:Df(t)};var u=function(e){var t=Qf(e);return Jf.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:l,options:r}),c=function(){};o.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(tm(t,n)){i.rects={reference:Ef(t,Of(n),"fixed"===i.options.strategy),popper:Nf(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,u=void 0===c?{}:c,d=a.name;"function"===typeof o&&(i=o({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:$f((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!tm(e,t))return l;function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var rm={passive:!0};const im={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=pf(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,rm)})),s&&l.addEventListener("resize",n.update,rm),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,rm)})),s&&l.removeEventListener("resize",n.update,rm)}},data:{}};function am(e){return e.split("-")[0]}function om(e){return e.split("-")[1]}function sm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function lm(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?am(i):null,o=i?om(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case Lf:t={x:s,y:n.y-r.height};break;case Ff:t={x:s,y:n.y+n.height};break;case zf:t={x:n.x+n.width,y:l};break;case Bf:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?sm(a):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Uf:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Hf:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var cm={top:"auto",right:"auto",bottom:"auto",left:"auto"};function um(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,f=o.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=Bf,x=Lf,w=window;if(c){var _=Of(n),k="clientHeight",S="clientWidth";if(_===pf(n)&&"static"!==Tf(_=Cf(n)).position&&"absolute"===s&&(k="scrollHeight",S="scrollWidth"),i===Lf||(i===Bf||i===zf)&&a===Hf)x=Ff,m-=(d&&_===w&&w.visualViewport?w.visualViewport.height:_[k])-r.height,m*=l?1:-1;if(i===Bf||(i===Lf||i===Ff)&&a===Hf)y=zf,p-=(d&&_===w&&w.visualViewport?w.visualViewport.width:_[S])-r.width,p*=l?1:-1}var C,A=Object.assign({position:s},c&&cm),T=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:yf(n*i)/i||0,y:yf(r*i)/i||0}}({x:p,y:m},pf(n)):{x:p,y:m};return p=T.x,m=T.y,l?Object.assign({},A,((C={})[x]=b?"0":"",C[y]=v?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},A,((t={})[x]=b?m+"px":"",t[y]=v?p+"px":"",t.transform="",t))}const dm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:am(t.placement),variation:om(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,um(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,um(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const hm={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];mf(i)&&Sf(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});mf(r)&&Sf(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const pm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Zf.reduce((function(e,n){return e[n]=function(e,t,n){var r=am(e),i=[Bf,Lf].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Bf,zf].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var fm={left:"right",right:"left",bottom:"top",top:"bottom"};function mm(e){return e.replace(/left|right|bottom|top/g,(function(e){return fm[e]}))}var gm={start:"end",end:"start"};function vm(e){return e.replace(/start|end/g,(function(e){return gm[e]}))}function bm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gf(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ym(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xm(e,t,n){return t===Gf?ym(function(e,t){var n=pf(e),r=Cf(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var c=wf();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+Af(e),y:l}}(e,n)):ff(t)?function(e,t){var n=_f(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ym(function(e){var t,n=Cf(e),r=kf(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=vf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=vf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Af(e),l=-r.scrollTop;return"rtl"===Tf(i||n).direction&&(s+=vf(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(Cf(e)))}function wm(e,t,n,r){var i="clippingParents"===t?function(e){var t=Df(Mf(e)),n=["absolute","fixed"].indexOf(Tf(e).position)>=0&&mf(e)?Of(e):e;return ff(n)?t.filter((function(e){return ff(e)&&bm(e,n)&&"body"!==Sf(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=xm(e,n,r);return t.top=vf(i.top,t.top),t.right=bf(i.right,t.right),t.bottom=bf(i.bottom,t.bottom),t.left=vf(i.left,t.left),t}),xm(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function _m(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function km(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Sm(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,l=void 0===s?qf:s,c=n.rootBoundary,u=void 0===c?Gf:c,d=n.elementContext,h=void 0===d?Yf:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=_m("number"!==typeof g?g:km(g,Vf)),b=h===Yf?Xf:Yf,y=e.rects.popper,x=e.elements[f?b:h],w=wm(ff(x)?x:x.contextElement||Cf(e.elements.popper),l,u,o),_=_f(e.elements.reference),k=lm({reference:_,element:y,strategy:"absolute",placement:i}),S=ym(Object.assign({},y,k)),C=h===Yf?S:_,A={top:w.top-C.top+v.top,bottom:C.bottom-w.bottom+v.bottom,left:w.left-C.left+v.left,right:C.right-w.right+v.right},T=e.modifiersData.offset;if(h===Yf&&T){var I=T[i];Object.keys(A).forEach((function(e){var t=[zf,Ff].indexOf(e)>=0?1:-1,n=[Lf,Ff].indexOf(e)>=0?"y":"x";A[e]+=I[n]*t}))}return A}const Cm={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=am(g),b=l||(v===g||!f?[mm(g)]:function(e){if(am(e)===Wf)return[];var t=mm(e);return[vm(e),t,vm(t)]}(g)),y=[g].concat(b).reduce((function(e,n){return e.concat(am(n)===Wf?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Zf:l,u=om(r),d=u?s?Kf:Kf.filter((function(e){return om(e)===u})):Vf,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Sm(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[am(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,_=new Map,k=!0,S=y[0],C=0;C<y.length;C++){var A=y[C],T=am(A),I=om(A)===Uf,E=[Lf,Ff].indexOf(T)>=0,N=E?"width":"height",M=Sm(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),j=E?I?zf:Bf:I?Ff:Lf;x[N]>w[N]&&(j=mm(j));var D=mm(j),R=[];if(a&&R.push(M[T]<=0),s&&R.push(M[j]<=0,M[D]<=0),R.every((function(e){return e}))){S=A,k=!1;break}_.set(A,R)}if(k)for(var P=function(e){var t=y.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},O=f?3:1;O>0;O--){if("break"===P(O))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Am(e,t,n){return vf(e,bf(t,n))}const Tm={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Sm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=am(t.placement),b=om(t.placement),y=!b,x=sm(v),w="x"===x?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,S=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(_){if(a){var E,N="y"===x?Lf:Bf,M="y"===x?Ff:zf,j="y"===x?"height":"width",D=_[x],R=D+g[N],P=D-g[M],O=p?-S[j]/2:0,L=b===Uf?k[j]:S[j],F=b===Uf?-S[j]:-k[j],z=t.elements.arrow,B=p&&z?Nf(z):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=W[N],U=W[M],H=Am(0,k[j],B[j]),q=y?k[j]/2-O-H-V-A.mainAxis:L-H-V-A.mainAxis,G=y?-k[j]/2+O+H+U+A.mainAxis:F+H+U+A.mainAxis,Y=t.elements.arrow&&Of(t.elements.arrow),X=Y?"y"===x?Y.clientTop||0:Y.clientLeft||0:0,K=null!=(E=null==T?void 0:T[x])?E:0,Z=D+G-K,J=Am(p?bf(R,D+q-K-X):R,D,p?vf(P,Z):P);_[x]=J,I[x]=J-D}if(s){var Q,$="x"===x?Lf:Bf,ee="x"===x?Ff:zf,te=_[w],ne="y"===w?"height":"width",re=te+g[$],ie=te-g[ee],ae=-1!==[Lf,Bf].indexOf(v),oe=null!=(Q=null==T?void 0:T[w])?Q:0,se=ae?re:te-k[ne]-S[ne]-oe+A.altAxis,le=ae?te+k[ne]+S[ne]-oe-A.altAxis:ie,ce=p&&ae?function(e,t,n){var r=Am(e,t,n);return r>n?n:r}(se,te,le):Am(p?se:re,te,p?le:ie);_[w]=ce,I[w]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const Im={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=am(n.placement),l=sm(s),c=[Bf,zf].indexOf(s)>=0?"height":"width";if(a&&o){var u=function(e,t){return _m("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:km(e,Vf))}(i.padding,n),d=Nf(a),h="y"===l?Lf:Bf,p="y"===l?Ff:zf,f=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],m=o[l]-n.rects.reference[l],g=Of(a),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,y=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+b,_=Am(y,w,x),k=l;n.modifiersData[r]=((t={})[k]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&bm(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Em(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Nm(e){return[Lf,zf,Ff,Bf].some((function(t){return e[t]>=0}))}var Mm=nm({defaultModifiers:[im,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=lm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},dm,hm,pm,Cm,Tm,Im,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Sm(t,{elementContext:"reference"}),s=Sm(t,{altBoundary:!0}),l=Em(o,r),c=Em(s,i,a),u=Nm(l),d=Nm(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const jm="base";function Dm(e,t){const n=Xn[t];return n?(r=n,"".concat(jm,"--").concat(r)):function(e,t){return"".concat(jm,"-").concat(e,"-").concat(t)}(e,t);var r}const Rm="Popper";function Pm(e){return Dm(Rm,e)}!function(e,t){const n={};t.forEach((t=>{n[t]=Dm(e,t)}))}(Rm,["root"]);const Om={disableDefaultClasses:!1},Lm=o.createContext(Om);const Fm=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],zm=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Bm(e){return"function"===typeof e?e():e}function Wm(e){return void 0!==e.nodeType}const Vm=()=>Fn({root:["root"]},function(e){const{disableDefaultClasses:t}=o.useContext(Lm);return n=>t?"":e(n)}(Pm)),Um={},Hm=o.forwardRef((function(e,t){var n;const{anchorEl:r,children:i,direction:a,disablePortal:s,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=(0,Re.A)(e,Fm),v=o.useRef(null),b=ur(v,t),y=o.useRef(null),x=ur(y,h),w=o.useRef(x);Jt((()=>{w.current=x}),[x]),o.useImperativeHandle(h,(()=>y.current),[]);const _=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,a),[k,S]=o.useState(_),[C,A]=o.useState(Bm(r));o.useEffect((()=>{y.current&&y.current.forceUpdate()})),o.useEffect((()=>{r&&A(Bm(r))}),[r]),Jt((()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{S(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=Mm(C,v.current,(0,De.A)({placement:_},d,{modifiers:e}));return w.current(t),()=>{t.destroy(),w.current(null)}}),[C,s,l,c,d,_]);const T={placement:k};null!==m&&(T.TransitionProps=m);const I=Vm(),E=null!=(n=f.root)?n:"div",N=Li({elementType:E,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:I.root});return(0,It.jsx)(E,(0,De.A)({},N,{children:"function"===typeof i?i(T):i}))})),qm=o.forwardRef((function(e,t){const{anchorEl:n,children:r,container:i,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=Um,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:v={}}=e,b=(0,Re.A)(e,zm),[y,x]=o.useState(!0);if(!l&&!u&&(!m||y))return null;let w;if(i)w=i;else if(n){const e=Bm(n);w=e&&Wm(e)?Al(e).body:Al(null).body}const _=u||!l||m&&!y?void 0:"none",k=m?{in:u,onEnter:()=>{x(!1)},onExited:()=>{x(!0)}}:void 0;return(0,It.jsx)(Du,{disablePortal:s,container:w,children:(0,It.jsx)(Hm,(0,De.A)({anchorEl:n,direction:a,disablePortal:s,modifiers:c,ref:t,open:m?!y:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:v},b,{style:(0,De.A)({position:"fixed",top:0,left:0,display:_},f),TransitionProps:k,children:r}))})}));var Gm=__webpack_require__(2374);const Ym=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Xm=Vn(qm,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Km=o.forwardRef((function(e,t){var n;const r=(0,Gm.A)(),i=Tt({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:s,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:v,slots:b,slotProps:y}=i,x=(0,Re.A)(i,Ym),w=null!=(n=null==b?void 0:b.root)?n:null==s?void 0:s.Root,_=(0,De.A)({anchorEl:a,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:v},x);return(0,It.jsx)(Xm,(0,De.A)({as:o,direction:null==r?void 0:r.direction,slots:{root:w},slotProps:null!=y?y:l},_,{ref:t}))}));function Zm(e){return Kn("MuiPickersPopper",e)}Zn("MuiPickersPopper",["root","paper"]);const Jm=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Qm=Vn(Km,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),$m=Vn(Ku,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:e=>{let{placement:t}=e;return["top","top-start","top-end"].includes(t)},style:{transformOrigin:"bottom center"}}]});const eg=o.forwardRef(((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:i,children:a,paperSlotProps:o,paperClasses:s,onPaperClick:l,onPaperTouchStart:c}=e,u=(0,Re.A)(e,Jm),d=(0,De.A)({},i,{placement:r}),h=Li({elementType:n,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:s,ownerState:d});return(0,It.jsx)(n,(0,De.A)({},u,h,{onClick:e=>{var t;l(e),null===(t=h.onClick)||void 0===t||t.call(h,e)},onTouchStart:e=>{var t;c(e),null===(t=h.onTouchStart)||void 0===t||t.call(h,e)},ownerState:d,children:a}))}));function tg(e){var t,n,r,i;const a=Tt({props:e,name:"MuiPickersPopper"}),{anchorEl:s,children:l,containerRef:c=null,shouldRestoreFocus:u,onBlur:d,onDismiss:h,open:p,role:f,placement:m,slots:g,slotProps:v,reduceAnimations:b}=a;o.useEffect((()=>{function e(e){p&&"Escape"===e.key&&h()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[h,p]);const y=o.useRef(null);o.useEffect((()=>{"tooltip"===f||u&&!u()||(p?y.current=io(document):y.current&&y.current instanceof HTMLElement&&setTimeout((()=>{y.current instanceof HTMLElement&&y.current.focus()})))}),[p,f,u]);const[x,w,_]=function(e,t){const n=o.useRef(!1),r=o.useRef(!1),i=o.useRef(null),a=o.useRef(!1);o.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),a.current=!1};function t(){a.current=!0}}),[e]);const s=hr((e=>{if(!a.current)return;const o=r.current;r.current=!1;const s=Al(i.current);if(!i.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,s))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(i.current)>-1:!s.documentElement.contains(e.target)||i.current.contains(e.target),l||o||t(e)})),l=()=>{r.current=!0};return o.useEffect((()=>{if(e){const e=Al(i.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",s),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",t)}}}),[e,s]),o.useEffect((()=>{if(e){const e=Al(i.current);return e.addEventListener("click",s),()=>{e.removeEventListener("click",s),r.current=!1}}}),[e,s]),[i,l,l]}(p,null!==d&&void 0!==d?d:h),k=ur(o.useRef(null),c),S=ur(k,x),C=a,A=(e=>{const{classes:t}=e;return Fn({root:["root"],paper:["paper"]},Zm,t)})(C),T=no(),I=null!==b&&void 0!==b?b:T,E=(null!==(t=null===g||void 0===g?void 0:g.desktopTransition)&&void 0!==t?t:I)?os:xu,N=null!==(n=null===g||void 0===g?void 0:g.desktopTrapFocus)&&void 0!==n?n:ju,M=null!==(r=null===g||void 0===g?void 0:g.desktopPaper)&&void 0!==r?r:$m,j=null!==(i=null===g||void 0===g?void 0:g.popper)&&void 0!==i?i:Qm,D=Li({elementType:j,externalSlotProps:null===v||void 0===v?void 0:v.popper,additionalProps:{transition:!0,role:f,open:p,anchorEl:s,placement:m,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),h())}},className:A.root,ownerState:a});return(0,It.jsx)(j,(0,De.A)({},D,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,It.jsx)(N,(0,De.A)({open:p,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===f,isEnabled:()=>!0},null===v||void 0===v?void 0:v.desktopTrapFocus,{children:(0,It.jsx)(E,(0,De.A)({},t,null===v||void 0===v?void 0:v.desktopTransition,{children:(0,It.jsx)(eg,{PaperComponent:M,ownerState:C,popperPlacement:n,ref:S,onPaperClick:w,onPaperTouchStart:_,paperClasses:A.paper,paperSlotProps:null===v||void 0===v?void 0:v.desktopPaper,children:l})}))}))}}))}const ng=["clearable","onClear"],rg=e=>"multi-input"===e.fieldType?(e=>{let{wrapperVariant:t,open:n,actions:r,readOnly:i,labelId:a,disableOpenPicker:s,onBlur:l,rangePosition:c,onRangePositionChange:u,localeText:d,pickerSlotProps:h,pickerSlots:p,fieldProps:f,anchorRef:m,currentView:g,initialView:v,onViewChange:b,startFieldRef:y,endFieldRef:x}=e;const w=Dn(),_=ur(f.unstableStartFieldRef,y),k=ur(f.unstableEndFieldRef,x),S=o.useRef(c);o.useEffect((()=>{var e;if(!n)return;const t="start"===c?y:x;null===(e=t.current)||void 0===e||e.focusField(),t.current&&g?(t.current.setSelectedSections(S.current===c?g:0),S.current=c):S.current=c}),[c,n,g,y,x]);const C=e=>{e.stopPropagation(),u("start"),i||s||r.onOpen(e)},A=e=>{e.stopPropagation(),u("end"),i||s||r.onOpen(e)},T=()=>{n&&(u("start"),"start"!==S.current&&v&&(null===b||void 0===b||b(v)))},I=()=>{n&&(u("end"),"end"!==S.current&&v&&(null===b||void 0===b||b(v)))},E=(0,De.A)({textField:null===p||void 0===p?void 0:p.textField,root:null===p||void 0===p?void 0:p.fieldRoot,separator:null===p||void 0===p?void 0:p.fieldSeparator},f.slots),N=(0,De.A)({},f.slotProps,{textField:e=>{const r=un(null===h||void 0===h?void 0:h.textField,e);let o,s;var l,u;return"start"===e.position?(o=(0,De.A)({label:null!==(l=null===d||void 0===d?void 0:d.start)&&void 0!==l?l:w.start,onKeyDown:ro(C),onFocus:T,focused:n?"start"===c:void 0},!i&&!f.disabled&&{onClick:C},"mobile"===t&&{readOnly:!0}),m&&(s=(0,De.A)({},null===r||void 0===r?void 0:r.InputProps,{ref:m}))):(o=(0,De.A)({label:null!==(u=null===d||void 0===d?void 0:d.end)&&void 0!==u?u:w.end,onKeyDown:ro(A),onFocus:I,focused:n?"end"===c:void 0},!i&&!f.disabled&&{onClick:A},"mobile"===t&&{readOnly:!0}),s=null===r||void 0===r?void 0:r.InputProps),(0,De.A)({},null!=a&&{id:"".concat(a,"-").concat(e.position)},o,un(null===h||void 0===h?void 0:h.textField,e),{InputProps:s})},root:e=>{const t={onBlur:l};return(0,De.A)({},t,un(null===h||void 0===h?void 0:h.fieldRoot,e))},separator:null===h||void 0===h?void 0:h.fieldSeparator}),M=f,j=(0,Re.A)(M,ng);return(0,De.A)({},j,{unstableStartFieldRef:_,unstableEndFieldRef:k,slots:E,slotProps:N})})(e):(e=>{let{wrapperVariant:t,open:n,actions:r,readOnly:i,labelId:a,disableOpenPicker:s,label:l,onBlur:c,rangePosition:u,onRangePositionChange:d,startFieldRef:h,endFieldRef:p,pickerSlots:f,pickerSlotProps:m,fieldProps:g,anchorRef:v,currentView:b}=e;const y=ur(g.unstableFieldRef,h,p);o.useEffect((()=>{if(n&&h.current&&!h.current.isFieldFocused()&&b){var e;const t=h.current.getSections().map((e=>e.type)),n="start"===u?t.indexOf(b):t.lastIndexOf(b);null===(e=h.current)||void 0===e||e.focusField(n)}}),[u,n,b,h]);const x=()=>{var e,t;if(null===(e=h.current)||void 0===e||!e.isFieldFocused())return;const n=h.current.getSections(),r=null===(t=h.current)||void 0===t?void 0:t.getActiveSectionIndex(),i=null==r||r<n.length/2?"start":"end";null!=i&&i!==u&&d(i)},w=hr((e=>{var t;setTimeout(x),null===(t=g.onSelectedSectionsChange)||void 0===t||t.call(g,e)})),_=e=>{e.stopPropagation(),i||s||r.onOpen(e)},k=(0,De.A)({},g.slots,{textField:null===f||void 0===f?void 0:f.textField,clearButton:null===f||void 0===f?void 0:f.clearButton,clearIcon:null===f||void 0===f?void 0:f.clearIcon}),S=(0,De.A)({},g.slotProps,{textField:null===m||void 0===m?void 0:m.textField,clearButton:null===f||void 0===f?void 0:f.clearButton,clearIcon:null===f||void 0===f?void 0:f.clearIcon});return(0,De.A)({},g,{slots:k,slotProps:S,label:l,unstableFieldRef:y,onKeyDown:ro(_,g.onKeyDown),onSelectedSectionsChange:w,onBlur:c,InputProps:(0,De.A)({ref:v},null===g||void 0===g?void 0:g.InputProps),focused:!!n||void 0},null!=a&&{id:a},"mobile"===t&&{readOnly:!0},!i&&!g.disabled&&{onClick:_})})(e),ig=["props"],ag=e=>{var t,n,r,i;let{props:a}=e,s=(0,Re.A)(e,ig);$i("x-date-pickers-pro","MTcxNDA3MTYwMDAwMA==");const{slots:l,slotProps:c,className:u,sx:d,format:h,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:m,onSelectedSectionsChange:g,timezone:v,label:b,inputRef:y,name:x,readOnly:w,disabled:_,autoFocus:k,disableOpenPicker:S,localeText:C,reduceAnimations:A}=a,T=o.useRef(null),I=o.useRef(null),E=o.useRef(null),N=o.useRef(null),M=o.useRef(null),j=o.useRef(null!==(t=a.openTo)&&void 0!==t?t:null),D=null!==(n=l.field.fieldType)&&void 0!==n?n:"multi-input",{rangePosition:R,onRangePositionChange:P}=es(a,"single-input"===D?N:void 0),{open:O,actions:L,layoutProps:F,renderCurrentView:z,shouldRestoreFocus:B,fieldProps:W}=hf((0,De.A)({},s,{props:a,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:"start"===R?N:M,additionalViewProps:{rangePosition:R,onRangePositionChange:P}}));o.useEffect((()=>{F.view&&(j.current=F.view)}),[]);const V=()=>{setTimeout((()=>{var e,t;null!==(e=T.current)&&void 0!==e&&e.contains(io(document))||null!==(t=E.current)&&void 0!==t&&t.contains(io(document))||L.onDismiss()}),0)},U=l.field,H=Li({elementType:U,externalSlotProps:null===c||void 0===c?void 0:c.field,additionalProps:(0,De.A)({},W,{readOnly:w,disabled:_,className:u,sx:d,format:h,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:m,onSelectedSectionsChange:g,timezone:v,autoFocus:k&&!a.open,ref:T},y?{inputRef:y,name:x}:{}),ownerState:a}),q=rg({wrapperVariant:"desktop",fieldType:D,open:O,actions:L,readOnly:w,disableOpenPicker:S,label:b,localeText:C,onBlur:V,rangePosition:R,onRangePositionChange:P,pickerSlotProps:c,pickerSlots:l,fieldProps:H,anchorRef:I,startFieldRef:N,endFieldRef:M,currentView:F.view!==a.openTo?F.view:void 0,initialView:null!==(r=j.current)&&void 0!==r?r:void 0,onViewChange:F.onViewChange}),G=(0,De.A)({},c,{tabs:(0,De.A)({},null===c||void 0===c?void 0:c.tabs,{rangePosition:R,onRangePositionChange:P}),toolbar:(0,De.A)({},null===c||void 0===c?void 0:c.toolbar,{rangePosition:R,onRangePositionChange:P})}),Y=null!==(i=null===l||void 0===l?void 0:l.layout)&&void 0!==i?i:of;return{renderPicker:()=>(0,It.jsxs)(Mt,{localeText:C,children:[(0,It.jsx)(U,(0,De.A)({},q)),(0,It.jsx)(tg,(0,De.A)({role:"tooltip",placement:"bottom-start",containerRef:E,anchorEl:I.current,onBlur:V},L,{open:O,slots:l,slotProps:c,shouldRestoreFocus:B,reduceAnimations:A,children:(0,It.jsx)(Y,(0,De.A)({},F,null===c||void 0===c?void 0:c.layout,{slots:l,slotProps:G,children:z()}))}))]})}},og=o.forwardRef((function(e,t){var n,r;const i=ji(e,"MuiDesktopDateRangePicker"),a=(0,De.A)({day:el},i.viewRenderers),o=(0,De.A)({},i,{viewRenderers:a,calendars:null!==(n=i.calendars)&&void 0!==n?n:2,views:["day"],openTo:"day",slots:(0,De.A)({field:wp},i.slots),slotProps:(0,De.A)({},i.slotProps,{field:e=>{var n;return(0,De.A)({},un(null===(n=i.slotProps)||void 0===n?void 0:n.field,e),cn(i),{ref:t})},toolbar:(0,De.A)({hidden:!0},null===(r=i.slotProps)||void 0===r?void 0:r.toolbar)})}),{renderPicker:s}=ag({props:o,valueManager:An,valueType:"date",validator:fp});return s()}));function sg(e){return Kn("MuiDialogContent",e)}og.propTypes={autoFocus:rn().bool,calendars:rn().oneOf([1,2,3]),className:rn().string,closeOnSelect:rn().bool,currentMonthCalendarPosition:rn().oneOf([1,2,3]),dayOfWeekFormatter:rn().func,defaultRangePosition:rn().oneOf(["end","start"]),defaultValue:rn().arrayOf(rn().object),disableAutoMonthSwitching:rn().bool,disabled:rn().bool,disableDragEditing:rn().bool,disableFuture:rn().bool,disableHighlightToday:rn().bool,disableOpenPicker:rn().bool,disablePast:rn().bool,displayWeekNumber:rn().bool,enableAccessibleFieldDOMStructure:rn().any,fixedWeekNumber:rn().number,format:rn().string,formatDensity:rn().oneOf(["dense","spacious"]),inputRef:dn,label:rn().node,loading:rn().bool,localeText:rn().object,maxDate:rn().object,minDate:rn().object,name:rn().string,onAccept:rn().func,onChange:rn().func,onClose:rn().func,onError:rn().func,onMonthChange:rn().func,onOpen:rn().func,onRangePositionChange:rn().func,onSelectedSectionsChange:rn().func,open:rn().bool,rangePosition:rn().oneOf(["end","start"]),readOnly:rn().bool,reduceAnimations:rn().bool,referenceDate:rn().object,renderLoading:rn().func,selectedSections:rn().oneOfType([rn().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),rn().number]),shouldDisableDate:rn().func,showDaysOutsideCurrentMonth:rn().bool,slotProps:rn().object,slots:rn().object,sx:rn().oneOfType([rn().arrayOf(rn().oneOfType([rn().func,rn().object,rn().bool])),rn().func,rn().object]),timezone:rn().string,value:rn().arrayOf(rn().object),viewRenderers:rn().shape({day:rn().func})};Zn("MuiDialogContent",["root","dividers"]);function lg(e){return Kn("MuiDialogTitle",e)}const cg=Zn("MuiDialogTitle",["root"]),ug=["className","dividers"],dg=Vn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(cg.root," + &")]:{paddingTop:0}})})),hg=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,a=(0,Re.A)(n,ug),o=(0,De.A)({},n,{dividers:i}),s=(e=>{const{classes:t,dividers:n}=e;return Fn({root:["root",n&&"dividers"]},sg,t)})(o);return(0,It.jsx)(dg,(0,De.A)({className:On(s.root,r),ownerState:o,ref:t},a))}));function pg(e){return Kn("MuiDialog",e)}const fg=Zn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const mg=o.createContext({}),gg=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],vg=Vn(Lu,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),bg=Vn(Uu,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),yg=Vn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(Hn(n.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,De.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),xg=Vn(Ku,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(Hn(n.scroll))],t["paperWidth".concat(Hn(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(fg.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(fg.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(fg.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),wg=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDialog"}),r=na(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClick:v,onClose:b,open:y,PaperComponent:x=Ku,PaperProps:w={},scroll:_="paper",TransitionComponent:k=os,transitionDuration:S=i,TransitionProps:C}=n,A=(0,Re.A)(n,gg),T=(0,De.A)({},n,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:m,scroll:_}),I=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:a}=e;return Fn({root:["root"],container:["container","scroll".concat(Hn(n))],paper:["paper","paperScroll".concat(Hn(n)),"paperWidth".concat(Hn(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]},pg,t)})(T),E=o.useRef(),N=Cl(s),M=o.useMemo((()=>({titleId:N})),[N]);return(0,It.jsx)(bg,(0,De.A)({className:On(I.root,d),closeAfterTransition:!0,components:{Backdrop:vg},componentsProps:{backdrop:(0,De.A)({transitionDuration:S,as:l},c)},disableEscapeKeyDown:h,onClose:b,open:y,ref:t,onClick:e=>{v&&v(e),E.current&&(E.current=null,g&&g(e),b&&b(e,"backdropClick"))},ownerState:T},A,{children:(0,It.jsx)(k,(0,De.A)({appear:!0,in:y,timeout:S,role:"presentation"},C,{children:(0,It.jsx)(yg,{className:On(I.container),onMouseDown:e=>{E.current=e.target===e.currentTarget},ownerState:T,children:(0,It.jsx)(xg,(0,De.A)({as:x,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":N},w,{className:On(I.paper,w.className),ownerState:T,children:(0,It.jsx)(mg.Provider,{value:M,children:u})}))})}))}))})),_g=Vn(wg)({["& .".concat(fg.container)]:{outline:0},["& .".concat(fg.paper)]:{outline:0,minWidth:320}}),kg=Vn(hg)({"&:first-of-type":{padding:0}});function Sg(e){var t,n;const{children:r,onDismiss:i,open:a,slots:o,slotProps:s}=e,l=null!==(t=null===o||void 0===o?void 0:o.dialog)&&void 0!==t?t:_g,c=null!==(n=null===o||void 0===o?void 0:o.mobileTransition)&&void 0!==n?n:os;return(0,It.jsx)(l,(0,De.A)({open:a,onClose:i},null===s||void 0===s?void 0:s.dialog,{TransitionComponent:c,TransitionProps:null===s||void 0===s?void 0:s.mobileTransition,PaperComponent:null===o||void 0===o?void 0:o.mobilePaper,PaperProps:null===s||void 0===s?void 0:s.mobilePaper,children:(0,It.jsx)(kg,{children:r})}))}const Cg=["props"],Ag=o.forwardRef((function(e,t){var n;const r=ji(e,"MuiMobileDateRangePicker"),i=(0,De.A)({day:el},r.viewRenderers),a=(0,De.A)({},r,{viewRenderers:i,calendars:1,views:["day"],openTo:"day",slots:(0,De.A)({field:wp},r.slots),slotProps:(0,De.A)({},r.slotProps,{field:e=>{var n;return(0,De.A)({},un(null===(n=r.slotProps)||void 0===n?void 0:n.field,e),cn(r),{ref:t})},toolbar:(0,De.A)({hidden:!1},null===(n=r.slotProps)||void 0===n?void 0:n.toolbar)})}),{renderPicker:s}=(e=>{var t,n,r,i;let{props:a}=e,s=(0,Re.A)(e,Cg);$i("x-date-pickers-pro","MTcxNDA3MTYwMDAwMA==");const{slots:l,slotProps:c,className:u,sx:d,format:h,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:m,onSelectedSectionsChange:g,timezone:v,label:b,inputRef:y,name:x,readOnly:w,disabled:_,disableOpenPicker:k,localeText:S}=a,C=o.useRef(null),A=o.useRef(null),T=null!==(t=l.field.fieldType)&&void 0!==t?t:"multi-input",{rangePosition:I,onRangePositionChange:E}=es(a,"single-input"===T?C:void 0),N=Cl(),M=Dn(),{open:j,actions:D,layoutProps:R,renderCurrentView:P,fieldProps:O}=hf((0,De.A)({},s,{props:a,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:"start"===I?C:A,additionalViewProps:{rangePosition:I,onRangePositionChange:E}})),L=l.field,F=Li({elementType:L,externalSlotProps:null===c||void 0===c?void 0:c.field,additionalProps:(0,De.A)({},O,{readOnly:null===w||void 0===w||w,disabled:_,className:u,sx:d,format:h,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:m,onSelectedSectionsChange:g,timezone:v},y?{inputRef:y,name:x}:{}),ownerState:a}),z=null!==(n=null===c||void 0===c||null===(r=c.toolbar)||void 0===r?void 0:r.hidden)&&void 0!==n&&n,B=rg({wrapperVariant:"mobile",fieldType:T,open:j,actions:D,readOnly:w,labelId:N,disableOpenPicker:k,label:b,localeText:S,rangePosition:I,onRangePositionChange:E,pickerSlots:l,pickerSlotProps:c,fieldProps:F,startFieldRef:C,endFieldRef:A}),W=(0,De.A)({},c,{tabs:(0,De.A)({},null===c||void 0===c?void 0:c.tabs,{rangePosition:I,onRangePositionChange:E}),toolbar:(0,De.A)({},null===c||void 0===c?void 0:c.toolbar,{titleId:N,rangePosition:I,onRangePositionChange:E})}),V=null!==(i=null===l||void 0===l?void 0:l.layout)&&void 0!==i?i:of,U=(0,De.A)({},M,S);let H="date-time"===s.valueType?"".concat(N,"-start-toolbar ").concat(N,"-end-toolbar"):N;if(z){const e=[];"multi-input"===T?(U.start&&e.push("".concat(N,"-start-label")),U.end&&e.push("".concat(N,"-end-label"))):null!=b&&e.push("".concat(N,"-label")),H=e.length>0?e.join(" "):void 0}const q=(0,De.A)({},c,{mobilePaper:(0,De.A)({"aria-labelledby":H},null===c||void 0===c?void 0:c.mobilePaper)});return{renderPicker:()=>(0,It.jsxs)(Mt,{localeText:S,children:[(0,It.jsx)(L,(0,De.A)({},B)),(0,It.jsx)(Sg,(0,De.A)({},D,{open:j,slots:l,slotProps:q,children:(0,It.jsx)(V,(0,De.A)({},R,null===q||void 0===q?void 0:q.layout,{slots:l,slotProps:W,children:P()}))}))]})}})({props:a,valueManager:An,valueType:"date",validator:fp});return s()}));Ag.propTypes={autoFocus:rn().bool,className:rn().string,closeOnSelect:rn().bool,currentMonthCalendarPosition:rn().oneOf([1,2,3]),dayOfWeekFormatter:rn().func,defaultRangePosition:rn().oneOf(["end","start"]),defaultValue:rn().arrayOf(rn().object),disableAutoMonthSwitching:rn().bool,disabled:rn().bool,disableDragEditing:rn().bool,disableFuture:rn().bool,disableHighlightToday:rn().bool,disableOpenPicker:rn().bool,disablePast:rn().bool,displayWeekNumber:rn().bool,enableAccessibleFieldDOMStructure:rn().any,fixedWeekNumber:rn().number,format:rn().string,formatDensity:rn().oneOf(["dense","spacious"]),inputRef:dn,label:rn().node,loading:rn().bool,localeText:rn().object,maxDate:rn().object,minDate:rn().object,name:rn().string,onAccept:rn().func,onChange:rn().func,onClose:rn().func,onError:rn().func,onMonthChange:rn().func,onOpen:rn().func,onRangePositionChange:rn().func,onSelectedSectionsChange:rn().func,open:rn().bool,rangePosition:rn().oneOf(["end","start"]),readOnly:rn().bool,reduceAnimations:rn().bool,referenceDate:rn().object,renderLoading:rn().func,selectedSections:rn().oneOfType([rn().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),rn().number]),shouldDisableDate:rn().func,showDaysOutsideCurrentMonth:rn().bool,slotProps:rn().object,slots:rn().object,sx:rn().oneOfType([rn().arrayOf(rn().oneOfType([rn().func,rn().object,rn().bool])),rn().func,rn().object]),timezone:rn().string,value:rn().arrayOf(rn().object),viewRenderers:rn().shape({day:rn().func})};const Tg=["desktopModeMediaQuery"],Ig=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:r="@media (pointer: fine)"}=n,i=(0,Re.A)(n,Tg);return tn(r,{defaultMatches:!0})?(0,It.jsx)(og,(0,De.A)({ref:t},i)):(0,It.jsx)(Ag,(0,De.A)({ref:t},i))}));const Eg=Zn("MuiStack",["root"]),Ng=e=>e.match(/^([A-Za-z]+)Range(Calendar|Clock)$/)?"multi-panel-UI-view":e.match(/^([A-Za-z]*)(DigitalClock)$/)?"Tall-UI-view":e.match(/^Static([A-Za-z]+)/)||e.match(/^([A-Za-z]+)(Calendar|Clock)$/)?"UI-view":e.match(/^MultiInput([A-Za-z]+)RangeField$/)||e.match(/^([A-Za-z]+)RangePicker$/)?"multi-input-range-field":e.match(/^SingleInput([A-Za-z]+)RangeField$/)?"single-input-range-field":"single-input-field",Mg=e=>e.includes("DateTime")?"date-time":e.includes("Date")?"date":"time";const jg=e=>!(!o.isValidElement(e)||"string"===typeof e.type)&&"DemoItem"===e.type.displayName;function Dg(e){const{children:t,components:n,sx:r}=e,i=new Set,a=new Set;n.forEach((e=>{i.add(Ng(e)),a.add(Mg(e))}));const s=e=>"row"===e?i.has("UI-view")||i.has("Tall-UI-view")?3:2:i.has("UI-view")?4:3;let l,c,u={},d={};const h=(0,De.A)({overflow:"auto",pt:1},r);n.length>2||i.has("multi-input-range-field")||i.has("single-input-range-field")||i.has("multi-panel-UI-view")||i.has("UI-view")||a.has("date-time")?(l="column",c=s("column")):(l={xs:"column",lg:"row"},c={xs:s("column"),lg:s("row")}),i.has("UI-view")||(i.has("single-input-range-field")?u=a.has("date-time")?{["& > .".concat(Xd.root,", & > .").concat(sh.root)]:{minWidth:{xs:300,md:i.has("multi-input-range-field")?460:400}}}:{["& > .".concat(Xd.root,", & > .").concat(sh.root)]:{minWidth:300}}:a.has("date-time")?(u={["& > .".concat(Xd.root,", & > .").concat(sh.root)]:{minWidth:270}},i.has("multi-input-range-field")&&(d={["& > .".concat(Eg.root," > .").concat(Xd.root,", & > .").concat(Eg.root," > .").concat(sh.root)]:{minWidth:210}})):u={["& > .".concat(Xd.root,", & > .").concat(sh.root)]:{minWidth:200}});const p=(0,De.A)({},h,u);return(0,It.jsx)(_l,{direction:l,spacing:c,sx:p,children:o.Children.map(t,(e=>o.isValidElement(e)&&jg(e)?o.cloneElement(e,{sx:(0,De.A)({},u,d)}):e))})}const Rg=__webpack_require__.p+"static/media/hero_FR.f55859c891f304147a75.avif",Pg=__webpack_require__.p+"static/media/car (2).24fbfe87e3bb2f615c7a.png";const Og=function(){return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("section",{children:(0,It.jsx)("div",{class:"container",children:(0,It.jsxs)("div",{class:"row shadow-sm p-3 mb-5 bg-body-tertiary rounded",children:[(0,It.jsxs)("div",{class:"col-sm-6",children:[(0,It.jsxs)("h3",{children:["Voici la nouvelle mani\xe8re",(0,It.jsx)("span",{class:"text-primary mb-3",children:"de louer une voiture"})]}),(0,It.jsx)("p",{class:"mb-3",children:"Choisissez parmi des milliers de voitures disponibles aupr\xe8s de particuliers et professionnels pr\xe8s de chez vous."}),(0,It.jsxs)("div",{class:"row",children:[(0,It.jsxs)("p",{children:[" ",(0,It.jsx)("ion-icon",{name:"accessibility-outline"})," ",(0,It.jsx)("strong",{children:"Des prix par heure ou par jour"})]}),(0,It.jsx)("p",{class:"me-2",children:"Votre location sera assur\xe9e par AXA. Vous pouvez m\xeame ajouter des conducteurs additionnels sans frais suppl\xe9mentaires."})]}),(0,It.jsxs)("div",{class:"row",children:[(0,It.jsxs)("p",{children:[" ",(0,It.jsx)("ion-icon",{name:"add-circle-outline"})," ",(0,It.jsx)("strong",{class:"mt-2",children:"Des prix par heure ou par jour"})]}),(0,It.jsx)("p",{class:"me-2",children:"Votre location sera assur\xe9e par AXA. Vous pouvez m\xeame ajouter des conducteurs additionnels sans frais suppl\xe9mentaires."})]}),(0,It.jsxs)("div",{class:"row",children:[(0,It.jsxs)("p",{children:[" ",(0,It.jsx)("ion-icon",{name:"car-sport-outline"})," ",(0,It.jsx)("strong",{children:"Des prix par heure ou par jour"})]}),(0,It.jsx)("p",{class:"me-2",children:"Votre location sera assur\xe9e par AXA. Vous pouvez m\xeame ajouter des conducteurs additionnels sans frais suppl\xe9mentaires."})]}),(0,It.jsx)("a",{class:"btn btn-primary btn-lg",href:"#",children:"Voir comment \xe7a marche"})]}),(0,It.jsx)("div",{class:"col-sm-6",children:(0,It.jsx)("img",{src:Pg,style:{width:"100%"},alt:"car"})})]})})})})};const Lg=function(){return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("section",{class:"mb-3",children:(0,It.jsxs)("div",{class:"container",style:{backgroundColor:"29577e",padding:"2rem"},children:[(0,It.jsx)("h2",{class:"text-white",children:"Actualit\xe9s"}),(0,It.jsxs)("div",{class:"row row-cols-1 row-cols-md-3 g-4",children:[(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card h-100",children:[(0,It.jsx)("img",{src:Pg,class:"card-img-top",alt:"vehicule"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Tout savoir sur la voiture "}),(0,It.jsx)("p",{class:"card-text",children:"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."})]}),(0,It.jsx)("div",{class:"card-footer",children:(0,It.jsx)("small",{class:"text-body-secondary",children:"Last updated 3 mins ago"})})]})}),(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card h-100",children:[(0,It.jsx)("img",{src:Pg,class:"card-img-top",alt:"vehicule"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Tout savoir sur la voiture"}),(0,It.jsx)("p",{class:"card-text",children:"This card has supporting text below as a natural lead-in to additional content."})]}),(0,It.jsx)("div",{class:"card-footer",children:(0,It.jsx)("small",{class:"text-body-secondary",children:"Last updated 3 mins ago"})})]})}),(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card h-100",children:[(0,It.jsx)("img",{src:Pg,class:"card-img-top",alt:"vehicule"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Tout savoir sur la voiture"}),(0,It.jsx)("p",{class:"card-text",children:"This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action."})]}),(0,It.jsx)("div",{class:"card-footer",children:(0,It.jsx)("small",{class:"text-body-secondary",children:"Last updated 3 mins ago"})})]})})]})]})})})};const Fg=function(){return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("section",{class:"mb-3",children:(0,It.jsxs)("div",{class:"container shadow-sm p-3 mb-5 bg-body-tertiary rounded",children:[(0,It.jsx)("h2",{class:"",children:"Des voitures adapt\xe9es \xe0 vos besoins"}),(0,It.jsxs)("div",{class:"row row-cols-1 row-cols-md-4 g-4",children:[(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card",children:[(0,It.jsx)("img",{src:"Tesla-Model-3.jpg",class:"card-img-top",alt:"Tesla-Model-3.jpg"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Card title"}),(0,It.jsx)("p",{class:"card-text",children:"This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."})]})]})}),(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card",children:[(0,It.jsx)("img",{src:"Tesla-Model-3.jpg",class:"card-img-top",alt:"Tesla-Model-3.jpg"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Card title"}),(0,It.jsx)("p",{class:"card-text",children:"This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."})]})]})}),(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card",children:[(0,It.jsx)("img",{src:"Tesla-Model-3.jpg",class:"card-img-top",alt:"Tesla-Model-3.jpg"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Card title"}),(0,It.jsx)("p",{class:"card-text",children:"This is a longer card with supporting text below as a natural lead-in to additional content."})]})]})}),(0,It.jsx)("div",{class:"col",children:(0,It.jsxs)("div",{class:"card",children:[(0,It.jsx)("img",{src:"Tesla-Model-3.jpg",class:"card-img-top",alt:"Tesla-Model-3.jpg"}),(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:"Card title"}),(0,It.jsx)("p",{class:"card-text",children:"This is a longer card with supporting text below as a natural lead-in to additional content."})]})]})})]})]})})})};const zg=function(e){let{handleSelectLocation:t,resetInput:n}=e;const[r,i]=(0,o.useState)(""),[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!0),[h,p]=(0,o.useState)(null);return(0,o.useEffect)((()=>{n&&i("")}),[n]),(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"mb-md-3",children:[(0,It.jsxs)("label",{htmlFor:"categoryProduct",className:"col-form-label d-block d-md-none",children:["Adresse",(0,It.jsx)("sup",{children:"*"})]}),(0,It.jsxs)("div",{className:"dropdown",children:[(0,It.jsx)("input",{type:"text",className:"form-control",id:"categoryProduct",required:!0,name:"categoryProduct",onChange:e=>{const t=e.target.value;if(i(t),t.length>=1){const e=async()=>{try{const e=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?access_token=pk.eyJ1IjoiYWhhbWFkaSIsImEiOiJjbHJzMmg4NmMwMXVrMmtwNDc4dHpiM3B2In0.AZcceQazmt86mv0MhRfwUQ&language=fr&country=fr,be,it,de,es,gb&types=country,poi,region,locality,place,address"));if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();c(n.features)}catch(h){p(h)}finally{d(!1)}};e()}else c([]),s(!1)},placeholder:"Aeroport de Grenoble",value:r,autoComplete:"off",onBlur:()=>{setTimeout((()=>s(!1)),200)},onFocus:()=>{s(!0)}}),r.length>=2&&(0,It.jsx)("ul",{className:a?"dropdown-menu w-100 show":"dropdown-menu w-100",children:l.map(((e,n)=>(0,It.jsx)("li",{children:(0,It.jsx)("button",{className:"dropdown-item mb-2",type:"button",onClick:()=>(e=>{c([]),i(e.place_name),t(e),s(!1)})(e),children:(0,It.jsxs)("p",{className:"w-100 text-wrap",children:[(0,It.jsx)("ion-icon",{name:"location-outline"})," ",e.place_name]})})},n)))})]})]})})};const Bg=function(){const[e,t]=(0,o.useState)([0,0]),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(!0);(0,o.useEffect)((()=>{localStorage.setItem("mode","guest")}),[]);const s=Dt()().add(3,"day"),l=s.add(5,"day"),[c,u]=(0,o.useState)([s,l]);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("section",{class:"mb-3 bg-body-tertiary",children:(0,It.jsx)("div",{class:"container p-3 mb-5  ",children:(0,It.jsxs)("div",{class:"row bg-body-tertiary",children:[(0,It.jsxs)("div",{class:"col-sm-6",children:[(0,It.jsxs)("h1",{children:[(0,It.jsx)("span",{class:"text-tertiary mb-3",children:"Louer une voiture"})," en"," ",(0,It.jsx)("span",{children:"Quelques cliques"})]}),(0,It.jsx)("h3",{children:(0,It.jsx)("strong",{children:"D\xe9verrouillez-la 24h/24 avec l'appli et partez !"})}),(0,It.jsxs)("div",{class:"mb-3",children:[(0,It.jsx)("div",{class:"form-floating mb-3",children:(0,It.jsx)(zg,{handleSelectLocation:e=>{t(e.center),r(e.place_name)},resetInput:i})}),(0,It.jsx)(Mt,{dateAdapter:Zt,children:(0,It.jsx)(Dg,{components:["DateRangePicker"],children:(0,It.jsx)(Ig,{localeText:{start:"D\xe9but",end:"Fin"},value:c,onChange:e=>{var t,n;u(e);let r=new Date(null===(t=e[0])||void 0===t?void 0:t.$d),i=new Date(null===(n=e[1])||void 0===n?void 0:n.$d),a="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")),o="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0"));console.log("Date de debut",a),console.log("Date de fin",o)},renderInput:(e,t)=>(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("input",{...e}),(0,It.jsx)("input",{...t})]}),disablePastDates:!0})})}),(0,It.jsx)("button",{className:"mt-3 btn btn-tertiary w-100",onClick:()=>{window.location.href="/search?address="+n+"&center="+e+"&address_source=mapbox&longitude="+e[0]+"&latitude="+e[1]+"&start="+new Date(c[0])+"&end="+new Date(c[1])},children:"Rechercher"})]}),(0,It.jsx)("p",{children:"Location de voiture entre particuliers et pros assur\xe9e par axa"})]}),(0,It.jsx)("div",{class:"col-sm-6",children:(0,It.jsx)("img",{src:Rg,alt:"louer vehicule",style:{width:"100%"}})})]})})}),(0,It.jsx)(Lg,{}),(0,It.jsx)(Og,{}),(0,It.jsx)(Fg,{}),(0,It.jsx)("section",{children:(0,It.jsx)("div",{class:"container shadow-sm p-3 mb-5 bg-body-tertiary rounded",children:(0,It.jsxs)("div",{class:"row",children:[(0,It.jsxs)("div",{class:"col-sm-6",children:[(0,It.jsx)("h2",{children:(0,It.jsx)("strong",{children:"Rentabilisez votre voiture !"})}),(0,It.jsx)("p",{class:"mb-3",children:"Avec Getaround Connect, votre voiture vous rapporte jusqu'\xe0 800\u20ac / mois."}),(0,It.jsx)("p",{class:"mb-3",children:"Tous les trajets sont assur\xe9s par axa"}),(0,It.jsx)("a",{class:"btn btn-primary btn-lg",href:"#",children:"Louer ma voiture"})]}),(0,It.jsx)("div",{class:"col-sm-6",children:(0,It.jsx)("img",{src:"own_a_car.avif",alt:"louer vehicule"})})]})})}),(0,It.jsx)("section",{children:(0,It.jsxs)("div",{class:"container text-center shadow-sm p-3 mb-5 bg-body-tertiary rounded",children:[(0,It.jsx)("h2",{class:"text-align-center",children:"Ensemble, nous am\xe9liorons la mobilit\xe9 \xe0"}),(0,It.jsx)("h2",{children:(0,It.jsx)("strong",{children:(0,It.jsx)("span",{class:"text-primary",children:"Londre"})})}),(0,It.jsx)("img",{class:"mb-2",src:"outro.avif",style:{width:"100%"},alt:"outro"}),(0,It.jsxs)("div",{class:" justify-content-center",children:[(0,It.jsx)("span",{class:"badge bg-secondary-subtle text-secondary-emphasis rounded-pill me-2",children:"Location voiture \xe0 l'a\xe9roport"}),(0,It.jsx)("span",{class:"badge bg-secondary-subtle text-secondary-emphasis rounded-pill me-2",children:"Location voiture \xe0 la gare"}),(0,It.jsx)("span",{class:"badge bg-secondary-subtle text-secondary-emphasis rounded-pill me-2",children:"Marque et mod\xe8le"}),(0,It.jsx)("span",{class:"badge bg-secondary-subtle text-secondary-emphasis rounded-pill me-2",children:"Location voiture en France"}),(0,It.jsx)("span",{class:"badge bg-secondary-subtle text-secondary-emphasis rounded-pill me-2",children:"Location voiture en Alllagne"})]})]})})]})},Wg=e=>"number"==typeof e&&!isNaN(e),Vg=e=>"string"==typeof e,Ug=e=>"function"==typeof e,Hg=e=>Vg(e)||Ug(e)?e:null,qg=e=>(0,o.isValidElement)(e)||Vg(e)||Ug(e)||Wg(e);function Gg(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:p}=e;const f=r?"".concat(t,"--").concat(l):t,m=r?"".concat(n,"--").concat(l):n,g=(0,o.useRef)(0);return(0,o.useLayoutEffect)((()=>{const e=d.current,t=f.split(" "),n=r=>{r.target===d.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,o.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};h||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[h]),o.createElement(o.Fragment,null,s)}}function Yg(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Xg=new Map;let Kg=[];const Zg=new Set,Jg=e=>Zg.forEach((t=>t(e))),Qg=()=>Xg.size>0;function $g(e,t){var n;if(t)return!(null==(n=Xg.get(t))||!n.isToastActive(e));let r=!1;return Xg.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function ev(e,t){qg(e)&&(Qg()||Kg.push({content:e,options:t}),Xg.forEach((n=>{n.buildToast(e,t)})))}function tv(e,t){Xg.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function nv(e){const{subscribe:t,getSnapshot:n,setProps:r}=(0,o.useRef)(function(e){const t=e.containerId||1;return{subscribe(n){const r=function(e,t,n){let r=1,i=0,a=[],s=[],l=[],c=t;const u=new Map,d=new Set,h=()=>{l=Array.from(u.values()),d.forEach((e=>e()))},p=e=>{s=null==e?[]:s.filter((t=>t!==e)),h()},f=e=>{const{toastId:t,onOpen:r,updateId:i,children:a}=e.props,l=null==i;e.staleId&&u.delete(e.staleId),u.set(t,e),s=[...s,e.props.toastId].filter((t=>t!==e.staleId)),h(),n(Yg(e,l?"added":"updated")),l&&Ug(r)&&r((0,o.isValidElement)(a)&&a.props)};return{id:e,props:c,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((n=>{null!=t&&t!==n.props.toastId||Ug(n.toggle)&&n.toggle(e)}))},removeToast:p,toasts:u,clearQueue:()=>{i-=a.length,a=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t;const a=n?n!==e:1!==e,o=u.has(r)&&null==i;return a||o})(s))return;const{toastId:l,updateId:d,data:m,staleId:g,delay:v}=s,b=()=>{p(l)},y=null==d;y&&i++;const x={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(s).filter((e=>{let[t,n]=e;return null!=n}))),toastId:l,updateId:d,data:m,closeToast:b,isIn:!1,className:Hg(s.className||c.toastClassName),bodyClassName:Hg(s.bodyClassName||c.bodyClassName),progressClassName:Hg(s.progressClassName||c.progressClassName),autoClose:!s.isLoading&&(w=s.autoClose,_=c.autoClose,!1===w||Wg(w)&&w>0?w:_),deleteToast(){const e=u.get(l),{onClose:t,children:r}=e.props;Ug(t)&&t((0,o.isValidElement)(r)&&r.props),n(Yg(e,"removed")),u.delete(l),i--,i<0&&(i=0),a.length>0?f(a.shift()):h()}};var w,_;x.closeButton=c.closeButton,!1===s.closeButton||qg(s.closeButton)?x.closeButton=s.closeButton:!0===s.closeButton&&(x.closeButton=!qg(c.closeButton)||c.closeButton);let k=t;(0,o.isValidElement)(t)&&!Vg(t.type)?k=(0,o.cloneElement)(t,{closeToast:b,toastProps:x,data:m}):Ug(t)&&(k=t({closeToast:b,toastProps:x,data:m}));const S={content:k,props:x,staleId:g};c.limit&&c.limit>0&&i>c.limit&&y?a.push(S):Wg(v)?setTimeout((()=>{f(S)}),v):f(S)},setProps(e){c=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>s.some((t=>t===e)),getSnapshot:()=>c.newestOnTop?l.reverse():l}}(t,e,Jg);Xg.set(t,r);const i=r.observe(n);return Kg.forEach((e=>ev(e.content,e.options))),Kg=[],()=>{i(),Xg.delete(t)}},setProps(e){var n;null==(n=Xg.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Xg.get(t))?void 0:e.getSnapshot()}}}(e)).current;r(e);const i=(0,o.useSyncExternalStore)(t,n,n);return{getToastToRender:function(e){if(!i)return[];const t=new Map;return i.forEach((e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:$g,count:null==i?void 0:i.length}}function rv(e){const[t,n]=(0,o.useState)(!1),[r,i]=(0,o.useState)(!1),a=(0,o.useRef)(null),s=(0,o.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;var p,f;function m(){n(!0)}function g(){n(!1)}function v(n){const r=a.current;s.canDrag&&r&&(s.didMove=!0,t&&g(),s.delta="x"===e.draggableDirection?n.clientX-s.start:n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1),r.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))"),",0)"),r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",b);const t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(f=Xg.get((p={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))||f.setToggle(p.id,p.fn),(0,o.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",b);const n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:r,left:i,right:o}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?g():m()}};return l&&c&&(y.onMouseEnter=g,e.stacked||(y.onMouseLeave=m)),h&&(y.onClick=e=>{d&&d(e),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:y}}function iv(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:a,className:s,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:p}=e;const f=a||c&&0===u,m={...l,animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};c&&(m.transform="scaleX(".concat(u,")"));const g=On("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(i),{"Toastify__progress-bar--rtl":d}),v=Ug(s)?s({rtl:d,type:i,defaultClassName:g}):On(g,s),b={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&r()}};return o.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},o.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(i)}),o.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:m,...b}))}let av=1;const ov=()=>""+av++;function sv(e){return e&&(Vg(e.toastId)||Wg(e.toastId))?e.toastId:ov()}function lv(e,t){return ev(e,t),t.toastId}function cv(e,t){return{...t,type:t&&t.type||e,toastId:sv(t)}}function uv(e){return(t,n)=>lv(t,cv(e,n))}function dv(e,t){return lv(e,cv("default",t))}dv.loading=(e,t)=>lv(e,cv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),dv.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=Vg(i)?dv.loading(i,n):dv.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void dv.dismiss(r);const a={type:e,...s,...n,data:i},o=Vg(t)?{render:t}:t;return r?dv.update(r,{...a,...o}):dv(o.render,{...a,...o}),i},c=Ug(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",a,e))),c},dv.success=uv("success"),dv.info=uv("info"),dv.error=uv("error"),dv.warning=uv("warning"),dv.warn=dv.warning,dv.dark=(e,t)=>lv(e,cv("default",{theme:"dark",...t})),dv.dismiss=function(e){!function(e){var t;if(Qg()){if(null==e||Vg(t=e)||Wg(t))Xg.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=Xg.get(e.containerId);t?t.removeToast(e.id):Xg.forEach((t=>{t.removeToast(e.id)}))}}else Kg=Kg.filter((t=>null!=e&&t.options.toastId!==e))}(e)},dv.clearWaitingQueue=function(e){void 0===e&&(e={}),Xg.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},dv.isActive=$g,dv.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=Xg.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:ov()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,lv(o,a)}},dv.done=e=>{dv.update(e,{progress:1})},dv.onChange=function(e){return Zg.add(e),()=>{Zg.delete(e)}},dv.play=e=>tv(!0,e),dv.pause=e=>tv(!1,e);const hv="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,pv=e=>{let{theme:t,type:n,isLoading:r,...i}=e;return o.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")"),...i})},fv={info:function(e){return o.createElement(pv,{...e},o.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return o.createElement(pv,{...e},o.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return o.createElement(pv,{...e},o.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return o.createElement(pv,{...e},o.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return o.createElement("div",{className:"Toastify__spinner"})}},mv=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=rv(e),{closeButton:s,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:p,transition:f,position:m,className:g,style:v,bodyClassName:b,bodyStyle:y,progressClassName:x,progressStyle:w,updateId:_,role:k,progress:S,rtl:C,toastId:A,deleteToast:T,isIn:I,isLoading:E,closeOnClick:N,theme:M}=e,j=On("Toastify__toast","Toastify__toast-theme--".concat(M),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":N}),D=Ug(g)?g({rtl:C,position:m,type:d,defaultClassName:j}):On(j,g),R=function(e){let{theme:t,type:n,isLoading:r,icon:i}=e,a=null;const s={theme:t,type:n};return!1===i||(Ug(i)?a=i({...s,isLoading:r}):(0,o.isValidElement)(i)?a=(0,o.cloneElement)(i,s):r?a=fv.spinner():(e=>e in fv)(n)&&(a=fv[n](s))),a}(e),P=!!S||!c,O={closeToast:p,type:d,theme:M};let L=null;return!1===s||(L=Ug(s)?s(O):(0,o.isValidElement)(s)?(0,o.cloneElement)(s,O):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return o.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},o.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},o.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),o.createElement(f,{isIn:I,done:T,position:m,preventExitTransition:n,nodeRef:r,playToast:a},o.createElement("div",{id:A,onClick:u,"data-in":I,className:D,...i,style:v,ref:r},o.createElement("div",{...I&&{role:k},className:Ug(b)?b({type:d}):On("Toastify__toast-body",b),style:y},null!=R&&o.createElement("div",{className:On("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},R),o.createElement("div",null,l)),L,o.createElement(iv,{..._&&!P?{key:"pb-".concat(_)}:{},rtl:C,theme:M,delay:c,isRunning:t,isIn:I,closeToast:p,hide:h,type:d,style:w,className:x,controlledProgress:P,progress:S||0})))},gv=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},vv=Gg(gv("bounce",!0)),bv=(Gg(gv("slide",!0)),Gg(gv("zoom")),Gg(gv("flip")),{position:"top-right",transition:vv,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function yv(e){let t={...bv,...e};const n=e.stacked,[r,i]=(0,o.useState)(!0),a=(0,o.useRef)(null),{getToastToRender:s,isToastActive:l,count:c}=nv(t),{className:u,style:d,rtl:h,containerId:p}=t;function f(e){const t=On("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":h});return Ug(u)?u({position:e,rtl:h,defaultClassName:t}):On(t,Hg(u))}function m(){n&&(i(!0),dv.play())}return hv((()=>{if(n){var e;const n=a.current.querySelectorAll('[data-in="true"]'),i=12,o=null==(e=t.position)?void 0:e.includes("top");let s=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(r)),n.dataset.pos||(n.dataset.pos=o?"top":"bot");const a=s*(r?.2:1)+(r?0:i*t);n.style.setProperty("--y","".concat(o?a:-1*a,"px")),n.style.setProperty("--g","".concat(i)),n.style.setProperty("--s",""+(1-(r?l:0))),s+=n.offsetHeight,l+=.025}))}}),[r,c,n]),o.createElement("div",{ref:a,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),dv.pause())},onMouseLeave:m},s(((e,t)=>{const r=t.length?{...d}:{...d,pointerEvents:"none"};return o.createElement("div",{className:f(e),style:r,key:"container-".concat(e)},t.map((e=>{let{content:t,props:r}=e;return o.createElement(mv,{...r,stacked:n,collapseAll:m,isIn:l(r.toastId,r.containerId),style:r.style,key:"toast-".concat(r.key)},t)})))})))}var xv=__webpack_require__(7211);function wv(e){let{date:t,price:n,currentMonth:r,WeekDAY:i,VehiculeId:a,unavailable:s}=e;const[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[h,p]=(0,o.useState)([]),[f,m]=(0,o.useState)(0),g=(0,xv.q)(),v=parseInt(r.toString())+1,b=(v<10?"0":"")+v.toString(),y=(t<10?"0":"")+t.toString(),x=2024,[w,_]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),[k,S]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),[C,A]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),[T,I]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),E=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,It.jsx)("option",{value:a,children:a},a))}return e};const[N,M]=(0,o.useState)(!0);(0,o.useEffect)((()=>{(async()=>{try{const e=await g.get("/unavailabilities/getbyvehiculeid-date/"+a+"?date="+k);e.data&&(p(e.data),e.data.length>0?D(!0):D(!1))}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[,t]);const[j,D]=(0,o.useState)(!1);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(yv,{}),(0,It.jsx)("button",{className:" yourCarAvailabilityDay calendarButtonPlus  ".concat(s?"yourCarAvailabilityDay--disabled":""),type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight"+t,"aria-controls":"offcanvasRight"+t,onClick:function(){(async()=>{try{const e=await g.get("/unavailabilities/getbyvehiculeid-date/"+a+"?date="+k);e.data&&(p(e.data),e.data.length>0?D(!0):D(!1))}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()},style:{backgroundColor:s?"#6c757d":""},children:(0,It.jsxs)("div",{className:"yourCarAvailabilityDay-content",children:[(0,It.jsx)("span",{className:s?"text-white":"text-tertiary","data-testid":"yourCarAvailabilityDay-date",style:{fontSize:"11px"},children:t}),(0,It.jsx)("span",{className:"css-1iutgu0-StyledText-YourCarAvailabilityDay-YourCarAvailabilityDay","data-testid":"yourCarAvailabilityDay-price",children:(0,It.jsx)("span",{class:s?"badge bg-secondary":"badge bg-primary",children:n})})]})}),(0,It.jsxs)("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight"+t,"aria-labelledby":"offcanvasRightLabel",children:[(0,It.jsxs)("div",{class:"offcanvas-header",children:[(0,It.jsx)("h3",{class:"offcanvas-title mb-3",id:"offcanvasRightLabel",children:(0,It.jsxs)("strong",{children:["D\xe9tails, ",t," ",{0:"Janvier",1:"F\xe9vrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Ao\xfbt",8:"Septembre",9:"Octobre",10:"Novembre",11:"D\xe9cembre"}[r]]})}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"offcanvas-body",children:[(0,It.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,It.jsx)("span",{children:(0,It.jsxs)("strong",{children:[n," "]})}),(0,It.jsx)("button",{type:"button",className:"btn btn-outline","data-bs-toggle":"collapse","data-bs-target":"#collapseModifier","aria-expanded":"false","aria-controls":"collapseModifier",children:"Modifier"})]}),(0,It.jsx)("div",{class:"collapse",id:"collapseModifier",children:(0,It.jsxs)("div",{class:"card card-body",children:[(0,It.jsx)("h3",{children:"Modifier le prix"}),(0,It.jsx)("p",{className:"mb-3",children:"D\xe9finissez un prix personnalis\xe9 pour un ou plusieurs jours. Acc\xe9dez \xe0 la section Prix pour modifier d\u2019autres param\xe8tres de prix."}),(0,It.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Prix"}),(0,It.jsxs)("div",{class:"mb-3 input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"40",value:f,onChange:e=>m(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"\u20ac"})]}),(0,It.jsx)("label",{for:"dateRetour",class:"form-label",children:"Retour"}),(0,It.jsx)("div",{class:"mb-3 input-group",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"dateRetour",value:w,onChange:e=>_(e.target.value)})}),(0,It.jsx)("button",{className:"btn btn-tertiary",type:"button",onClick:function(){(function(e,t){const n=[];if(!(e instanceof Date)||!(t instanceof Date))throw new Error("Les arguments doivent \xeatre des objets Date valides.");if(e>t)throw new Error("Date 1 doit \xeatre ant\xe9rieure ou \xe9gale \xe0 Date 2.");const r=new Date(e);for(;r<=t;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n})(new Date(k),new Date(w)).forEach((async e=>{try{(await g.post("/pricings/",{vehiculeId:a,date:e,price:f})).data&&dv.success("Votre prix personnalis\xe9 a \xe9t\xe9 enregsitr\xe9"),console.log("Requ\xeate Axios r\xe9ussie pour la date :",e)}catch(t){console.error("Erreur lors de la requ\xeate Axios pour la date",e,":",t)}}))},children:"Enregistrer"})]})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Indisponibilit\xe9"})}),(0,It.jsx)("p",{children:"D\xe9finissez l\u2019indisponibilit\xe9 de votre voiture pour bloquer les r\xe9servations pendant ces p\xe9riodes."}),(0,It.jsxs)("button",{className:"btn btn-inline-tertiary mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseAjouterIndis","aria-expanded":"false","aria-controls":"collapseAjouterIndis",children:["+ Ajouter une p\xe9riode d'indisponibilit\xe9"," "]}),(0,It.jsx)("div",{class:"collapse",id:"collapseAjouterIndis",children:(0,It.jsxs)("div",{class:"card card-body",children:[(0,It.jsx)("h3",{children:"Ajouter une indisponibilit\xe9"}),(0,It.jsx)("p",{className:"mb-3",children:"Bloquez les p\xe9riodes o\xf9 votre voiture n\u2019est pas disponible. N\u2019oubliez pas que plus votre voiture est disponible, plus vous recevrez de demandes de voyage, surtout les week-ends et les jours f\xe9ri\xe9s."}),(0,It.jsx)("small",{children:"D\xe9but"}),(0,It.jsxs)("div",{class:"d-flex justify-content-start",children:[(0,It.jsx)("div",{class:"mb-3 me-2",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"exampleFormControlInput1",value:C,onChange:e=>A(e.target.value)})}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:l,onChange:e=>{c(e.target.value),console.log(e.target.value)},children:E()})]}),(0,It.jsx)("small",{children:"Fin"}),(0,It.jsxs)("div",{class:"d-flex justify-content-start",children:[(0,It.jsx)("div",{class:"mb-3 me-2",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"exampleFormControlInput1",value:T,onChange:e=>I(e.target.value)})}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:u,onChange:e=>{d(e.target.value),console.log(e.target.value),console.log(w)},children:E()})]}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked",checked:N,onChange:()=>{M(!N)}}),(0,It.jsx)("label",{class:"form-check-label",for:"flexCheckChecked",children:"R\xe9p\xe9ter cette indisponibilit\xe9 chaque semaine"})]}),(0,It.jsx)("button",{type:"button",className:"btn btn-tertiary",onClick:function(){(async()=>{try{const e=await g.post("/unavailabilities/",{vehiculeId:a,start_date:C,end_date:T,start_time:l,end_time:u,type:N?"0":"1",WeekDAY:i});if(e.data){dv.success("Indisponibilit\xe9 ajout\xe9e pour votre v\xe9hicule");const t=await g.get("/unavailabilities/getbyvehiculeid-date/"+a+"?date="+k);t.data&&(p(t.data),e.data.length>0?D(!0):D(!1))}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()},children:"D\xe9finir l'indisponibilit\xe9"})]})}),(0,It.jsx)("div",{children:(0,It.jsx)("h4",{children:"Indisponibilit\xe9s des v\xe9hicules"})}),h&&h.map((e=>(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("p",{className:"mb-2",children:[(0,It.jsx)("span",{className:"text-danger me-2",children:e.start_date}),(0,It.jsx)("span",{className:"badge bg-danger me-2",children:e.start_time})]}),(0,It.jsxs)("p",{children:[(0,It.jsx)("span",{className:"text-danger me-2",children:e.end_date}),(0,It.jsx)("span",{className:"badge bg-danger me-2",children:e.end_time})]})]}))),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Voyages"})}),(0,It.jsx)("p",{children:"Vous n\u2019avez aucun voyage pr\xe9vu pour cette journ\xe9e."})]})]})]})]})}const _v=function(e){let{vehiculeId:t,mois:n}=e;const[r,i]=(0,o.useState)([]),a=(0,xv.q)(),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)([]),d=e=>{const t=e.getDay();return 0===t?6:t-1},h=(e,t,n,r)=>{const i=((e,t)=>new Date(e,t+1,0).getDate())(n,r);console.log("Nombre de jour dans un mois et une ann\xe9e",i);const a=[],o=new Date(n,r,1),s=d(o);for(let l=0;l<s;l++)a.push({spacer:!0});for(let l=1;l<=i;l++){const o=e.find((e=>e.WeekDAY===String(d(new Date(n,r,l)))));if(o){const e=t.find((e=>e.WeekDAY===String(d(new Date(n,r,l)))&&"0"===e.type)),s=t.find((e=>new Date(n,r,l)>=new Date(e.start_date)&&new Date(n,r,l)<=new Date(e.end_date)&&"1"===e.type));let c=!1;c=!!e||!!s,a.push({date:l,price:"".concat(o.Default_price,"\u20ac"),unavailable:c,daysInMonth:i,WeekDAY:o.WeekDAY,VehiculeId:o.vehiculeId})}else a.push({date:l,price:null,unavailable:!0})}return a};(0,o.useEffect)((()=>{(async()=>{try{const e=await a.get("/availabilities/getbyvehiculeid/"+t);e.data&&l(e.data.filter((e=>"0"==e.type)));const n=await a.get("/unavailabilities/getbyvehiculeid/"+t);n.data&&u(n.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[,window.location.href]),(0,o.useEffect)((()=>{i(h(s,c,2024,parseInt(n)))}),[,s]);const[p,f]=(0,o.useState)(n);return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("div",{class:"yourCarAvailabilityView",children:(0,It.jsx)("div",{class:"yourCarAvailabilityCalendarView",children:(0,It.jsx)("div",{class:"yourCarAvailabilityCalendar",children:(0,It.jsxs)("div",{class:"yourCarAvailabilityCalendar-container",children:[(0,It.jsxs)("div",{class:"yourCarAvailabilityMonthHeader",children:[(0,It.jsxs)("h2",{class:"css-cbcbkz-StyledText",children:[{0:"Janvier",1:"F\xe9vrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Ao\xfbt",8:"Septembre",9:"Octobre",10:"Novembre",11:"D\xe9cembre"}[n]," 2024"]}),(0,It.jsxs)("div",{class:"yourCarAvailabilityMonthHeader-actions",children:[(0,It.jsx)(Ne,{className:"prev",onClick:()=>{f((p-1+12)%12)},to:"/account/voiture/"+t+"/calendar/"+p,children:"\u276e"}),(0,It.jsx)(Ne,{className:"next",onClick:()=>{f((p+1)%12)},to:"/account/voiture/"+t+"/calendar/"+p,children:"\u276f"})]})]}),(0,It.jsxs)("div",{class:"yourCarAvailabilityWeekdaysHeader",children:[(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"lun."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"mar."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"mer."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"jeu."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"ven."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"sam."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader text-tertiary","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"dim."})]}),(0,It.jsx)("div",{className:"yourCarAvailabilityCalendar-days",children:r.map(((e,t)=>(0,It.jsx)(o.Fragment,{children:e.spacer?(0,It.jsx)("div",{className:"yourCarAvailabilityDaySpacer"}):(0,It.jsx)(wv,{date:e.date,price:e.price,currentMonth:n,WeekDAY:e.WeekDAY,unavailable:e.unavailable,VehiculeId:e.VehiculeId})},t)))})]})})})})})};const kv=function(){return(0,It.jsx)("section",{className:"p-3 mb-3 border-bottom text-white",style:{backgroundColor:" #29577e"},children:(0,It.jsx)("div",{className:"container text-white",children:(0,It.jsxs)("footer",{className:"py-5",children:[(0,It.jsxs)("div",{className:"row",children:[(0,It.jsxs)("div",{className:"col-6 col-md-2 mb-3",children:[(0,It.jsx)("h5",{children:"Section"}),(0,It.jsxs)("ul",{className:"nav flex-column text-white",children:[(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Home"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Features"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Pricing"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"FAQs"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"About"})})]})]}),(0,It.jsxs)("div",{className:"col-6 col-md-2 mb-3",children:[(0,It.jsx)("h5",{children:"Section"}),(0,It.jsxs)("ul",{className:"nav flex-column",children:[(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Home"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Features"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Pricing"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"FAQs"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"About"})})]})]}),(0,It.jsxs)("div",{className:"col-6 col-md-2 mb-3",children:[(0,It.jsx)("h5",{children:"Section"}),(0,It.jsxs)("ul",{className:"nav flex-column",children:[(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Home"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Features"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"Pricing"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"FAQs"})}),(0,It.jsx)("li",{className:"nav-item mb-2",children:(0,It.jsx)("a",{href:"#",className:"nav-link p-0 text-white",children:"About"})})]})]}),(0,It.jsx)("div",{className:"col-md-5 offset-md-1 mb-3",children:(0,It.jsxs)("form",{children:[(0,It.jsx)("h5",{children:"Subscribe to our newsletter"}),(0,It.jsx)("p",{children:"Monthly digest of what's new and exciting from us."}),(0,It.jsxs)("div",{className:"d-flex flex-column flex-sm-row w-100 gap-2",children:[(0,It.jsx)("label",{for:"newsletter1",className:"visually-hidden",children:"Email address"}),(0,It.jsx)("input",{id:"newsletter1",type:"text",className:"form-control",placeholder:"Email address"}),(0,It.jsx)("button",{className:"btn btn-primary",type:"button",children:"Subscribe"})]})]})})]}),(0,It.jsx)("div",{className:"d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top",children:(0,It.jsx)("p",{children:"\xa9 2024 Moovicar, Inc. tous droits reserv\xe9s."})})]})})})},Sv=__webpack_require__.p+"static/media/logo.b27981259d2f1aeb4963.png",Cv=__webpack_require__.p+"static/media/user.a6143582309785dca610.png";var Av=__webpack_require__(3488);const Tv=function(){const[e,t]=(0,o.useState)(!1);return(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:" w-100 w-md-75 my-div ".concat(e?"hovered":""),onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)},children:[(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/guest/listing/reservations",children:"Reservations"})}),(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/guest/listing/reviews",children:"Avis invit\xe9s"})}),(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/guest/listing/settings",children:"Param\xe8tres de l'invit\xe9"})})]})})};const Iv=function(e){let{vehiculeId:t}=e;const[n,r]=(0,o.useState)([]),i=(0,xv.q)();(0,o.useEffect)((()=>{(async()=>{const e=await i.get("/vehicleAnnonces/getbyvehiculeid/"+t);e.data&&r(e.data)})()}),[,window.location.href]);const[a,s]=(0,o.useState)(!1);return(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:" w-100 w-md-75 my-div ".concat(a?"hovered":""),onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/account/voiture/"+t+"/calendar/0",children:"Calendrier"})}),(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/account/voiture/prix-et-reductions/"+t,children:"Prix et r\xe9duction"})}),(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/account/voiture/preferences-de-reservation/"+t,children:"Pr\xe9f\xe9rences de r\xe9servation"})}),(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/account/your-car/edit-photos/"+t,children:"Photos"})}),(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/account/settings/availabilities/"+t,children:"Param\xe8tres du hote"})}),(0,It.jsx)("hr",{}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Emplacements par annonces"})}),n&&n.map((e=>(0,It.jsx)("div",{children:(0,It.jsxs)("a",{href:"/account/voiture/emplcaments-et-livraison/"+t+"/annonce/"+e.vehiculeAnnonceId,children:["Emplacement et livraison Annonce #",e.vehiculeAnnonceId]})}))),(0,It.jsx)("hr",{}),(0,It.jsxs)("select",{class:"form-select mb-2","aria-label":"Default select example",children:[(0,It.jsx)("option",{value:"0",children:"Activ\xe9e"}),(0,It.jsx)("option",{value:"1",children:"En pause"}),(0,It.jsx)("option",{value:"3",children:"Desactiv\xe9e"})]}),(0,It.jsx)("small",{className:"text-muted mb-3",children:"Votre voiture n\u2019appara\xeet pas dans les r\xe9sultats de recherche et n\u2019est pas disponible \xe0 la location."}),(0,It.jsx)("button",{className:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#supprimerAnnonceModal",children:"Supprimer l'annonce"}),(0,It.jsx)("div",{class:"modal fade",id:"supprimerAnnonceModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsxs)("div",{class:"modal-header",children:[(0,It.jsx)("h1",{class:"modal-title fs-5",id:"supprimerAnnonceModal",children:(0,It.jsx)("strong",{children:"Supprimer votre annonce ?"})}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"modal-body",children:[(0,It.jsx)("p",{className:"mb-3",children:"Vous voulez vraiment supprimer cette annonce, car il sera supprim\xe9 completement de notre base de donn\xe9es"}),(0,It.jsx)("button",{className:"btn btn-danger",children:"Je confirme la suppression"})]})]})})})]})})};const Ev=function(){const e=(0,xv.q)(),[t,n]=(0,o.useState)(!1),r=JSON.parse(window.localStorage.getItem("me")),{vehiculeId:i,mois:a}=ie(),[s,l]=(0,o.useState)(localStorage.getItem("mode")||"guest");return(0,o.useEffect)((()=>{localStorage.setItem("mode",s)}),[,window.location.pathname,s]),(0,o.useEffect)((()=>{(async()=>{try{const t=await e.get("/auth/check-auth");n(t.data.isAuthenticated)}catch(t){console.error(t)}})()}),[]),(0,It.jsx)("header",{class:" border-bottom p-1 bg-body-tertiary",children:(0,It.jsx)("div",{class:"container",children:(0,It.jsx)("div",{class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start",children:(0,It.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,It.jsx)(Ne,{to:"/",class:"d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none",onClick:()=>window.localStorage.setItem("mode","guest"),children:(0,It.jsx)("img",{src:Sv,alt:"moovicar",height:"55px"})}),(0,It.jsxs)("div",{class:"offcanvas offcanvas-end",id:"offcanvasMenu",tabIndex:-1,"aria-labelledby":"offcanvasMenuLabel",children:[(0,It.jsxs)("div",{class:"offcanvas-header",children:[(0,It.jsx)("h5",{class:"offcanvas-title",id:"offcanvasMenuLabel",children:"Menu"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"offcanvas-body",children:[(0,It.jsx)("div",{children:(0,It.jsx)("a",{type:"button",class:"btn btn-primary text-white",href:"/location-voiture",children:"Louer ma voiture"})}),"guest"===s&&(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("ul",{children:[(0,It.jsx)("li",{children:(0,It.jsx)("a",{href:"/guest/listing/reservations",children:"Reservations"})}),(0,It.jsx)("li",{children:(0,It.jsx)("a",{href:"/guest/listing/reviews",children:"Avis invit\xe9s"})}),(0,It.jsxs)("li",{children:[" ",(0,It.jsx)("a",{href:"/guest/listing/settings",children:"Param\xe8tres de l'invit\xe9"})]})]})}),(0,It.jsx)("hr",{}),(0,It.jsx)("div",{children:(0,It.jsx)("a",{href:"/account/demandes",children:"Demandes"})}),(0,It.jsx)("div",{children:(0,It.jsx)("a",{href:"/account/locations",children:"Locations"})}),(0,It.jsx)("div",{children:(0,It.jsx)("a",{href:"/account/voitures",children:" Voitures"})}),(0,It.jsx)("div",{children:(0,It.jsx)("a",{href:"/account/performances",children:"Performances"})}),(0,It.jsx)("div",{children:(0,It.jsx)("a",{href:"/account/paiments",children:"Paiments"})}),(0,It.jsx)("div",{children:(0,It.jsx)("a",{href:"/account/comptes",children:"Comptes"})}),"host"===s&&(0,It.jsx)(Iv,{vehiculeId:i})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-end py-2",children:[t?(0,It.jsxs)("div",{class:"dropdown  mx-3",children:[(0,It.jsx)("a",{href:"#",class:"d-block link-body-emphasis text-decoration-none dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",id:"toggleDropdown",children:(0,It.jsx)("img",{src:(null===r||void 0===r?void 0:r.profile_url)||Cv,alt:"mdo",width:"32",height:"32",class:"rounded-circle"})}),(0,It.jsxs)("ul",{class:"dropdown-menu w-280px",style:{width:"20rem",padding:"0.5rem"},children:[(0,It.jsx)("li",{children:(0,It.jsx)("a",{class:"dropdown-item",href:"#",children:"Modifier le profil"})}),(0,It.jsx)("li",{children:(0,It.jsxs)("div",{class:"form-check form-switch",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",id:"toggleMenuHeader",onChange:()=>{let e=s;l("host"===s?"guest":"host"),window.location.href="guest"===e?"/account":Av.f9},checked:"host"===s}),(0,It.jsx)("label",{class:"form-check-label",for:"toggleMenuHeader",children:"Afficher le menu propri\xe9taire"})]})}),(0,It.jsx)("li",{children:(0,It.jsx)("hr",{class:"dropdown-divider"})}),(0,It.jsx)("li",{children:(0,It.jsx)("button",{type:"button",onClick:function(){window.localStorage.removeItem("me"),window.localStorage.removeItem("VehicleStorage"),window.location.href="/signin"},class:"btn btn-secondary w-100",children:"D\xe9connexion"})}),(0,It.jsx)(Tv,{})]})]}):(0,It.jsx)(Ne,{className:"me-2 text-white btn btn-tertiary",to:"/signin",children:"Se connecter"}),(0,It.jsx)(Ne,{type:"button",class:"btn btn-primary text-white d-md-block d-none",to:"/location-voiture",children:"Louer ma voiture"})]}),(0,It.jsx)("i",{class:"bi bi-list h2 d-block  py-2 d-md-none","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasMenu","aria-controls":"offcanvasMenu"})]})})})})},Nv=Object.create(null);Nv.open="0",Nv.close="1",Nv.ping="2",Nv.pong="3",Nv.message="4",Nv.upgrade="5",Nv.noop="6";const Mv=Object.create(null);Object.keys(Nv).forEach((e=>{Mv[Nv[e]]=e}));const jv={type:"error",data:"parser error"},Dv="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Rv="function"===typeof ArrayBuffer,Pv=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ov=(e,t,n)=>{let{type:r,data:i}=e;return Dv&&i instanceof Blob?t?n(i):Lv(i,n):Rv&&(i instanceof ArrayBuffer||Pv(i))?t?n(i):Lv(new Blob([i]),n):n(Nv[r]+(i||""))},Lv=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Fv(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let zv;const Bv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wv="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let pie=0;pie<64;pie++)Wv[Bv.charCodeAt(pie)]=pie;const Vv="function"===typeof ArrayBuffer,Uv=(e,t)=>{if("string"!==typeof e)return{type:"message",data:qv(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Hv(e.substring(1),t)};return Mv[n]?e.length>1?{type:Mv[n],data:e.substring(1)}:{type:Mv[n]}:jv},Hv=(e,t)=>{if(Vv){const n=(e=>{let t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=Wv[e.charCodeAt(t)],r=Wv[e.charCodeAt(t+1)],i=Wv[e.charCodeAt(t+2)],a=Wv[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c})(e);return qv(n,t)}return{base64:!0,data:e}},qv=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Gv=String.fromCharCode(30);function Yv(){return new TransformStream({transform(e,t){!function(e,t){Dv&&e.data instanceof Blob?e.data.arrayBuffer().then(Fv).then(t):Rv&&(e.data instanceof ArrayBuffer||Pv(e.data))?t(Fv(e.data)):Ov(e,!1,(e=>{zv||(zv=new TextEncoder),t(zv.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let Xv;function Kv(e){return e.reduce(((e,t)=>e+t.length),0)}function Zv(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Jv(e){if(e)return function(e){for(var t in Jv.prototype)e[t]=Jv.prototype[t];return e}(e)}Jv.prototype.on=Jv.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Jv.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Jv.prototype.off=Jv.prototype.removeListener=Jv.prototype.removeAllListeners=Jv.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Jv.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Jv.prototype.emitReserved=Jv.prototype.emit,Jv.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Jv.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Qv="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function $v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const eb=Qv.setTimeout,tb=Qv.clearTimeout;function nb(e,t){t.useNativeTimers?(e.setTimeoutFn=eb.bind(Qv),e.clearTimeoutFn=tb.bind(Qv)):(e.setTimeoutFn=Qv.setTimeout.bind(Qv),e.clearTimeoutFn=Qv.clearTimeout.bind(Qv))}class rb extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ib extends Jv{constructor(e){super(),this.writable=!1,nb(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new rb(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Uv(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const ab="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ob=64,sb={};let lb,cb=0,ub=0;function db(e){let t="";do{t=ab[e%ob]+t,e=Math.floor(e/ob)}while(e>0);return t}function hb(){const e=db(+new Date);return e!==lb?(cb=0,lb=e):e+"."+db(cb++)}for(;ub<ob;ub++)sb[ab[ub]]=ub;let pb=!1;try{pb="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(hie){}const fb=pb;function mb(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||fb))return new XMLHttpRequest}catch(die){}if(!t)try{return new(Qv[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(die){}}function gb(){}const vb=null!=new mb({xdomain:!1}).responseType;class bb extends Jv{constructor(e,t){super(),nb(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=$v(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new mb(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(die){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(die){}try{n.setRequestHeader("Accept","*/*")}catch(die){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(die){return void this.setTimeoutFn((()=>{this.onError(die)}),0)}"undefined"!==typeof document&&(this.index=bb.requestsCount++,bb.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=gb,e)try{this.xhr.abort()}catch(die){}"undefined"!==typeof document&&delete bb.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(bb.requestsCount=0,bb.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",yb);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Qv?"pagehide":"unload",yb,!1)}function yb(){for(let e in bb.requests)bb.requests.hasOwnProperty(e)&&bb.requests[e].abort()}const xb="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),wb=Qv.WebSocket||Qv.MozWebSocket,_b="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const kb={websocket:class extends ib{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=_b?{}:$v(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=_b?new wb(e,t,n):t?new wb(e,t):new wb(e)}catch(hie){return this.emitReserved("error",hie)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Ov(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(die){}r&&xb((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=hb()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!wb}},webtransport:class extends ib{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){Xv||(Xv=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(0===r){if(Kv(n)<1)break;const e=Zv(n,1);a=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Kv(n)<2)break;const e=Zv(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Kv(n)<8)break;const e=Zv(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){s.enqueue(jv);break}i=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Kv(n)<i)break;const e=Zv(n,i);s.enqueue(Uv(a?e:Xv.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(jv);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Yv();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(a).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&xb((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends ib{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=vb&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Gv),r=[];for(let i=0;i<n.length;i++){const e=Uv(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,a)=>{Ov(e,!1,(e=>{r[a]=e,++i===n&&t(r.join(Gv))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=hb()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new bb(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Sb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Cb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ab(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Sb.exec(e||""),a={},o=14;for(;o--;)a[Cb[o]]=i[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}class Tb extends Jv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=Ab(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ab(t.host).host),nb(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new kb[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Tb.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(die){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;Tb.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Tb.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){a("transport closed")}function s(){a("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",a),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",Tb.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){Tb.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}Tb.protocol=4;Tb.protocol;const Ib="function"===typeof ArrayBuffer,Eb=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Nb=Object.prototype.toString,Mb="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Nb.call(Blob),jb="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Nb.call(File);function Db(e){return Ib&&(e instanceof ArrayBuffer||Eb(e))||Mb&&e instanceof Blob||jb&&e instanceof File}function Rb(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Rb(e[t]))return!0;return!1}if(Db(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Rb(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Rb(e[n]))return!0;return!1}function Pb(e){const t=[],n=e.data,r=e;return r.data=Ob(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ob(e,t){if(!e)return e;if(Db(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ob(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ob(e[r],t));return n}return e}function Lb(e,t){return e.data=Fb(e.data,t),delete e.attachments,e}function Fb(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Fb(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Fb(e[n],t));return e}const zb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Bb=5;var Wb;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Wb||(Wb={}));class Vb{constructor(e){this.replacer=e}encode(e){return e.type!==Wb.EVENT&&e.type!==Wb.ACK||!Rb(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Wb.EVENT?Wb.BINARY_EVENT:Wb.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Wb.BINARY_EVENT&&e.type!==Wb.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Pb(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Ub(e){return"[object Object]"===Object.prototype.toString.call(e)}class Hb extends Jv{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Wb.BINARY_EVENT;n||t.type===Wb.BINARY_ACK?(t.type=n?Wb.EVENT:Wb.ACK,this.reconstructor=new qb(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Db(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Wb[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Wb.BINARY_EVENT||n.type===Wb.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Hb.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(die){return!1}}static isPayloadValid(e,t){switch(e){case Wb.CONNECT:return Ub(t);case Wb.DISCONNECT:return void 0===t;case Wb.CONNECT_ERROR:return"string"===typeof t||Ub(t);case Wb.EVENT:case Wb.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===zb.indexOf(t[0]));case Wb.ACK:case Wb.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qb{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Lb(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Gb(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Yb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Xb extends Jv{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gb(e,"open",this.onopen.bind(this)),Gb(e,"packet",this.onpacket.bind(this)),Gb(e,"error",this.onerror.bind(this)),Gb(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(Yb.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Wb.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const e=this.ids++,t=n.pop();this._registerAckCallback(e,t),i.id=e}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const a=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),o=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];n(null,...a)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Wb.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Wb.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Wb.EVENT:case Wb.BINARY_EVENT:this.onevent(e);break;case Wb.ACK:case Wb.BINARY_ACK:this.onack(e);break;case Wb.DISCONNECT:this.ondisconnect();break;case Wb.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.packet({type:Wb.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Wb.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Kb(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kb.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Kb.prototype.reset=function(){this.attempts=0},Kb.prototype.setMin=function(e){this.ms=e},Kb.prototype.setMax=function(e){this.max=e},Kb.prototype.setJitter=function(e){this.jitter=e};class Zb extends Jv{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,nb(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Kb({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Tb(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Gb(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=Gb(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gb(e,"ping",this.onping.bind(this)),Gb(e,"data",this.ondata.bind(this)),Gb(e,"error",this.onerror.bind(this)),Gb(e,"close",this.onclose.bind(this)),Gb(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(die){this.onclose("parse error",die)}}ondecoded(e){xb((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Xb(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Jb={};function Qb(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Ab(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=Jb[i]&&a in Jb[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new Zb(r,t):(Jb[i]||(Jb[i]=new Zb(r,t)),s=Jb[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(Qb,{Manager:Zb,Socket:Xb,io:Qb,connect:Qb});var $b=__webpack_require__(6178),ey=__webpack_require__.n($b);const ty=function(e){let{data:t}=e;return(0,It.jsx)(It.Fragment,{children:t.PaymentIntentId&&(0,It.jsx)("div",{children:(0,It.jsxs)("div",{className:" rounded mb-2 w-100 d-md-block w-md-75 my-div",children:[(0,It.jsxs)("div",{class:"d-flex",children:[(0,It.jsxs)("div",{class:"p-2 flex-fill",children:[(0,It.jsx)("small",{className:"text-muted",children:"2"===t.status?(0,It.jsxs)("strike",{children:[ey()(t.startDate).calendar()," -"," ",ey()(t.endDate).calendar()]}):(0,It.jsxs)(It.Fragment,{children:[" ",ey()(t.startDate).calendar()," -"," ",ey()(t.endDate).calendar()]})}),"1"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-tertiary",children:[(0,It.jsx)("i",{class:"bi bi-check-circle-fill"})," ",(0,It.jsx)("strong",{children:"En attente de paiement"})]})}),"0"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-warning",children:[(0,It.jsx)("i",{class:"bi bi-clock-history"})," ",(0,It.jsx)("strong",{children:"En attente de confirmation"})]})}),"2"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-danger",children:[(0,It.jsx)("i",{class:"bi bi-x-circle-fill"})," ",(0,It.jsx)("strong",{children:"Reservation annul\xe9e"})]})}),"3"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-primary",children:[(0,It.jsx)("i",{class:"bi bi-bag-check-fill"})," ",(0,It.jsx)("strong",{children:"Reservation confirm\xe9e"}),(0,It.jsx)("span",{className:"small",children:" (pay\xe9)"})]})}),"2"===t.status&&(0,It.jsxs)("small",{className:"text-muted",children:["Vous avez annul\xe9 le ",ey()(t.updatedAt).calendar()]})]}),(0,It.jsx)("div",{class:"p-2 flex-fill d-flex flex-column align-items-end",style:{width:"170px"},children:(0,It.jsx)("div",{class:"logo ms-auto",children:(0,It.jsx)("img",{class:"",src:t.Invite.profile_url||Cv,alt:"Annonce voiture",height:"80",width:"100",style:{borderRadius:"0.5rem"}})})})]}),(0,It.jsx)(yv,{})]})})})};const ny=function(e){let{data:t}=e;const[n,r]=(0,o.useState)(!1);return(0,It.jsx)(Ne,{to:"/inbox/messages/thread/"+t.reservationId,children:(0,It.jsx)("div",{className:" w-100 d-md-block w-md-75 my-div ".concat(n?"hovered":""),onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},children:(0,It.jsxs)("div",{class:" row",children:[(0,It.jsx)("div",{class:"col-4",children:(0,It.jsx)("img",{src:Cv,alt:"",width:"80px"})}),(0,It.jsxs)("div",{class:"col-5",children:[(0,It.jsxs)("small",{className:"text-muted",children:["Ancien voyage dans le ",t.Vehicle.VehicleModel.marque," ",t.Vehicle.VehicleModel.modele]}),(0,It.jsx)("p",{className:"text-tertiary",children:(0,It.jsx)("span",{children:(0,It.jsxs)("strong",{children:[t.Invite.firstName," ",t.Invite.lastName,"."]})})}),(0,It.jsx)("p",{className:"text-secondary",children:t.Vehicle.description})]}),(0,It.jsx)("div",{class:"col-md-3",children:(0,It.jsx)("small",{className:"text-muted",children:ey()(t.createdAt).calendar()})})]})})})};const ry=function(){const e=te();return(0,It.jsxs)("ul",{class:"nav nav-pills mb-3 d-flex justify-content-center align-items-center",id:"pills-tab",role:"tablist",children:[(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)(Ne,{class:e.pathname.includes("demandes")?"nav-link active":"nav-link",to:"/account/demandes",children:"Demandes"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)(Ne,{class:e.pathname.includes("locations")?"nav-link active":"nav-link",to:"/account/locations",children:"Locations"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)(Ne,{class:e.pathname.includes("voiture")?"nav-link active":"nav-link",to:"/account/voitures",children:"voiture"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)(Ne,{class:e.pathname.includes("performances")?"nav-link active":"nav-link",to:"/account/performances",children:"performances"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)(Ne,{class:e.pathname.includes("earnings")?"nav-link active":"nav-link",to:"/business/earnings",children:"paiements"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)(Ne,{class:e.pathname.includes("compte")?"nav-link active":"nav-link",children:"compte"})})]})};const iy=function(e){let{data:t}=e;const[n,r]=(0,o.useState)(!1);return(0,It.jsx)("div",{className:" w-100 styled-image d-md-block w-md-75 my-div ".concat(n?"hovered":""),onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},onTouchStart:()=>{r(!0)},onTouchEnd:()=>{r(!1)},children:(0,It.jsxs)("div",{class:"row",children:[(0,It.jsx)("div",{class:"col-md-2 col-4",children:(0,It.jsx)("img",{src:Cv,alt:"",width:"80px"})}),(0,It.jsxs)("div",{class:"col-8 position-relative",children:[(0,It.jsxs)("p",{className:"text-tertiary h4",children:[(0,It.jsx)("span",{children:(0,It.jsx)("strong",{children:t.Titre})}),(0,It.jsx)("span",{class:"position-absolute top-50 start-100 translate-middle p-2 bg-primary border border-primary rounded-circle",children:(0,It.jsx)("span",{class:"visually-hidden",children:"New alerts"})})]}),(0,It.jsx)("p",{className:"small text-muted",children:t.message}),(0,It.jsx)("small",{className:"text-muted",children:ey()(t.createdAt).calendar()})]})]})})},ay=Qb("https://moovicar-9c0b59206766.herokuapp.com");const oy=function(){var e;const t=(0,xv.q)(),[n,r]=(0,o.useState)([]),[i,a]=(0,o.useState)([]),s=(null===(e=JSON.parse(window.localStorage.getItem("me")))||void 0===e?void 0:e.id)||5;return(0,o.useEffect)((()=>{localStorage.setItem("mode","host")}),[]),(0,o.useEffect)((()=>{(async()=>{try{const e=await t.get("/reservations/getbydriverid/"+s);if(e.data){const t=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));r(t)}const n=await t.get("/notifications/searchbyuserid/"+s);if(n.data){const e=n.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));a(e)}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,o.useEffect)((()=>{(async()=>{try{ay.on("connect",(()=>{console.log("WebSocket Client Connected successfully lorem ipsum "),console.log("Socket ID:",ay.id),ay.emit("register",s),ay.on("notification",(e=>{a((t=>[e,...t])),console.log(e)}))}));const e=await t.get("/notifications/searchbyuserid/"+s);if(e){const t=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));a(t)}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)("div",{className:"d-none d-md-block",children:(0,It.jsx)(ry,{})}),(0,It.jsx)("hr",{}),(0,It.jsxs)("ul",{class:"nav nav-pills mb-3 d-flex justify-content-center align-items-center",id:"pills-tab",role:"tablist",children:[(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsxs)("button",{class:"nav-link active",id:"pills-reserves-tab","data-bs-toggle":"pill","data-bs-target":"#pills-reserves",type:"button",role:"tab","aria-controls":"pills-reserves","aria-selected":"true",children:["Reserv\xe9s"," ",(0,It.jsx)("span",{class:"badge text-bg-danger border border-danger",children:n.length})]})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)("button",{class:"nav-link",id:"pills-historique-tab","data-bs-toggle":"pill","data-bs-target":"#pills-historique",type:"button",role:"tab","aria-controls":"pills-historique","aria-selected":"false",children:"Historique"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsx)("button",{class:"nav-link",id:"pills-calendrier-tab","data-bs-toggle":"pill","data-bs-target":"#pills-calendrier",type:"button",role:"tab","aria-controls":"pills-calendrier","aria-selected":"false",children:"Calendrier"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsxs)("button",{class:"nav-link",id:"pills-messages-tab","data-bs-toggle":"pill","data-bs-target":"#pills-messages",type:"button",role:"tab","aria-controls":"pills-messages","aria-selected":"false",children:["Messages"," ",(0,It.jsx)("span",{class:"badge text-bg-danger border border-danger",children:n.length})]})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",children:(0,It.jsxs)("button",{class:"nav-link",id:"pills-notifications-tab","data-bs-toggle":"pill","data-bs-target":"#pills-notifications",type:"button",role:"tab","aria-controls":"pills-notifications","aria-selected":"false",children:["Notifications"," ",(0,It.jsx)("span",{class:"badge text-bg-danger border border-danger",children:i.length})]})})]}),(0,It.jsxs)("div",{class:"tab-content  d-flex align-items-center flex-column row mb-3",id:"pills-tabContent",children:[(0,It.jsxs)("div",{class:"tab-pane fade col-md-8 show active",id:"pills-reserves",role:"tabpanel","aria-labelledby":"pills-reserves-tab",tabindex:"0",children:[(0,It.jsx)("h2",{children:"Reserv\xe9s"}),n&&n.map((e=>(0,It.jsx)(ty,{annuler:!0,data:e},e.id))),0===n.length&&(0,It.jsx)("div",{class:"",children:(0,It.jsxs)("div",{class:"shadow bg-body-tertiary rounded d-flex flex-column justify-content-center align-items-center",children:[(0,It.jsx)("img",{class:"mb-2",src:"char.svg",alt:"",width:"250"}),(0,It.jsx)("h3",{children:"Pas de demandes de r\xe9servation"}),(0,It.jsx)("p",{children:"Vous n'avez aucune demande de r\xe9servation pour le moment. Pourquoi ne pas perfectionner un peu votre annonce ?"}),(0,It.jsx)("a",{class:"btn btn-tertiary mb-3",href:"#",children:"Gerer mes annonces"})]})})]}),(0,It.jsxs)("div",{class:"tab-pane fade",id:"pills-historique",role:"tabpanel","aria-labelledby":"pills-historique-tab",tabindex:"0",children:[(0,It.jsx)("h2",{children:"Historique"}),(0,It.jsx)("div",{className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsx)("nav",{"aria-label":"Page navigation example",children:(0,It.jsxs)("ul",{class:"pagination",children:[(0,It.jsx)("li",{class:"page-item",children:(0,It.jsx)("a",{class:"page-link",href:"#","aria-label":"Previous",children:(0,It.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,It.jsx)("li",{class:"page-item",children:(0,It.jsx)("a",{class:"page-link",href:"#",children:"1"})}),(0,It.jsx)("li",{class:"page-item",children:(0,It.jsx)("a",{class:"page-link",href:"#",children:"2"})}),(0,It.jsx)("li",{class:"page-item",children:(0,It.jsx)("a",{class:"page-link",href:"#",children:"3"})}),(0,It.jsx)("li",{class:"page-item",children:(0,It.jsx)("a",{class:"page-link",href:"#","aria-label":"Next",children:(0,It.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})]}),(0,It.jsx)("div",{class:"tab-pane fade",id:"pills-calendrier",role:"tabpanel","aria-labelledby":"pills-calendrier-tab",tabindex:"0",children:"Contenu de Calendrier..."}),(0,It.jsxs)("div",{class:"tab-pane fade col-md-9",id:"pills-messages",role:"tabpanel","aria-labelledby":"pills-messages-tab",tabindex:"0",children:[(0,It.jsx)("h2",{children:"Messages"}),(0,It.jsxs)("div",{className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:[" ",n&&n.map((e=>(0,It.jsx)(ny,{data:e},e.id)))]})]}),(0,It.jsxs)("div",{class:"tab-pane fade col-md-9",id:"pills-notifications",role:"tabpanel","aria-labelledby":"pills-notifications-tab",tabindex:"0",children:[(0,It.jsx)("h2",{children:"Notifications"}),(0,It.jsx)("p",{children:"Activit\xe9s"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:[" ",i&&i.map((e=>(0,It.jsx)(iy,{data:e},e.id)))]})]})]})]})})};function sy(e){return sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(e)}function ly(e){var t=function(e,t){if("object"!=sy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sy(t)?t:t+""}function cy(e,t,n){return(t=ly(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uy(e){return e+.5|0}const dy=(e,t,n)=>Math.max(Math.min(e,n),t);function hy(e){return dy(uy(2.55*e),0,255)}function py(e){return dy(uy(255*e),0,255)}function fy(e){return dy(uy(e/2.55)/100,0,1)}function my(e){return dy(uy(100*e),0,100)}const gy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vy=[..."0123456789ABCDEF"],by=e=>vy[15&e],yy=e=>vy[(240&e)>>4]+vy[15&e],xy=e=>(240&e)>>4===(15&e);function wy(e){var t=(e=>xy(e.r)&&xy(e.g)&&xy(e.b)&&xy(e.a))(e)?by:yy;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const _y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ky(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Sy(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Cy(e,t,n){const r=ky(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Ay(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o=(i+a)/2;let s,l,c;return i!==a&&(c=i-a,l=o>.5?c/(2-i-a):c/(i+a),s=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),s=60*s+.5),[0|s,l||0,o]}function Ty(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(py)}function Iy(e,t,n){return Ty(ky,e,t,n)}function Ey(e){return(e%360+360)%360}function Ny(e){const t=_y.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?hy(+t[5]):py(+t[5]));const i=Ey(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Ty(Cy,e,t,n)}(i,a,o):"hsv"===t[1]?function(e,t,n){return Ty(Sy,e,t,n)}(i,a,o):Iy(i,a,o),{r:n[0],g:n[1],b:n[2],a:r}}const My={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Dy;function Ry(e){Dy||(Dy=function(){const e={},t=Object.keys(jy),n=Object.keys(My);let r,i,a,o,s;for(r=0;r<t.length;r++){for(o=s=t[r],i=0;i<n.length;i++)a=n[i],s=s.replace(a,My[a]);a=parseInt(jy[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),Dy.transparent=[0,0,0,0]);const t=Dy[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Py=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Oy=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ly=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Fy(e,t,n){if(e){let r=Ay(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Iy(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function zy(e,t){return e?Object.assign(t||{},e):e}function By(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=py(e[3]))):(t=zy(e,{r:0,g:0,b:0,a:1})).a=py(t.a),t}function Wy(e){return"r"===e.charAt(0)?function(e){const t=Py.exec(e);let n,r,i,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?hy(e):dy(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?hy(n):dy(n,0,255)),r=255&(t[4]?hy(r):dy(r,0,255)),i=255&(t[6]?hy(i):dy(i,0,255)),{r:n,g:r,b:i,a:a}}}(e):Ny(e)}class Vy{constructor(e){if(e instanceof Vy)return e;const t=typeof e;let n;"object"===t?n=By(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*gy[e[1]],g:255&17*gy[e[2]],b:255&17*gy[e[3]],a:5===n?17*gy[e[4]]:255}:7!==n&&9!==n||(t={r:gy[e[1]]<<4|gy[e[2]],g:gy[e[3]]<<4|gy[e[4]],b:gy[e[5]]<<4|gy[e[6]],a:9===n?gy[e[7]]<<4|gy[e[8]]:255})),t}(e)||Ry(e)||Wy(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=zy(this._rgb);return e&&(e.a=fy(e.a)),e}set rgb(e){this._rgb=By(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(fy(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?wy(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ay(e),n=t[0],r=my(t[1]),i=my(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(fy(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const a=t===i?.5:t,o=2*a-1,s=n.a-r.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Ly(fy(e.r)),i=Ly(fy(e.g)),a=Ly(fy(e.b));return{r:py(Oy(r+n*(Ly(fy(t.r))-r))),g:py(Oy(i+n*(Ly(fy(t.g))-i))),b:py(Oy(a+n*(Ly(fy(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Vy(this.rgb)}alpha(e){return this._rgb.a=py(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=uy(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fy(this._rgb,2,e),this}darken(e){return Fy(this._rgb,2,-e),this}saturate(e){return Fy(this._rgb,1,e),this}desaturate(e){return Fy(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Ay(e);n[0]=Ey(n[0]+t),n=Iy(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Uy(){}const Hy=(()=>{let e=0;return()=>e++})();function qy(e){return null===e||"undefined"===typeof e}function Gy(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Yy(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Xy(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Ky(e,t){return Xy(e)?e:t}function Zy(e,t){return"undefined"===typeof e?t:e}const Jy=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Qy(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function $y(e,t,n,r){let i,a,o;if(Gy(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(Yy(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function ex(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function tx(e){if(Gy(e))return e.map(tx);if(Yy(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=tx(e[n[i]]);return t}return e}function nx(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function rx(e,t,n,r){if(!nx(e))return;const i=t[e],a=n[e];Yy(i)&&Yy(a)?ix(i,a,r):t[e]=tx(a)}function ix(e,t,n){const r=Gy(t)?t:[t],i=r.length;if(!Yy(e))return e;const a=(n=n||{}).merger||rx;let o;for(let s=0;s<i;++s){if(o=r[s],!Yy(o))continue;const t=Object.keys(o);for(let r=0,i=t.length;r<i;++r)a(t[r],e,o,n)}return e}function ax(e,t){return ix(e,t,{merger:ox})}function ox(e,t,n){if(!nx(e))return;const r=t[e],i=n[e];Yy(r)&&Yy(i)?ax(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=tx(i))}const sx={"":e=>e,x:e=>e.x,y:e=>e.y};function lx(e,t){const n=sx[t]||(sx[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function cx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ux=e=>"undefined"!==typeof e,dx=e=>"function"===typeof e,hx=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const px=Math.PI,fx=2*px,mx=fx+px,gx=Number.POSITIVE_INFINITY,vx=px/180,bx=px/2,yx=px/4,xx=2*px/3,wx=Math.log10,_x=Math.sign;function kx(e,t,n){return Math.abs(e-t)<n}function Sx(e){const t=Math.round(e);e=kx(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(wx(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Cx(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ax(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Tx(e){return e*(px/180)}function Ix(e){return e*(180/px)}function Ex(e){if(!Xy(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Nx(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*px&&(a+=fx),{angle:a,distance:i}}function Mx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jx(e,t){return(e-t+mx)%fx-px}function Dx(e){return(e%fx+fx)%fx}function Rx(e,t,n,r){const i=Dx(e),a=Dx(t),o=Dx(n),s=Dx(a-i),l=Dx(o-i),c=Dx(i-a),u=Dx(i-o);return i===a||i===o||r&&a===o||s>l&&c<u}function Px(e,t,n){return Math.max(t,Math.min(n,e))}function Ox(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Lx(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,a=0;for(;i-a>1;)r=a+i>>1,n(r)?a=r:i=r;return{lo:a,hi:i}}const Fx=(e,t,n,r)=>Lx(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),zx=(e,t,n)=>Lx(e,n,(r=>e[r][t]>=n));const Bx=["push","pop","shift","splice","unshift"];function Wx(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Bx.forEach((t=>{delete e[t]})),delete e._chartjs)}function Vx(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ux="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Hx(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,r||(r=!0,Ux.call(window,(()=>{r=!1,e.apply(t,n)})))}}const qx=e=>"start"===e?"left":"end"===e?"right":"center",Gx=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Yx(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:o,_parsed:s}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=Px(Math.min(Fx(s,l,c).lo,n?r:Fx(t,l,o.getPixelForValue(c)).lo),0,r-1)),a=h?Px(Math.max(Fx(s,o.axis,u,!0).hi+1,n?0:Fx(t,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:a}}function Xx(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const Kx=e=>0===e||1===e,Zx=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*fx/n),Jx=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*fx/n)+1,Qx={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*bx),easeOutSine:e=>Math.sin(e*bx),easeInOutSine:e=>-.5*(Math.cos(px*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Kx(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Kx(e)?e:Zx(e,.075,.3),easeOutElastic:e=>Kx(e)?e:Jx(e,.075,.3),easeInOutElastic(e){const t=.1125;return Kx(e)?e:e<.5?.5*Zx(2*e,t,.45):.5+.5*Jx(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Qx.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Qx.easeInBounce(2*e):.5*Qx.easeOutBounce(2*e-1)+.5};function $x(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ew(e){return $x(e)?e:new Vy(e)}function tw(e){return $x(e)?e:new Vy(e).saturate(.5).darken(.1).hexString()}const nw=["x","y","borderWidth","radius","tension"],rw=["color","borderColor","backgroundColor"];const iw=new Map;function aw(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=iw.get(n);return r||(r=new Intl.NumberFormat(e,t),iw.set(n,r)),r}(t,n).format(e)}const ow={values:e=>Gy(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=wx(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),aw(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(wx(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?ow.numeric.call(this,e,t,n):""}};var sw={formatters:ow};const lw=Object.create(null),cw=Object.create(null);function uw(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function dw(e,t,n){return"string"===typeof t?ix(uw(e,t),n):ix(uw(e,""),t)}class hw{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>tw(t.backgroundColor),this.hoverBorderColor=(e,t)=>tw(t.borderColor),this.hoverColor=(e,t)=>tw(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return dw(this,e,t)}get(e){return uw(this,e)}describe(e,t){return dw(cw,e,t)}override(e,t){return dw(lw,e,t)}route(e,t,n,r){const i=uw(this,e),a=uw(this,n),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[r];return Yy(e)?Object.assign({},t,e):Zy(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var pw=new hw({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:rw},numbers:{type:"number",properties:nw}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function fw(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function mw(e,t,n,r){let i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,c,u,d,h;for(l=0;l<s;l++)if(d=n[l],void 0===d||null===d||Gy(d)){if(Gy(d))for(c=0,u=d.length;c<u;c++)h=d[c],void 0===h||null===h||Gy(h)||(o=fw(e,i,a,o,h))}else o=fw(e,i,a,o,d);e.restore();const p=a.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[a[l]];a.splice(0,p)}return o}function gw(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function vw(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function bw(e,t,n,r){yw(e,t,n,r,null)}function yw(e,t,n,r,i){let a,o,s,l,c,u,d,h;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*vx;if(p&&"object"===typeof p&&(a=p.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,r,i/2,m,0,0,fx):e.arc(n,r,m,0,fx),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=xx,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=xx,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+yx)*l,d=Math.cos(g+yx)*(i?i/2-c:l),s=Math.sin(g+yx)*l,h=Math.sin(g+yx)*(i?i/2-c:l),e.arc(n-d,r-s,c,g-px,g-bx),e.arc(n+h,r-o,c,g-bx,g),e.arc(n+d,r+s,c,g,g+bx),e.arc(n-h,r+o,c,g+bx,g+px),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=yx;case"rectRot":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-s),e.lineTo(n+h,r-o),e.lineTo(n+d,r+s),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":g+=yx;case"cross":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-s),e.lineTo(n+d,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-s),e.lineTo(n+d,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),g+=yx,d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-s),e.lineTo(n+d,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(g)*m,s=Math.sin(g)*m,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function xw(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ww(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function _w(e){e.restore()}function kw(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Sw(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Cw(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function Aw(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Tw(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Gy(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),qy(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&Aw(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),qy(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,r,a.maxWidth)),e.fillText(c,n,r,a.maxWidth),Cw(e,n,r,c,a),r+=Number(i.lineHeight);e.restore()}function Iw(e,t){const{x:n,y:r,w:i,h:a,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*px,px,!0),e.lineTo(n,r+a-o.bottomLeft),e.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,px,bx,!0),e.lineTo(n+i-o.bottomRight,r+a),e.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,bx,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-bx,!0),e.lineTo(n+o.topLeft,r)}const Ew=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Nw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Mw(e,t){const n=(""+e).match(Ew);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const jw=e=>+e||0;function Dw(e,t){const n={},r=Yy(t),i=r?Object.keys(t):t,a=Yy(e)?r?n=>Zy(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of i)n[o]=jw(a(o));return n}function Rw(e){return Dw(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Pw(e){return Dw(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ow(e){const t=Rw(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Lw(e,t){e=e||{},t=t||pw.font;let n=Zy(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Zy(e.style,t.style);r&&!(""+r).match(Nw)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Zy(e.family,t.family),lineHeight:Mw(Zy(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Zy(e.weight,t.weight),string:""};return i.string=function(e){return!e||qy(e.size)||qy(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Fw(e,t,n,r){let i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(o=e[i],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&Gy(o)&&(o=o[n%o.length],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}function zw(e,t){return Object.assign(Object.create(e),t)}function Bw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Jw("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Bw([r,...e],t,i,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>qw(n,r,(()=>function(e,t,n,r){let i;for(const a of t)if(i=Jw(Uw(a,e),n),"undefined"!==typeof i)return Hw(e,i)?Kw(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Qw(e).includes(t),ownKeys:e=>Qw(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Ww(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Vw(e,r),setContext:t=>Ww(e,t,n,r),override:i=>Ww(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>qw(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=e;let s=r[t];dx(s)&&o.isScriptable(t)&&(s=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,o||r);s.delete(e),Hw(e,l)&&(l=Kw(i._scopes,i,e,l));return l}(t,s,e,n));Gy(s)&&s.length&&(s=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:o,_descriptors:s}=n;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(Yy(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Kw(r,i,e,l);t.push(Ww(n,a,o&&o[e],s))}}return t}(t,s,e,o.isIndexable));Hw(t,s)&&(s=Ww(s,i,a&&a[t],o));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Vw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:dx(n)?n:()=>n,isIndexable:dx(r)?r:()=>r}}const Uw=(e,t)=>e?e+cx(t):t,Hw=(e,t)=>Yy(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function qw(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function Gw(e,t,n){return dx(e)?e(t,n):e}const Yw=(e,t)=>!0===e?t:"string"===typeof e?lx(t,e):void 0;function Xw(e,t,n,r,i){for(const a of t){const t=Yw(n,a);if(t){e.add(t);const a=Gw(t._fallback,n,i);if("undefined"!==typeof a&&a!==n&&a!==r)return a}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Kw(e,t,n,r){const i=t._rootScopes,a=Gw(t._fallback,n,r),o=[...e,...i],s=new Set;s.add(r);let l=Zw(s,o,n,a||n,r);return null!==l&&(("undefined"===typeof a||a===n||(l=Zw(s,o,a,l,r),null!==l))&&Bw(Array.from(s),[""],i,a,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Gy(i)&&Yy(n))return n;return i||{}}(t,n,r))))}function Zw(e,t,n,r,i){for(;n;)n=Xw(e,t,n,r,i);return n}function Jw(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Qw(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function $w(e,t,n,r){const{iScale:i}=e,{key:a="r"}=this._parsing,o=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=t[c],o[s]={r:i.parse(lx(u,a),c)};return o}const e_=Number.EPSILON||1e-14,t_=(e,t)=>t<e.length&&!e[t].skip&&e[t],n_=e=>"x"===e?"y":"x";function r_(e,t,n,r){const i=e.skip?t:e,a=t,o=n.skip?t:n,s=Mx(a,i),l=Mx(o,a);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:a.x-d*(o.x-i.x),y:a.y-d*(o.y-i.y)},next:{x:a.x+h*(o.x-i.x),y:a.y+h*(o.y-i.y)}}}function i_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=n_(t),r=e.length,i=Array(r).fill(0),a=Array(r);let o,s,l,c=t_(e,0);for(o=0;o<r;++o)if(s=l,l=c,c=t_(e,o+1),l){if(c){const e=c[t]-l[t];i[o]=0!==e?(c[n]-l[n])/e:0}a[o]=s?c?_x(i[o-1])!==_x(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(e,t,n){const r=e.length;let i,a,o,s,l,c=t_(e,0);for(let u=0;u<r-1;++u)l=c,c=t_(e,u+1),l&&c&&(kx(t[u],0,e_)?n[u]=n[u+1]=0:(i=n[u]/t[u],a=n[u+1]/t[u],s=Math.pow(i,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[u]=i*o*t[u],n[u+1]=a*o*t[u])))}(e,i,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=n_(n),i=e.length;let a,o,s,l=t_(e,0);for(let c=0;c<i;++c){if(o=s,s=l,l=t_(e,c+1),!s)continue;const i=s[n],u=s[r];o&&(a=(i-o[n])/3,s["cp1".concat(n)]=i-a,s["cp1".concat(r)]=u-a*t[c]),l&&(a=(l[n]-i)/3,s["cp2".concat(n)]=i+a,s["cp2".concat(r)]=u+a*t[c])}}(e,a,t)}function a_(e,t,n){return Math.max(Math.min(e,n),t)}function o_(e,t,n,r,i){let a,o,s,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)i_(e,i);else{let n=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=r_(n,s,e[Math.min(a+1,o-(r?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,r,i,a,o,s=xw(e[0],t);for(n=0,r=e.length;n<r;++n)o=a,a=s,s=n<r-1&&xw(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=a_(i.cp1x,t.left,t.right),i.cp1y=a_(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=a_(i.cp2x,t.left,t.right),i.cp2y=a_(i.cp2y,t.top,t.bottom)))}(e,n)}function s_(){return"undefined"!==typeof window&&"undefined"!==typeof document}function l_(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function c_(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const u_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const d_=["top","right","bottom","left"];function h_(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=d_[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const p_=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function f_(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=u_(n),a="border-box"===i.boxSizing,o=h_(i,"padding"),s=h_(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let o,s,l=!1;if(p_(i,a,e.target))o=i,s=a;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,s=r.clientY-e.top,l=!0}return{x:o,y:s,box:l}}(e,n),d=o.left+(u&&s.left),h=o.top+(u&&s.top);let{width:p,height:f}=t;return a&&(p-=o.width+s.width,f-=o.height+s.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-h)/f*n.height/r)}}const m_=e=>Math.round(10*e)/10;function g_(e,t,n,r){const i=u_(e),a=h_(i,"margin"),o=c_(i.maxWidth,e,"clientWidth")||gx,s=c_(i.maxHeight,e,"clientHeight")||gx,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const a=l_(e);if(a){const e=a.getBoundingClientRect(),o=u_(a),s=h_(o,"border","width"),l=h_(o,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,r=c_(o.maxWidth,a,"clientWidth"),i=c_(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||gx,maxHeight:i||gx}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=h_(i,"border","width"),t=h_(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-a.width),u=Math.max(0,r?c/r:u-a.height),c=m_(Math.min(c,o,l.maxWidth)),u=m_(Math.min(u,s,l.maxHeight)),c&&!u&&(u=m_(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=m_(Math.floor(u*r))),{width:c,height:u}}function v_(e,t,n){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}const b_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};s_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(die){}return e}();function y_(e,t){const n=function(e,t){return u_(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function x_(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function w_(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function __(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=x_(e,i,n),s=x_(i,a,n),l=x_(a,t,n),c=x_(o,s,n),u=x_(s,l,n);return x_(c,u,n)}function k_(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function S_(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function C_(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function A_(e){return"angle"===e?{between:Rx,compare:jx,normalize:Dx}:{between:Ox,compare:(e,t)=>e-t,normalize:e=>e}}function T_(e){let{start:t,end:n,count:r,loop:i,style:a}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:a}}function I_(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,o=t.length,{compare:s,between:l,normalize:c}=A_(r),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:r,start:i,end:a}=n,{between:o,normalize:s}=A_(r),l=t.length;let c,u,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,c=0,u=l;c<u&&o(s(t[d%l][r]),i,a);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,n),f=[];let m,g,v,b=!1,y=null;const x=()=>b||l(i,v,m)&&0!==s(i,v),w=()=>!b||0===s(a,m)||l(a,v,m);for(let _=u,k=u;_<=d;++_)g=t[_%o],g.skip||(m=c(g[r]),m!==v&&(b=l(m,i,a),null===y&&x()&&(y=0===s(m,i)?_:k),null!==y&&w()&&(f.push(T_({start:y,end:_,loop:h,count:o,style:p})),y=null),k=_,v=m));return null!==y&&f.push(T_({start:y,end:d,loop:h,count:o,style:p})),f}function E_(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=I_(r[i],e.points,t);a.length&&n.push(...a)}return n}function N_(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),a=M_(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,c=[];let u=a,d=t[0].start,h=d;function p(e,t,r,i){const a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const f of t){d=s?d:f.start;let e,t=n[d%l];for(h=d+1;h<=f.end;h++){const a=n[h%l];e=M_(r.setContext(zw(i,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),j_(e,u)&&p(d,h-1,f.loop,u),t=a,u=e}d<h-1&&p(d,h-1,f.loop,u)}return c}(e,t,n,r):t}function M_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function j_(e,t){if(!t)return!1;const n=[],r=function(e,t){return $x(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class D_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],a=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Ux.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let a,o=i.length-1,s=!1;for(;o>=0;--o)a=i[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(i[o]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var R_=new D_;const P_="transparent",O_={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=ew(e||P_),i=r.valid&&ew(t||P_);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class L_{constructor(e,t,n,r){const i=t[n];r=Fw([e.to,r,i,e.from]);const a=Fw([e.from,i,r]);this._active=!0,this._fn=e.fn||O_[e.type||typeof a],this._easing=Qx[e.easing]||Qx.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Fw([e.to,t,r,e.from]),this._from=Fw([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,a=this._loop,o=this._to;let s;if(this._active=i!==o&&(a||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=i:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class F_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Yy(e))return;const t=Object.keys(pw.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!Yy(i))return;const a={};for(const e of t)a[e]=i[e];(Gy(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(i[l]=u=new L_(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(R_.add(this._chart,n),!0):void 0}}function z_(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function B_(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function W_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,a="single"===r.mode;let o,s,l,c;if(null!==t){for(o=0,s=i.length;o<s;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=e.values[l],Xy(c)&&(a||0===t||_x(t)===_x(c))&&(t+=c)}return t}}function V_(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function U_(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function H_(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function q_(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=r,l=a.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,o,r),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=U_(i,u,n),h[s]=a,h._top=H_(h,o,!0,r.type),h._bottom=H_(h,o,!1,r.type);(h._visualValues||(h._visualValues={}))[s]=a}}function G_(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Y_(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const X_=e=>"reset"===e||"none"===e,K_=(e,t)=>t?e:Object.assign({},e);class Z_{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=V_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Y_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=Zy(n.xAxisID,G_(e,"x")),a=t.yAxisID=Zy(n.yAxisID,G_(e,"y")),o=t.rAxisID=Zy(n.rAxisID,G_(e,"r")),s=t.indexAxis,l=t.iAxisID=r(s,i,a,o),c=t.vAxisID=r(s,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Wx(this._data,this),e._stacked&&Y_(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Yy(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let r,i,a;for(r=0,i=t.length;r<i;++r)a=t[r],n[r]={x:a,y:e[a]};return n}(t);else if(n!==t){if(n){Wx(n,this);const e=this._cachedMeta;Y_(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Bx.forEach((t=>{const n="_onData"+cx(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];const o=r.apply(this,i);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...i)})),o}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=V_(t.vScale,t),t.stack!==n.stack&&(r=!0,Y_(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&q_(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:a}=n,o=i.axis;let s,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Gy(r[e])?this.parseArrayData(n,r,e,t):Yy(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[o]||d&&l[o]<d[o];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],u&&(i()&&(u=!1),d=l);n._sorted=u}a&&q_(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:a}=e,o=i.axis,s=a.axis,l=i.getLabels(),c=i===a,u=new Array(r);let d,h,p;for(d=0,h=r;d<h;++d)p=d+n,u[d]={[o]:c||i.parse(l[p],p),[s]:a.parse(t[p],p)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:a}=e,o=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=t[c],o[s]={x:i.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(lx(h,o),d),y:a.parse(lx(h,s),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,a=t[e.axis];return W_({keys:B_(r,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let a=null===i?NaN:i;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,a=W_(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,a=r.length,o=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:B_(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let d,h;function p(){h=r[d];const t=h[o.axis];return!Xy(h[e.axis])||c>t||u<t}for(d=0;d<a&&(p()||(this.updateRangeFromParsed(l,e,h,s),!i));++d);if(i)for(d=a-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,a;for(r=0,i=t.length;r<i;++r)a=t[r][e.axis],Xy(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Yy(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Zy(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=z_(e,n),i=z_(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,o,s),c=o;c<o+s;++c){const t=r[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return zw(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return zw(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,a=e+"-"+t,o=i[a],s=this.enableOptionSharing&&ux(n);if(o)return K_(o,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(pw.elements[e]),p=l.resolveNamedOptions(d,h,(()=>this.getContext(n,r,t)),u);return p.$shared&&(p.$shared=s,i[a]=Object.freeze(K_(p,s))),p}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,a="animation-".concat(t),o=i[a];if(o)return o;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),a=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(a,this.getContext(e,n,t))}const l=new F_(r,s&&s.animations);return s&&s._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||X_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}updateElement(e,t,n,r){X_(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!X_(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,s,l]of this._syncList)this[o](s,l);this._syncList=[];const r=n.length,i=t.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Y_(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function J_(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Vx(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,a,o,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(ux(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(r=0,i=n.length;r<i;++r)a=t.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=t.ticks.length;r<i;++r)a=t.getPixelForTick(r),l();return s}function Q_(e,t,n,r){return Gy(e)?function(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),o=Math.min(i,a),s=Math.max(i,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function $_(e,t,n,r){const i=e.iScale,a=e.vScale,o=i.getLabels(),s=i===a,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=t[c],d={},d[i.axis]=s||i.parse(o[c],c),l.push(Q_(h,d,a,c));return l}function ek(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function tk(e,t,n,r){let i=t.borderSkipped;const a={};if(!i)return void(e.borderSkipped=a);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(a[nk(u,o,s,l)]=!0,i=c)),a[nk(i,o,s,l)]=!0,e.borderSkipped=a}function nk(e,t,n,r){var i,a,o;return r?(o=n,e=rk(e=(i=e)===(a=t)?o:i===o?a:i,n,t)):e=rk(e,t,n),e}function rk(e,t,n){return"start"===e?t:"end"===e?n:e}function ik(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}cy(Z_,"defaults",{}),cy(Z_,"datasetElementType",null),cy(Z_,"dataElementType",null);class ak extends Z_{parsePrimitiveData(e,t,n,r){return $_(e,t,n,r)}parseArrayData(e,t,n,r){return $_(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l="x"===i.axis?o:s,c="x"===a.axis?o:s,u=[];let d,h,p,f;for(d=n,h=n+r;d<h;++d)f=t[d],p={},p[i.axis]=i.parse(lx(f,l),d),u.push(Q_(lx(f,c),p,a,d));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),a=i._custom,o=ek(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:a,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||qy(t[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||ek(t._custom)||a===f._top||a===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=m.options||e[h].options;tk(m,g,f,a),ik(m,g,c.ratio),this.updateElement(e[h],h,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,a=[],o=e=>{const n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(qy(r)||isNaN(r))return!0};for(const s of r)if((void 0===t||!o(s))&&((!1===i||-1===a.indexOf(s.stack)||void 0===i&&void 0===s.stack)&&a.push(s.stack),s.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,a;for(i=0,a=t.data.length;i<a;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||J_(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:a}}=this,o=i||0,s=this.getParsed(e),l=s._custom,c=ek(l);let u,d,h=s[t.axis],p=0,f=n?this.applyStack(t,s,n):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&_x(h)!==_x(l.barEnd)&&(p=0),p+=h);const m=qy(i)||c?p:i;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,d=u-g,Math.abs(d)<a){d=function(e,t,n){return 0!==e?_x(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*a,h===o&&(g-=d/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),p=Math.max(e,i);g=Math.max(Math.min(g,p),l),u=g+d,n&&!c&&(s._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(o)){const e=_x(d)*t.getLineWidthForValue(o)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,a=Zy(r.maxBarThickness,1/0);let o,s;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,a=i[e];let o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let a,o;return qy(i)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=i*r,o=1),{chunk:a/r,ratio:o,start:t.pixels[e]-a/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=l.start+l.chunk*c+l.chunk/2,s=Math.min(a,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(a,t.min*t.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}cy(ak,"id","bar"),cy(ak,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),cy(ak,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ok extends Z_{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=Zy(e[2],this.resolveDataElementOptions(a+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=Zy(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,r),c=a.axis,u=o.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!i&&this.getParsed(d),h={},p=h[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),f=h[u]=i?o.getBasePixel():o.getPixelForValue(n[u]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=s||this.resolveDataElementOptions(d,t.active?"active":r),i&&(h.options.radius=0)),this.updateElement(t,d,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=Zy(n&&n._custom,i),r}}cy(ok,"id","bubble"),cy(ok,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),cy(ok,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class sk extends Z_{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,a,o=e=>+n[e];if(Yy(n[e])){const{key:e="value"}=this._parsing;o=t=>+lx(n[t],e)}for(i=e,a=e+t;i<a;++i)r._parsed[i]=o(i)}}_getRotation(){return Tx(this.options.rotation-90)}_getCircumference(){return Tx(this.options.circumference)}_getRotationExtents(){let e=fx,t=-fx;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:p,offsetY:f}=function(e,t,n){let r=1,i=1,a=0,o=0;if(t<fx){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),h=Math.sin(l),p=(e,t,r)=>Rx(e,s,l,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>Rx(e,s,l,!0)?-1:Math.min(t,t*n,r,r*n),m=p(0,c,d),g=p(bx,u,h),v=f(px,c,d),b=f(px+bx,u,h);r=(m-v)/2,i=(g-b)/2,a=-(m+v)/2,o=-(g+b)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}(u,c,s),m=(n.width-a)/d,g=(n.height-a)/h,v=Math.max(Math.min(m,g)/2,0),b=Jy(this.options.radius,v),y=(b-Math.max(b*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=f*b,r.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/fx)}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,o=a.chartArea,s=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&s.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+n;++m){const t=this._circumference(m,i),n=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};f&&(a.options=p||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,a,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?fx*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=aw(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,a,o,s;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){a=n.getDatasetMeta(r),e=a.data,o=a.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)s=o.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Zy(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}cy(sk,"id","doughnut"),cy(sk,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),cy(sk,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),cy(sk,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class lk extends Z_{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=Yx(t,r,a);this._drawStart=o,this._drawCount=s,Xx(t)&&(o=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(r,o,s,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=a.axis,h=o.axis,{spanGaps:p,segment:f}=this.options,m=Cx(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,v=t+n,b=e.length;let y=t>0&&this.getParsed(t-1);for(let x=0;x<b;++x){const n=e[x],p=g?n:{};if(x<t||x>=v){p.skip=!0;continue}const b=this.getParsed(x),w=qy(b[h]),_=p[d]=a.getPixelForValue(b[d],x),k=p[h]=i||w?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,b,s):b[h],x);p.skip=isNaN(_)||isNaN(k)||w,p.stop=x>0&&Math.abs(b[d]-y[d])>m,f&&(p.parsed=b,p.raw=l.data[x]),u&&(p.options=c||this.resolveDataElementOptions(x,n.active?"active":r)),g||this.updateElement(n,x,p,r),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}cy(lk,"id","line"),cy(lk,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),cy(lk,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ck extends Z_{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=aw(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return $w.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,u=s.getIndexAngle(0)-.5*px;let d,h=u;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,r,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,f=h+this._computeAngle(d,r,p),m=a.getDataVisibility(d)?s.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=f,i&&(o.animateScale&&(m=0),o.animateRotate&&(n=f=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,t.active?"active":r)};this.updateElement(t,d,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Tx(this.resolveDataElementOptions(e,t).angle||n):0}}cy(ck,"id","polarArea"),cy(ck,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),cy(ck,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class uk extends sk{}cy(uk,"id","pie"),cy(uk,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class dk extends Z_{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return $w.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,a="reset"===r;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":r),s=i.getPointPositionForValue(o,this.getParsed(o).r),l=a?i.xCenter:s.x,c=a?i.yCenter:s.y,u={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,r)}}}cy(dk,"id","radar"),cy(dk,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),cy(dk,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hk extends Z_{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:a}=Yx(t,n,r);if(this._drawStart=i,this._drawCount=a,Xx(t)&&(i=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:a}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),d=this.includeOptions(r,u),h=a.axis,p=o.axis,{spanGaps:f,segment:m}=this.options,g=Cx(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),c=v?t:{},f=qy(n[p]),x=c[h]=a.getPixelForValue(n[h],y),w=c[p]=i||f?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[p],y);c.skip=isNaN(x)||isNaN(w)||f,c.stop=y>0&&Math.abs(n[h]-b[h])>g,m&&(c.parsed=n,c.raw=l.data[y]),d&&(c.options=u||this.resolveDataElementOptions(y,t.active?"active":r)),v||this.updateElement(t,y,c,r),b=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,a)/2}}cy(hk,"id","scatter"),cy(hk,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),cy(hk,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function pk(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fk{static override(e){Object.assign(fk.prototype,e)}constructor(e){cy(this,"options",void 0),this.options=e||{}}init(){}formats(){return pk()}parse(){return pk()}format(){return pk()}add(){return pk()}diff(){return pk()}startOf(){return pk()}endOf(){return pk()}}var mk=fk;function gk(e,t,n,r){const{controller:i,data:a,_sorted:o}=e,s=i._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const e=s._reversePixels?zx:Fx;if(!r)return e(a,t,n);if(i._sharedOptions){const r=a[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(a,t,n-i),o=e(a,t,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function vk(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:n}=a[s],{lo:l,hi:c}=gk(a[s],t,o,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function bk(e,t,n,r,i){const a=[];if(!i&&!e.isPointInArea(t))return a;return vk(e,n,t,(function(n,o,s){(i||xw(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function yk(e,t,n,r,i,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return vk(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!a||e.isPointInArea(h))&&!d)return;const p=s(t,h);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function xk(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?yk(e,t,n,r,i,a):function(e,t,n,r){let i=[];return vk(e,n,t,(function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Nx(e,{x:t.x,y:t.y});Rx(l,o,s)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function wk(e,t,n,r,i){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return vk(e,n,t,((e,r,l)=>{e[o](t[n],i)&&(a.push({element:e,datasetIndex:r,index:l}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:a}var _k={evaluateInteractionItems:vk,modes:{index(e,t,n,r){const i=f_(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?bk(e,i,a,r,o):xk(e,i,a,!1,r,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=f_(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?bk(e,i,a,r,o):xk(e,i,a,!1,r,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,r)=>bk(e,f_(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=f_(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return xk(e,i,a,n.intersect,r,o)},x:(e,t,n,r)=>wk(e,f_(t,e),"x",n.intersect,r),y:(e,t,n,r)=>wk(e,f_(t,e),"y",n.intersect,r)}};const kk=["left","top","right","bottom"];function Sk(e,t){return e.filter((e=>e.pos===t))}function Ck(e,t){return e.filter((e=>-1===kk.indexOf(e.pos)&&e.box.axis===t))}function Ak(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Tk(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!kk.includes(r))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*r:o&&t.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:o&&t.availableHeight)}return n}function Ik(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Ek(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Nk(e,t,n,r){const{pos:i,box:a}=n,o=e.maxPadding;if(!Yy(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[i]+=n.size}a.getPadding&&Ek(o,a.getPadding());const s=Math.max(0,t.outerWidth-Ik(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ik(o,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Mk(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function jk(e,t,n,r){const i=[];let a,o,s,l,c,u;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,Mk(s.horizontal,t));const{same:o,other:d}=Nk(t,n,s,r);c|=o&&i.length,u=u||d,l.fullSize||i.push(s)}return c&&jk(i,t,n,r)||u}function Dk(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Rk(e,t,n,r){const i=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const r=t.w*c,a=l.size||e.height;ux(l.start)&&(o=l.start),e.fullSize?Dk(e,i.left,o,n.outerWidth-i.right-i.left,a):Dk(e,t.left+l.placed,o,r,a),l.start=o,l.placed+=r,o=e.bottom}else{const r=t.h*c,o=l.size||e.width;ux(l.start)&&(a=l.start),e.fullSize?Dk(e,a,i.top,o,n.outerHeight-i.bottom-i.top):Dk(e,a,t.top+l.placed,o,r),l.start=a,l.placed+=r,a=e.right}}t.x=a,t.y=o}var Pk={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Ow(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),s=function(e){const t=function(e){const t=[];let n,r,i,a,o,s;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=i),t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=Ak(t.filter((e=>e.box.fullSize)),!0),r=Ak(Sk(t,"left"),!0),i=Ak(Sk(t,"right")),a=Ak(Sk(t,"top"),!0),o=Ak(Sk(t,"bottom")),s=Ck(t,"x"),l=Ck(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(o).concat(s),chartArea:Sk(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;$y(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);Ek(h,Ow(r));const p=Object.assign({maxPadding:h,w:a,h:o,x:i.left,y:i.top},i),f=Tk(l.concat(c),d);jk(s.fullSize,p,d,f),jk(l,p,d,f),jk(c,p,d,f)&&jk(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),Rk(s.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,Rk(s.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},$y(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class Ok{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Lk extends Ok{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fk="$chartjs",zk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bk=e=>null===e||""===e;const Wk=!!b_&&{passive:!0};function Vk(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Wk)}function Uk(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Hk(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Uk(n.addedNodes,r),t=t&&!Uk(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function qk(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Uk(n.removedNodes,r),t=t&&!Uk(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Gk=new Map;let Yk=0;function Xk(){const e=window.devicePixelRatio;e!==Yk&&(Yk=e,Gk.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Kk(e,t,n){const r=e.canvas,i=r&&l_(r);if(!i)return;const a=Hx(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return o.observe(i),function(e,t){Gk.size||window.addEventListener("resize",Xk),Gk.set(e,t)}(e,a),o}function Zk(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Gk.delete(e),Gk.size||window.removeEventListener("resize",Xk)}(e)}function Jk(e,t,n){const r=e.canvas,i=Hx((t=>{null!==e.ctx&&n(function(e,t){const n=zk[e.type]||e.type,{x:r,y:i}=f_(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Wk)}(r,t,i),i}class Qk extends Ok{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Fk]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bk(i)){const t=y_(e,"width");void 0!==t&&(e.width=t)}if(Bk(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=y_(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Fk])return!1;const n=t[Fk].initial;["height","width"].forEach((e=>{const r=n[e];qy(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[Fk],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Hk,detach:qk,resize:Kk}[t]||Jk;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Zk,detach:Zk,resize:Zk}[t]||Vk)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return g_(e,t,n,r)}isAttached(e){const t=l_(e);return!(!t||!t.isConnected)}}class $k{constructor(){cy(this,"x",void 0),cy(this,"y",void 0),cy(this,"active",!1),cy(this,"options",void 0),cy(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Cx(this.x)&&Cx(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function eS(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>i)return function(e,t,n,r){let i,a=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),a++,o=n[a*r])}(t,c,a,o/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const a=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let o=0,s=a.length-1;o<s;o++){const e=a[o];if(e>i)return e}return Math.max(i,1)}(a,t,i);if(o>0){let e,n;const r=o>1?Math.round((l-s)/(o-1)):null;for(tS(t,c,u,qy(r)?0:s-r,s),e=0,n=o-1;e<n;e++)tS(t,c,u,a[e],a[e+1]);return tS(t,c,u,l,qy(r)?t.length:l+r),c}return tS(t,c,u),c}function tS(e,t,n,r,i){const a=Zy(r,0),o=Math.min(Zy(i,e.length),e.length);let s,l,c,u=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}cy($k,"defaults",{}),cy($k,"defaultRoutes",void 0);const nS=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,rS=(e,t)=>Math.min(t||e,e);function iS(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function aS(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<a-s||c>o+s)))return c}function oS(e){return e.drawTicks?e.tickLength:0}function sS(e,t){if(!e.display)return 0;const n=Lw(e.font,t),r=Ow(e.padding);return(Gy(e.text)?e.text.length:1)*n.lineHeight+r.height}function lS(e,t,n){let r=qx(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class cS extends $k{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Ky(e,Number.POSITIVE_INFINITY),t=Ky(t,Number.NEGATIVE_INFINITY),n=Ky(n,Number.POSITIVE_INFINITY),r=Ky(r,Number.NEGATIVE_INFINITY),{min:Ky(e,n),max:Ky(t,r),minDefined:Xy(e),maxDefined:Xy(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let s=0,l=o.length;s<l;++s)t=o[s].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),a||(r=Math.max(r,t.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:Ky(n,Ky(r,n)),max:Ky(r,Ky(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qy(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,a=Jy(t,(i-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(a)),max:o(i,a)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?iS(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=eS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qy(this.options.afterUpdate,[this])}beforeSetDimensions(){Qy(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qy(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qy(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qy(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=Qy(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Qy(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qy(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=rS(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let a,o,s,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=Px(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),u+6>a&&(a=h/(n-(e.offset?.5:1)),o=this.maxHeight-oS(e.grid)-t.padding-sS(e.title,this.chart.options.font),s=Math.sqrt(u*u+d*d),l=Ix(Math.min(Math.asin(Px((c.highest.height+6)/a,-1,1)),Math.asin(Px(o/s,-1,1))-Math.asin(Px(d/s,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Qy(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qy(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=sS(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=oS(i)+a):(e.height=this.maxHeight,e.width=oS(i)+a),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:a}=this._getLabelSizes(),s=2*n.padding,l=Tx(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*i.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*i.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:a},position:o}=this.options,s=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;s?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+a,this.paddingBottom=r+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qy(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)qy(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=iS(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,a=[],o=[],s=Math.floor(t/rS(t,n));let l,c,u,d,h,p,f,m,g,v,b,y=0,x=0;for(l=0;l<t;l+=s){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=p=h.string,f=i[p]=i[p]||{data:{},gc:[]},m=h.lineHeight,g=v=0,qy(d)||Gy(d)){if(Gy(d))for(c=0,u=d.length;c<u;++c)b=d[c],qy(b)||Gy(b)||(g=fw(r,f.data,f.gc,g,b),v+=m)}else g=fw(r,f.data,f.gc,g,d),v=m;a.push(g),o.push(v),y=Math.max(g,y),x=Math.max(v,x)}!function(e,t){$y(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=a.indexOf(y),_=o.indexOf(x),k=e=>({width:a[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(_),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return Px(e,-32768,32767)}(this._alignToPixels?gw(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return zw(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return zw(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Tx(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,s=i?i.highest.height+a:0;return this.isHorizontal()?s*n>o*r?o/n:s/r:s*r<o*n?s/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:a,border:o}=r,s=i.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=oS(i),d=[],h=o.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,m=function(e){return gw(n,e,p)};let g,v,b,y,x,w,_,k,S,C,A,T;if("top"===a)g=m(this.bottom),w=this.bottom-u,k=g-f,C=m(e.top)+f,T=e.bottom;else if("bottom"===a)g=m(this.top),C=e.top,T=m(e.bottom)-f,w=g+f,k=this.top+u;else if("left"===a)g=m(this.right),x=this.right-u,_=g-f,S=m(e.left)+f,A=e.right;else if("right"===a)g=m(this.left),S=e.left,A=m(e.right)-f,x=g+f,_=this.left+u;else if("x"===t){if("center"===a)g=m((e.top+e.bottom)/2+.5);else if(Yy(a)){const e=Object.keys(a)[0],t=a[e];g=m(this.chart.scales[e].getPixelForValue(t))}C=e.top,T=e.bottom,w=g+f,k=w+u}else if("y"===t){if("center"===a)g=m((e.left+e.right)/2);else if(Yy(a)){const e=Object.keys(a)[0],t=a[e];g=m(this.chart.scales[e].getPixelForValue(t))}x=g-f,_=x-u,S=e.left,A=e.right}const I=Zy(r.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/I));for(v=0;v<c;v+=E){const e=this.getContext(v),t=i.setContext(e),r=o.setContext(e),a=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=aS(this,v,s),void 0!==b&&(y=gw(n,b,a),l?x=_=S=A=y:w=k=C=T=y,d.push({tx1:x,ty1:w,tx2:_,ty2:k,x1:S,y1:C,x2:A,y2:T,width:a,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=i,d=oS(n.grid),h=d+c,p=u?-c:h,f=-Tx(this.labelRotation),m=[];let g,v,b,y,x,w,_,k,S,C,A,T,I="middle";if("top"===r)w=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(Yy(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-h;else if(Yy(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===s?I="top":"end"===s&&(I="bottom"));const E=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){b=o[g],y=b.label;const e=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),C=S.lineHeight,A=Gy(y)?y.length:1;const t=A/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(a?(x=k,"inner"===_&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===l||0!==f?-A*C+C/2:"center"===l?-E.highest.height/2-t*C+C:-E.highest.height+C/2:"near"===l||0!==f?C/2:"center"===l?E.highest.height/2-t*C:E.highest.height-A*C,u&&(T*=-1),0===f||e.showLabelBackdrop||(x+=C/2*Math.sin(f))):(w=k,T=(1-A)*C/2),e.showLabelBackdrop){const t=Ow(e.backdropPadding),n=E.heights[g],r=E.widths[g];let i=T-t.top,a=0-t.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":a-=r/2;break;case"right":a-=r;break;case"inner":g===v-1?a-=r:g>0&&(a-=r/2)}d={left:a,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:y,font:S,textOffset:T,options:{rotation:f,color:n,strokeColor:s,strokeWidth:c,textAlign:h,textBaseline:I,translation:[x,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Tx(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,a=e+i,o=this._getLabelSizes().widest.width;let s,l;return"left"===t?r?(l=this.right+i,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l+=o)):(l=this.right-a,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l-=o)):(l=this.left+a,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,a=r.length;i<a;++i){const e=r[i];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=gw(e,this.left,a)-a/2,c=gw(e,this.right,o)+o/2,u=d=s):(u=gw(e,this.top,a)-a/2,d=gw(e,this.bottom,o)+o/2,l=c=s),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&ww(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Tw(t,i.label,0,i.textOffset,n,e)}n&&_w(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Lw(n.font),a=Ow(n.padding),o=n.align;let s=i.lineHeight/2;"bottom"===t||"center"===t||Yy(t)?(s+=a.bottom,Gy(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const m=o-i,g=s-a;if(e.isHorizontal()){if(h=Gx(r,a,s),Yy(n)){const e=Object.keys(n)[0],r=n[e];p=u[e].getPixelForValue(r)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:nS(e,n,t);d=s-a}else{if(Yy(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:nS(e,n,t);p=Gx(r,o,i),f="left"===n?-bx:bx}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,s,t,o);Tw(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:lS(o,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Zy(e.grid&&e.grid.z,-1),r=Zy(e.border&&e.border.z,0);return this._isVisible()&&this.draw===cS.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];a[n]!==this.id||e&&a.type!==e||r.push(a)}return r}_resolveTickFontOptions(e){return Lw(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class uS{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=ix(Object.create(null),[n?pw.get(n):{},pw.get(t),e.defaults]);pw.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");pw.route(a,i,l,s)}))}(t,e.defaultRoutes);e.descriptors&&pw.describe(t,e.descriptors)}(e,a,n),this.override&&pw.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in pw[r]&&(delete pw[r][n],this.override&&delete lw[n])}}class dS{constructor(){this.controllers=new uS(Z_,"datasets",!0),this.elements=new uS($k,"elements"),this.plugins=new uS(Object,"plugins"),this.scales=new uS(cS,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):$y(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=cx(e);Qy(n["before"+r],[],n),t[e](n),Qy(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var hS=new dS;class pS{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===Qy(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){qy(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Zy(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(hS.plugins.items);for(let a=0;a<r.length;a++)n.push(hS.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const e=i[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:a}=t;const o=[],s=e.getContext();for(const l of i){const t=l.id,i=fS(n[t],r);null!==i&&o.push({plugin:l,options:mS(e.config,{plugin:l,local:a[t]},i,s)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function fS(e,t){return t||!1!==e?!0===e?{}:e:null}function mS(e,t,n,r){let{plugin:i,local:a}=t;const o=e.pluginScopeKeys(i),s=e.getOptionScopes(n,o);return a&&i.defaults&&s.push(i.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gS(e,t){const n=pw.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function vS(e){if("x"===e||"y"===e||"r"===e)return e}function bS(e){if(vS(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const a of n){const t=a.axis||("top"===(i=a.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&vS(e[0].toLowerCase());if(t)return t}var i;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function yS(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function xS(e,t){const n=lw[e.type]||{scales:{}},r=t.scales||{},i=gS(e.type,t),a=Object.create(null);return Object.keys(r).forEach((t=>{const o=r[t];if(!Yy(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=bS(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return yS(e,"x",n[0])||yS(e,"y",n[0])}return{}}(t,e),pw.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,i),c=n.scales||{};a[t]=ax(Object.create(null),[{axis:s},o,c[s],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,o=n.indexAxis||gS(i,t),s=(lw[i]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),ax(a[i],[{axis:t},r[i],s[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];ax(t,[pw.scales[t.type],pw.scale])})),a}function wS(e){const t=e.options||(e.options={});t.plugins=Zy(t.plugins,{}),t.scales=xS(e,t)}function _S(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const kS=new Map,SS=new Set;function CS(e,t){let n=kS.get(e);return n||(n=t(),kS.set(e,n),SS.add(n)),n}const AS=(e,t,n)=>{const r=lx(t,n);void 0!==r&&e.add(r)};class TS{constructor(e){this._config=function(e){return(e=e||{}).data=_S(e.data),wS(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_S(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),wS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return CS(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return CS("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return CS("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return CS("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>AS(s,e,t)))),t.forEach((e=>AS(s,r,e))),t.forEach((e=>AS(s,lw[i]||{},e))),t.forEach((e=>AS(s,pw,e))),t.forEach((e=>AS(s,cw,e)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),SS.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,lw[t]||{},pw.datasets[t]||{},{type:t},pw,cw]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:a,subPrefixes:o}=IS(this._resolverCache,e,r);let s=a;if(function(e,t){const{isScriptable:n,isIndexable:r}=Vw(e);for(const i of t){const t=n(i),a=r(i),o=(a||t)&&e[i];if(t&&(dx(o)||ES(o))||a&&Gy(o))return!0}return!1}(a,t)){i.$shared=!1;s=Ww(a,n=dx(n)?n():n,this.createResolver(e,n,o))}for(const l of t)i[l]=s[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=IS(this._resolverCache,e,n);return Yy(t)?Ww(i,t,void 0,r):i}}function IS(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);if(!a){a={resolver:Bw(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,a)}return a}const ES=e=>Yy(e)&&Object.getOwnPropertyNames(e).some((t=>dx(e[t])));const NS=["top","bottom","left","right","chartArea"];function MS(e,t){return"top"===e||"bottom"===e||-1===NS.indexOf(e)&&"x"===t}function jS(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function DS(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Qy(n&&n.onComplete,[e],t)}function RS(e){const t=e.chart,n=t.options.animation;Qy(n&&n.onProgress,[e],t)}function PS(e){return s_()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const OS={},LS=e=>{const t=PS(e);return Object.values(OS).filter((e=>e.canvas===t)).pop()};function FS(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const a=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=a)}}}function zS(e,t,n){return e.options.clip?e[n]:t[n]}class BS{static register(){hS.add(...arguments),WS()}static unregister(){hS.remove(...arguments),WS()}constructor(e,t){const n=this.config=new TS(t),r=PS(e),i=LS(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!s_()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Lk:Qk}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,a.aspectRatio),s=o&&o.canvas,l=s&&s.height,c=s&&s.width;this.id=Hy(),this.ctx=o,this.canvas=s,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],OS[this.id]=this,o&&s?(R_.listen(this,"complete",DS),R_.listen(this,"progress",RS),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return qy(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hS}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():v_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vw(this.canvas,this.ctx),this}stop(){return R_.stop(this),this}resize(e,t){R_.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,v_(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Qy(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){$y(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=bS(e,n),i="r"===r,a="x"===r;return{options:n,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),$y(i,(t=>{const i=t.options,a=i.id,o=bS(a,i),s=Zy(i.type,t.dtype);void 0!==i.position&&MS(i.position,o)===MS(t.dposition)||(i.position=t.dposition),r[a]=!0;let l=null;if(a in n&&n[a].type===s)l=n[a];else{l=new(hS.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),$y(r,((e,t)=>{e||delete n[t]})),$y(n,(e=>{Pk.configure(this,e,e.options),Pk.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(jS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const a=r.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=a,i.indexAxis=r.indexAxis||gS(a,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=hS.getController(a),{datasetElementType:r,dataElementType:o}=pw.datasets[a];Object.assign(t,{dataElementType:hS.getElement(o),datasetElementType:r&&hS.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){$y(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||$y(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jS("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){$y(this.scales,(e=>{Pk.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);hx(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){FS(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!hx(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Pk.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],$y(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,dx(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(R_.has(this)?this.attached&&!R_.running(this)&&R_.start(this):(this.draw(),DS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:zS(n,t,"left"),right:zS(n,t,"right"),top:zS(r,t,"top"),bottom:zS(r,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&ww(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&_w(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return xw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=_k.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=zw(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);ux(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),R_.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete OS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};$y(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){$y(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},$y(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,a,o,s;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!ex(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=i(t,e),o=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,a=t,o=this._getActiveElements(e,r,n,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Qy(i.onHover,[e,o,this],this),s&&Qy(i.onClick,[e,o,this],this));const c=!ex(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function WS(){return $y(BS.instances,(e=>e._plugins.invalidate()))}function VS(e,t,n,r){const i=function(e){return Dw(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,r*t/2),s=e=>{const t=(n-Math.min(a,e))*r/2;return Px(e,0,Math.min(a,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Px(i.innerStart,0,o),innerEnd:Px(i.innerEnd,0,o)}}function US(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function HS(e,t,n,r,i,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let p=0;const f=i-l;if(r){const e=((u>0?u-r:0)+(d>0?d-r:0))/2;p=(f-(0!==e?f*e/(e+r):f))/2}const m=(f-Math.max(.001,f*d-n/px)/d)/2,g=l+m+p,v=i-m-p,{outerStart:b,outerEnd:y,innerStart:x,innerEnd:w}=VS(t,h,d,v-g),_=d-b,k=d-y,S=g+b/_,C=v-y/k,A=h+x,T=h+w,I=g+x/A,E=v-w/T;if(e.beginPath(),a){const t=(S+C)/2;if(e.arc(o,s,d,S,t),e.arc(o,s,d,t,C),y>0){const t=US(k,C,o,s);e.arc(t.x,t.y,y,C,v+bx)}const n=US(T,v,o,s);if(e.lineTo(n.x,n.y),w>0){const t=US(T,E,o,s);e.arc(t.x,t.y,w,v+bx,E+Math.PI)}const r=(v-w/h+(g+x/h))/2;if(e.arc(o,s,h,v-w/h,r,!0),e.arc(o,s,h,r,g+x/h,!0),x>0){const t=US(A,I,o,s);e.arc(t.x,t.y,x,I+Math.PI,g-bx)}const i=US(_,g,o,s);if(e.lineTo(i.x,i.y),b>0){const t=US(_,S,o,s);e.arc(t.x,t.y,b,g-bx,S)}}else{e.moveTo(o,s);const t=Math.cos(S)*d+o,n=Math.sin(S)*d+s;e.lineTo(t,n);const r=Math.cos(C)*d+o,i=Math.sin(C)*d+s;e.lineTo(r,i)}e.closePath()}function qS(e,t,n,r,i){const{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(a){HS(e,t,n,r,f,i);for(let t=0;t<a;++t)e.stroke();isNaN(s)||(f=o+(s%fx||fx))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=i/s;e.beginPath(),e.arc(a,o,s,r-c,n+c),l>i?(c=i/l,e.arc(a,o,l,n+c,r-c,!0)):e.arc(a,o,i,n+bx,r-bx),e.closePath(),e.clip()}(e,t,f),a||(HS(e,t,n,r,f,i),e.stroke())}cy(BS,"defaults",pw),cy(BS,"instances",OS),cy(BS,"overrides",lw),cy(BS,"registry",hS),cy(BS,"version","4.4.2"),cy(BS,"getChart",LS);class GS extends $k{constructor(e){super(),cy(this,"circumference",void 0),cy(this,"endAngle",void 0),cy(this,"fullCircles",void 0),cy(this,"innerRadius",void 0),cy(this,"outerRadius",void 0),cy(this,"pixelMargin",void 0),cy(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:a}=Nx(r,{x:e,y:t}),{startAngle:o,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=Zy(u,s-o)>=fx||Rx(i,o,s),p=Ox(a,l+d,c+d);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(r+i)/2,u=(a+o+l+s)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>fx?Math.floor(n/fx):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);const s=r*(1-Math.sin(Math.min(px,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){HS(e,t,n,r,l,i);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=o+(s%fx||fx))}HS(e,t,n,r,l,i),e.fill()}(e,this,s,i,a),qS(e,this,s,i,a),e.restore()}}function YS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Zy(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Zy(n.borderDash,t.borderDash)),e.lineDashOffset=Zy(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Zy(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Zy(n.borderWidth,t.borderWidth),e.strokeStyle=Zy(n.borderColor,t.borderColor)}function XS(e,t,n){e.lineTo(n.x,n.y)}function KS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:a=r-1}=n,{start:o,end:s}=t,l=Math.max(i,o),c=Math.min(a,s),u=i<o&&a<o||i>s&&a>s;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function ZS(e,t,n,r){const{points:i,options:a}=t,{count:o,start:s,loop:l,ilen:c}=KS(i,n,r),u=function(e){return e.stepped?kw:e.tension||"monotone"===e.cubicInterpolationMode?Sw:XS}(a);let d,h,p,{move:f=!0,reverse:m}=r||{};for(d=0;d<=c;++d)h=i[(s+(m?c-d:d))%o],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):u(e,p,h,m,a.stepped),p=h);return l&&(h=i[(s+(m?c:0))%o],u(e,p,h,m,a.stepped)),!!l}function JS(e,t,n,r){const i=t.points,{count:a,start:o,ilen:s}=KS(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,p,f,m,g=0,v=0;const b=e=>(o+(c?s-e:e))%a,y=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(d=i[b(0)],e.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=i[b(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<p?p=n:n>f&&(f=n),g=(v*g+t)/++v):(y(),e.lineTo(t,n),h=r,v=0,p=f=n),m=n}y()}function QS(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?JS:ZS}cy(GS,"id","arc"),cy(GS,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),cy(GS,"defaultRoutes",{backgroundColor:"backgroundColor"}),cy(GS,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const $S="function"===typeof Path2D;function eC(e,t,n,r){$S&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),YS(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:a}=t,o=QS(t);for(const s of i)YS(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class tC extends $k{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;o_(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}(n,i,a,r);return N_(e,!0===r?[{start:o,end:s,loop:a}]:function(e,t,n,r){const i=e.length,a=[];let o,s=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%i];n.skip||n.stop?l.skip||(r=!1,a.push({start:t%i,end:(o-1)%i,loop:r}),t=s=n.stop?o:null):(s=o,l.skip&&(t=o)),l=n}return null!==s&&a.push({start:t%i,end:s%i,loop:r}),a}(n,o,s<o?s+i:s,!!e._fullLoop&&0===o&&s===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,a=E_(this,{property:t,start:r,end:r});if(!a.length)return;const o=[],s=function(e){return e.stepped?w_:e.tension||"monotone"===e.cubicInterpolationMode?__:x_}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],d=i[c],h=i[u];if(d===h){o.push(d);continue}const p=s(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return QS(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=QS(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)a&=i(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),eC(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function nC(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}cy(tC,"id","line"),cy(tC,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),cy(tC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),cy(tC,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class rC extends $k{constructor(e){super(),cy(this,"parsed",void 0),cy(this,"skip",void 0),cy(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return nC(this,e,"x",t)}inYRange(e,t){return nC(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!xw(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,bw(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function iC(e,t){const{x:n,y:r,base:i,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,d;return e.horizontal?(d=o/2,s=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=a/2,s=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:s,top:c,right:l,bottom:u}}function aC(e,t,n,r){return e?0:Px(t,n,r)}function oC(e){const t=iC(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=Rw(r);return{t:aC(i.top,a.top,0,n),r:aC(i.right,a.right,0,t),b:aC(i.bottom,a.bottom,0,n),l:aC(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Pw(i),o=Math.min(t,n),s=e.borderSkipped,l=r||Yy(i);return{topLeft:aC(!l||s.top||s.left,a.topLeft,0,o),topRight:aC(!l||s.top||s.right,a.topRight,0,o),bottomLeft:aC(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:aC(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function sC(e,t,n,r){const i=null===t,a=null===n,o=e&&!(i&&a)&&iC(e,r);return o&&(i||Ox(t,o.left,o.right))&&(a||Ox(n,o.top,o.bottom))}function lC(e,t){e.rect(t.x,t.y,t.w,t.h)}function cC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}cy(rC,"id","point"),cy(rC,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),cy(rC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class uC extends $k{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:a}=oC(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Iw:lC;var s;e.save(),a.w===i.w&&a.h===i.h||(e.beginPath(),o(e,cC(a,t,i)),e.clip(),o(e,cC(i,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,cC(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return sC(this,e,t,n)}inXRange(e,t){return sC(this,e,null,t)}inYRange(e,t){return sC(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}cy(uC,"id","bar"),cy(uC,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),cy(uC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dC=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class hC extends $k{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Qy(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Lw(n.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=dC(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,o,s)+10):(c=this.maxHeight,l=this._fitCols(a,r,o,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+i.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>a)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),s[p]={left:0,top:h,row:d,width:f,height:r},l[l.length-1]+=f+o})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=o,d=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const a=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=pC(t,n));return r}(i,r,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,i,e,r);a>0&&h+g+2*o>c&&(u+=d+o,l.push({width:d,height:h}),p+=d+o,f++,d=h=0),s[a]={left:p,top:h,col:f,width:m,height:g},d=Math.max(d,m),h+=g+o})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,a=k_(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=Gx(n,this.left+r,this.right-this.lineWidths[i]);for(const s of t)i!==s.row&&(i=s.row,o=Gx(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+e+r,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+r}else{let i=0,o=Gx(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const s of t)s.col!==i&&(i=s.col,o=Gx(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),s.top=o,s.left+=this.left+r,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;ww(e,this),this._draw(),_w(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:a}=e,o=pw.color,s=k_(e.rtl,this.left,this.width),l=Lw(a.font),{padding:c}=a,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=dC(a,u),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:Gx(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Gx(i,this.top+v+c,this.bottom-t[0].height),line:0},S_(this.ctx,e.textDirection);const b=m+c;this.legendItems.forEach(((y,x)=>{r.strokeStyle=y.fontColor,r.fillStyle=y.fontColor;const w=r.measureText(y.text).width,_=s.textAlign(y.textAlign||(y.textAlign=a.textAlign)),k=p+d+w;let S=h.x,C=h.y;s.setWidth(this.width),g?x>0&&S+k+c>this.right&&(C=h.y+=b,h.line++,S=h.x=Gx(i,this.left+c,this.right-n[h.line])):x>0&&C+b>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,C=h.y=Gx(i,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const i=Zy(n.lineWidth,1);if(r.fillStyle=Zy(n.fillStyle,o),r.lineCap=Zy(n.lineCap,"butt"),r.lineDashOffset=Zy(n.lineDashOffset,0),r.lineJoin=Zy(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Zy(n.strokeStyle,o),r.setLineDash(Zy(n.lineDash,[])),a.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=s.xPlus(e,p/2);yw(r,o,l,t+d,a.pointStyleWidth&&p)}else{const a=t+Math.max((u-f)/2,0),o=s.leftForLtr(e,p),l=Pw(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Iw(r,{x:o,y:a,w:p,h:f,radius:l}):r.rect(o,a,p,f),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(S),C,y),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+p+d,g?S+k:this.right,e.rtl),function(e,t,n){Tw(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(S),C,y),g)h.x+=k+c;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=pC(y,e)+c}else h.y+=b})),C_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Lw(t.font),r=Ow(t.padding);if(!t.display)return;const i=k_(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,l=r.top+s;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=Gx(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Gx(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Gx(o,u,u+d);a.textAlign=i.textAlign(qx(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Tw(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Lw(e.font),n=Ow(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Ox(e,this.left,this.right)&&Ox(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Ox(e,r.left,r.left+r.width)&&Ox(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&Qy(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&Qy(t.onHover,[e,n,this],this)}else n&&Qy(t.onClick,[e,n,this],this)}}function pC(e,t){return t*(e.text?e.text.length:0)}var fC={id:"legend",_element:hC,start(e,t,n){const r=e.legend=new hC({ctx:e.ctx,options:n,chart:e});Pk.configure(e,r,n),Pk.addBox(e,r)},stop(e){Pk.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Pk.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Ow(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(s||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class mC extends $k{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Gy(n.text)?n.text.length:1;this._padding=Ow(n.padding);const i=r*Lw(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:a}=this,o=a.align;let s,l,c,u=0;return this.isHorizontal()?(l=Gx(o,n,i),c=t+e,s=i-n):("left"===a.position?(l=n+e,c=Gx(o,r,t),u=-.5*px):(l=i-e,c=Gx(o,t,r),u=.5*px),s=r-t),{titleX:l,titleY:c,maxWidth:s,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Lw(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:o,rotation:s}=this._drawArgs(r);Tw(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:s,textAlign:qx(t.align),textBaseline:"middle",translation:[i,a]})}}var gC={id:"title",_element:mC,start(e,t,n){!function(e,t){const n=new mC({ctx:e.ctx,options:t,chart:e});Pk.configure(e,n,t),Pk.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Pk.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Pk.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const vC={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++a}}const o=[...r].reduce(((e,t)=>e+t))/r.size;return{x:o,y:i/a}},nearest(e,t){if(!e.length)return!1;let n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Mx(t,r.getCenterPoint());e<s&&(s=e,i=r)}}if(i){const e=i.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function bC(e,t){return t&&(Gy(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function yC(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function xC(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:o,value:s}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:s,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function wC(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=Lw(t.bodyFont),c=Lw(t.titleFont),u=Lw(t.footerFont),d=a.length,h=i.length,p=r.length,f=Ow(t.padding);let m=f.height,g=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){m+=p*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let b=0;const y=function(e){g=Math.max(g,n.measureText(e).width+b)};return n.save(),n.font=c.string,$y(e.title,y),n.font=l.string,$y(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?o+2+t.boxPadding:0,$y(r,(e=>{$y(e.before,y),$y(e.lines,y),$y(e.after,y)})),b=0,n.font=u.string,$y(e.footer,y),n.restore(),g+=f.width,{width:g,height:m}}function _C(e,t,n,r){const{x:i,width:a}=n,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return"center"===r?c=i<=(s+l)/2?"left":"right":i<=a/2?c="left":i>=o-a/2&&(c="right"),function(e,t,n,r){const{x:i,width:a}=r,o=n.caretSize+n.caretPadding;return"left"===e&&i+a+o>t.width||"right"===e&&i-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function kC(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||_C(e,t,n,r),yAlign:r}}function SC(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,c=i+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Pw(o);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===s?f+=c:"right"===s&&(f-=c):"left"===s?f-=Math.max(u,h)+i:"right"===s&&(f+=Math.max(d,p)+i),{x:Px(f,0,r.width-t.width),y:Px(m,0,r.height-t.height)}}function CC(e,t,n){const r=Ow(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function AC(e){return bC([],yC(e))}function TC(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const IC={beforeTitle:Uy,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Uy,beforeBody:Uy,beforeLabel:Uy,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return qy(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Uy,afterBody:Uy,beforeFooter:Uy,footer:Uy,afterFooter:Uy};function EC(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?IC[t].call(n,r):i}class NC extends $k{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new F_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,zw(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=EC(n,"beforeTitle",this,e),i=EC(n,"title",this,e),a=EC(n,"afterTitle",this,e);let o=[];return o=bC(o,yC(r)),o=bC(o,yC(i)),o=bC(o,yC(a)),o}getBeforeBody(e,t){return AC(EC(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return $y(e,(e=>{const t={before:[],lines:[],after:[]},i=TC(n,e);bC(t.before,yC(EC(i,"beforeLabel",this,e))),bC(t.lines,EC(i,"label",this,e)),bC(t.after,yC(EC(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return AC(EC(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=EC(n,"beforeFooter",this,e),i=EC(n,"footer",this,e),a=EC(n,"afterFooter",this,e);let o=[];return o=bC(o,yC(r)),o=bC(o,yC(i)),o=bC(o,yC(a)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],a=[];let o,s,l=[];for(o=0,s=t.length;o<s;++o)l.push(xC(this.chart,t[o]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),$y(l,(t=>{const n=TC(e.callbacks,t);r.push(EC(n,"labelColor",this,t)),i.push(EC(n,"labelPointStyle",this,t)),a.push(EC(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(r.length){const e=vC[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=wC(this,n),o=Object.assign({},e,t),s=kC(this.chart,n,o),l=SC(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=Pw(o),{x:d,y:h}=e,{width:p,height:f}=t;let m,g,v,b,y,x;return"center"===i?(y=h+f/2,"left"===r?(m=d,g=m-a,b=y+a,x=y-a):(m=d+p,g=m+a,b=y-a,x=y+a),v=m):(g="left"===r?d+Math.max(s,c)+a:"right"===r?d+p-Math.max(l,u)-a:this.caretX,"top"===i?(b=h,y=b-a,m=g-a,v=g+a):(b=h+f,y=b+a,m=g+a,v=g-a),x=b),{x1:m,x2:g,x3:v,y1:b,y2:y,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let a,o,s;if(i){const l=k_(n.rtl,this.x,this.width);for(e.x=CC(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=Lw(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<i;++s)t.fillText(r[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=i,c=Lw(i.bodyFont),u=CC(this,"left",i),d=r.x(u),h=s<c.lineHeight?(c.lineHeight-s)/2:0,p=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=p+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,bw(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,bw(e,t,n,c)}else{e.lineWidth=Yy(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),o=Pw(a.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Iw(e,{x:t,y:p,w:l,h:s,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Iw(e,{x:n,y:p+1,w:l-2,h:s-2,radius:o}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,p,l,s),e.strokeRect(t,p,l,s),e.fillStyle=a.backgroundColor,e.fillRect(n,p+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=Lw(n.bodyFont);let d=u.lineHeight,h=0;const p=k_(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+i},m=p.textAlign(a);let g,v,b,y,x,w,_;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=CC(this,m,n),t.fillStyle=n.bodyColor,$y(this.beforeBody,f),h=o&&"right"!==m?"center"===a?l/2+c:l+2+c:0,y=0,w=r.length;y<w;++y){for(g=r[y],v=this.labelTextColors[y],t.fillStyle=v,$y(g.before,f),b=g.lines,o&&b.length&&(this._drawColorBox(t,e,y,p,n),d=Math.max(u.lineHeight,s)),x=0,_=b.length;x<_;++x)f(b[x]),d=u.lineHeight;$y(g.after,f)}h=0,d=u.lineHeight,$y(this.afterBody,f),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let a,o;if(i){const s=k_(n.rtl,this.x,this.width);for(e.x=CC(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=Lw(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<i;++o)t.fillText(r[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:a}=this,{x:o,y:s}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Pw(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+u,s),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+l-d,s),t.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l,s+c-p),t.quadraticCurveTo(o+l,s+c,o+l-p,s+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+h,s+c),t.quadraticCurveTo(o,s+c,o,s+c-h),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,s+u),t.quadraticCurveTo(o,s,o+u,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=vC[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=wC(this,e),o=Object.assign({},n,this._size),s=kC(t,e,o),l=SC(e,o,s,t);r._to===l.x&&i._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Ow(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),S_(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),C_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!ex(n,r),a=this._positionChanged(r,t);(i||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),o=this._positionChanged(a,e),s=t||!ex(a,i)||o;return s&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,a=vC[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}cy(NC,"positioners",vC);var MC={id:"tooltip",_element:NC,positioners:vC,afterInit(e,t,n){n&&(e.tooltip=new NC({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:IC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function jC(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function DC(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class RC extends cS{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qy(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Px(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:jC(n,e,Zy(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return DC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function PC(e,t){const n=[],{bounds:r,step:i,min:a,max:o,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,p=c-1,{min:f,max:m}=t,g=!qy(a),v=!qy(o),b=!qy(l),y=(m-f)/(u+1);let x,w,_,k,S=Sx((m-f)/p/h)*h;if(S<1e-14&&!g&&!v)return[{value:f},{value:m}];k=Math.ceil(m/S)-Math.floor(f/S),k>p&&(S=Sx(k*S/p/h)*h),qy(s)||(x=Math.pow(10,s),S=Math.ceil(S*x)/x),"ticks"===r?(w=Math.floor(f/S)*S,_=Math.ceil(m/S)*S):(w=f,_=m),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-a)/i,S/1e3)?(k=Math.round(Math.min((o-a)/S,c)),S=(o-a)/k,w=a,_=o):b?(w=g?a:w,_=v?o:_,k=l-1,S=(_-w)/k):(k=(_-w)/S,k=kx(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const C=Math.max(Ex(S),Ex(w));x=Math.pow(10,qy(s)?C:s),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let A=0;for(g&&(d&&w!==a?(n.push({value:a}),w<a&&A++,kx(Math.round((w+A*S)*x)/x,a,OC(a,y,e))&&A++):w<a&&A++);A<k;++A){const e=Math.round((w+A*S)*x)/x;if(v&&e>o)break;n.push({value:e})}return v&&d&&_!==o?n.length&&kx(n[n.length-1].value,o,OC(o,y,e))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}function OC(e,t,n){let{horizontal:r,minRotation:i}=n;const a=Tx(i),o=(r?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}cy(RC,"id","category"),cy(RC,"defaults",{ticks:{callback:DC}});class LC extends cS{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qy(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const a=e=>r=t?r:e,o=e=>i=n?i:e;if(e){const e=_x(r),t=_x(i);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);o(i+t),e||a(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=PC({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ax(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return aw(e,this.chart.options.locale,this.options.ticks.format)}}class FC extends LC{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Xy(e)?e:0,this.max=Xy(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Tx(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}cy(FC,"id","linear"),cy(FC,"defaults",{ticks:{callback:sw.formatters.numeric}});const zC=e=>Math.floor(wx(e)),BC=(e,t)=>Math.pow(10,zC(e)+t);function WC(e){return 1===e/Math.pow(10,zC(e))}function VC(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function UC(e,t){let{min:n,max:r}=t;n=Ky(e.min,n);const i=[],a=zC(n);let o=function(e,t){let n=zC(t-e);for(;VC(e,t,n)>10;)n++;for(;VC(e,t,n)<10;)n--;return Math.min(n,zC(e))}(n,r),s=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=a>o?Math.pow(10,a):0,u=Math.round((n-c)*s)/s,d=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((u-d)/Math.pow(10,o)),p=Ky(e.min,Math.round((c+d+h*Math.pow(10,o))*s)/s);for(;p<r;)i.push({value:p,major:WC(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((c+d+h*Math.pow(10,o))*s)/s;const f=Ky(e.max,p);return i.push({value:f,major:WC(f),significand:h}),i}class HC extends cS{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=LC.prototype.parse.apply(this,[e,t]);if(0!==n)return Xy(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Xy(e)?Math.max(0,e):null,this.max=Xy(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xy(this._userMin)&&(this.min=e===BC(this.min,0)?BC(this.min,-1):BC(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,a=e=>r=t?r:e;n===r&&(n<=0?(i(1),a(10)):(i(BC(n,-1)),a(BC(r,1)))),n<=0&&i(BC(r,-1)),r<=0&&a(BC(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=UC({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Ax(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":aw(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=wx(e),this._valueRange=wx(this.max)-wx(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(wx(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function qC(e){const t=e.ticks;if(t.display&&e.display){const e=Ow(t.backdropPadding);return Zy(t.font&&t.font.size,pw.font.size)+e.height}return 0}function GC(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function YC(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?px/a:0;for(let d=0;d<a;d++){const a=o.setContext(e.getPointLabelContext(d));i[d]=a.padding;const h=e.getPointPosition(d,e.drawingArea+i[d],s),p=Lw(a.font),f=(l=e.ctx,c=p,u=Gy(u=e._pointLabels[d])?u:[u],{w:mw(l,c.string,u),h:u.length*c.lineHeight});r[d]=f;const m=Dx(e.getIndexAngle(d)+s),g=Math.round(Ix(m));XC(n,t,m,GC(g,h.x,f.w,0,180),GC(g,h.y,f.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:qC(a)/2,additionalAngle:o?px/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=KC(e,u,l);r.push(i),"auto"===s&&(i.visible=ZC(i,c),i.visible&&(c=i))}return r}(e,r,i)}function XC(e,t,n,r,i){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;r.start<t.l?(s=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function KC(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:a,padding:o,size:s}=n,l=e.getPointPosition(t,r+i+o,a),c=Math.round(Ix(Dx(l.angle+bx))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,c),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+s.w,bottom:u+s.h}}function ZC(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:a}=e;return!(xw({x:n,y:r},t)||xw({x:n,y:a},t)||xw({x:i,y:r},t)||xw({x:i,y:a},t))}function JC(e,t,n){const{left:r,top:i,right:a,bottom:o}=n,{backdropColor:s}=t;if(!qy(s)){const n=Pw(t.borderRadius),l=Ow(t.backdropPadding);e.fillStyle=s;const c=r-l.left,u=i-l.top,d=a-r+l.width,h=o-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),Iw(e,{x:c,y:u,w:d,h:h,radius:n}),e.fill()):e.fillRect(c,u,d,h)}}function QC(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,fx);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let a=1;a<r;a++)n=e.getPointPosition(a,t),i.lineTo(n.x,n.y)}}cy(HC,"id","logarithmic"),cy(HC,"defaults",{ticks:{callback:sw.formatters.logarithmic,major:{enabled:!0}}});class $C extends LC{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ow(qC(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Xy(e)&&!isNaN(e)?e:0,this.max=Xy(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qC(this.options))}generateTickLabels(e){LC.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Qy(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?YC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Dx(e*(fx/(this._pointLabels.length||1))+Tx(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(qy(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(qy(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return zw(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-bx+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),QC(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,a=this._pointLabels.length;let o,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const a=r.setContext(e.getPointLabelContext(i));JC(n,a,t);const o=Lw(a.font),{x:s,y:l,textAlign:c}=t;Tw(n,e._pointLabels[i],s,l+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const a=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!r||!s||!l||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),QC(e,n,o,r),a.closePath(),a.stroke(),a.restore())}(this,o,s,a,l)}})),n.display){for(e.save(),o=a-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:a}=r;a&&i&&(e.lineWidth=a,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(o)),l=Lw(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(r.label).width,e.fillStyle=s.backdropColor;const t=Ow(s.backdropPadding);e.fillRect(-a/2-t.left,-i-l.size/2-t.top,a+t.width,l.size+t.height)}Tw(e,r.label,0,-i,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}cy($C,"id","radialLinear"),cy($C,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),cy($C,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),cy($C,"descriptors",{angleLines:{_fallback:"grid"}});const eA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tA=Object.keys(eA);function nA(e,t){return e-t}function rA(e,t){if(qy(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let o=t;return"function"===typeof r&&(o=r(o)),Xy(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!Cx(a)&&!0!==a?n.startOf(o,i):n.startOf(o,"isoWeek",a)),+o)}function iA(e,t,n,r){const i=tA.length;for(let a=tA.indexOf(e);a<i-1;++a){const e=eA[tA[a]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return tA[a]}return tA[i-1]}function aA(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Lx(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function oA(e,t,n){const r=[],i={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],i[s]=o,r.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+i.add(s,1,r))l=n[s],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class sA extends cS{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new mk(e.adapters.date);r.init(t),ax(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:rA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function s(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),o||isNaN(e.max)||(i=Math.max(i,e.max))}a&&o||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),r=Xy(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=Xy(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?iA(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let a=tA.length-1;a>=tA.indexOf(n);a--){const n=tA[a];if(eA[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return tA[n?tA.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=tA.indexOf(e)+1,n=tA.length;t<n;++t)if(eA[tA[t]].common)return tA[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),oA(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;r=Px(r,0,a),i=Px(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,a=i.unit||iA(i.minUnit,t,n,this._getLabelCapacity(t)),o=Zy(r.ticks.stepSize,1),s="week"===a&&i.isoWeekday,l=Cx(s)||!0===s,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",s)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,o,a),d++)aA(c,u,p);return u!==n&&"ticks"!==r.bounds&&1!==d||aA(c,u,p),Object.keys(c).sort(nA).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,a=i.ticks.callback;if(a)return Qy(a,[e,t,n],this);const o=i.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&o[s],u=l&&o[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Tx(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,oA(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(rA(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Vx(e.sort(nA))}}function lA(e,t,n){let r,i,a,o,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=Fx(e,"pos",t)),({pos:r,time:a}=e[s]),({pos:i,time:o}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=Fx(e,"time",t)),({time:r,pos:a}=e[s]),({time:i,pos:o}=e[l]));const c=i-r;return c?a+(o-a)*(t-r)/c:a}cy(sA,"id","time"),cy(sA,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class cA extends sA{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=lA(t,this.min),this._tableRange=lA(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=r.length;a<o;++a)c=r[a+1],s=r[a-1],l=r[a],Math.round((c+s)/2)!==l&&i.push({time:l,pos:a/(o-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(lA(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return lA(this._table,n*this._tableRange+this._minPos,!0)}}cy(cA,"id","timeseries"),cy(cA,"defaults",sA.defaults);const uA="label";function dA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function hA(e,t){e.labels=t}function pA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uA;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function fA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uA;const n={labels:[],datasets:[]};return hA(n,e.labels),pA(n,e.datasets,t),n}function mA(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:s,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...p}=e,f=(0,o.useRef)(null),m=(0,o.useRef)(),g=()=>{f.current&&(m.current=new BS(f.current,{type:s,data:fA(l,a),options:c&&{...c},plugins:u}),dA(t,m.current))},v=()=>{dA(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,o.useEffect)((()=>{!i&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[i,c]),(0,o.useEffect)((()=>{!i&&m.current&&hA(m.current.config.data,l.labels)}),[i,l.labels]),(0,o.useEffect)((()=>{!i&&m.current&&l.datasets&&pA(m.current.config.data,l.datasets,a)}),[i,l.datasets]),(0,o.useEffect)((()=>{m.current&&(i?(v(),setTimeout(g)):m.current.update(h))}),[i,c,l.labels,l.datasets,h]),(0,o.useEffect)((()=>{m.current&&(v(),setTimeout(g))}),[s]),(0,o.useEffect)((()=>(g(),()=>v())),[]),o.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},p),d)}const gA=(0,o.forwardRef)(mA);function vA(e,t){return BS.register(t),(0,o.forwardRef)(((t,n)=>o.createElement(gA,Object.assign({},t,{ref:n,type:e}))))}const bA=vA("bar",ak);BS.register(RC,FC,uC,gC,MC,fC);const yA={labels:["Jan.","Fev.","Mars","Avr.","Mai","Juin","Jui","Aout","Sept.","Oct.","Nov.","Dec."],datasets:[{label:"1000 \u20ac R\xe9compenses",data:[100,200,150,300,250,0,0,0,0,0,0,0],backgroundColor:"rgb(0, 114, 187)"},{label:"560 \u20ac Remboursements",data:[50,150,100,200,100,0,0,0,0,0,0,0],backgroundColor:"rgb(46, 204, 113)"},{label:"1400 \u20ac Revenus engendr\xe9s par les voyages",data:[200,300,250,350,300,0,0,0,0,0,0,0],backgroundColor:"rgb(255, 217, 102)"},{label:"400 \u20ac Gains manqu\xe9s",data:[0,100,50,150,100,0,0,0,0,0,0,0],backgroundColor:"rgb(255, 111, 97)"},{label:"1150 \u20ac Gains \xe0 venir",data:[150,250,200,300,250,0,0,0,0,0,0,0],backgroundColor:"rgb(169, 169, 169)"}]},xA={plugins:{title:{display:!0,text:"1400 \u20ac de revenus en 2024"}},responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0}}};const wA=function(){return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{children:[(0,It.jsx)("h1",{children:"Revenus"}),(0,It.jsx)(bA,{options:xA,data:yA}),(0,It.jsx)("p",{className:"mt-2 strong h3",children:"Ressources"}),(0,It.jsx)("p",{children:(0,It.jsx)(Ne,{to:"#",children:"Afficher l'historique des transactions"})}),(0,It.jsx)("p",{children:(0,It.jsx)(Ne,{to:"#",children:"Informations fiscales"})})]}),(0,It.jsx)("div",{className:" w-100 d-md-block w-md-75 my-div",children:(0,It.jsxs)("div",{class:" row",children:[(0,It.jsx)("div",{class:"col-4",children:(0,It.jsx)("img",{src:"https://res.cloudinary.com/dtrkcpsky/image/upload/v1713778943/apbk0u6z6i7s3smldzcq.webp",alt:"",width:"80px"})}),(0,It.jsxs)("div",{class:"col-5",children:[(0,It.jsx)("small",{className:"text-muted",children:"Peugeot 206 AFFAIRE 2006"}),(0,It.jsx)("p",{className:"text-tertiary",children:(0,It.jsx)("span",{children:(0,It.jsx)("strong",{children:"AY343NQ"})})})]}),(0,It.jsx)("div",{class:"col-md-3",children:(0,It.jsx)("small",{className:"text-muted h3 float-end float-center",children:"149,66 \u20ac"})})]})})]})})};var _A=__webpack_require__(4713);const kA=__webpack_require__.p+"static/media/badge.3e06b8a26bdb006a60ff216cb53724f3.svg";const SA=function(){return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{class:"",children:[(0,It.jsxs)("button",{class:"navbar-toggler mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navListSearch","aria-controls":"navListSearch","aria-expanded":"false","aria-label":"Toggle navigation",children:[(0,It.jsx)("span",{class:"navbar-toggler-icon"}),(0,It.jsx)("p",{children:(0,It.jsx)("span",{class:"badge bg-secondary",children:"Afficher le menu de filtre"})})]}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,It.jsx)("div",{class:"collapse navbar-collapse",id:"navListSearch",children:(0,It.jsx)("nav",{class:"navbar navbar-expand navbar-light shadow bg-body-tertiary rounded w-100 mb-2",children:(0,It.jsx)("div",{class:"container-fluid",children:(0,It.jsxs)("div",{class:"collapse navbar-collapse d-flex flex-column flex-md-row",id:"navbarScroll",children:[(0,It.jsxs)("ul",{class:"navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll d-flex flex-column flex-md-row",style:{height:"100px"},children:[(0,It.jsx)("li",{class:"nav-item me-2",children:(0,It.jsx)("h3",{children:"3 voitures"})}),(0,It.jsx)("li",{class:"nav-item dropdown",children:(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",children:[(0,It.jsx)("option",{selected:!0,children:"Statut"}),(0,It.jsx)("option",{value:"1",children:"Toutes vos voitures"}),(0,It.jsx)("option",{value:"2",children:"Actives"}),(0,It.jsx)("option",{value:"3",children:"En attente"}),(0,It.jsx)("option",{value:"4",children:"Incompl\xe8te"}),(0,It.jsx)("option",{value:"5",children:"Desactiv\xe9"})]})})]}),(0,It.jsxs)("form",{class:"d-flex",children:[(0,It.jsx)("input",{class:"form-control me-2",type:"search",placeholder:"Rechercher une voiture","aria-label":"Search"}),(0,It.jsx)("button",{class:"btn btn-outline-success",type:"submit",children:"Search"})]})]})})})}),(0,It.jsx)("div",{className:" mb-2 my-div",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)(_A.A,{id:"gauge-chart4",nrOfLevels:10,arcPadding:.1,cornerRadius:3,percent:.9})}),(0,It.jsxs)("div",{className:"col-md-4",children:[(0,It.jsx)("h3",{children:"Taux de r\xe9ponse"}),(0,It.jsx)("p",{children:"H\xf4tes Stars : 95 %"}),(0,It.jsx)("p",{children:"Vous avez r\xe9pondu 1 demande sur 1."})]})]})}),(0,It.jsx)("div",{className:" mb-2 my-div",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)(_A.A,{id:"gauge-chart4",nrOfLevels:10,arcPadding:.1,cornerRadius:3,percent:.9})}),(0,It.jsxs)("div",{className:"col-md-4",children:[(0,It.jsx)("h3",{children:"Taux d\u2019acceptation"}),(0,It.jsx)("p",{children:"H\xf4tes Stars : 90 %"}),(0,It.jsx)("p",{children:"Vous avez accept\xe9 1 demande sur 1."})]})]})}),(0,It.jsx)("div",{className:" mb-2 my-div",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)(_A.A,{id:"gauge-chart4",nrOfLevels:10,arcPadding:.1,cornerRadius:3,percent:.9})}),(0,It.jsxs)("div",{className:"col-md-4",children:[(0,It.jsx)("h3",{children:"Taux d\u2019engagement"}),(0,It.jsx)("p",{children:"H\xf4tes Stars : 95 %"}),(0,It.jsx)("p",{children:"Vous avez finalis\xe9 1 voyage sur 1."})]})]})}),(0,It.jsx)("div",{className:" mb-2 my-div",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)(_A.A,{id:"gauge-chart4",nrOfLevels:10,arcPadding:.1,cornerRadius:3,percent:.9})}),(0,It.jsxs)("div",{className:"col-md-4",children:[(0,It.jsx)("h3",{children:"\xc9valuations 5 \xe9toiles"}),(0,It.jsx)("p",{children:"H\xf4tes Stars : 90 %"}),(0,It.jsx)("p",{children:"Vous avez re\xe7u 1 \xe9valuation 5 \xe9toiles sur 1 pour les voyages \xe9valu\xe9s."})]})]})}),(0,It.jsx)("div",{className:" mb-2 my-div",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)(_A.A,{id:"gauge-chart4",nrOfLevels:10,arcPadding:.1,cornerRadius:3,percent:.1})}),(0,It.jsxs)("div",{className:"col-md-4",children:[(0,It.jsx)("h3",{children:"Voyages finalis\xe9s"}),(0,It.jsx)("p",{children:"H\xf4tes Stars : 10 voyages"}),(0,It.jsx)("p",{className:"text-white",children:"Vous avez finalis\xe9 1 voyage."})]})]})})]}),(0,It.jsxs)("div",{className:"col-md-3",children:[(0,It.jsxs)("div",{className:" mb-2 my-div",children:[(0,It.jsx)("img",{src:kA,alt:"badge",width:"70px"}),(0,It.jsx)("p",{className:"mb-2",children:"Profitez d\u2019avantages exclusifs pour c\xe9l\xe9brer votre excellente performance."}),(0,It.jsx)("a",{className:"mb-2",href:"#",children:"En savoir plus sur le programme"}),(0,It.jsx)("div",{className:"bg-info",children:"Prochaine \xe9valuation 15 avr. 2024"}),(0,It.jsx)("hr",{}),(0,It.jsx)("small",{children:"Nous \xe9valuerons votre performance du 1 avr. 2023 au 31 mars 2024."})]}),(0,It.jsxs)("div",{className:" mb-2 my-div",children:[(0,It.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAwFBMVEVHcEwjHyA1NTUjHyAkICAjHyArIiIjHyEjIiMkISEjHyAjICAjHyEjHyEjHyAkHyAoJygjICAkICA0ITQjHyApKSk2NjYjHyAjHyAjHyAoISEkJCQjHyEjHyAlHyUkISEkICElHyIjHyAjICAjICAjHyAjHyAmISEkICAjICAjICAkHyIjHyEjHyHh4eEjHyAjHyAkHyEmICQkICAjHx8jHyAkICAkICAqKiokHyEjHyAmISEzIiIjIyMjHyAjHyBY5P4/AAAAP3RSTlMA/Am9f8gWgDJN+YagP8OTGc5GB/UMBOjjpiUOgvApVVpK7d9t+LM8jZVecIh5AdzluB5+r9N1twZooy4PM8rXokkJAAACiUlEQVRIx62X13ajMBCGB7BcQKEZDLjFBvdKnJ7s7rz/W+1FbGNUAB+iKx9Jn4Vmfk0BEA7V3VOSxLoeJ4TuXRUqj+bW1BFTjVqGYVEtRdTNbbMS+rBQ0Nm5fjbjuzsHlcVDOWpiYIz5+bERoFmM2xGGM8kF1VmIkS1nH0fzYVe+3B3OR4+ytTWSfvGl+gTXwn8faLjqlZmkt0JtIPCPo2yqOGOjOJzXBo43raaCqecwZ3c1ZVpVQ1NFy997jZvqCtzgOucjXMEdY4U3HrNHRGrnXuebW+uRUaaWaC7377eCHiFLxt/z6KpnHBZ842kSefjCTA7xonMz7BY90C8MsM2qMTQvB8/k6OFzpA+j4MDOz85HLwJ5oPj7D7X+Ifji31iwAABoKoYM/WMp6QSgiYK3ZChNANjiWMJOAsUaAACcBItj3AKA6YjRsYbkYqemRYjFvAfHBFD1nTBuGHr8eTGTf/Te372jn9ux01Vw0RWwnQRpdtIElwBLnOS2uOjCHn1eFy/4equpZzwAADZym3zcAw055b553ltOzw0EAMBWfl9KgWhsWHjFl1PeTGJYI5BQBvaj6dVMT0/e0ZfBNIHYkkkkM5MYtmLQpfpqIAAc8FkGG3oB3LoiUpj77KuZymAr5gx2NpNaDtOEc1VmpjJYI0BTmZnK4JRy8jwjjVLYxz33MCrDLrrck6wM73SVCwaVYcfkw1BV+CcMMQGwKvwTAJnQa7cBANq2+Bcbepmg3+9IR18Q9PPppoXS0RKkm3yis9vSYYsSXWGKFZdUWYotTO7ChH+b3GuVFfUKmntLqY/fK+LqlY/1CtfKJfPH7xfrNduEeg1KzdYoa8rCS1MW3tGU3dEO/gcbLmAv+pXJygAAAABJRU5ErkJggg==",alt:"performance",width:"70px"}),(0,It.jsx)("span",{className:"mb-3",children:(0,It.jsx)("strong",{children:"Conseils relatifs \xe0 la performance"})}),(0,It.jsx)("p",{className:"mb-3",children:"Les h\xf4tes qui se distinguent le plus sont ceux qui sont disponibles, qui restent \xe0 l\u2019\xe9coute et qui honorent les r\xe9servations accept\xe9es. Suivez ces quelques conseils pour am\xe9liorer votre performance :"}),(0,It.jsxs)("ul",{children:[(0,It.jsxs)("li",{children:[(0,It.jsx)("a",{href:"#",children:"Gardez votre calendrier \xe0 jour"})," et r\xe9glez vos heures de disponibilit\xe9 pour recevoir uniquement des demandes que vous serez en mesure d\u2019accepter."]}),(0,It.jsxs)("li",{children:[(0,It.jsx)("a",{href:"#",children:"Modifier les pr\xe9f\xe9rences de r\xe9servation"})," pour vos annonces, y compris les param\xe8tres relatifs aux pr\xe9avis et \xe0 la dur\xe9e des voyages."]}),(0,It.jsxs)("li",{children:[(0,It.jsx)("a",{href:"#",children:"T\xe9l\xe9charger l\u2019application"})," et activez les notifications pour garder un \u0153il sur vos demandes de voyage et votre calendrier."]}),(0,It.jsxs)("li",{children:[(0,It.jsx)("a",{href:"#",children:"En savoir plus"})," sur la fa\xe7on dont Turo \xe9value la performance des h\xf4tes."]})]})]})]})]})]})]})})};const CA=function(e){var t;let{propsData:n}=e;const[r,i]=(0,o.useState)([]),a=(0,xv.q)();return(0,o.useEffect)((()=>{(async()=>{const e=await a.get("/vehicleAnnonces/getbyvehiculeid/"+n.id);e.data&&i(e.data)})()}),[]),(0,It.jsxs)("div",{class:"my-div  w-100 d-md-block w-md-75",children:[(0,It.jsxs)("div",{className:"d-flex flex-row-reverse p-2",children:[" ",(0,It.jsx)(Ne,{to:"/account/voiture/"+n.id+"/calendar/0",children:(0,It.jsx)("ion-icon",{name:"ellipsis-horizontal-outline"})})]}),(0,It.jsx)("div",{class:"",children:(0,It.jsxs)("div",{class:"review star-4 d-flex py-3 mb-2",children:[(0,It.jsxs)("div",{class:"product",children:[(0,It.jsxs)("h4",{class:"mb-1",children:[null===n||void 0===n?void 0:n.VehicleModel.marque," ",null===n||void 0===n?void 0:n.VehicleModel.modele]}),(0,It.jsxs)("div",{class:"notation d-md-flex align-items-center",children:[(0,It.jsx)("span",{class:"badge bg-primary me-2",children:null===n||void 0===n?void 0:n.UserProfile.immatriculation}),(0,It.jsx)(Ne,{class:"btn btn-outline-secondary me-2 mb-2",to:"/confirmmodel/"+n.id,children:"Completer"}),(0,It.jsx)("button",{class:"btn btn-tertiary me-2 mb-2","data-bs-toggle":"modal","data-bs-target":"#annonceModalList"+n.id,onClick:function(){(async()=>{const e=await a.get("/vehicleAnnonces/getbyvehiculeid/"+n.id);e.data.length>0&&(i(e.data),window.location.href="/location-voiture/"+e.data[0].vehiculeAnnonceId)})()},children:"Voir l'annonce"}),(0,It.jsx)("div",{class:"modal fade",id:"annonceModalList"+n.id,tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog  modal-dialog-centered",children:(0,It.jsx)("div",{class:"modal-content",children:(0,It.jsx)("div",{class:"modal-body",children:r&&r.map((e=>(0,It.jsx)("p",{children:(0,It.jsxs)("a",{href:"/location-voiture/"+e.vehiculeAnnonceId,children:[" ",e.reservationPrice,","," ",e.Vehicle.VehicleModel.marque,"-"," ",e.Vehicle.VehicleModel.modele]})})))})})})}),(0,It.jsx)("button",{class:"btn btn-danger me-2 mb-2",children:"Supprimer mon v\xe9hicule"})]}),(0,It.jsx)("p",{class:"text-muted",children:ey()(null===n||void 0===n?void 0:n.createdAt).calendar()})]}),(0,It.jsx)("div",{class:"logo ms-auto",children:(0,It.jsx)("img",{class:"",src:null===n||void 0===n||null===(t=n.images)||void 0===t?void 0:t.split(",")[0],alt:"Annonce voiture",height:"100",width:"100",style:{borderRadius:"0.3rem"}})})]})})]})};const AA=function(){const e=(0,xv.q)(),[t,n]=(0,o.useState)([]),r=JSON.parse(window.localStorage.getItem("me"));return(0,o.useEffect)((()=>{localStorage.setItem("mode","host")}),[]),(0,o.useEffect)((()=>{(async()=>{const t=await e.get("/vehicles/searchbyuserid/"+r.id);t.data&&n(t.data)})()}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{class:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:[(0,It.jsxs)("button",{class:"navbar-toggler mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navListSearch","aria-controls":"navListSearch","aria-expanded":"false","aria-label":"Toggle navigation",children:[(0,It.jsx)("span",{class:"navbar-toggler-icon"}),(0,It.jsx)("p",{children:(0,It.jsx)("span",{class:"badge bg-secondary",children:"Afficher le menu de filtre"})})]}),(0,It.jsx)("div",{class:"collapse navbar-collapse",id:"navListSearch",children:(0,It.jsx)("nav",{class:"navbar navbar-expand navbar-light shadow bg-body-tertiary rounded w-100 mb-2",children:(0,It.jsx)("div",{class:"container-fluid",children:(0,It.jsxs)("div",{class:"collapse navbar-collapse d-flex flex-column flex-md-row",id:"navbarScroll",children:[(0,It.jsxs)("ul",{class:"navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll d-flex flex-column flex-md-row",style:{height:"100px"},children:[(0,It.jsx)("li",{class:"nav-item me-2",children:(0,It.jsxs)("h3",{children:[t.length," voitures"]})}),(0,It.jsx)("li",{class:"nav-item dropdown",children:(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",children:[(0,It.jsx)("option",{selected:!0,children:"Statut"}),(0,It.jsx)("option",{value:"1",children:"Toutes vos voitures"}),(0,It.jsx)("option",{value:"2",children:"Actives"}),(0,It.jsx)("option",{value:"3",children:"En attente"}),(0,It.jsx)("option",{value:"4",children:"Incompl\xe8te"}),(0,It.jsx)("option",{value:"5",children:"Desactiv\xe9"})]})})]}),(0,It.jsxs)("form",{class:"d-flex",children:[(0,It.jsx)("input",{class:"form-control me-2",type:"search",placeholder:"Rechercher une voiture","aria-label":"Search"}),(0,It.jsx)("button",{class:"btn btn-outline-success",type:"submit",children:"Search"})]})]})})})}),(0,It.jsx)(It.Fragment,{children:t&&t.map((e=>(0,It.jsx)(CA,{propsData:e},e.id)))})]})]})})},TA=__webpack_require__.p+"static/media/noimage.600d7c1e9c3fb5db22c5.webp";const IA=function(){const[e,t]=(0,o.useState)([!0,!1,!1]),[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),[c,u]=(0,o.useState)(0),[d,h]=(0,o.useState)(0),[p,f]=(0,o.useState)({}),[m,g]=(0,o.useState)(null),[v,b]=(0,o.useState)([]),[y,x]=(0,o.useState)(""),[w,_]=(0,o.useState)([]),[k,S]=(0,o.useState)(""),C=(0,xv.q)(),{voitureId:A}=ie(),T=JSON.parse(window.localStorage.getItem("me"));(0,o.useEffect)((()=>{(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e),f(e),a(e.kilometrage),h(e.siegeNumber),u(e.porteNumber),l(e.vitesseType)})()}),[]);const[I,E]=(0,o.useState)([]),[N,M]=(0,o.useState)([]),[j,D]=(0,o.useState)(Array(15).fill(!1));(0,o.useEffect)((()=>{(async()=>{const e=await C.get("/vehicleOptionRecords/".concat(A));E(e.data),M(e.data.map((e=>e.vehiculeOptionId)));const t=Array(15).fill(!1);e.data.forEach((e=>{const n=e.vehiculeOptionId-1;n>=0&&n<15&&(t[n]=!0)})),D(t)})()}),[]);const R=e=>{l(e.target.value)},P=e=>{u(e.target.value)},O=e=>{h(e.target.value)},L=e=>{const t=e.target.value,n=e.target.checked,r=parseInt(t)-1;D((e=>{const t=[...e];return t[r]=n,t})),_(n?e=>[...e,t]:e=>e.filter((e=>e!==t)))},[F,z]=(0,o.useState)({adresse:"",codePostal:"",ville:"",pays:"1",numeroTelephone:""}),B=e=>{const{name:t,value:n}=e.target;z({...F,[t]:n})},[W,V]=(0,o.useState)([]),U=e=>{Array.from(e.target.files).map((e=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{const e=t.result,n=[...W];n.push(e),V(n)}}))};return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(yv,{}),(0,It.jsx)("section",{class:"mt-2 container col-md-6",children:(0,It.jsxs)("div",{class:"my-div  w-100 d-md-block w-md-75",children:[(0,It.jsx)("div",{class:"mb-2",children:(0,It.jsx)("div",{class:"progress",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":"10","aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"},children:(0,It.jsx)("div",{class:"progress-bar",style:{width:"10%"}})})}),(0,It.jsxs)("div",{class:"accordion",id:"accordionExample",children:[1==e[0]&&(0,It.jsxs)("div",{class:"accordion-item",children:[(0,It.jsx)("h2",{class:"accordion-header",children:(0,It.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:(0,It.jsx)("h3",{children:"Donnes plus de D\xe9tails"})})}),(0,It.jsx)("div",{id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample",children:(0,It.jsxs)("div",{class:"accordion-body",children:[(0,It.jsx)("p",{class:"text-muted",children:(0,It.jsx)("strong",{children:"Inscrire ma voiture"})}),(0,It.jsx)("h4",{children:"Le kilom\xe9trage est-il juste ?"}),(0,It.jsx)("hr",{}),(0,It.jsx)("label",{class:"mb-2",for:"Marque",children:"Kilom\xe9trage"}),(0,It.jsxs)("select",{class:"form-select form-select-lg mb-3","aria-label":"Large select example",onChange:e=>{a(e.target.value)},value:i,children:[(0,It.jsx)("option",{value:"0",children:"0-15 000 km"}),(0,It.jsx)("option",{value:"1",children:"15-50 000 km"}),(0,It.jsx)("option",{value:"2",children:"50-100 000 km"}),(0,It.jsx)("option",{value:"4",children:"100-150 000 km"}),(0,It.jsx)("option",{value:"3",children:"150-200 000 km"}),(0,It.jsx)("option",{value:"4",children:"+200 000 km"})]}),(0,It.jsx)("label",{class:"mb-2",for:"Marque",children:"Carburant"}),(0,It.jsxs)("select",{class:"form-select form-select-lg mb-3","aria-label":"Large select example",onChange:e=>{r(e.target.value)},value:n,children:[(0,It.jsx)("option",{value:"0",children:"electricit\xe9"}),(0,It.jsx)("option",{value:"1",children:"Diesel"}),(0,It.jsx)("option",{value:"2",children:"Gazole"}),(0,It.jsx)("option",{value:"3",children:"Hydrog\xe8ne"})]}),(0,It.jsx)("label",{class:"mb-2",for:"Modele",children:"Vitesse"}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",value:"0",checked:"0"===s,onChange:R}),(0,It.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",children:"Manuelle"})]}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",value:"1",checked:"1"===s,onChange:R}),(0,It.jsx)("label",{class:"form-check-label",for:"flexRadioDefault2",children:"Automatique"})]}),(0,It.jsxs)("div",{class:"row d-flex justify-content-center me-2",children:[(0,It.jsx)("div",{class:"col d-flex justify-content-lg-start mb-3 mt-3",children:(0,It.jsxs)("div",{class:"mb-2 me-2",children:[(0,It.jsx)("label",{class:"mb-3",for:"",children:"Nombre de portes"}),(0,It.jsxs)("div",{class:"d-flex justify-content-lg-start ",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace",type:"radio",id:"control_01",name:"select",checked:"1"===c,value:"1",onChange:P}),(0,It.jsx)("label",{class:"labelPlace",for:"control_01",children:(0,It.jsx)("h2",{children:"2"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_02",name:"select",checked:"2"===c,onChange:P,value:"2"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_02",children:(0,It.jsx)("h2",{children:"3"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_03",name:"select",checked:"3"===c,onChange:P,value:"3"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_03",children:(0,It.jsx)("h2",{children:"4"})})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_04",checked:"4"===c,name:"select",onChange:P,value:"4"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_04",children:(0,It.jsx)("h2",{children:"5"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_05",name:"select",checked:"5"===c,onChange:P,value:"5"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_05",children:(0,It.jsx)("h2",{children:"6"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_06",name:"select",onChange:P,checked:"6"===c,value:"6"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_06",children:(0,It.jsx)("h2",{children:"7+"})})]})]})]})}),(0,It.jsx)("div",{class:"col d-flex justify-content-lg-start mb-3 mt-3",children:(0,It.jsxs)("div",{class:"mb-2 me-2",children:[(0,It.jsx)("label",{class:"mb-3",for:"",children:"Nombre de si\xe8ges"}),(0,It.jsxs)("div",{class:"d-flex justify-content-lg-start ",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace",type:"radio",id:"control_001",name:"siegeSelect",onChange:O,checked:"1"===d,value:"1"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_001",children:(0,It.jsx)("h2",{children:"2"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_002",name:"siegeSelect",onChange:O,checked:"2"===d,value:"2"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_002",children:(0,It.jsx)("h2",{children:"3"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_003",name:"siegeSelect",onChange:O,value:"3",checked:"3"===d}),(0,It.jsx)("label",{class:"labelPlace",for:"control_003",children:(0,It.jsx)("h2",{children:"4"})})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_004",name:"siegeSelect",onChange:O,value:"4",checked:"4"===d}),(0,It.jsx)("label",{class:"labelPlace",for:"control_004",children:(0,It.jsx)("h2",{children:"5"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_005",name:"siegeSelect",onChange:O,value:"5",checked:"5"===d}),(0,It.jsx)("label",{class:"labelPlace",for:"control_005",children:(0,It.jsx)("h2",{children:"6"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_006",name:"siegeSelect",onChange:O,checked:"6"===d,value:"6"}),(0,It.jsx)("label",{class:"labelPlace",for:"control_006",children:(0,It.jsx)("h2",{children:"7"})})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_007",name:"siegeSelect",onChange:O,value:"7",checked:"7"===d}),(0,It.jsx)("label",{class:"labelPlace",for:"control_007",children:(0,It.jsx)("h2",{children:"8"})})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"radioInputPlace radioPlace",type:"radio",id:"control_008",name:"siegeSelect",onChange:O,value:"8",checked:"8"===d}),(0,It.jsx)("label",{class:"labelPlace",for:"control_008",children:(0,It.jsx)("h2",{children:"9+"})})]})]})]})})]}),(0,It.jsx)("div",{class:"alert alert-warning mt-3 mb-3",role:"alert",children:"Cette information nous permet d'assurer la s\xe9curit\xe9 et la qualit\xe9 de notre flotte."}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"btn-group d-flex  justify-content-center",role:"group","aria-label":"Basic outlined example",children:[(0,It.jsx)("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(){window.location.href="/confirmmodel/"+A},children:"Pr\xe9c\xe9dent"}),(0,It.jsx)("button",{type:"button",class:"btn btn-primary",onClick:function(){let e={...p};e.kilometrage=i,e.carburantType=n,e.vitesseType=s,e.porteNumber=c,e.siegeNumber=d,e=JSON.stringify(e),f(e),window.localStorage.setItem("VehicleStorage",e),console.log("data",e),t([!1,!0,!1])},children:"Suivant"})]})]})})]}),!0===e[1]&&(0,It.jsxs)("div",{class:"accordion-item",children:[(0,It.jsx)("h2",{class:"accordion-header",children:(0,It.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:(0,It.jsx)("h3",{children:"Des options de plus"})})}),(0,It.jsx)("div",{id:"collapseTwo",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample",children:(0,It.jsx)("div",{class:"accordion-body",children:(0,It.jsxs)("div",{class:"accordion-body",children:[(0,It.jsx)("p",{class:"text-muted",children:(0,It.jsx)("strong",{children:"Inscrire ma voiture"})}),(0,It.jsx)("h4",{children:"Des options en plus ?"}),(0,It.jsx)("div",{class:"row d-flex justify-content-center ",children:(0,It.jsx)("div",{class:"col d-flex justify-content-center mb-3 mt-3",children:(0,It.jsxs)("div",{class:"mb-2 me-2",children:[(0,It.jsxs)("div",{class:"d-flex justify-content-lg-start",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace",type:"checkbox",id:"control_0001",value:"1",onChange:L,checked:j[0]}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_0001",children:[(0,It.jsx)("ion-icon",{name:"snow-outline"})," ","Climatisation"]})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0002",value:"2",onChange:L,checked:j[1]}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_0002",children:[(0,It.jsx)("ion-icon",{name:"speedometer-outline"})," ","Regulateur de vitesse"]})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0003",value:"3",onChange:L,checked:j[2]}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_0003",children:[(0,It.jsx)("ion-icon",{name:"navigate-circle-outline"})," ","GPS"]})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0004",value:"4",onChange:L,checked:j[3]}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_0004",children:[(0,It.jsx)("ion-icon",{name:"egg-outline"})," ","Si\xe8gle B\xe9b\xe9"]})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0005",value:"5",onChange:L,checked:j[4]}),(0,It.jsx)("label",{class:"labelPlaceCheckBox",for:"control_0005",children:"Coffre de toit"})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0006",value:"6",onChange:L,checked:j[5]}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_0006",children:[(0,It.jsx)("ion-icon",{name:"egg-outline"})," ","Porte-v\xe9los"]})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0007",value:"7",onChange:L,checked:j[6]}),(0,It.jsx)("label",{class:"labelPlaceCheckBox",for:"control_0007",children:"Pneus neige"})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0008",value:"8",onChange:L,checked:j[7]}),(0,It.jsx)("label",{class:"labelPlaceCheckBox",for:"control_0008",children:"Chaines"})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_0009",value:"9",onChange:L,checked:j[8]}),(0,It.jsx)("label",{class:"labelPlaceCheckBox",for:"control_0009",children:"Porte-Skis"})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_00070",value:"10",onChange:L,checked:j[9]}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_00070",children:[(0,It.jsx)("ion-icon",{name:"musical-notes-outline"})," ","Entr\xe9e Audio iPod"]})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_00080",value:"11",checked:j[10],onChange:L}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_00080",children:[(0,It.jsx)("ion-icon",{name:"bluetooth-outline"})," ","Audio Blutooth"]})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_00090",value:"12",checked:j[11],onChange:L}),(0,It.jsx)("label",{class:"labelPlaceCheckBox",for:"control_00090",children:"Att\xe9lage"})]})]}),(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_00071",value:"13",checked:j[12],onChange:L}),(0,It.jsx)("label",{class:"labelPlaceCheckBox",for:"control_00071",children:"Accessible fauteuil roulant"})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_00081",value:"14",checked:j[13],onChange:L}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_00081",children:[(0,It.jsx)("ion-icon",{name:"logo-apple"})," Apple CarPlay"]})]}),(0,It.jsxs)("div",{class:"me-2",children:[(0,It.jsx)("input",{class:"checkboxInputPlace checkboxPlace",type:"checkbox",id:"control_00091",value:"15",checked:j[14],onChange:L}),(0,It.jsxs)("label",{class:"labelPlaceCheckBox",for:"control_00091",children:[(0,It.jsx)("ion-icon",{name:"logo-android"})," ","Android Auto"]})]})]})]})})}),(0,It.jsx)("div",{class:"alert alert-warning mt-3 mb-3",role:"alert",children:"Cette information nous permet d'assurer la s\xe9curit\xe9 et la qualit\xe9 de notre flotte."}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"btn-group d-flex  justify-content-center",role:"group","aria-label":"Basic outlined example",children:[(0,It.jsx)("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(){t([!0,!1,!1])},children:"Pr\xe9c\xe9dent"}),(0,It.jsx)("button",{type:"button",class:"btn btn-primary",onClick:function(){let e=JSON.parse(p);const n=w.map((async t=>{try{const n=await C.post("/vehicleOptionRecords",{vehiculeId:e.id,vehiculeOptionId:t});await C.put("/vehicles/"+e.id,{vehiculeId:e.id,modeleId:e.modeleId,kilometrage:e.kilometrage,carburantType:e.carburantType,vitesseType:e.vitesseType,porteNumber:e.porteNumber,siegeNumber:e.siegeNumber,annee:e.annee,CoordonatesCity:e.CoordonatesCity});return console.log("R\xe9ponse du serveur:",n.data),n.data}catch(n){throw console.error("Erreur de requ\xeate:",n),n}}));Promise.all(n).then((e=>{console.log("Toutes les requ\xeates ont \xe9t\xe9 compl\xe9t\xe9es :",e)})).catch((e=>{console.error("Une erreur s'est produite lors des requ\xeates :",e)})),t([!1,!1,!0])},children:"Suivant"})]})]})})})]}),!0===e[2]&&(0,It.jsxs)("div",{class:"accordion-item",children:[(0,It.jsx)("h2",{className:"p-2",children:"Ajouter des images"}),(0,It.jsxs)("div",{className:"row mb-4 p-2",children:[W.length>0?(0,It.jsx)("div",{className:"col-6 col-lg",children:(0,It.jsx)("div",{className:"d-flex ",children:(0,It.jsx)("img",{className:"align-self-center img-fluid styled-image",src:W[W.length-1],alt:"Product name",id:"img2",style:{width:"150px",height:"150px"}})})}):(0,It.jsx)("div",{className:"col-6 col-lg",children:(0,It.jsx)("div",{className:"d-flex ",children:(0,It.jsx)("img",{className:"align-self-center img-fluid styled-image",src:TA,alt:"Product name",id:"img2",style:{width:"150px",height:"150px"}})})}),W.length>1?(0,It.jsx)("div",{className:"col-6 col-lg",children:(0,It.jsx)("div",{className:"d-flex ",children:(0,It.jsx)("img",{className:"align-self-center img-fluid styled-image",src:W[W.length-2],alt:"Product name",id:"img2",style:{width:"150px",height:"150px"}})})}):(0,It.jsx)("div",{className:"col-6 col-lg",children:(0,It.jsx)("div",{className:"d-flex ",children:(0,It.jsx)("img",{className:"align-self-center img-fluid styled-image",src:TA,alt:"Product name",id:"img2",style:{width:"150px",height:"150px"}})})}),W.length>2?(0,It.jsx)("div",{className:"col-6 col-lg mt-2 mt-md-0",children:(0,It.jsx)("div",{className:"d-flex ",children:(0,It.jsx)("img",{className:"align-self-center img-fluid styled-image",src:W[W.length-3],alt:"Product name",id:"img3",style:{width:"150px",height:"150px"}})})}):(0,It.jsx)("div",{className:"col-6 col-lg mt-2 mt-md-0",children:(0,It.jsx)("div",{className:"d-flex ",children:(0,It.jsx)("img",{className:"align-self-center img-fluid styled-image",src:TA,alt:"Product name",id:"img2",style:{width:"150px",height:"150px"}})})}),m&&(0,It.jsx)("img",{src:m,alt:"Preview",style:{maxWidth:"200px"}}),(0,It.jsxs)("div",{className:"col-6 col-lg mt-2 mt-md-0",children:[(0,It.jsx)("label",{className:"add__photo rounded-3 border w-100 text-center d-flex mb-2",children:(0,It.jsxs)("div",{className:"m-auto",children:[(0,It.jsx)("div",{className:"",children:"+ Ajouter des images"}),(0,It.jsx)("input",{accept:"image/jpeg, image/tiff, image/webp, image/png",type:"file",id:"image",className:"d-none",onChange:e=>{const t=[...v];for(let r=0;r<e.target.files.length;r++)t.push(e.target.files[r]);b(t);const n=new FormData;n.append("file",e.target.files[0]),n.append("upload_preset","r6s4af83"),fetch("https://api.cloudinary.com/v1_1/dtrkcpsky/image/upload",{method:"POST",body:n}).then((e=>e.json())).then((e=>{S(k+e.secure_url+",")})).catch((e=>{console.error("Error uploading image:",e)})),U(e)}})]})}),(0,It.jsx)("button",{className:"btn btn-tertiary w-100 ",onClick:function(){(async()=>{(await C.put("/vehicles/"+A,{images:k})).data&&dv.success("Images ajout\xe9s avec succ\xe8ss")})()},children:"Enregistrer"})]})]}),(0,It.jsx)("h2",{class:"accordion-header",children:(0,It.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree",children:(0,It.jsx)("h3",{children:"Quelle est votre adresse de facturation ?"})})}),(0,It.jsx)("div",{id:"flush-collapseThree",class:"accordion-collapse collapse show","data-bs-parent":"#accordionFlushExample",children:(0,It.jsx)("form",{onSubmit:e=>{e.preventDefault();(async()=>{const e=await C.post("/facturationAddress/",{adresse:F.adresse,postalCode:F.codePostal,ville:F.ville,pays:F.pays,phoneNumber:F.phoneNumber,userId:T.id});e.data&&(console.log(e.data),window.location.href="/completeAnnonce")})()},children:(0,It.jsxs)("div",{class:"accordion-body",children:[(0,It.jsx)("label",{for:"location",children:"Adresse"}),(0,It.jsx)("input",{class:"form-control form-control-lg mb-2",type:"text",placeholder:"Ex: 95 Rue Freetown Manama","aria-label":".form-control-lg adresse",value:F.adresse,name:"adresse",onChange:B}),(0,It.jsx)("label",{for:"location",children:"Code postal"}),(0,It.jsx)("input",{class:"form-control form-control-lg mb-2",type:"text",placeholder:"Ex: 60000",name:"codePostal","aria-label":".form-control-lg postal",value:F.codePostal,onChange:B}),(0,It.jsx)("label",{for:"location",children:"Ville"}),(0,It.jsx)("input",{class:"form-control form-control-lg mb-2",type:"text",name:"ville",placeholder:"Ex: Paris","aria-label":".form-control-lg ville",value:F.ville,onChange:B}),(0,It.jsx)("label",{for:"Pays",children:"Pays"}),(0,It.jsxs)("select",{class:"form-select form-select-lg mb-3","aria-label":"Default select pays",value:F.pays,name:"pays",onChange:B,children:[(0,It.jsx)("option",{value:"1",children:"France"}),(0,It.jsx)("option",{value:"2",children:"Allemagne"}),(0,It.jsx)("option",{value:"3",children:"Espagne"})]}),(0,It.jsx)("label",{for:"location",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,It.jsx)("input",{class:"form-control form-control-lg mb-2",type:"text",placeholder:"Ex: 06067585757","aria-label":".form-control-lg phone",name:"numeroTelephone",value:F.numeroTelephone,onChange:B}),(0,It.jsx)("hr",{}),(0,It.jsx)("div",{class:"alert alert-info",role:"alert",children:"Afin que vous puissiez recevoir vos paiements, nous utilisons votre adresse de facturation, num\xe9ro de t\xe9l\xe9phone et adresse email. Vous pouvez les modifier dans votre compte."}),(0,It.jsxs)("div",{class:"btn-group d-flex  justify-content-center",role:"group","aria-label":"Basic outlined example",children:[(0,It.jsx)("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(){t([!1,!0,!1])},children:"Pr\xe9c\xe9dent"}),(0,It.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Confirmer"}),(0,It.jsx)("button",{type:"button",class:"btn btn-tertiary",onClick:function(){window.location.href="/completeAnnonce"},children:"Passer"})]})]})})})]})]})]})})]})};const EA=function(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)({}),{voitureId:i}=ie(),[a,s]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),u=(0,xv.q)();(0,o.useEffect)((()=>{(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e),r(e),console.log(e);const n=await u.get("/vehicles/searchbyid/"+i);if(n.data){r(n.data),t(n.data.modeleId);let e=JSON.stringify(n.data);window.localStorage.setItem("VehicleStorage",e)}})()}),[]);const d=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,It.jsx)("option",{value:a,children:a},a))}return e},[h,p]=(0,o.useState)(!0),[f,m]=(0,o.useState)(!0),[g,v]=(0,o.useState)(0);return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("section",{class:"mb-3",children:(0,It.jsxs)("div",{class:"container col-md-3 w-md-50 border rounded-3 py-4",children:[(0,It.jsx)("div",{class:"mb-2",children:(0,It.jsx)("div",{class:"progress",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":"80","aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"},children:(0,It.jsx)("div",{class:"progress-bar",style:{width:"80%"}})})}),(0,It.jsx)("p",{class:"text-muted",children:(0,It.jsx)("strong",{children:"Inscrire ma voiture"})}),(0,It.jsx)("h4",{children:"Quand est ce que votre voiture est disponible ?"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault2",onChange:e=>p(!h),checked:h}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault2",children:"Jour de la semaine"})]}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault3",onChange:e=>m(!f),checked:f}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault3",children:"Les Weekends"})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("label",{htmlFor:"heureDebut",children:"D\xe9but"}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:a,onChange:e=>{s(e.target.value),console.log(e.target.value)},children:d()}),(0,It.jsx)("label",{htmlFor:"fin",children:"Fin"}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:l,onChange:e=>{c(e.target.value),console.log(e.target.value)},children:d()}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"mb-3",children:[(0,It.jsx)("label",{for:"reservationPrice",class:"form-label",children:"Prix de reservation"}),(0,It.jsx)("input",{type:"text",class:"form-control",id:"reservationPrice",placeholder:"450",value:g,onChange:e=>{v(e.target.value)}})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("button",{type:"button",class:"btn btn-tertiary btn-lg w-100",onClick:function(){(async()=>{try{if(h)for(let e=0;e<=4;e++){(await u.post("/availabilities",{vehiculeId:i,WeekDAY:e.toString(),fromTime:a,untilTime:l,Type_de_location:"0",type:"0",Default_price:g})).data&&dv.success("Disponibilit\xe9s configur\xe9es pour votre v\xe9hicule")}if(f)for(let e=5;e<=6;e++){(await u.post("/availabilities",{vehiculeId:i,WeekDAY:e.toString(),fromTime:a,untilTime:l,Type_de_location:"0",type:"0",Default_price:g})).data&&dv.success("Disponibilit\xe9s configur\xe9es pour votre v\xe9hicule")}for(let e=0;e<=6;e++){await u.post("/hoteavailabilities",{userId:n.userId,Weekday:e.toString(),alwaysAvailable:!1,startTime:"08:00",endTime:"22:00",ModeAvailability:"0"}),await u.post("/hoteavailabilities",{userId:n.userId,Weekday:e.toString(),alwaysAvailable:!1,startTime:"08:00",endTime:"22:00",ModeAvailability:"1"})}window.location.href="/unavailabilities-car/"+i+"/calendar/0"}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()},children:"Configurer vos disponibilit\xe9s"})]})})})})};const NA=function(e){var t,n,r,i;let{data:a}=e;const o=window.localStorage.getItem("mode");return(0,It.jsx)(It.Fragment,{children:"guest"===o?(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"received-chats",children:[(0,It.jsx)("div",{className:"received-chats-img",children:(0,It.jsx)("img",{src:(null===a||void 0===a||null===(t=a.Reservation)||void 0===t||null===(n=t.Invite)||void 0===n?void 0:n.profile_url)||Cv,className:"img-chat"})}),(0,It.jsx)("div",{className:"received-msg",children:(0,It.jsxs)("div",{className:"received-msg-inbox",children:[(0,It.jsx)("p",{className:"single-msg p-chat",children:a.message}),(0,It.jsxs)("span",{className:"time",children:[(0,It.jsx)("i",{class:"far fa-clock"})," ",ey()(a.createdAt).calendar()]})]})})]})}):(0,It.jsxs)("div",{className:"received-chats",children:[(0,It.jsx)("div",{className:"received-chats-img",children:(0,It.jsx)("img",{src:(null===(r=a.Reservation)||void 0===r||null===(i=r.Host)||void 0===i?void 0:i.profile_url)||Cv,className:"img-chat"})}),(0,It.jsx)("div",{className:"received-msg",children:(0,It.jsxs)("div",{className:"received-msg-inbox",children:[(0,It.jsx)("p",{className:"single-msg p-chat",children:a.message}),(0,It.jsxs)("span",{className:"time",children:[(0,It.jsx)("i",{class:"far fa-clock"})," ",ey()(a.createdAt).calendar()]})]})})]})})};const MA=function(e){var t,n,r,i;let{data:a}=e;const o=window.localStorage.getItem("mode");return(0,It.jsx)(It.Fragment,{children:"guest"===o?(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"outgoing-chats",children:[(0,It.jsx)("div",{className:"outgoing-chats-img",children:(0,It.jsx)("img",{src:(null===(t=a.Reservation)||void 0===t||null===(n=t.Host)||void 0===n?void 0:n.profile_url)||Cv,className:"img-chat"})}),(0,It.jsx)("div",{className:"outgoing-msg",children:(0,It.jsxs)("div",{className:"outgoing-chats-msg",children:[(0,It.jsx)("p",{className:"multi-msg p-chat",children:a.message}),(0,It.jsxs)("span",{className:"time",children:[(0,It.jsx)("i",{className:"far fa-clock"}),ey()(a.createdAt).calendar()]})]})})]})}):(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"outgoing-chats",children:[(0,It.jsx)("div",{className:"outgoing-chats-img",children:(0,It.jsx)("img",{src:(null===(r=a.Reservation)||void 0===r||null===(i=r.Invite)||void 0===i?void 0:i.profile_url)||Cv,className:"img-chat"})}),(0,It.jsx)("div",{className:"outgoing-msg",children:(0,It.jsxs)("div",{className:"outgoing-chats-msg",children:[(0,It.jsx)("p",{className:"multi-msg p-chat",children:a.message}),(0,It.jsxs)("span",{className:"time",children:[(0,It.jsx)("i",{className:"far fa-clock"}),ey()(a.createdAt).calendar()]})]})})]})})})},jA=Qb("https://moovicar-9c0b59206766.herokuapp.com");const DA=function(){const[e,t]=(0,o.useState)([]),n=(0,xv.q)(),{reservationId:r}=ie();(0,o.useEffect)((()=>{(async()=>{try{jA.on("connect",(()=>{console.log("WebSocket Client Connected successfully lorem ipsum "),console.log("Socket ID:",jA.reservationId),jA.emit("reservationId",r),jA.on("conversation",(e=>{t((t=>[...t,e])),console.log(e)}))}));const e=await n.get("/conversations/"+r);e.data&&t(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]);const[i,a]=(0,o.useState)("");function s(){n.post("/conversations",{authorDriverRole:1,driversId:e[0].driversId,sentTime:new Date,reservationId:e[0].reservationId,message:i}).then((r=>{n.get("/conversations/"+e[0].reservationId).then((e=>t(e.data))).catch((e=>console.log(e)))})).catch((e=>console.log(e)))}return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsxs)("div",{className:"msg-header d-flex justify-content-between",children:[(0,It.jsxs)("div",{className:"container1 ",children:[(0,It.jsx)("img",{src:Cv,className:"msgimg img-chat"}),e.length>0&&(0,It.jsx)("div",{className:"active",children:(0,It.jsxs)("p",{children:[e[0].UserProfile.firstName," ",e[0].UserProfile.lastName]})})]}),(0,It.jsx)("i",{class:"bi bi-fullscreen h2 p-1","data-bs-toggle":"modal","data-bs-target":"#fullScreen"}),(0,It.jsx)("div",{class:"modal fade",id:"fullScreen",tabindex:"-1","aria-labelledby":"fullScreenLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog modal-fullscreen",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsx)("div",{class:"modal-header",children:(0,It.jsx)("i",{class:"bi bi-fullscreen-exit h2","data-bs-dismiss":"modal","aria-label":"Close"})}),(0,It.jsxs)("div",{class:"modal-body",children:[" ",(0,It.jsx)("div",{className:"chat-page",children:(0,It.jsxs)("div",{className:"msg-inbox",children:[(0,It.jsx)("div",{className:"chats",children:(0,It.jsx)("div",{className:"msg-page annonce-list",children:e&&e.map((e=>(0,It.jsx)(It.Fragment,{children:"0"==e.authorDriverRole?(0,It.jsx)(NA,{data:e}):(0,It.jsx)(MA,{data:e})})))})}),(0,It.jsx)("div",{className:"msg-bottom",children:(0,It.jsxs)("div",{className:"input-group",children:[(0,It.jsx)("input",{type:"text",className:"form-control",placeholder:"Taper un message...",onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&s()}}),(0,It.jsx)("span",{className:"input-group-text send-icon",children:(0,It.jsx)("i",{className:"bi bi-send"})})]})})]})})]})]})})})]}),(0,It.jsx)("div",{className:"chat-page",children:(0,It.jsxs)("div",{className:"msg-inbox",children:[(0,It.jsx)("div",{className:"chats",children:(0,It.jsx)("div",{className:"msg-page annonce-list",children:e&&e.map((e=>(0,It.jsx)(It.Fragment,{children:"0"==e.authorDriverRole?(0,It.jsx)(NA,{data:e}):(0,It.jsx)(MA,{data:e})})))})}),(0,It.jsx)("div",{className:"msg-bottom",children:(0,It.jsxs)("div",{className:"input-group",children:[(0,It.jsx)("input",{type:"text",className:"form-control",placeholder:"Taper un message...",onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&s()}}),(0,It.jsx)("span",{className:"input-group-text send-icon",children:(0,It.jsx)("i",{className:"bi bi-send"})})]})})]})})]})})};var RA,PA=__webpack_require__(3393),OA="https://js.stripe.com/v3",LA=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,FA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",zA=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(OA).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},BA=null,WA=null,VA=null,UA=function(e){return null!==BA?BA:(BA=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(FA),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(OA,'"]')),t=0;t<e.length;t++){var n=e[t];if(LA.test(n.src))return n}return null}();if(r&&e)console.warn(FA);else if(r){if(r&&null!==VA&&null!==WA){var i;r.removeEventListener("load",VA),r.removeEventListener("error",WA),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=zA(e)}}else r=zA(e);VA=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),WA=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",VA),r.addEventListener("error",WA)}catch(a){return void n(a)}else t(null)})),BA.catch((function(e){return BA=null,Promise.reject(e)})))},HA=!1,qA=function(){return RA||(RA=UA(null).catch((function(e){return RA=null,Promise.reject(e)})))};Promise.resolve().then((function(){return qA()})).catch((function(e){HA||console.warn(e)}));var GA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];HA=!0;var r=Date.now();return qA().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:t})}(r,n),r}(e,t,r)}))};function YA(e){let{VehiculeData:t}=e;const n=(0,PA.useStripe)(),r=(0,PA.useElements)(),i=(0,xv.q)(),a=te(),[s,l]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1),d=new URLSearchParams(a.search),h=(d.get("endDate"),d.get("startTime"),d.get("startDate"),d.get("endTime"),d.get("reservationId"));d.get("vehicleId"),JSON.parse(window.localStorage.getItem("me"));(0,o.useEffect)((()=>{if(!n)return;const e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");e&&n.retrievePaymentIntent(e).then((e=>{let{paymentIntent:t}=e;switch(t.status){case"succeeded":l("Payment succeeded!");break;case"processing":l("Your payment is processing.");break;case"requires_payment_method":l("Your payment was not successful, please try again.");break;default:l("Something went wrong.")}}))}),[n]);const[p,f]=(0,o.useState)(!1);return(0,It.jsxs)("form",{id:"payment-form",onSubmit:async e=>{if(e.preventDefault(),!n||!r)return;u(!0);const{error:a,paymentIntent:o}=await n.confirmPayment({elements:r,confirmParams:{return_url:"".concat(Av.AJ,"/checkout")},redirect:"if_required"});a?"card_error"===a.type||"validation_error"===a.type?l(a.message):l("An unexpected error occurred."):(console.log("Paiement confirm\xe9 avec succ\xe8s:",o),"succeeded"===o.status&&i.put("/reservations/"+h,{PaymentIntentId:o.id,status:"3"}).then((e=>{i.post("/conversations",{authorDriverRole:1,driversId:t.UserProfile.id,sentTime:new Date,reservationId:h,message:"Paiement effectu\xe9 avec succ\xe8s, merci pour votre confiance "}).then((e=>{window.location.href="".concat(Av.AJ,"/guest/reservation/")+h+"?"+o.id})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))),u(!1)},children:[(0,It.jsx)(PA.PaymentElement,{id:"payment-element",options:{layout:"tabs"}}),(0,It.jsxs)("div",{class:"form-check mt-2",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",value:p,id:"flexCheckChecked",onChange:()=>f(!p)}),(0,It.jsxs)("label",{class:"form-check-label",for:"flexCheckChecked",children:["J'accepte effectuer ce paiement et les"," ",(0,It.jsx)("a",{href:"#",children:"conditions de ventes"})," de Moovicar"]})]}),(0,It.jsx)("p",{className:"small",children:"Tu pourras contacter Fatahou Ahamadi just apr\xe8s le paiement."}),(0,It.jsx)("button",{disabled:c||!n||!r||!p,id:"submit",className:"btn btn-success text-white mt-3 col-md-3 w-100",children:(0,It.jsx)("span",{id:"button-text",children:c?(0,It.jsx)("div",{className:"spinner",id:"spinner"}):"R\xe9server le voyage"})})]})}const XA=GA("pk_test_51NkmmiEcnL0rILcwntrXZJ0q3qxMlV5HQgLRZxroRfnmOeCnfR5zJCatyp8kj7hoHbsxK8dzSWkZRMxaHI2QyI3A003F66a5En");const KA=function(){const[e,t]=(0,o.useState)(""),n=te(),r=new URLSearchParams(n.search),i=(0,xv.q)(),a=(r.get("action"),r.get("endDate")),s=r.get("startTime"),l=r.get("startDate"),c=r.get("endTime"),u=r.get("vehicleId"),d=r.get("NombreJour"),h=r.get("priceU"),p=r.get("fraisVoyage"),f=(r.get("TVA"),r.get("Reduction")),m=r.get("FreeMinDistance"),g=r.get("annonceId"),[v,b]=(r.get("reservationId"),(0,o.useState)(null)),[y,x]=(0,o.useState)([parseInt(d)*parseFloat(h)+parseFloat(p)]*f/100),w=[parseInt(d)*parseFloat(h)+parseFloat(p)]*f/100,[_,k]=(0,o.useState)([parseInt(d)*parseFloat(h)+parseFloat(p)]-w),[S,C]=(0,o.useState)([parseInt(d)*parseFloat(h)+parseFloat(p)]-w),[A,T]=(r.get("reservationLocationType"),(0,o.useState)(null));(0,o.useEffect)((()=>{fetch("".concat(Av.f9,"/api/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:S})}).then((e=>e.json())).then((e=>t(e.clientSecret))),i.get("/vehicles/searchbyid/"+u).then((e=>{b(e.data)})).catch((e=>console.log(e))),i.get("/deliverylocation/getannoncebyid/"+g).then((e=>{T(e.data[0]),console.log(e.data[0])})).catch((e=>console.log(e)))}),[]);const I={clientSecret:e,appearance:{theme:"stripe"}};return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("div",{className:"container",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{class:"mb-3 col-md-8 mb-3",children:(0,It.jsxs)("div",{class:"container   border rounded-3 py-4",children:[(0,It.jsx)("h1",{className:"mb-3",children:(0,It.jsx)("strong",{children:"Checkout"})}),(0,It.jsxs)("div",{class:"alert alert-primary",role:"alert",children:[(0,It.jsxs)("p",{children:[(0,It.jsx)("i",{class:"bi bi-chat-right-dots-fill h5"})," ",(0,It.jsx)("strong",{children:"Annulation gratuite avant le 01 mai 2024."})]}),(0,It.jsx)("p",{className:"text-muted small",children:"Si vous avez chang\xe9 d'avis, vous pouvez faire demi tour"})]}),(0,It.jsx)("p",{className:"h4",children:(0,It.jsx)("strong",{children:"Plan de protection"})}),(0,It.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ducimus dolores, recusandae magni beatae nihil dolorum facere omnis fugiat, minus obcaecati sequi vitae. Ex numquam, exercitationem ullam alias consequatur officiis voluptatibus?"}),(0,It.jsx)(Ne,{class:"card mb-3",children:(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:(0,It.jsx)("strong",{children:"Standard"})}),(0,It.jsxs)("p",{class:"card-text",children:[(0,It.jsx)("span",{children:(0,It.jsx)("strong",{children:"Dependable"})})," ","- hit the road confidently with solid protection"]}),(0,It.jsx)("a",{href:"#",class:"btn btn-primary",children:"Voir les d\xe9tails"})]})}),(0,It.jsx)(Ne,{class:"card mb-3 alert-primary",children:(0,It.jsxs)("div",{class:"card-body",children:[(0,It.jsx)("h5",{class:"card-title",children:(0,It.jsx)("strong",{children:"Minimum"})}),(0,It.jsxs)("p",{class:"card-text",children:[(0,It.jsx)("span",{children:(0,It.jsx)("strong",{children:"Coast Effective"})})," ","- hit the road confidently with solid protection"]}),(0,It.jsx)("a",{href:"#",class:"btn btn-primary",children:"Voir les d\xe9tails"})]})}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"w-100 mb-3",children:[(0,It.jsx)("p",{className:"h5",children:"Mode de paiement"}),(0,It.jsx)("p",{className:"bold text-tertiary",children:"Information sur la carte"}),(0,It.jsxs)("p",{className:"small text-muted",children:[(0,It.jsx)("i",{class:"bi bi-shield-lock-fill h5"})," Vos informations seront stock\xe9es en toute s\xe9curit\xe9."]}),e&&(0,It.jsx)(PA.Elements,{options:I,stripe:XA,children:(0,It.jsx)(YA,{VehiculeData:v})})]})]})}),(0,It.jsxs)("div",{className:"col-md-3 border rounded-3",children:[(0,It.jsx)("img",{className:"mt-2 mb-3",src:null===v||void 0===v?void 0:v.principalPhotos,alt:"vehicule",width:"100%",style:{borderRadius:"16px"}}),(0,It.jsxs)("p",{className:"small",children:[null===v||void 0===v?void 0:v.UserProfile.firstName," ",null===v||void 0===v?void 0:v.UserProfile.lastName]}),(0,It.jsx)("p",{className:"h4",children:(0,It.jsxs)("strong",{children:[null===v||void 0===v?void 0:v.VehicleModel.marque," ",null===v||void 0===v?void 0:v.VehicleModel.modele]})}),(0,It.jsxs)("p",{children:["5.0 ",(0,It.jsx)("i",{class:"bi bi-star-fill"}),"(5 Voyages)"]}),(0,It.jsxs)("div",{className:"d-flex justify-content-beetween w-100",children:[(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:ey()(new Date(l)).format("MMM Do YY")})}),(0,It.jsx)("p",{className:"text-muted",children:s})]}),(0,It.jsx)("i",{class:"bi bi-caret-right-fill"}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:ey()(new Date(a)).format("MMM Do YY")})}),(0,It.jsx)("p",{className:"text-muted",children:c})]})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Lieu de rencontre"})}),(0,It.jsxs)("p",{className:"h5 mb-3",children:[(0,It.jsx)("i",{class:"bi bi-car-front"})," ",null===A||void 0===A?void 0:A.addressEmplacementDelivery]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("dl",{class:"row",children:[(0,It.jsxs)("dt",{class:"col-sm-6",children:[h," x ",d," jours"]}),(0,It.jsxs)("dd",{class:"col-sm-3 text-success h4",children:[h*d,"\u20ac"]}),(0,It.jsx)("dt",{class:"col-sm-6",children:"Frais de voyage"}),(0,It.jsx)("dd",{class:"col-sm-3",children:(0,It.jsxs)("p",{className:"text-success h4",children:[p,"\u20ac"]})}),(0,It.jsxs)("dt",{class:"col-sm-6",children:[m," km"]}),(0,It.jsx)("dd",{class:"col-sm-3",children:(0,It.jsx)("p",{className:"text-success text-success h4",children:"Gratuit"})}),(0,It.jsx)("dt",{class:"col-sm-6",children:"R\xe9duction"}),(0,It.jsx)("dd",{class:"col-sm-3",children:(0,It.jsxs)("p",{className:"text-success h4",children:["-",y,"\u20ac"]})}),(0,It.jsx)("dt",{class:"col-sm-6",children:"Total"}),(0,It.jsx)("dd",{class:"col-sm-3",children:(0,It.jsxs)("p",{className:"text-success h4",children:[_,"\u20ac"]})})]}),(0,It.jsxs)("div",{class:"alert alert-primary",role:"alert",children:[(0,It.jsxs)("p",{children:[(0,It.jsx)("i",{class:"bi bi-chat-right-dots-fill h5"})," ",(0,It.jsx)("strong",{children:"Annulation gratuite avant le 01 mai 2024."})]}),(0,It.jsx)("p",{className:"text-muted small",children:"Si vous avez chang\xe9 d'avis, vous pouvez faire demi tour"})]})]})]})})})})};const ZA=function(e){let{vehicule:t}=e;const[n,r]=(0,o.useState)(0),[i,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(0),c=(0,xv.q)(),[u,d]=(0,o.useState)({flexSwitchCheckDefault:0,flexSwitchCheckDefault2:0,flexSwitchCheckDefault3:0,flexSwitchCheckDefault4:0,flexSwitchCheckDefault5:0});(0,o.useEffect)((()=>{(async()=>{})()}),[]);const h=e=>{a(e.target.value)},p=(e,t)=>{d((n=>({...n,[e]:t})))};return(0,It.jsxs)("div",{className:"w-md-50",children:[(0,It.jsx)("div",{class:"alert alert-primary mb-3",role:"alert",children:"Nous vous recommendons de fixer un prix de 30\u20ac pour plus de reservations."}),(0,It.jsxs)("div",{class:"mb-3",children:[(0,It.jsx)("label",{for:"reservationPrice",class:"form-label",children:"Prix de reservation"}),(0,It.jsx)("input",{type:"text",class:"form-control",id:"reservationPrice",placeholder:"450",value:n,onChange:e=>{r(e.target.value)}})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onChange:h,value:"0"}),(0,It.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",children:"Sur reservation"})]}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onChange:h,value:"1"}),(0,It.jsx)("label",{class:"form-check-label",for:"flexRadioDefault2",children:"MOOViCar Connect"})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:e=>p("flexSwitchCheckDefault",e.target.checked?1:0)}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Distance minimum inclus"})]}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault2",onChange:e=>p("flexSwitchCheckDefault2",e.target.checked?1:0)}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault2",children:"Conducteur inclus"})]}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault3",onChange:e=>p("flexSwitchCheckDefault3",e.target.checked?1:0)}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault3",children:"Carburant inclus"})]}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault4",onChange:e=>p("flexSwitchCheckDefault4",e.target.checked?1:0)}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault4",children:"Y'a t il un d\xe9lai d'annulation de reservation ?"})]}),(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault5",onChange:e=>p("flexSwitchCheckDefault5",e.target.checked?1:0)}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault5",children:"Y'a t il un suppl\xe9mentaire d'un conducteur jeune ?"})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"mb-3",children:[(0,It.jsx)("label",{for:"distanceMin",class:"form-label",children:"Distance minimum"}),(0,It.jsx)("input",{type:"text",class:"form-control",id:"distanceMin",placeholder:"300 km",value:s,onChange:e=>{l(e.target.value)}})]}),(0,It.jsx)("button",{className:"btn btn-primary text-white w-100 col-3",onClick:function(){c.post("/vehicleAnnonces",{Annonce:{reservationPrice:n,distanceOutMin:s,locationMode:i,vehiculeId:t.id,minDistanceInclus:u.flexSwitchCheckDefault.toString(),additionalDriverInclus:u.flexSwitchCheckDefault2.toString(),annulationAnnonceDelayBefore:u.flexSwitchCheckDefault4.toString(),carburantInclus:u.flexSwitchCheckDefault3.toString(),supplementJeuneDriver:u.flexSwitchCheckDefault5.toString(),locationAddress:t.CoordonatesCity,locationCoordinates:t.CoordonatesCity,status:"0"},EmailData:{nom:"Fatah",prenom:"Ahmed",Linkurl:"https://trustdataverify.com",email:"fatahouahamadi88@gmail.com"}}).then((e=>{console.log("R\xe9ponse du serveur:",e.data),window.location.href="/emplacement-delivery-car/"+t.id+"/annonce/"+e.data.vehiculeAnnonceId})).catch((e=>{console.error("Erreur de requ\xeate:",e)}))},children:"Enregistrer l'annonce"})]})};const JA=function(){const[e,t]=(0,o.useState)({});return(0,o.useEffect)((()=>{(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e),t(e)})()}),[]),(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"mt-2 container col-md-4",children:[(0,It.jsx)("h1",{children:"Compl\xe8tez votre annonce"}),(0,It.jsx)("div",{className:"my-div  w-100 d-md-block w-md-75 ",children:(0,It.jsx)(ZA,{vehicule:e})})]})})},QA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAfaSURBVHic7Z1PbB1HHce/v3m2FeTGpq04QFPUUqRU6SHUgZa4CA6VenCTrPc5NarErQffQP2jVkokMNCWhlQckLj1hpDAsDv7bCexg0BCglRCCVIt0eZQhUopIHygEgkKyvPOj4P3SVGbvN23b/bP2/l9pHfZmTfzs3+fnd2Z/fMAQRAEQRAEQRAEQRBcgYb58tra2ud3dnY8AE8DeADAPgCTFuJqMv8F8CGADwCsE1Fnfn7+alXB5BJgbW3tvp2dne8CeA5Ay25IzmGIKGDml33f/6DszgcWQGs9D+DnAO6yH47TXFNKfcvzvNUyO1WDVNZafwdAAEl+Eew1xugwDL9dZqeZR4Bkzw8woDTCwBillF/WSJBJgCAI9iml3oPs+WVxTSn1sOd5/yi6o0x7MxH9AJL8Mtkbx/H3y+godQRIpnpXIGf7ZRMbYx5YWFj4sMhOxtIqJPP8tORfBfC8Uuq853nXrETWUDqdzl5jzJMA3gCwv0/VFhF5AH5WZDypAhDRHDP3q3K12+1+aXFx8d/2wmouyQ4Sra+v/6Hb7b4D4P471SWiORQsQOo5ADN/IaXK85L8wTly5MhHzPxiSrWHio4jy0ngZ/s2oNR5S7E4x549ezZTqnyu6BiyCLC3X6Ec8/MzNzf3n5Qqff/3NpBFHccRARxHBHCc1GlglaysrExMTEz4zOwBmMHu/QbA7vX0vwCIut1utLi4eLOyIEec2o4AWuuF8fHx95j5lwCexe6iyWTy2Z9s+9X4+Pi7YRi2Kwx1pKmdACsrKy2t9ZsAfgMgbQ0CAB4ioiAMw9PLy8u1+3vqTu3+YePj46cApC2QfAIieungwYM/KiCkRlMrAbTWC8iR/Ft4OblvQchIbQRYWVmZAHDKQlM/SdoSMlAbASYmJnzYWft+cGxszLPQjhPURgAA1oZupZQIkJHaCMDMhyy29WVbbTWd2giAlKuOA3KfxbYaTZ0EsImpOoBRoU4CWLsDlogKv5u2KdRJgEu2GmLmi7baajp1EiCy1RARdWy11XRqI8D29rYG8L6Fpq7cvHmz1OfrRpnaCLC0tNRl5leGbYeZX5DLw9mpjQAA0G63Q2Z+M+/3mflUu92W4X8AaiUAAGxtbb1CRKdzfPXHW1tbJ6wH1HBqd0fQ8vKywe5VvQsATgP4YspX3mfml2TPz0ftRoAevu9H29vbB5h5kYh+QUSXAVwHcJ2ILifbntne3j4gyc9P7UaAW1laWuoC+HXyKYzV1dVHdnZ2XieirwFgAH8kohPz8/PvFtlvHajtCFAWQRA8EcfxBSI6BuAeAPcC8Jj57SAInqg4vMJxWoAoimaVUucATN2meEoptRmG4TfKjqtMnBUgiqJZZj6H/o9fTRLRmSZL4KQAYRgeTpJ/uz3/4zRaAucECMPwMBFtIFvye0wS0ZlOp/P1ouKqCqcEyJn8HpPGmLNNk8AZAYZMfo/GSeCEAJaS32PSGLMWBMFXLbRVOY0XQGt9iIjOwE7ye0wppTabIEGjBdBaHwLwWwB3F9B8IyRorAAFJ7/HlFJqY5QlqORaQNFr71EUPc7MmwCmbbSXwrRSakNr/ZTv+38uoT+rlD4CRFE0W+Tae8nJ7zEN4LzW+rES+7RCqQKkrMANvfYeBMFM0n6Zye8xDeB8FEWPV9B3bkoTIOPZeO4VtyAIZpRSRR/z05hm5s1RkqAUAYIgmEH2E7KB59m3JP+evDFaZKQkKFyATqfzaI49M/MUq2bJ7zHNzJujcE5QuADGmN8jX3KmlFIb/fakIAi+opT6Xc72i2YaQNqrYCunjEPAp4f47h2H02TP3xiy/aKpc2wARmMh6BMS1HTYH0lqfVPoLfSOqU8ppbrGGEm+JUZFACA5phpjgBEYWkeFURIAkMRbZxTOAZrO9ZxlVhABqudPOcusIAJUz0kAN26z/UZSVigiQMX4vn8pjuMZACGAfyWfMI7jGd/3rb02506M2klgIzl+/PhlAAtV9C0jgOOIAI4jAjiOCOA4IoDjiACOIwI4jqwD1IDV1dVH4jh+DcBssulCq9U6eezYsb8W3beMABWjtX7MGHMRgAfgM8nHM8ZcLOOeQhGgel5l5j0f35hse7XozkWA6jmcs8wKIkD13JWzzAoigOOIAI4jAjhO4esAvu9T0X0I+ZERwHFEAMcRARwniwDX+hV2Op1+L1sWak4WAf7Zr9AY86SlWIQKSBWAiK6kVHljfX29yteyCEOQKgAzn0mpsr/b7b4ThuEzZ8+etfk2TqEEUufoURTdz8x/A9AqIZ46cB27j2SdzPpgRnLZ9ofYvZ5f+Pp9CgPFn2mRRmv9FoDnhgxs1LgRx/FM8tDGHYmi6ACAS7e7pFsxmeLPNA0cGxv7HlJmAw3kU61W67W0Ssz8eg2TD2SMP5MAR48e/TuAbwKIh41qxMjy5tLZ9CqVkRp/5oUg3/fPMfMLAMxQIQm1YqCVwHa7/VOllA93DgdZns+/UHgU+UmNf+ClYM/zVpVSDzPzW2j2IeFGHMepz+cT0Qki+l8ZAQ1ItviH6SEIgn1E5BHR00T0IDPvQ/XToGGRaaBQHlpr7lde9P0UcjXQcUQAxxEBHEcEcBwRwHFEAMcRARxHBHAcEcBxRADHEQEcRwSoHvm9AMeR3wtwHPm9AJep+vcCBEEQBEEQBEEQBEFwh/8DTke/ACyz8GQAAAAASUVORK5CYII=",$A=__webpack_require__.p+"static/media/avantcar.e06d92110ffa97ee8d8d.jpg",eT=__webpack_require__.p+"static/media/interiorcar.1b6f5ac21524d35c0ea1.jpg",tT=__webpack_require__.p+"static/media/lateral.eb3198edb8e4c50c4e17.jpg";const nT=function(){const e=(0,xv.q)(),{vehiculeId:t,mois:n}=(JSON.parse(window.localStorage.getItem("me")),ie());(0,o.useEffect)((()=>{(async()=>{try{const n=await e.get("/vehicles/searchbyid/"+t);n.data&&(i(n.data.principalPhotos),s(n.data.lateralPhotos),c(n.data.interiorPhotos))}catch(n){console.error("Erreur lors de la requ\xeate Axios :",n)}})()}),[]);const[r,i]=(0,o.useState)(null),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(null);return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(yv,{}),(0,It.jsx)(ry,{}),(0,It.jsx)("h1",{className:"mb-3",children:"Configurations des photos"}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block d-flex justify-content-start",children:(0,It.jsx)(Iv,{vehiculeId:t})}),(0,It.jsx)("div",{className:"col-md-9 mb-3 ",children:(0,It.jsxs)("div",{className:"w-100 my-div",children:[(0,It.jsx)("h3",{children:"Ajouter des photos mettant votre voiture en valeur"}),(0,It.jsxs)("div",{className:"mb-3 d-flex justify-content-between p-3",children:[(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{className:"text-muted",children:[(0,It.jsx)("i",{class:"bi bi-check-circle-fill"})," Utilisez le format paysage"]}),(0,It.jsxs)("p",{className:"text-muted",children:[(0,It.jsx)("i",{class:"bi bi-check-circle-fill"})," Choissez un arri\xe8re-plan neutre et d\xe9gag\xe9"]})]}),(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{className:"text-muted",children:[(0,It.jsx)("i",{class:"bi bi-check-circle-fill"})," Adoptez nos angles de prise de vue"]}),(0,It.jsxs)("p",{className:"text-muted",children:[(0,It.jsx)("i",{class:"bi bi-check-circle-fill"})," Servez-vous uniquement de lumi\xe8re naturelle"]})]})]}),(0,It.jsx)("p",{className:"text-muted mb-2",children:"PHOTO PRINCIPALE"}),(0,It.jsxs)("div",{className:"mb-3 row d-flex justify-content-between",children:[(0,It.jsx)("div",{class:"col-md-6",children:(0,It.jsx)("div",{class:"card p-2",children:(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{class:"mb-4 d-flex justify-content-center",children:r?(0,It.jsx)("img",{src:r,width:"200",alt:"Uploaded Preview"}):(0,It.jsx)("img",{src:QA,alt:"Voiture photo",style:{width:"200px"}})}),(0,It.jsx)("div",{class:"d-flex justify-content-center",children:(0,It.jsx)("div",{class:"btn btn-primary btn-rounded",children:(0,It.jsx)("input",{type:"file",class:"form-control",onChange:e=>{const t=e.target.files[0],n=new FormData;n.append("file",t),n.append("upload_preset","r6s4af83"),fetch("https://api.cloudinary.com/v1_1/dtrkcpsky/image/upload",{method:"POST",body:n}).then((e=>e.json())).then((e=>i(e.secure_url))).catch((e=>console.error("Error uploading image to Cloudinary:",e)))}})})})]})})}),(0,It.jsxs)("div",{className:"col-md-5",children:[(0,It.jsx)("p",{className:"mb-2",children:"Une photo 3/4 avant attrayante c'est la chose que voient les locataires."}),(0,It.jsx)("img",{src:$A,alt:"Uploaded Preview",width:"150px",style:{borderRadius:"18px"}})]})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("p",{className:"text-muted mb-2",children:"PHOTOS SUPPLEMENTAIRES"}),(0,It.jsxs)("div",{className:"mb-3 row d-flex justify-content-between",children:[(0,It.jsx)("div",{class:"col-md-6",children:(0,It.jsx)("div",{class:"card p-2",children:(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{class:"mb-4 d-flex justify-content-center",children:a?(0,It.jsx)("img",{src:a,width:"200",alt:"Uploaded Preview"}):(0,It.jsx)("img",{src:QA,alt:"Voiture photo",style:{width:"200px"}})}),(0,It.jsx)("div",{class:"d-flex justify-content-center",children:(0,It.jsx)("div",{class:"btn btn-primary btn-rounded",children:(0,It.jsx)("input",{type:"file",class:"form-control",onChange:e=>{const t=e.target.files[0],n=new FormData;n.append("file",t),n.append("upload_preset","r6s4af83"),fetch("https://api.cloudinary.com/v1_1/dtrkcpsky/image/upload",{method:"POST",body:n}).then((e=>e.json())).then((e=>s(e.secure_url))).catch((e=>console.error("Error uploading image to Cloudinary:",e)))}})})})]})})}),(0,It.jsxs)("div",{className:"col-md-5",children:[(0,It.jsx)("p",{className:"mb-2",children:"Une photo 3/4 avant attrayante c'est la chose que voient les locataires."}),(0,It.jsx)("img",{src:tT,alt:"image avant",width:"150px",style:{borderRadius:"18px"}})]})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("p",{className:"text-muted mb-2",children:"PHOTOS INTERIEURS"}),(0,It.jsxs)("div",{className:"mb-3 row d-flex justify-content-between",children:[(0,It.jsx)("div",{class:"col-md-6",children:(0,It.jsx)("div",{class:"card p-2",children:(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{class:"mb-4 d-flex justify-content-center",children:l?(0,It.jsx)("img",{src:l,width:"200",alt:"Uploaded Preview"}):(0,It.jsx)("img",{src:QA,alt:"Voiture photo",style:{width:"200px"}})}),(0,It.jsx)("div",{class:"d-flex justify-content-center",children:(0,It.jsx)("div",{class:"btn btn-primary btn-rounded",children:(0,It.jsx)("input",{type:"file",class:"form-control",onChange:e=>{const t=e.target.files[0],n=new FormData;n.append("file",t),n.append("upload_preset","r6s4af83"),fetch("https://api.cloudinary.com/v1_1/dtrkcpsky/image/upload",{method:"POST",body:n}).then((e=>e.json())).then((e=>c(e.secure_url))).catch((e=>console.error("Error uploading image to Cloudinary:",e)))}})})})]})})}),(0,It.jsxs)("div",{className:"col-md-5",children:[(0,It.jsx)("p",{className:"mb-2",children:"Une photo 3/4 avant attrayante c'est la chose que voient les locataires."}),(0,It.jsx)("img",{src:eT,alt:"image avant",width:"150px",style:{borderRadius:"18px"}})]})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("div",{className:"col-md-3 d-flex ",children:(0,It.jsxs)("button",{className:"btn btn-tertiary w-100",onClick:function(){(async()=>{try{(await e.put("/vehicles/"+t,{principalPhotos:r,lateralPhotos:a,interiorPhotos:l})).data&&dv.success("Vos photos ont \xe9t\xe9 ajout\xe9s avec succ\xe8s")}catch(n){console.error("Erreur lors de la requ\xeate Axios :",n)}})()},children:[(0,It.jsx)("i",{class:"bi bi-floppy-fill"})," Enregistrer"]})})]})})]})]})})};const rT=function(e){let{handleSelectLocation:t,resetInput:n}=e;const[r,i]=(0,o.useState)(""),[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!0),[h,p]=(0,o.useState)(null);return(0,o.useEffect)((()=>{n&&i("")}),[n]),(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"mb-md-3",children:[(0,It.jsxs)("label",{htmlFor:"categoryProduct",className:"col-form-label d-block d-md-none",children:["Adresse d'emplacement",(0,It.jsx)("sup",{children:"*"})]}),(0,It.jsxs)("div",{className:"dropdown",children:[(0,It.jsx)("input",{type:"text",className:"form-control",id:"categoryProduct",required:!0,name:"categoryProduct",onChange:e=>{const t=e.target.value;if(i(t),t.length>=1){const e=async()=>{try{const e=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?access_token=pk.eyJ1IjoiYWhhbWFkaSIsImEiOiJjbHJzMmg4NmMwMXVrMmtwNDc4dHpiM3B2In0.AZcceQazmt86mv0MhRfwUQ&language=fr&country=fr,be,it,de,es,gb&types=place,address"));if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();c(n.features)}catch(h){p(h)}finally{d(!1)}};e()}else c([]),s(!1)},placeholder:"Aeroport de Grenoble",value:r,autoComplete:"off",onBlur:()=>{setTimeout((()=>s(!1)),200)},onFocus:()=>{s(!0)}}),r.length>=2&&(0,It.jsx)("ul",{className:a?"dropdown-menu w-100 show":"dropdown-menu w-100",children:l.map(((e,n)=>(0,It.jsx)("li",{children:(0,It.jsx)("button",{className:"dropdown-item mb-2",type:"button",onClick:()=>(e=>{c([]),i(e.place_name),t(e),s(!1)})(e),children:(0,It.jsxs)("p",{className:"w-100 text-wrap",children:[(0,It.jsx)("ion-icon",{name:"location-outline"})," ",e.place_name]})})},n)))})]})]})})};const iT=function(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(!0),[s,l]=(0,o.useState)({}),{voitureId:c,annonceId:u}=ie(),[d,h]=(0,o.useState)([0,0]),[p,f]=(0,o.useState)(""),m=(0,xv.q)();return(0,o.useEffect)((()=>{(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e),l(e),console.log(e);const n=await m.get("/vehicles/searchbyid/"+c);if(n.data){l(n.data),t(n.data.modeleId);let e=JSON.stringify(n.data);window.localStorage.setItem("VehicleStorage",e)}})()}),[]),(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("section",{class:"mb-3",children:(0,It.jsxs)("div",{class:"container col-md-3 w-md-50 bg-body-tertiary border rounded-3 py-4",children:[(0,It.jsx)("div",{class:"mb-2",children:(0,It.jsx)("div",{class:"progress",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"},children:(0,It.jsx)("div",{class:"progress-bar",style:{width:"60%"}})})}),(0,It.jsx)("p",{class:"text-muted",children:(0,It.jsx)("strong",{children:"Inscrire ma voiture"})}),(0,It.jsx)("h4",{children:"O\xf9 donnerez-vous rendez-vous \xe0 votre locataire?"}),(0,It.jsx)("hr",{}),(0,It.jsx)("p",{className:"mb-3",children:"Pour assurer la confidentialit\xe9 de vos donn\xe9es, nous ne divulguons l\u2019emplacement de votre voiture aux invit\xe9s qu\u2019une fois que vous avez confirm\xe9 leur voyage."}),(0,It.jsx)(rT,{handleSelectLocation:e=>{h(e.center),f(e.place_name)},resetInput:i}),(0,It.jsx)("button",{type:"button",class:"btn btn-primary btn-lg w-100",onClick:function(){(async()=>{try{(await m.post("/deliverylocation",{annonceId:u,addressEmplacementDelivery:p,locationCoords:d[1].toString()+","+d[0].toString()})).data&&(dv.success("Lieu de l'emplacement et livraison  ajout\xe9  pour votre annonce"),window.location.href="/location-mode-car/"+c+"/annonce/"+u)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()},children:"Confirmer"})]})})})})},aT=o.createContext({}),oT=!0;function sT(e){let{baseColor:t,highlightColor:n,width:r,height:i,borderRadius:a,circle:o,direction:s,duration:l,enableAnimation:c=oT}=e;const u={};return"rtl"===s&&(u["--animation-direction"]="reverse"),"number"===typeof l&&(u["--animation-duration"]="".concat(l,"s")),c||(u["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(u.width=r),"string"!==typeof i&&"number"!==typeof i||(u.height=i),"string"!==typeof a&&"number"!==typeof a||(u.borderRadius=a),o&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof n&&(u["--highlight-color"]=n),u}function lT(e){let{count:t=1,wrapper:n,className:r,containerClassName:i,containerTestId:a,circle:s=!1,style:l,...c}=e;var u,d,h;const p=o.useContext(aT),f={...c};for(const[o,w]of Object.entries(c))"undefined"===typeof w&&delete f[o];const m={...p,...f,circle:s},g={...l,...sT(m)};let v="react-loading-skeleton";r&&(v+=" ".concat(r));const b=null!==(u=m.inline)&&void 0!==u&&u,y=[],x=Math.ceil(t);for(let w=0;w<x;w++){let e=g;if(x>t&&w===x-1){const n=null!==(d=e.width)&&void 0!==d?d:"100%",r=t%1,i="number"===typeof n?n*r:"calc(".concat(n," * ").concat(r,")");e={...e,width:i}}const n=o.createElement("span",{className:v,style:e,key:w},"\u200c");b?y.push(n):y.push(o.createElement(o.Fragment,{key:w},n,o.createElement("br",null)))}return o.createElement("span",{className:i,"data-testid":a,"aria-live":"polite","aria-busy":null!==(h=m.enableAnimation)&&void 0!==h?h:oT},n?y.map(((e,t)=>o.createElement(n,{key:t},e))):y)}const cT=function(e){let{data:t}=e;const[n,r]=(0,o.useState)(!1);return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)(Ne,{to:"/guest/reservation/"+t.reservationId,children:(0,It.jsxs)("div",{className:"w-100 d-md-block w-md-75 my-div styled-image ".concat(n?"hovered":""),onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},children:[(0,It.jsxs)("div",{className:"d-flex",children:[(0,It.jsxs)("div",{className:"p-2 flex-fill",children:[(0,It.jsx)("small",{className:"text-muted",children:t?"2"===t.status?(0,It.jsxs)("strike",{children:[ey()(t.startDate).calendar()," -"," ",ey()(t.endDate).calendar()]}):(0,It.jsxs)(It.Fragment,{children:[" ",ey()(t.startDate).calendar()," -"," ",ey()(t.endDate).calendar()]}):(0,It.jsx)(lT,{width:200})}),t?(0,It.jsxs)(It.Fragment,{children:["1"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-tertiary",children:[(0,It.jsx)("i",{className:"bi bi-check-circle-fill"})," ",(0,It.jsx)("strong",{children:"En attente de paiement"})]})}),"0"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-warning",children:[(0,It.jsx)("i",{className:"bi bi-clock-history"})," ",(0,It.jsx)("strong",{children:"En attente de confirmation"})]})}),"2"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-danger",children:[(0,It.jsx)("i",{className:"bi bi-x-circle-fill"})," ",(0,It.jsx)("strong",{children:"Reservation annul\xe9e"})]})}),"3"===t.status&&(0,It.jsx)("p",{className:"text-white h4",children:(0,It.jsxs)("span",{className:"badge bg-primary",children:[(0,It.jsx)("i",{className:"bi bi-bag-check-fill"})," ",(0,It.jsx)("strong",{children:"Reservation confirm\xe9e"}),(0,It.jsx)("span",{className:"small",children:" (pay\xe9)"})]})}),"2"===t.status&&(0,It.jsxs)("small",{className:"text-muted",children:["Voyage annul\xe9 le ",ey()(t.updatedAt).calendar()]}),"1"===t.status&&(0,It.jsx)("small",{className:"text-muted",children:"Vous devez payer pour bloquer les dates, car la r\xe9servation ne sera confirm\xe9e que lorsque le paiement aura \xe9t\xe9 effectu\xe9."})]}):(0,It.jsx)(lT,{height:30,width:250})]}),(0,It.jsx)("div",{className:"p-2 flex-fill d-flex flex-column align-items-end",style:{width:"270px"},children:(0,It.jsx)("div",{className:"logo ms-auto img-fluid",children:t?(0,It.jsx)("img",{src:t.Vehicle.principalPhotos||Cv,alt:"Annonce voiture",height:"80",width:"100",style:{borderRadius:"0.5rem"}}):(0,It.jsx)(lT,{height:80,width:100})})})]}),(0,It.jsx)(yv,{})]})})})},uT=Qb("https://moovicar-9c0b59206766.herokuapp.com");const dT=function(){const[e,t]=(0,o.useState)([]),n=JSON.parse(window.localStorage.getItem("me")),[r,i]=(0,o.useState)((null===n||void 0===n?void 0:n.id)||Av.Cc);(0,o.useEffect)((()=>{localStorage.setItem("mode","guest")}),[]);const a=(0,xv.q)();(0,o.useEffect)((()=>{(async()=>{try{const e=await a.get("/reservations/getbyInviteid/"+r);if(e.data){const n=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));t(n)}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]);const[s,l]=(0,o.useState)([]);return(0,o.useEffect)((()=>{(async()=>{try{uT.on("connect",(()=>{console.log("WebSocket Client Connected successfully lorem ipsum "),console.log("Socket ID:",uT.id),uT.emit("register",5),uT.on("notification",(e=>{l((t=>[e,...t])),console.log(e)}))}));const e=await a.get("/notifications/searchbyuserid/5");e&&l(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,It.jsx)("section",{className:"bg-body-tertiary",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsxs)("h1",{className:"mb-3",children:["Mes reservations ",s.length]}),(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block",children:(0,It.jsx)(Tv,{})}),(0,It.jsxs)("div",{className:"col-md-8 mb-3",children:[e&&e.map((e=>(0,It.jsx)(cT,{annuler:!0,data:e},e.reservationId))),0===e.length&&(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("p",{className:"text-muted",children:"Aucune reservation jusqu'\xe0 maintenant."})}),e.length>0&&(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("p",{className:"text-muted h2",children:[e.length," reservations."]})})]})]})})})},hT=Cl,pT=ws((0,It.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),fT=ws((0,It.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function mT(e){return Kn("MuiRating",e)}const gT=Zn("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),vT=["value"],bT=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function yT(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const xT=Vn("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(gT.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(Hn(n.size))],n.readOnly&&t.readOnly]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",["&.".concat(gT.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(gT.focusVisible," .").concat(gT.iconActive)]:{outline:"1px solid #999"},["& .".concat(gT.visuallyHidden)]:vh},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})})),wT=Vn("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})((e=>{let{ownerState:t}=e;return(0,De.A)({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),_T=Vn("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(t.vars||t).palette.action.disabled})})),kT=Vn("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>Bn(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})((e=>{let{iconActive:t}=e;return(0,De.A)({position:"relative"},t&&{transform:"scale(1.2)"})}));function ST(e){const t=(0,Re.A)(e,vT);return(0,It.jsx)("span",(0,De.A)({},t))}function CT(e){const{classes:t,disabled:n,emptyIcon:r,focus:i,getLabelText:a,highlightSelectedOnly:s,hover:l,icon:c,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:p,name:f,onBlur:m,onChange:g,onClick:v,onFocus:b,readOnly:y,ownerState:x,ratingValue:w,ratingValueRounded:_}=e,k=s?h===w:h<=w,S=h<=l,C=h<=i,A=h===_,T=hT(),I=(0,It.jsx)(_T,{as:u,value:h,className:On(t.icon,k?t.iconFilled:t.iconEmpty,S&&t.iconHover,C&&t.iconFocus,d&&t.iconActive),ownerState:(0,De.A)({},x,{iconEmpty:!k,iconFilled:k,iconHover:S,iconFocus:C,iconActive:d}),children:r&&!k?r:c});return y?(0,It.jsx)("span",(0,De.A)({},p,{children:I})):(0,It.jsxs)(o.Fragment,{children:[(0,It.jsxs)(wT,(0,De.A)({ownerState:(0,De.A)({},x,{emptyValueFocused:void 0}),htmlFor:T},p,{children:[I,(0,It.jsx)("span",{className:t.visuallyHidden,children:a(h)})]})),(0,It.jsx)("input",{className:t.visuallyHidden,onFocus:b,onBlur:m,onChange:g,onClick:v,disabled:n,value:h,id:T,type:"radio",name:f,checked:A})]})}const AT=(0,It.jsx)(pT,{fontSize:"inherit"}),TT=(0,It.jsx)(fT,{fontSize:"inherit"});function IT(e){return"".concat(e," Star").concat(1!==e?"s":"")}const ET=o.forwardRef((function(e,t){const n=Tt({name:"MuiRating",props:e}),{className:r,defaultValue:i=null,disabled:a=!1,emptyIcon:s=TT,emptyLabelText:l="Empty",getLabelText:c=IT,highlightSelectedOnly:u=!1,icon:d=AT,IconContainerComponent:h=ST,max:p=5,name:f,onChange:m,onChangeActive:g,onMouseLeave:v,onMouseMove:b,precision:y=1,readOnly:x=!1,size:w="medium",value:_}=n,k=(0,Re.A)(n,bT),S=hT(f),[C,A]=Ad({controlled:_,default:i,name:"Rating"}),T=yT(C,y),I=Zc(),[{hover:E,focus:N},M]=o.useState({hover:-1,focus:-1});let j=T;-1!==E&&(j=E),-1!==N&&(j=N);const{isFocusVisibleRef:D,onBlur:R,onFocus:P,ref:O}=Ar(),[L,F]=o.useState(!1),z=o.useRef(),B=dr(O,z,t),W=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==E&&(t=E),A(t),m&&m(e,t)},V=e=>{0===e.clientX&&0===e.clientY||(M({hover:-1,focus:-1}),A(null),m&&parseFloat(e.target.value)===T&&m(e,null))},U=e=>{P(e),!0===D.current&&F(!0);const t=parseFloat(e.target.value);M((e=>({hover:e.hover,focus:t})))},H=e=>{if(-1!==E)return;R(e),!1===D.current&&F(!1);M((e=>({hover:e.hover,focus:-1})))},[q,G]=o.useState(!1),Y=(0,De.A)({},n,{defaultValue:i,disabled:a,emptyIcon:s,emptyLabelText:l,emptyValueFocused:q,focusVisible:L,getLabelText:c,icon:d,IconContainerComponent:h,max:p,precision:y,readOnly:x,size:w}),X=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:a,focusVisible:o}=e;return Fn({root:["root","size".concat(Hn(n)),i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[a&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},mT,t)})(Y);return(0,It.jsxs)(xT,(0,De.A)({ref:B,onMouseMove:e=>{b&&b(e);const t=z.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let a;a=I?(n-e.clientX)/i:(e.clientX-r)/i;let o=yT(p*a+y/2,y);o=(0,ia.A)(o,y,p),M((e=>e.hover===o&&e.focus===o?e:{hover:o,focus:o})),F(!1),g&&E!==o&&g(e,o)},onMouseLeave:e=>{v&&v(e);M({hover:-1,focus:-1}),g&&-1!==E&&g(e,-1)},className:On(X.root,r,x&&"MuiRating-readOnly"),ownerState:Y,role:x?"img":null,"aria-label":x?c(j):null},k,{children:[Array.from(new Array(p)).map(((e,t)=>{const n=t+1,r={classes:X,disabled:a,emptyIcon:s,focus:N,getLabelText:c,highlightSelectedOnly:u,hover:E,icon:d,IconContainerComponent:h,name:S,onBlur:H,onChange:W,onClick:V,onFocus:U,ratingValue:j,ratingValueRounded:T,readOnly:x,ownerState:Y},i=n===Math.ceil(j)&&(-1!==E||-1!==N);if(y<1){const e=Array.from(new Array(1/y));return(0,It.jsx)(kT,{className:On(X.decimal,i&&X.iconActive),ownerState:Y,iconActive:i,children:e.map(((t,i)=>{const a=yT(n-1+(i+1)*y,y);return(0,It.jsx)(CT,(0,De.A)({},r,{isActive:!1,itemValue:a,labelProps:{style:e.length-1===i?{}:{width:a===j?"".concat((i+1)*y*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),a)}))},n)}return(0,It.jsx)(CT,(0,De.A)({},r,{isActive:i,itemValue:n}),n)})),!x&&!a&&(0,It.jsxs)(wT,{className:On(X.label,X.labelEmptyValue),ownerState:Y,children:[(0,It.jsx)("input",{className:X.visuallyHidden,value:"",id:"".concat(S,"-empty"),type:"radio",name:S,checked:null==T,onFocus:()=>G(!0),onBlur:()=>G(!1),onChange:W}),(0,It.jsx)("span",{className:X.visuallyHidden,children:l})]})]}))})),NT=ET;const MT=function(e){let{data:t,NombreAvis:n,MeanRating:r}=e;const i=t.createdAt,a=new Date(i),[s,l]=(0,o.useState)(!1),c=a.toLocaleDateString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return(0,It.jsx)(Ne,{to:"#",children:(0,It.jsx)("div",{className:" w-100 d-md-block w-md-75 my-div ".concat(s?"hovered":""),onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},onTouchStart:()=>{l(!0)},onTouchEnd:()=>{l(!1)},children:(0,It.jsxs)("div",{class:"d-flex",children:[(0,It.jsxs)("div",{class:"p-2 flex-fill",style:{width:"270px"},children:[(0,It.jsx)("img",{src:t.profile_url||Cv,alt:"",width:"40px"}),(0,It.jsxs)("div",{children:[(0,It.jsx)(_l,{spacing:1,className:"mb-3",children:(0,It.jsx)(NT,{name:"size-large",value:t.rating,size:"medium",readOnly:!0})}),(0,It.jsx)("small",{className:"text-muted",children:c})]})]}),(0,It.jsxs)("div",{class:"p-2 flex-fill text-muted",children:[(0,It.jsxs)("h4",{children:[" ",t.UserProfile.firstName," ",t.UserProfile.lastName]}),(0,It.jsx)("p",{children:t.content})]}),(0,It.jsx)("div",{class:"p-2 flex-fill",children:(0,It.jsx)("div",{class:"logo ms-auto img-fluid",children:(0,It.jsx)("img",{class:"",src:t.Vehicle.principalPhotos||Cv,alt:"Annonce voiture",height:"80",width:"100",style:{borderRadius:"0.5rem"}})})})]})})})};const jT=function(){const[e,t]=(0,o.useState)([]),n=JSON.parse(window.localStorage.getItem("me")),[r,i]=(0,o.useState)((null===n||void 0===n?void 0:n.id)||Av.Cc),a=(0,xv.q)();return(0,o.useEffect)((()=>{localStorage.setItem("mode","guest")}),[]),(0,o.useEffect)((()=>{(async()=>{try{const e=await a.get("/reviews/getbyUserId/"+r);if(e.data){const n=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));t(n)}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("h1",{className:"mb-3",children:"Liste de tous mes avis"}),(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block",children:(0,It.jsx)(Tv,{})}),(0,It.jsx)("div",{className:"col-md-8 mb-3",children:e&&e.map((e=>(0,It.jsx)(MT,{annuler:!0,data:e},e.id)))})]})})})};var DT=__webpack_require__(2382);const RT=function(e){let{data:t}=e;const n=te();return(0,It.jsx)(Ne,{to:"/inbox/messages/thread/"+t.reservationId,children:(0,It.jsx)("li",{className:n.pathname.includes("/inbox/messages/thread/"+t.reservationId)?"card p-2 border-bottom border-success border-2 mb-2":"card p-2 border-bottom mb-2",style:{backgroundColor:"#eee"},children:(0,It.jsxs)("a",{href:"/inbox/messages/thread/"+t.reservationId,className:"d-flex justify-content-between",children:[(0,It.jsxs)("div",{className:"d-flex flex-row",children:[(0,It.jsx)("img",{src:t.Invite.profile_url||Cv,alt:"avatar",className:"rounded-circle d-flex align-self-center me-3 shadow-1-strong border-tertiary border-3",width:"50",height:"50"}),(0,It.jsxs)("div",{className:"pt-1",children:[(0,It.jsxs)("p",{className:"small text-muted",children:[t.Vehicle.VehicleModel.modele," -"," ",t.Vehicle.VehicleModel.marque]}),(0,It.jsxs)("p",{className:"fw-bold mb-0",children:[t.Invite.firstName," ",t.Invite.lastName]}),(0,It.jsx)("p",{className:"small text-muted",children:t.Vehicle.description})]})]}),(0,It.jsx)("div",{className:"pt-1",children:(0,It.jsxs)("small",{className:"text-muted mb-1",children:[ey()(t.createdAt).calendar(),"."]})})]})})})},PT=Qb("https://moovicar-9c0b59206766.herokuapp.com");const OT=function(){var e,t;const[n,r]=(0,o.useState)([]),[i,a]=(0,o.useState)([]),s=JSON.parse(window.localStorage.getItem("me")),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(null),h=te(),p=(0,xv.q)(),{messageid:f}=ie();function m(){p.post("/conversations",{authorDriverRole:0,driversId:n[0].driversId,sentTime:new Date,reservationId:n[0].reservationId,message:l}).then((e=>{p.get("/conversations/"+n[0].reservationId).then((e=>r(e.data))).catch((e=>console.log(e)))})).catch((e=>console.log(e)))}return(0,o.useEffect)((()=>{(async()=>{try{PT.on("connect",(()=>{console.log("WebSocket Client Connected successfully lorem ipsum "),console.log("Socket ID:",PT.reservationId),PT.emit("reservationId",f),PT.on("conversation",(e=>{r((t=>[...t,e])),console.log(e)}))}));const e=await p.get("/conversations/"+f);e.data&&r(e.data);const t=await p.get("/reservations/getbydriverid/"+s.id);t.data&&a(t.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[,window.location.href]),(0,o.useEffect)((()=>{(async()=>{try{PT.on("connect",(()=>{console.log("WebSocket Client Connected successfully lorem ipsum "),console.log("Socket ID:",PT.reservationId),PT.emit("reservationId",f),PT.on("conversation",(e=>{r((t=>[...t,e])),console.log(e)}))}));const e=await p.get("/conversations/"+f);e.data&&r(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[,window.location.href]),(0,o.useEffect)((()=>{console.log("RESERVATION DATA,",u),u&&p.put("/reservations/updatebyInviteidDates/".concat(u.driverInviteId,"?startDate=").concat(u.startDate,"&endDate=").concat(u.endDate,"&reservationIdToExclude=").concat(u.reservationId)).then((e=>{})).catch((e=>console.log(e)))}),[u]),(0,It.jsx)("section",{className:"bg-body-tertiary",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(ry,{}),(0,It.jsx)("section",{children:(0,It.jsx)("div",{className:"container py-5",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsxs)("div",{className:"col-md-6 col-lg-5 col-xl-4 mb-4 mb-md-0",children:[(0,It.jsx)("div",{className:"mb-3",children:(0,It.jsx)(Ne,{to:"#",children:"Revenir aux messages"})}),(0,It.jsxs)("select",{class:"form-select form-select-lg mb-3","aria-label":"Large select example",children:[(0,It.jsx)("option",{value:"1",children:"Toutes les voitures"}),(0,It.jsx)("option",{value:"2",children:"Ferrari Italian 3001"})]}),(0,It.jsx)("h5",{className:"font-weight-bold mb-3 text-center text-lg-start",children:"Membres"}),(0,It.jsx)("div",{className:"card d-none d-md-block",children:(0,It.jsx)("div",{className:"card-body msg-page annonce-list",children:(0,It.jsx)("ul",{className:"list-unstyled mb-0",children:i&&i.map((e=>(0,It.jsx)(RT,{data:e})))})})})]}),(0,It.jsxs)("div",{className:"col-md-6 col-lg-7 col-xl-8",children:[(0,It.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,It.jsxs)("h3",{className:"mb-1",children:["Conversation avec"," ",n.length>0?(null===(e=n[0].UserProfile)||void 0===e?void 0:e.firstName)+" "+(null===(t=n[0].UserProfile)||void 0===t?void 0:t.lastName[0])+".":""]}),(0,It.jsx)("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#afficherDetails","aria-controls":"offcanvasRight",children:"Afficher les d\xe9tails du voyage"}),(0,It.jsxs)("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:"afficherDetails","aria-labelledby":"offcanvasRightLabel",children:[(0,It.jsxs)("div",{class:"offcanvas-header",children:[(0,It.jsx)("h5",{class:"offcanvas-title",id:"offcanvasRightLabel",children:"D\xe9tails du voyage"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"offcanvas-body",children:[(0,It.jsx)("p",{className:"mb-3",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nemo, repudiandae obcaecati perferendis animi ea illo autem quam corrupti omnis molestiae et hic ipsum exercitationem ex, facilis soluta amet, architecto aspernatur."}),(0,It.jsx)(Ne,{to:"/reservation/"+f,className:"btn btn-tertiary",children:"Afficher les d\xe9tails"})]})]})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("div",{className:"mb-3 ",children:(0,It.jsx)("div",{className:"slider-container",children:(0,It.jsx)(DT.A,{dots:!0,infinite:!1,speed:500,slidesToShow:15,slidesToScroll:15,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:8,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:6,slidesToScroll:6,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:5,slidesToScroll:5}}],children:i&&i.map((e=>(0,It.jsx)("div",{children:(0,It.jsx)(Ne,{to:"/inbox/messages/thread/"+e.reservationId,children:(0,It.jsx)("img",{src:e.Invite.profile_url||Cv,alt:"avatar",className:h.pathname.includes("/inbox/messages/thread/"+e.reservationId)?"rounded-circle d-flex align-self-center border border-success border-4 shadow-1-strong":"rounded-circle d-flex align-self-center border border-tertiary border-3 shadow-1-strong",width:"50",height:"50"})})})))})})}),(0,It.jsx)("div",{className:"chat-page",children:(0,It.jsxs)("div",{className:"msg-inbox",children:[(0,It.jsx)("div",{className:"chats",children:(0,It.jsx)("div",{className:"msg-page annonce-list",children:n&&n.map((e=>(0,It.jsx)(It.Fragment,{children:"1"==e.authorDriverRole?(0,It.jsx)(NA,{data:e}):(0,It.jsx)(MA,{data:e})})))})}),(0,It.jsx)("div",{className:"msg-bottom",children:(0,It.jsxs)("div",{className:"input-group",children:[(0,It.jsx)("input",{className:"form-control",placeholder:"Taper un message...",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&m()}}),(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("span",{className:"input-group-text send-icon",children:(0,It.jsx)("i",{className:"bi bi-send",onClick:m})})})]})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("button",{className:"btn btn-danger",onClick:function(){window.confirm("\xcates-vous s\xfbr de vouloir annuler ce voyage ?")?(console.log("Action confirm\xe9e !"),p.post("/conversations",{authorDriverRole:1,driversId:n[0].driversId,sentTime:new Date,reservationId:n[0].reservationId,message:"L'invit\xe9 \xe0 annuler la reservation"}).then((e=>{p.get("/conversations/"+n[0].reservationId).then((e=>r(e.data))).catch((e=>console.log(e))),p.put("/reservations/"+n[0].reservationId,{status:"2"}).then((e=>{window.location.reload()})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))):console.log("Action annul\xe9e !")},children:"R\xe9fuser la demande"}),(0,It.jsx)("button",{className:"btn btn-tertiary float-end",onClick:function(){p.post("/conversations",{authorDriverRole:0,driversId:n[0].driversId,sentTime:new Date,reservationId:n[0].reservationId,message:"Le hote a accept\xe9 votre demande de paiement, vous pouvez entamer la discussion et passer au paiement!"}).then((e=>{p.get("/conversations/"+n[0].reservationId).then((e=>r(e.data))).catch((e=>console.log(e))),p.put("/reservations/"+n[0].reservationId,{status:"1"}).then((e=>d(e.data))).catch((e=>console.log(e)))})).catch((e=>console.log(e)))},children:"Accepter la demande"})]})]})})]})]})})})]})})};var LT=__webpack_require__(228),FT=__webpack_require__.n(LT);const zT=1;function BT(e,t){return Object.freeze({...e,...t})}const WT=(0,o.createContext)(null),VT=WT.Provider;function UT(){const e=(0,o.useContext)(WT);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function HT(){return HT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HT.apply(this,arguments)}function qT(e,t){let{bounds:n,boundsOptions:r,center:i,children:a,className:s,id:l,placeholder:c,style:u,whenReady:d,zoom:h,...p}=e;const[f]=(0,o.useState)({className:s,id:l,style:u}),[m,g]=(0,o.useState)(null);(0,o.useImperativeHandle)(t,(()=>{var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null}),[m]);const v=(0,o.useCallback)((e=>{if(null!==e&&null===m){const t=new LT.Map(e,p);null!=i&&null!=h?t.setView(i,h):null!=n&&t.fitBounds(n,r),null!=d&&t.whenReady(d),g(function(e){return Object.freeze({__version:zT,map:e})}(t))}}),[]);(0,o.useEffect)((()=>()=>{null===m||void 0===m||m.map.remove()}),[m]);const b=m?o.createElement(VT,{value:m},a):null!==c&&void 0!==c?c:null;return o.createElement("div",HT({},f,{ref:v}),b)}const GT=(0,o.forwardRef)(qT);function YT(e){function t(t,n){const{instance:r,context:i}=e(t).current;return(0,o.useImperativeHandle)(n,(()=>r)),null==t.children?null:o.createElement(VT,{value:i},t.children)}return(0,o.forwardRef)(t)}function XT(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function KT(e,t){return null==t?function(t,n){const r=(0,o.useRef)();return r.current||(r.current=e(t,n)),r}:function(n,r){const i=(0,o.useRef)();i.current||(i.current=e(n,r));const a=(0,o.useRef)(n),{instance:s}=i.current;return(0,o.useEffect)((function(){a.current!==n&&(t(s,n,a.current),a.current=n)}),[s,n,r]),i}}function ZT(e,t){const n=(0,o.useRef)(t);(0,o.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}function JT(e,t){const n=(0,o.useRef)();(0,o.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function QT(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?{...e,pane:r}:e}function $T(e,t){(0,o.useEffect)((function(){var n;return(null!==(n=t.layerContainer)&&void 0!==n?n:t.map).addLayer(e.instance),function(){var n;null===(n=t.layerContainer)||void 0===n||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function eI(e){return function(t){const n=UT(),r=e(QT(t,n),n);return ZT(n.map,t.attribution),JT(r.current,t.eventHandlers),$T(r.current,n),r}}function tI(e){return function(t){const n=UT(),r=e(QT(t,n),n);return JT(r.current,t.eventHandlers),$T(r.current,n),function(e,t){const n=(0,o.useRef)();(0,o.useEffect)((function(){if(t.pathOptions!==n.current){var r;const i=null!==(r=t.pathOptions)&&void 0!==r?r:{};e.instance.setStyle(i),n.current=i}}),[e,t])}(r.current,t),r}}function nI(e,t){return YT(eI(KT(e,t)))}const rI=(iI=function(e,t){let{url:n,...r}=e;return XT(new LT.TileLayer(n,QT(r,t)),t)},aI=function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)},function(e){function t(t,n){const{instance:r}=e(t).current;return(0,o.useImperativeHandle)(n,(()=>r)),null}return(0,o.forwardRef)(t)}(eI(KT(iI,aI))));var iI,aI;const oI=nI((function(e,t){let{children:n,...r}=e;const i=new LT.LayerGroup([],r);return XT(i,BT(t,{layerContainer:i}))})),sI=nI((function(e,t){let{position:n,...r}=e;const i=new LT.Marker(n,r);return XT(i,BT(t,{overlayContainer:i}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),lI=function(e,t){const n=function(e,t){return function(n,r){const i=UT(),a=e(QT(n,i),i);return ZT(i.map,n.attribution),JT(a.current,n.eventHandlers),t(a.current,i,n,r),a}}(KT(e),t);return function(e){function t(t,n){const[r,i]=(0,o.useState)(!1),{instance:a}=e(t,i).current;(0,o.useImperativeHandle)(n,(()=>a)),(0,o.useEffect)((function(){r&&a.update()}),[a,r,t.children]);const s=a._contentNode;return s?(0,c.createPortal)(t.children,s):null}return(0,o.forwardRef)(t)}(n)}((function(e,t){return XT(new LT.Tooltip(e,t.overlayContainer),t)}),(function(e,t,n,r){let{position:i}=n;(0,o.useEffect)((function(){const n=t.overlayContainer;if(null==n)return;const{instance:a}=e,o=e=>{e.tooltip===a&&(null!=i&&a.setLatLng(i),a.update(),r(!0))},s=e=>{e.tooltip===a&&r(!1)};return n.on({tooltipopen:o,tooltipclose:s}),n.bindTooltip(a),function(){n.off({tooltipopen:o,tooltipclose:s}),null!=n._map&&n.unbindTooltip()}}),[e,t,r,i])}));const cI=function(e,t){return YT(tI(KT(e,t)))}((function(e,t){let{center:n,children:r,...i}=e;const a=new LT.Circle(n,i);return XT(a,BT(t,{overlayContainer:a}))}),(function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)})),uI=e=>{let{centers:t,centercoords:n}=e;const r=te(),[i,a]=(0,o.useState)([0,0]);return(0,o.useEffect)((()=>{a(n)}),[,t]),(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)(GT,{center:n,zoom:16,style:{height:r.pathname.includes("search")?"100vh":"500px",width:(r.pathname.includes("search"),"100%")},children:[(0,It.jsx)(rI,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,It.jsxs)(oI,{children:[t.map((e=>(0,It.jsx)(sI,{position:[parseFloat(e.locationCoords.split(",")[0]),parseFloat(e.locationCoords.split(",")[1])],icon:new(FT().DivIcon)({className:"custom-marker",html:'<div class="badge-container"><span class="badge bg-tertiary" style="font-size: 24px;"><ion-icon name="train-outline"></ion-icon></span>\n                  </div>'}),children:(0,It.jsx)(lI,{children:(0,It.jsxs)("div",{style:{textAlign:"center"},children:[(0,It.jsx)("strong",{children:e.addressEmplacementDelivery}),(0,It.jsx)("br",{}),"Price: $",e.VehiculeAnnonce.reservationPrice]})})},e.id))),(0,It.jsx)(cI,{center:n,radius:400,fillColor:"blue",fillOpacity:.2})]})]})})};const dI=function(){const e=(0,xv.q)(),[t,n]=(0,o.useState)([]),{vehiculeId:r,AnnonceId:i}=(JSON.parse(window.localStorage.getItem("me")),ie()),[a,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(0),[h,p]=(0,o.useState)("0"),[f,m]=(0,o.useState)(""),[g,v]=(0,o.useState)([0,0]),[b,y]=(0,o.useState)(""),[x,w]=(0,o.useState)(!0);(0,o.useEffect)((()=>{(async()=>{try{const t=await e.get("/deliverylocation");t.data&&s(t.data);const n=await e.get("/deliverylocation/getannoncebyid/"+i);n.data&&(c(n.data[0]),d(n.data[0].deliveryCosts),p(n.data[0].PriseEnChargeMethod),m(n.data[0].MoreInfo))}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()}),[]);const[_,k]=(0,o.useState)(!0),[S,C]=(0,o.useState)(!0);return(0,It.jsx)("section",{className:"mt-2 mb-3",children:(0,It.jsxs)("div",{className:"container ",children:[(0,It.jsx)(yv,{}),(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{className:"row",children:[_&&(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block d-flex justify-content-start",style:{zIndex:1},children:(0,It.jsx)(Iv,{vehiculeId:r})}),(0,It.jsx)("div",{className:"col-md-6 mb-3",style:{zIndex:2},children:(0,It.jsx)(uI,{centers:a,centercoords:[49.604236,6.133404]})}),S&&(0,It.jsxs)("div",{className:"col-md-3 mb-3",style:{zIndex:1},children:[(0,It.jsx)("h3",{children:"Emplacements et livraison"}),(0,It.jsx)("p",{children:"Augmentez vos revenus en offrant la livraison. Les frais de livraison incluent la prise en charge et le retour. Vous recevez 90 % de ces frais."}),(0,It.jsxs)("div",{class:"offcanvas-body",children:[(0,It.jsx)("p",{className:"",children:(0,It.jsx)("strong",{children:"Domicile"})}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,It.jsx)("h3",{children:(0,It.jsx)("ion-icon",{name:"home-outline"})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:null===l||void 0===l?void 0:l.addressEmplacementDelivery}),(0,It.jsx)("small",{className:"text-muted",children:"La prise en charge et le retour de votre v\xe9hicule"})]})]}),(0,It.jsxs)("button",{type:"button",className:"btn btn-secondary mb-2 w-100","data-bs-toggle":"collapse","data-bs-target":"#collapseModifier","aria-expanded":"false","aria-controls":"collapseModifier",children:[(0,It.jsx)("i",{class:"bi bi-arrow-down-square"})," Modifier"]}),(0,It.jsx)("div",{class:"collapse",id:"collapseModifier",children:(0,It.jsxs)("div",{class:"card card-body",children:[(0,It.jsx)("h4",{children:"Domicile"}),(0,It.jsx)("p",{className:"mb-3",children:"Pour assurer la confidentialit\xe9 de vos donn\xe9es, nous ne divulguons l\u2019emplacement de votre voiture aux invit\xe9s qu\u2019une fois que vous avez confirm\xe9 leur voyage."}),(0,It.jsx)(rT,{handleSelectLocation:e=>{v(e.center),y(e.place_name)},resetInput:x}),(0,It.jsx)("button",{className:"btn btn-tertiary mt-2",type:"button",onClick:function(){(async()=>{try{(await e.put("/deliverylocation/"+i,{addressEmplacementDelivery:b,locationCoords:g[1].toString()+","+g[0].toString()})).data&&dv.success("Lieu de l'emplacement et livraison  modifi\xe9  pour votre annonce")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()},children:"Enregistrer"})]})}),(0,It.jsx)("hr",{}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Lieu de livraison"})}),(0,It.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,It.jsx)("h3",{children:(0,It.jsx)("ion-icon",{name:"train-outline"})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:null===l||void 0===l?void 0:l.deliveryAddressName}),(0,It.jsx)("small",{className:"text-muted",children:"Sans vrais, rencontrez les invit\xe9s"})]}),(0,It.jsx)("button",{type:"button",className:"btn btn-tertiary","data-bs-toggle":"collapse","data-bs-target":"#collapseLieuxLivraison","aria-expanded":"false","aria-controls":"collapseLieuxLivraison",children:"Modifier"})]}),(0,It.jsx)("div",{class:"collapse",id:"collapseLieuxLivraison",children:(0,It.jsxs)("div",{class:"card card-body",children:[(0,It.jsx)("h4",{children:"Modifier le lieu de livraison"}),(0,It.jsx)("p",{className:"mb-3",children:(0,It.jsx)("strong",{children:null===l||void 0===l?void 0:l.deliveryAddressName})}),(0,It.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Frais de livraison"}),(0,It.jsxs)("div",{class:"mb-3 input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",placeholder:"5",value:u,onChange:e=>d(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"\u20ac"})]}),(0,It.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"M\xe9thode de prise en charge"}),(0,It.jsx)("div",{class:"mb-3 input-group",children:(0,It.jsxs)("select",{class:"form-select",size:"3","aria-label":"M\xe9thode de prise en charge",value:h,onChange:e=>p(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"Rencontrez les invit\xe9s"}),(0,It.jsx)("option",{value:"1",children:"Boite \xe0 cl\xe9 s\xe9curis\xe9e"}),(0,It.jsx)("option",{value:"2",children:"D\xe9verouillage \xe0 distance"}),(0,It.jsx)("option",{value:"3",children:"Autre"})]})}),(0,It.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Infos suppl\xe9mentaire"}),(0,It.jsx)("div",{class:"mb-3 input-group",children:(0,It.jsx)("textarea",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"Donnez plus d'infos \xe0 vos invit\xe9s",rows:3,value:f,onChange:e=>m(e.target.value)})}),(0,It.jsx)("button",{className:"btn btn-tertiary mb-2",type:"button",onClick:function(){(async()=>{try{(await e.put("/deliverylocation/"+i,{deliveryCosts:u,PriseEnChargeMethod:h,MoreInfo:f})).data&&dv.success("Lieu de prise en charge  modifi\xe9  pour votre annonce")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()},children:"Enregistrer"}),(0,It.jsx)("button",{className:"btn btn-danger",type:"button",children:"Supprimer ce lieu"})]})})]})]})]})]})})};const hI=function(){const{voitureId:e,annonceId:t}=ie(),[n,r]=(0,o.useState)("0"),i=(0,xv.q)();return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("section",{class:"mt-2 mb-3",children:(0,It.jsx)("div",{class:"container col-md-6 ",children:(0,It.jsxs)("div",{className:"my-div w-100",children:[(0,It.jsx)("div",{class:"mb-2",children:(0,It.jsx)("div",{class:"progress",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"},children:(0,It.jsx)("div",{class:"progress-bar",style:{width:"70%"}})})}),(0,It.jsx)("p",{class:"text-muted",children:(0,It.jsx)("strong",{children:"Inscrire ma voiture"})}),(0,It.jsx)("h4",{children:"Comment louer votre voiture dans cette annonce ?"}),(0,It.jsx)("hr",{}),(0,It.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"M\xe9thode de prise en charge"}),(0,It.jsx)("div",{class:"mb-3 input-group",style:{height:"500px",overflow:"hidden"},children:(0,It.jsxs)("select",{class:"form-select",size:"3","aria-label":"M\xe9thode de prise en charge",value:n,onChange:e=>r(e.target.value),children:[(0,It.jsx)("optgroup",{label:"Rencontrez les invit\xe9s",children:(0,It.jsx)("option",{value:"0",children:(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{children:[(0,It.jsxs)("span",{style:{fontSize:"22px"},children:[(0,It.jsx)("i",{class:"bi bi-people"})," "]}),(0,It.jsx)("strong",{children:"Rencontrez les invit\xe9s en personne"})," "]}),(0,It.jsx)("small",{class:"text-muted text-wrap",children:"Choisissez cette option si vous pr\xe9voyez de rencontrer directement les invit\xe9s pour la remise des cl\xe9s."})]})})}),(0,It.jsx)("optgroup",{label:"Boite \xe0 cl\xe9 s\xe9curis\xe9e",children:(0,It.jsx)("option",{value:"1",children:(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{children:[(0,It.jsxs)("span",{style:{fontSize:"22px"},children:[(0,It.jsx)("i",{class:"bi bi-file-earmark-lock2"})," "]}),(0,It.jsx)("strong",{children:"Utilisation d'une bo\xeete \xe0 cl\xe9 s\xe9curis\xe9e"})]}),(0,It.jsx)("small",{class:"text-muted text-wrap",children:"Choisissez cette option si vous pr\xe9voyez de laisser les cl\xe9s dans une bo\xeete s\xe9curis\xe9e pour que les invit\xe9s puissent les r\xe9cup\xe9rer."})]})})}),(0,It.jsx)("optgroup",{label:"D\xe9verrouillage \xe0 distance",children:(0,It.jsx)("option",{value:"2",children:(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{children:[(0,It.jsxs)("span",{style:{fontSize:"22px"},children:[(0,It.jsx)("i",{class:"bi bi-cloud-drizzle"})," "]}),(0,It.jsx)("strong",{children:"D\xe9verrouillage \xe0 distance"})]}),(0,It.jsx)("small",{class:"text-muted text-wrap",children:"Choisissez cette option si vous pr\xe9voyez de d\xe9verrouiller la porte \xe0 distance pour permettre l'acc\xe8s aux invit\xe9s."})]})})}),(0,It.jsx)("optgroup",{label:"Autre",children:(0,It.jsx)("option",{value:"3",children:(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{children:[(0,It.jsxs)("span",{style:{fontSize:"22px"},children:[(0,It.jsx)("i",{class:"bi bi-bounding-box"})," "]}),(0,It.jsx)("strong",{children:"Autre m\xe9thode de prise en charge"})]}),(0,It.jsx)("small",{class:"text-muted text-wrap",children:"Choisissez cette option si vous avez une m\xe9thode de prise en charge diff\xe9rente de celles propos\xe9es ci-dessus."})]})})})]})}),(0,It.jsx)("button",{type:"button",class:"btn btn-primary btn-lg w-100",onClick:function(){(async()=>{try{(await i.put("/deliverylocation/"+t,{PriseEnChargeMethod:n})).data&&(dv.success("Lieu de prise en charge  modifi\xe9  pour votre annonce"),window.location.href="/availabilities-car/"+e)}catch(r){console.error("Erreur lors de la requ\xeate Axios :",r)}})()},children:"Confirmer"})]})})})})})};const pI=function(){return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{class:"",children:[(0,It.jsx)("h2",{class:"mb-2",children:"Comme locataire"}),(0,It.jsxs)("div",{class:"shadow bg-body-tertiary rounded d-flex flex-column justify-content-center align-items-center",children:[(0,It.jsx)("img",{class:"mb-2",src:"char.svg",alt:"",width:"250"}),(0,It.jsx)("h3",{children:"Pas de locations \xe0 venir"}),(0,It.jsx)("p",{children:"Vous n'avez aucune location pr\xe9vue pour le moment. Pr\xe9voyez-en une !"}),(0,It.jsx)("a",{class:"btn btn-tertiary mb-3",href:"#",children:"Trouver une voiture"})]})]})]})})},fI=__webpack_require__.p+"static/media/vehicule.e2fd2cc0aad25daa2850.avif";const mI=function(e){let{handleSelectModel:t,resetInput:n}=e;const[r,i]=(0,o.useState)(""),[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!0),[h,p]=(0,o.useState)(null);return(0,o.useEffect)((()=>{n&&i("")}),[n]),(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)("div",{className:"mb-md-3",children:[(0,It.jsxs)("label",{htmlFor:"categoryProduct",className:"col-form-label d-block d-md-none",children:["Adresse",(0,It.jsx)("sup",{children:"*"})]}),(0,It.jsxs)("div",{className:"dropdown",children:[(0,It.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:e=>{const t=e.target.value;if(i(t),t.length>=1){const e=async()=>{try{const e=await fetch("".concat(Av.f9,"/api/vehicleModels/").concat(t));if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();c(n),console.log("resultat de la recherche",n)}catch(h){p(h)}finally{d(!1)}};e()}else c([]),s(!1)},placeholder:"Tesla Model H",value:r,autoComplete:"off",onBlur:()=>{setTimeout((()=>s(!1)),200)},onFocus:()=>{s(!0)}}),r.length>=2&&(0,It.jsx)("ul",{className:a?"dropdown-menu w-100 show":"dropdown-menu w-100",children:l&&l.map(((e,n)=>(0,It.jsx)("li",{children:(0,It.jsx)("button",{className:"dropdown-item mb-2",type:"button",onClick:()=>(e=>{c([]),i(e.modele),t(e),s(!1)})(e),children:(0,It.jsxs)("p",{className:"w-100 text-wrap",children:[(0,It.jsx)("ion-icon",{name:"location-outline"})," ",e.modele," - ",e.marque]})})},n)))})]})]})})};const gI=function(){const[e,t]=(0,o.useState)("2024"),[n,r]=(0,o.useState)(1),[i,a]=(0,o.useState)(!0),[s,l]=(0,o.useState)([0,0]),[c,u]=(0,o.useState)(""),[d,h]=(0,o.useState)(null),[p,f]=(0,o.useState)(null),m=(0,xv.q)(),g=JSON.parse(window.localStorage.getItem("me"));return(0,It.jsx)("section",{class:"bg-body-tertiary",children:(0,It.jsx)("div",{class:"container shadow-sm mb-5 bg-body-tertiary rounded",children:(0,It.jsxs)("div",{class:"row",children:[(0,It.jsxs)("div",{class:"col-sm-6",children:[(0,It.jsx)("h1",{children:(0,It.jsx)("span",{class:"text-tertiary mb-3",children:"Compl\xe9tez vos revenus en partageant votre voiture"})}),(0,It.jsxs)("div",{class:"mb-3",children:[(0,It.jsx)(mI,{handleSelectModel:e=>{h(e.id),f(e.modele)},resetInput:i}),(0,It.jsxs)("div",{class:"row g-2",children:[(0,It.jsx)("div",{class:"col-md",children:(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:e=>{const n=e.target.value;t(n)},children:[(0,It.jsx)("option",{disabled:!0,children:"Ann\xe9e"}),(0,It.jsx)("option",{value:"2024",children:"2024"}),(0,It.jsx)("option",{value:"2023",children:"2023"}),(0,It.jsx)("option",{value:"2022",children:"2022"}),(0,It.jsx)("option",{value:"2021",children:"2021"}),(0,It.jsx)("option",{value:"2020",children:"2020"}),(0,It.jsx)("option",{value:"2019",children:"2019"}),(0,It.jsx)("option",{value:"2018",children:"2018"}),(0,It.jsx)("option",{value:"2017",children:"2017"}),(0,It.jsx)("option",{value:"2016",children:"2016"}),(0,It.jsx)("option",{value:"2015",children:"2015"}),(0,It.jsx)("option",{value:"2014",children:"2014"}),(0,It.jsx)("option",{value:"2013",children:"2013"}),(0,It.jsx)("option",{value:"2012",children:"2012"}),(0,It.jsx)("option",{value:"2011",children:"2011"}),(0,It.jsx)("option",{value:"2010",children:"2010"})]})}),(0,It.jsx)("div",{class:"col-md",children:(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:e=>{const t=e.target.value;r(t)},children:[(0,It.jsx)("option",{disabled:!0,children:"Kilom\xe9trage"}),(0,It.jsx)("option",{value:"1",children:"0-15 000 km"}),(0,It.jsx)("option",{value:"2",children:"15-50 000 km"}),(0,It.jsx)("option",{value:"3",children:"50-100 000 km"}),(0,It.jsx)("option",{selected:"selected",value:"4",children:"100-150 000 km"}),(0,It.jsx)("option",{value:"5",children:"150-200 000 km"}),(0,It.jsx)("option",{value:"6",children:"+200 000 km"})]})})]}),(0,It.jsx)("div",{class:"mt-3 col-md",children:(0,It.jsx)(zg,{handleSelectLocation:e=>{l(e.center),u(e.place_name)},resetInput:i})}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"d-flex flex-column justify-content-center align-items-center",children:[(0,It.jsx)("p",{children:"jusqu'\xe0"}),(0,It.jsx)("p",{children:(0,It.jsx)("span",{children:(0,It.jsx)("strong",{style:{fontSize:"xxx-large"},children:"360\u20ac"})})}),(0,It.jsxs)("p",{children:["estim\xe9 par mois"," ",(0,It.jsx)("span",{children:(0,It.jsx)("ion-icon",{name:"alert-circle-outline","data-bs-toggle":"modal","data-bs-target":"#ModalEstimationInfos",role:"img",class:"md hydrated"})})]}),(0,It.jsx)("div",{class:"modal fade",id:"ModalEstimationInfos",tabindex:"-1","aria-labelledby":"ModalEstimationInfosLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsxs)("div",{class:"modal-header",children:[(0,It.jsx)("h1",{class:"modal-title fs-5",id:"ModalEstimationInfosLabel",children:(0,It.jsx)("strong",{children:"Estimation de vos revenus"})}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,It.jsx)("div",{class:"modal-body",children:"Estimation moyenne calcul\xe9e en fonction du prix de location recommand\xe9 par moovicar pour votre voiture, pour 20 jours de location par mois avec le bo\xeetier moovicar Connect. Vos revenus r\xe9els peuvent varier en fonction de votre localisation, de la p\xe9riode de l'ann\xe9e, et d'autres facteurs. V\xe9rifiez que votre voiture est bien \xe9ligible \xe0 moovicar Connect sur cette page."}),(0,It.jsx)("div",{class:"modal-footer",children:(0,It.jsx)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",children:"Fermer"})})]})})}),(0,It.jsx)("button",{class:"btn btn-tertiary",onClick:function(){const t={modeleId:d,CoordonatesCity:s[1].toString()+","+s[0].toString(),kilometrage:n,annee:e,userId:g.id},r=JSON.stringify(t);window.localStorage.setItem("VehicleStorage",r),m.post("/vehicles",t).then((t=>{console.log("R\xe9ponse du serveur:",t.data);const r={id:t.data.id,vehiculeId:t.data.id,modeleId:d,CoordonatesCity:s[1].toString()+","+s[0].toString(),kilometrage:n,annee:e,userId:g.id},i=JSON.stringify(r);window.localStorage.setItem("VehicleStorage",i),window.location.href="/confirmmodel/"+t.data.id})).catch((e=>{console.error("Erreur de requ\xeate:",e)}))},children:"Commencer"})]})]}),(0,It.jsx)("p",{children:"Location de voiture entre particuliers et pros assur\xe9e par axa"})]}),(0,It.jsx)("div",{class:"col-sm-6",children:(0,It.jsx)("img",{src:fI,alt:"louer vehicule",style:{width:"100%",height:"600px"}})})]})})})};GA("pk_test_51NkmmiEcnL0rILcwntrXZJ0q3qxMlV5HQgLRZxroRfnmOeCnfR5zJCatyp8kj7hoHbsxK8dzSWkZRMxaHI2QyI3A003F66a5En");const vI=function(){const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)(347),i=te(),a=new URLSearchParams(i.search),s=(0,xv.q)(),l=JSON.parse(window.localStorage.getItem("me")),c=(a.get("action"),a.get("endDate")),u=(a.get("startTime"),a.get("startDate")),d=(a.get("endTime"),a.get("vehicleId")),[h,p]=(a.get("NombreJour"),a.get("priceU"),a.get("fraisVoyage"),a.get("TVA"),a.get("Reduction"),a.get("FreeMinDistance"),a.get("annonceId"),(0,o.useState)(null));return(0,o.useEffect)((()=>{s.get("/vehicles/searchbyid/"+d).then((e=>{p(e.data)})).catch((e=>console.log(e)))}),[]),(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("section",{class:"mb-3",children:(0,It.jsxs)("div",{class:"container col-md-6 w-md-50  border rounded-3 py-4",children:[(0,It.jsx)("h1",{className:"mb-3",children:(0,It.jsx)("strong",{children:"Devenez un conducteur v\xe9rifi\xe9"})}),(0,It.jsx)("p",{children:"Comme il s\u2019agit de votre premier voyage, vous devez fournir certaines informations avant de pouvoir finaliser la transaction."}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,It.jsx)("p",{className:"h5",children:"V\xe9rifier votre messagerie"}),(0,It.jsxs)("div",{children:[" ",(0,It.jsx)("i",{class:"bi bi-check-circle-fill h5 text-success"})]})]}),(0,It.jsxs)("p",{className:"small",children:["Nous avons envoyer un lien de v\xe9rification \xe0"," ",(0,It.jsx)("span",{className:"text-primary",children:" fatahouahahamdi@gmail.com."})," ","Veuillez cliquer le lien pour continuer le paiment"]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,It.jsx)("p",{className:"h5",children:"Photo de profil"}),(0,It.jsx)("i",{class:"bi bi-check-circle-fill h5 text-success"})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,It.jsx)("p",{className:"h5",children:"Num\xe9ro de mobile"}),(0,It.jsx)("i",{class:"bi bi-check-circle-fill h5 text-success"})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,It.jsx)("p",{className:"h5",children:"Permis de conduire"}),(0,It.jsx)("i",{class:"bi bi-x-circle-fill h5 text-danger"})," "]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{class:"alert alert-primary",role:"alert",children:[(0,It.jsx)("i",{class:"bi bi-chat-right-dots-fill h5"})," Pour continuer. Assurez-vous d'avoir compl\xe8ter votre profil"]}),(0,It.jsx)("button",{className:"btn btn-tertiary w-100",onClick:function(){s.post("/reservations",{driverHoteId:h.UserProfile.id,driverInviteId:(null===l||void 0===l?void 0:l.id)||Av.Cc,vehiculeId:d,startDate:u,endDate:c,PaymentIntentId:null}).then((e=>{s.post("/conversations",{authorDriverRole:1,driversId:h.UserProfile.id,sentTime:new Date,reservationId:e.data.reservationId,message:"Salut, je souhaite r\xe9server votre v\xe9hicule, si c'est possible pour "+u+" \xe0 "+c}).then((e=>{window.location.href="".concat(Av.AJ,"/guest/reservation/")+e.data.reservationId})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))},children:"Continuer"})]})})})})};const bI=o.createContext();const yI=o.createContext();function xI(e){return Kn("MuiTableCell",e)}const wI=Zn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),_I=["align","className","component","padding","scope","size","sortDirection","variant"],kI=Vn("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(Hn(n.size))],"normal"!==n.padding&&t["padding".concat(Hn(n.padding))],"inherit"!==n.align&&t["align".concat(Hn(n.align))],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,Xe.a)((0,Xe.X4)(t.palette.divider,1),.88):(0,Xe.e$)((0,Xe.X4)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",["&.".concat(wI.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),SI=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTableCell"}),{align:r="inherit",className:i,component:a,padding:s,scope:l,size:c,sortDirection:u,variant:d}=n,h=(0,Re.A)(n,_I),p=o.useContext(bI),f=o.useContext(yI),m=f&&"head"===f.variant;let g;g=a||(m?"th":"td");let v=l;"td"===g?v=void 0:!v&&m&&(v="col");const b=d||f&&f.variant,y=(0,De.A)({},n,{align:r,component:g,padding:s||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===b&&p&&p.stickyHeader,variant:b}),x=(e=>{const{classes:t,variant:n,align:r,padding:i,size:a,stickyHeader:o}=e;return Fn({root:["root",n,o&&"stickyHeader","inherit"!==r&&"align".concat(Hn(r)),"normal"!==i&&"padding".concat(Hn(i)),"size".concat(Hn(a))]},xI,t)})(y);let w=null;return u&&(w="asc"===u?"ascending":"descending"),(0,It.jsx)(kI,(0,De.A)({as:g,ref:t,className:On(x.root,i),"aria-sort":w,scope:v,ownerState:y},h))})),CI=SI;function AI(e){return Kn("MuiTableContainer",e)}Zn("MuiTableContainer",["root"]);const TI=["className","component"],II=Vn("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),EI=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,a=(0,Re.A)(n,TI),o=(0,De.A)({},n,{component:i}),s=(e=>{const{classes:t}=e;return Fn({root:["root"]},AI,t)})(o);return(0,It.jsx)(II,(0,De.A)({ref:t,as:i,className:On(s.root,r),ownerState:o},a))}));function NI(e){return Kn("MuiTable",e)}Zn("MuiTable",["root","stickyHeader"]);const MI=["className","component","padding","size","stickyHeader"],jI=Vn("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,De.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),DI="table",RI=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTable"}),{className:r,component:i=DI,padding:a="normal",size:s="medium",stickyHeader:l=!1}=n,c=(0,Re.A)(n,MI),u=(0,De.A)({},n,{component:i,padding:a,size:s,stickyHeader:l}),d=(e=>{const{classes:t,stickyHeader:n}=e;return Fn({root:["root",n&&"stickyHeader"]},NI,t)})(u),h=o.useMemo((()=>({padding:a,size:s,stickyHeader:l})),[a,s,l]);return(0,It.jsx)(bI.Provider,{value:h,children:(0,It.jsx)(jI,(0,De.A)({as:i,role:i===DI?null:"table",ref:t,className:On(d.root,r),ownerState:u},c))})}));function PI(e){return Kn("MuiTableHead",e)}Zn("MuiTableHead",["root"]);const OI=["className","component"],LI=Vn("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),FI={variant:"head"},zI="thead",BI=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTableHead"}),{className:r,component:i=zI}=n,a=(0,Re.A)(n,OI),o=(0,De.A)({},n,{component:i}),s=(e=>{const{classes:t}=e;return Fn({root:["root"]},PI,t)})(o);return(0,It.jsx)(yI.Provider,{value:FI,children:(0,It.jsx)(LI,(0,De.A)({as:i,className:On(s.root,r),ref:t,role:i===zI?null:"rowgroup",ownerState:o},a))})}));function WI(e){return Kn("MuiTableRow",e)}const VI=Zn("MuiTableRow",["root","selected","hover","head","footer"]),UI=["className","component","hover","selected"],HI=Vn("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(VI.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(VI.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),qI="tr",GI=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTableRow"}),{className:r,component:i=qI,hover:a=!1,selected:s=!1}=n,l=(0,Re.A)(n,UI),c=o.useContext(yI),u=(0,De.A)({},n,{component:i,hover:a,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:a}=e;return Fn({root:["root",n&&"selected",r&&"hover",i&&"head",a&&"footer"]},WI,t)})(u);return(0,It.jsx)(HI,(0,De.A)({as:i,ref:t,className:On(d.root,r),role:i===qI?null:"row",ownerState:u},l))})),YI=GI;function XI(e){return Kn("MuiTableBody",e)}Zn("MuiTableBody",["root"]);const KI=["className","component"],ZI=Vn("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),JI={variant:"body"},QI="tbody",$I=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiTableBody"}),{className:r,component:i=QI}=n,a=(0,Re.A)(n,KI),o=(0,De.A)({},n,{component:i}),s=(e=>{const{classes:t}=e;return Fn({root:["root"]},XI,t)})(o);return(0,It.jsx)(yI.Provider,{value:JI,children:(0,It.jsx)(ZI,(0,De.A)({className:On(s.root,r),as:i,ref:t,role:i===QI?null:"rowgroup",ownerState:o},a))})}));const eE=Zn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const tE=Zn("MuiListItemIcon",["root","alignItemsFlexStart"]);function nE(e){return Kn("MuiListItemText",e)}const rE=Zn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function iE(e){return Kn("MuiMenuItem",e)}const aE=Zn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),oE=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],sE=Vn(si,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(aE.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(aE.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(aE.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Xe.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(aE.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(aE.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(eE.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(eE.inset)]:{marginLeft:52},["& .".concat(rE.root)]:{marginTop:0,marginBottom:0},["& .".concat(rE.inset)]:{paddingLeft:36},["& .".concat(tE.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,De.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(tE.root," svg")]:{fontSize:"1.25rem"}}))})),lE=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,p=(0,Re.A)(n,oE),f=o.useContext(Qc),m=o.useMemo((()=>({dense:a||f.dense||!1,disableGutters:l})),[f.dense,a,l]),g=o.useRef(null);Ol((()=>{r&&g.current&&g.current.focus()}),[r]);const v=(0,De.A)({},n,{dense:m.dense,divider:s,disableGutters:l}),b=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:a,classes:o}=e,s=Fn({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},iE,o);return(0,De.A)({},o,s)})(n),y=dr(g,t);let x;return n.disabled||(x=void 0!==d?d:-1),(0,It.jsx)(Qc.Provider,{value:m,children:(0,It.jsx)(sE,(0,De.A)({ref:y,role:u,tabIndex:x,component:i,focusVisibleClassName:On(b.focusVisible,c),className:On(b.root,h)},p,{ownerState:v,classes:b}))})})),cE=lE,uE=["className","id"],dE=Vn(rr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),hE=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDialogTitle"}),{className:r,id:i}=n,a=(0,Re.A)(n,uE),s=n,l=(e=>{const{classes:t}=e;return Fn({root:["root"]},lg,t)})(s),{titleId:c=i}=o.useContext(mg);return(0,It.jsx)(dE,(0,De.A)({component:"h2",className:On(l.root,r),ownerState:s,ref:t,variant:"h6",id:null!=i?i:c},a))}));function pE(e){return Kn("MuiDialogContentText",e)}Zn("MuiDialogContentText",["root"]);const fE=["children","className"],mE=Vn(rr,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gE=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiDialogContentText"}),{className:r}=n,i=(0,Re.A)(n,fE),a=(e=>{const{classes:t}=e,n=Fn({root:["root"]},pE,t);return(0,De.A)({},t,n)})(i);return(0,It.jsx)(mE,(0,De.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:On(a.root,r)},n,{classes:a}))}));function vE(e){return Kn("MuiFormControlLabel",e)}const bE=Zn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),yE=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],xE=Vn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(bE.label)]:t.label},t.root,t["labelPlacement".concat(Hn(n.labelPlacement))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(bE.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(bE.label)]:{["&.".concat(bE.disabled)]:{color:(t.vars||t).palette.text.disabled}}})})),wE=Vn("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(bE.error)]:{color:(t.vars||t).palette.error.main}}})),_E=o.forwardRef((function(e,t){var n,r;const i=Tt({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=i,m=(0,Re.A)(i,yE),g=Pl(),v=null!=(n=null!=c?c:l.props.disabled)?n:null==g?void 0:g.disabled,b=null!=p?p:l.props.required,y={disabled:v,required:b};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof i[e]&&(y[e]=i[e])}));const x=Dl({props:i,muiFormControl:g,states:["error"]}),w=(0,De.A)({},i,{disabled:v,labelPlacement:h,required:b,error:x.error}),_=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:a}=e;return Fn({root:["root",n&&"disabled","labelPlacement".concat(Hn(r)),i&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},vE,t)})(w),k=null!=(r=f.typography)?r:s.typography;let S=d;return null==S||S.type===rr||u||(S=(0,It.jsx)(rr,(0,De.A)({component:"span"},k,{className:On(_.label,null==k?void 0:k.className),children:S}))),(0,It.jsxs)(xE,(0,De.A)({className:On(_.root,a),ownerState:w,ref:t},m,{children:[o.cloneElement(l,y),b?(0,It.jsxs)(_l,{display:"block",children:[S,(0,It.jsxs)(wE,{ownerState:w,"aria-hidden":!0,className:_.asterisk,children:["\u2009","*"]})]}):S]}))}));function kE(e){return Kn("PrivateSwitchBase",e)}Zn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const SE=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],CE=Vn(si)((e=>{let{ownerState:t}=e;return(0,De.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),AE=Vn("input",{shouldForwardProp:Wn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),TE=o.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:a,defaultChecked:o,disabled:s,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:p,name:f,onBlur:m,onChange:g,onFocus:v,readOnly:b,required:y=!1,tabIndex:x,type:w,value:_}=e,k=(0,Re.A)(e,SE),[S,C]=Ad({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),A=Pl();let T=s;A&&"undefined"===typeof T&&(T=A.disabled);const I="checkbox"===w||"radio"===w,E=(0,De.A)({},e,{checked:S,disabled:T,disableFocusRipple:l,edge:c}),N=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return Fn({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(Hn(i))],input:["input"]},kE,t)})(E);return(0,It.jsxs)(CE,(0,De.A)({component:"span",className:On(N.root,a),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),A&&A.onFocus&&A.onFocus(e)},onBlur:e=>{m&&m(e),A&&A.onBlur&&A.onBlur(e)},ownerState:E,ref:t},k,{children:[(0,It.jsx)(AE,(0,De.A)({autoFocus:n,checked:r,defaultChecked:o,className:N.input,disabled:T,id:I?d:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),g&&g(e,t)},readOnly:b,ref:p,required:y,ownerState:E,tabIndex:x,type:w},"checkbox"===w&&void 0===_?{}:{value:_},h)),S?i:u]}))})),IE=TE,EE=ws((0,It.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),NE=ws((0,It.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),ME=ws((0,It.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function jE(e){return Kn("MuiCheckbox",e)}const DE=Zn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),RE=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],PE=Vn(IE,{shouldForwardProp:e=>Wn(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat(Hn(n.size))],"default"!==n.color&&t["color".concat(Hn(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,De.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Xe.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(DE.checked,", &.").concat(DE.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(DE.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),OE=(0,It.jsx)(NE,{}),LE=(0,It.jsx)(EE,{}),FE=(0,It.jsx)(ME,{}),zE=o.forwardRef((function(e,t){var n,r;const i=Tt({props:e,name:"MuiCheckbox"}),{checkedIcon:a=OE,color:s="primary",icon:l=LE,indeterminate:c=!1,indeterminateIcon:u=FE,inputProps:d,size:h="medium",className:p}=i,f=(0,Re.A)(i,RE),m=c?u:l,g=c?u:a,v=(0,De.A)({},i,{color:s,indeterminate:c,size:h}),b=(e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,a=Fn({root:["root",n&&"indeterminate","color".concat(Hn(r)),"size".concat(Hn(i))]},jE,t);return(0,De.A)({},t,a)})(v);return(0,It.jsx)(PE,(0,De.A)({type:"checkbox",inputProps:(0,De.A)({"data-indeterminate":c},d),icon:o.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:h}),checkedIcon:o.cloneElement(g,{fontSize:null!=(r=g.props.fontSize)?r:h}),ownerState:v,ref:t,className:On(b.root,p)},f,{classes:b}))})),BE=zE,WE=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],VE=Vn("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(rE.primary)]:t.primary},{["& .".concat(rE.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,De.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),UE=o.forwardRef((function(e,t){const n=Tt({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=(0,Re.A)(n,WE),{dense:p}=o.useContext(Qc);let f=null!=l?l:r,m=u;const g=(0,De.A)({},n,{disableTypography:a,inset:s,primary:!!f,secondary:!!m,dense:p}),v=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:a}=e;return Fn({root:["root",n&&"inset",a&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},nE,t)})(g);return null==f||f.type===rr||a||(f=(0,It.jsx)(rr,(0,De.A)({variant:p?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:f}))),null==m||m.type===rr||a||(m=(0,It.jsx)(rr,(0,De.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,It.jsxs)(VE,(0,De.A)({className:On(v.root,i),ownerState:g,ref:t},h,{children:[f,m]}))})),HE=UE,qE=(e,t)=>(0,De.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),GE=e=>(0,De.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const YE=function(e){const t=Tt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return(0,It.jsxs)(o.Fragment,{children:[(0,It.jsx)(zl,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,i]=t;var a;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(a=i.palette)?void 0:a.mode}}));let i=(0,De.A)({html:qE(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,De.A)({margin:0},GE(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const a=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return a&&(i=[i,a]),i}(e,r)}),n]})};const XE=o.createContext(null);function KE(){return o.useContext(XE)}const ZE="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const JE=function(e){const{children:t,theme:n}=e,r=KE(),i=o.useMemo((()=>{const e=null===r?n:function(e,t){if("function"===typeof t)return t(e);return(0,De.A)({},e,t)}(r,n);return null!=e&&(e[ZE]=null!==r),e}),[n,r]);return(0,It.jsx)(XE.Provider,{value:i,children:t})},QE={};function $E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.useMemo((()=>{const i=e&&t[e]||t;if("function"===typeof n){const a=n(i),o=e?(0,De.A)({},t,{[e]:a}):a;return r?()=>o:o}return e?(0,De.A)({},t,{[e]:n}):(0,De.A)({},t,n)}),[e,t,n,r])}const eN=function(e){const{children:t,theme:n,themeId:r}=e,i=ze(QE),a=KE()||QE,o=$E(r,i,n),s=$E(r,a,n,!0),l="rtl"===o.direction;return(0,It.jsx)(JE,{theme:s,children:(0,It.jsx)(Fe.T.Provider,{value:o,children:(0,It.jsx)(Jc,{value:l,children:t})})})},tN=["theme"];function nN(e){let{theme:t}=e,n=(0,Re.A)(e,tN);const r=t[At];return(0,It.jsx)(eN,(0,De.A)({},n,{themeId:r?At:void 0,theme:r||t}))}class rN{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class iN{refCount(e){return aN("refCount")}incRef(e){return aN("incRef")}timerAvailable(){return!0}time(e){return aN("time")}read(e){return aN("read")}readSync(e){return aN("readSync")}readToGPU(e,t){return aN("readToGPU")}numDataIds(){return aN("numDataIds")}disposeData(e,t){return aN("disposeData")}write(e,t,n){return aN("write")}move(e,t,n,r,i){return aN("move")}createTensorFromGPUData(e,t,n){return aN("createTensorFromGPUData")}memory(){return aN("memory")}floatPrecision(){return aN("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return aN("dispose")}}function aN(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function oN(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,cN(e,t,n)}function sN(e,t,n){return Math.max(e,Math.min(t,n))}function lN(e){return e%2===0?e:e+1}function cN(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uN(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function dN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";uN(fN(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function hN(e){uN(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function pN(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function fN(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function mN(e){return e%1===0}function gN(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function vN(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function bN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((i,a)=>{let o=0;const s=()=>{if(e())return void i();o++;const l=t(o);null!=n&&o>=n?a():null!=r?r(s,l):setTimeout(s,l)};s()}))}function yN(e,t){let n=1,r=-1;for(let a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const i=e.slice();return i[r]=t/n,i}function xN(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),uN(e.every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),uN(e.every((e=>mN(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function wN(e,t){const n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:xN(t,e).sort();let o=0;for(let s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function _N(e,t){return kN(e,t)}function kN(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function SN(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function CN(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function AN(e){return"string"===typeof e||e instanceof String}function TN(e){return"number"===typeof e}function IN(e){return Array.isArray(e)?IN(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":TN(e)?"float32":AN(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function EN(e){return!!(e&&e.constructor&&e.call&&e.apply)}function NN(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function MN(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function jN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Array;if(1===t.length){const a=t[0]*(r?2:1);for(let t=0;t<a;t++)i[t]=n[e+t]}else{const a=t[0],o=t.slice(1),s=o.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<a;t++)i[t]=jN(e+t*s,o,n,r)}return i}function DN(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return jN(0,e,t,n)}function RN(e,t){const n=PN(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function PN(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function ON(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return DN(e,new Float32Array(n));if("int32"===t)return DN(e,new Int32Array(n));if("bool"===t)return DN(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function LN(e){e.forEach((t=>{uN(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function FN(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function zN(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function BN(e){return e&&e.then&&"function"===typeof e.then}const WN="tfjsflags";class VN{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=UN,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(HN().getBool("IS_TEST")||HN().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];HN().getBool("IS_TEST")||HN().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(BN(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(WN in e){e[WN].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)}))}}}function UN(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function HN(){return GN}let qN,GN=null;function YN(){if(null==qN){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof __webpack_require__.g)e=__webpack_require__.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}qN=e}return qN}function XN(e,t){const n=function(){const e=YN();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const KN="Abs",ZN="Acos",JN="Acosh",QN="Add",$N="AddN",eM="All",tM="Any",nM="ArgMax",rM="ArgMin",iM="Asin",aM="Asinh",oM="Atan",sM="Atanh",lM="Atan2",cM="AvgPool",uM="AvgPoolGrad",dM="AvgPool3D",hM="AvgPool3DGrad",pM="BatchMatMul",fM="BatchToSpaceND",mM="Bincount",gM="BitwiseAnd",vM="BroadcastArgs",bM="Cast",yM="Ceil",xM="ClipByValue",wM="Complex",_M="ComplexAbs",kM="Concat",SM="Conv2D",CM="Conv2DBackpropFilter",AM="Conv2DBackpropInput",TM="Conv3D",IM="Conv3DBackpropFilterV2",EM="Conv3DBackpropInputV2",NM="Cos",MM="Cosh",jM="Cumprod",DM="Cumsum",RM="CropAndResize",PM="DenseBincount",OM="DepthToSpace",LM="DepthwiseConv2dNative",FM="DepthwiseConv2dNativeBackpropFilter",zM="DepthwiseConv2dNativeBackpropInput",BM="Diag",WM="Dilation2D",VM="Dilation2DBackpropInput",UM="Dilation2DBackpropFilter",HM="Draw",qM="RealDiv",GM="Einsum",YM="Elu",XM="EluGrad",KM="Erf",ZM="Equal",JM="Exp",QM="ExpandDims",$M="Expm1",ej="FFT",tj="Fill",nj="FlipLeftRight",rj="Floor",ij="FloorDiv",aj="FusedBatchNorm",oj="GatherV2",sj="GatherNd",lj="Greater",cj="GreaterEqual",uj="Identity",dj="IFFT",hj="Imag",pj="IsFinite",fj="IsInf",mj="IsNan",gj="LeakyRelu",vj="Less",bj="LessEqual",yj="LinSpace",xj="Log",wj="Log1p",_j="LogicalAnd",kj="LogicalNot",Sj="LogicalOr",Cj="LRN",Aj="LRNGrad",Tj="Max",Ij="Maximum",Ej="MaxPool",Nj="MaxPoolGrad",Mj="MaxPool3D",jj="MaxPool3DGrad",Dj="MaxPoolWithArgmax",Rj="Mean",Pj="Min",Oj="Minimum",Lj="MirrorPad",Fj="Mod",zj="Multinomial",Bj="Multiply",Wj="Neg",Vj="NotEqual",Uj="NonMaxSuppressionV3",Hj="NonMaxSuppressionV4",qj="NonMaxSuppressionV5",Gj="OnesLike",Yj="OneHot",Xj="Pack",Kj="PadV2",Zj="Pow",Jj="Prelu",Qj="Prod",$j="RaggedGather",eD="RaggedRange",tD="RaggedTensorToTensor",nD="Range",rD="Real",iD="Reciprocal",aD="Relu",oD="Reshape",sD="ResizeNearestNeighbor",lD="ResizeNearestNeighborGrad",cD="ResizeBilinear",uD="ResizeBilinearGrad",dD="Relu6",hD="Reverse",pD="Round",fD="Rsqrt",mD="ScatterNd",gD="TensorScatterUpdate",vD="SearchSorted",bD="Select",yD="Selu",xD="Slice",wD="Sin",_D="Sinh",kD="Sign",SD="Sigmoid",CD="Softplus",AD="Sqrt",TD="Sum",ID="SpaceToBatchND",ED="SplitV",ND="Softmax",MD="SparseFillEmptyRows",jD="SparseReshape",DD="SparseSegmentMean",RD="SparseSegmentSum",PD="SparseToDense",OD="SquaredDifference",LD="Square",FD="StaticRegexReplace",zD="StridedSlice",BD="StringNGrams",WD="StringSplit",VD="StringToHashBucketFast",UD="Sub",HD="Tan",qD="Tanh",GD="Tile",YD="TopK",XD="Transform",KD="Transpose",ZD="Unique",JD="Unpack",QD="UnsortedSegmentSum",$D="ZerosLike",eR="Step",tR="FromPixels",nR="RotateWithOffset",rR="_FusedMatMul",iR="FusedConv2D",aR="FusedDepthwiseConv2D";function oR(){HN().getBool("IS_TEST")||HN().getBool("PROD")||console.warn(...arguments)}function sR(){HN().getBool("IS_TEST")||HN().getBool("PROD")||console.log(...arguments)}const lR=XN("kernelRegistry",(()=>new Map)),cR=XN("gradRegistry",(()=>new Map));function uR(e,t){const n=mR(e,t);return lR.get(n)}function dR(e){return cR.get(e)}function hR(e){const t=lR.entries(),n=[];for(;;){const{done:r,value:i}=t.next();if(r)break;const[a,o]=i,[s]=a.split("_");s===e&&n.push(o)}return n}function pR(e){const{kernelName:t,backendName:n}=e,r=mR(t,n);lR.has(r)&&oR("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),lR.set(r,e)}function fR(e){const{kernelName:t}=e;cR.has(t)&&HN().getBool("DEBUG")&&oR("Overriding the gradient for '".concat(t,"'")),cR.set(t,e)}function mR(e,t){return"".concat(t,"_").concat(e)}function gR(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var vR=__webpack_require__(7353);const bR=__webpack_require__.n(vR)()||vR;function yR(e){return bR.fromString(e,!0,16)}const xR=yR("c3a5c85c97cb3127"),wR=yR("b492b66fbe98f273"),_R=yR("9ae16a3b2f90404f");function kR(e){return e.xor(e.shru(47))}function SR(e,t,n){const r=e.slice(t,t+n);return bR.fromBytes(Array.from(r),!0,!0)}function CR(e,t){return SR(e,t,8)}function AR(e,t){return SR(e,t,4)}function TR(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function IR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yR("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let i=t.xor(r).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function ER(e,t,n,r){return function(e,t,n,r,i,a){i=i.add(e),a=TR(a.add(i).add(r),21);const o=i;return i=(i=i.add(t)).add(n),a=a.add(TR(i,44)),[i.add(r),a.add(o)]}(CR(e,t),CR(e,t+8),CR(e,t+16),CR(e,t+24),n,r)}function NR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=bR.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=_R.add(2*t),r=CR(e,0).add(_R),i=CR(e,t-8);return IR(TR(i,37).mul(n).add(r),TR(r,25).add(i).mul(n),n)}if(t>=4){const n=_R.add(2*t);return IR(AR(e,0).shl(3).add(t),AR(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return kR(_R.mul(n).xor(xR.mul(r))).mul(_R)}return _R}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=_R.add(2*t),r=CR(e,0).mul(wR),i=CR(e,8),a=CR(e,t-8).mul(n),o=CR(e,t-16).mul(_R);return IR(TR(r.add(i),43).add(TR(a,30)).add(o),r.add(TR(i.add(_R),18)).add(a),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=_R.add(2*t),r=CR(e,0).mul(_R),i=CR(e,8),a=CR(e,t-8).mul(n),o=CR(e,t-16).mul(_R),s=TR(r.add(i),43).add(TR(a,30)).add(o),l=IR(s,r.add(TR(i.add(_R),18)).add(a),n),c=CR(e,16).mul(n),u=CR(e,24),d=s.add(CR(e,t-32)).mul(n),h=l.add(CR(e,t-24)).mul(n);return IR(TR(c.add(u),43).add(TR(d,30)).add(h),c.add(TR(u.add(r),18)).add(d),n)}(e,t);let r=n,i=n.mul(wR).add(113),a=kR(i.mul(_R).add(113)).mul(_R),o=[bR.UZERO,bR.UZERO],s=[bR.UZERO,bR.UZERO];r=r.mul(_R).add(CR(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{r=TR(r.add(i).add(o[0]).add(CR(e,l+8)),37).mul(wR),i=TR(i.add(o[1]).add(CR(e,l+48)),42).mul(wR),r=r.xor(s[1]),i=i.add(o[0]).add(CR(e,l+40)),a=TR(a.add(s[0]),33).mul(wR),o=ER(e,l,o[1].mul(wR),r.add(s[0])),s=ER(e,l+32,a.add(s[1]),i.add(CR(e,l+16))),[a,r]=[r,a],l+=64}while(l!==c);const d=wR.add(a.and(255).shl(1));return l=u,s[0]=s[0].add(t-1&63),o[0]=o[0].add(s[0]),s[0]=s[0].add(o[0]),r=TR(r.add(i).add(o[0]).add(CR(e,l+8)),37).mul(d),i=TR(i.add(o[1]).add(CR(e,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),i=i.add(o[0].mul(9).add(CR(e,l+40))),a=TR(a.add(s[0]),33).mul(d),o=ER(e,l,o[1].mul(d),r.add(s[0])),s=ER(e,l+32,a.add(s[1]),i.add(CR(e,l+16))),[a,r]=[r,a],IR(IR(o[0],s[0],d).add(kR(i).mul(xR)).add(a),IR(o[1],s[1],d).add(r),d)}function MR(e,t){return"string"===t?RR(e):jR([e],t)}function jR(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=LR(e)),HN().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function DR(){return HN().platform.now()}function RR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",HN().platform.encode(e,t)}function PR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",HN().platform.decode(e,t)}function OR(e){return null!=HN().platform.isTypedArray?HN().platform.isTypedArray(e):gR(e)}function LR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||BN(e)||null==e||OR(e)&&n)t.push(e);else if(Array.isArray(e)||OR(e))for(let r=0;r<e.length;++r)LR(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let i=0;i<=r;i++)LR(e[i],t,n)}return t}class FR{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new BR)}profileKernel(e,t,n){let r;const i=()=>{r=n()};let a;const o=DR();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();for(const e of r)e.dataSync();a=Promise.resolve({kernelMs:DR()-o})}if(HN().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<r.length;s++){const t=r[s];t.data().then((n=>{zR(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:i,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),r,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],i,n[2])}))}))}}function zR(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class BR{logKernelProfile(e,t,n,r,i,a){const o="number"===typeof r?vN("".concat(r,"ms"),9):r.error,s=vN(e,25),l=t.rank,c=t.size,u=vN(t.shape.toString(),14);let d="";for(const h in i){const e=i[h];if(null!=e){const n=e.shape||t.shape,r=n.length;d+="".concat(h,": ").concat(r,"D ").concat(r>0?n:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(l,"D ").concat(u,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(a),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const WR=20,VR=3,UR=7;function HR(e,t,n,r){const i=MN(t),a=function(e,t,n,r){const i=pN(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,l="complex64"===n?XR(e):e;if(s>1)for(let c=0;c<i/a;c++){const e=c*a;for(let t=0;t<a;t++)o[t]=Math.max(o[t],qR(l[e+t],0,n).length)}return o}(e,t,n,i),o=t.length,s=YR(e,t,n,i,a),l=["Tensor"];return r&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(o)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function qR(e,t,n){let r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(UR))," + ")+"".concat(parseFloat(e[1].toFixed(UR)),"j"):AN(e)?"'".concat(e,"'"):"bool"===n?GR(e):parseFloat(e.toFixed(UR)).toString(),vN(r,t)}function GR(e){return 0===e?"false":"true"}function YR(e,t,n,r,i){let a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const o="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[qR(XR(e)[0],0,n)]}return"bool"===n?[GR(e[0])]:[e[0].toString()]}if(1===l){if(s>WR){const t=VR*o;let r=Array.from(e.slice(0,t)),a=Array.from(e.slice((s-VR)*o,s*o));return"complex64"===n&&(r=XR(r),a=XR(a)),["["+r.map(((e,t)=>qR(e,i[t],n))).join(", ")+", ..., "+a.map(((e,t)=>qR(e,i[s-VR+t],n))).join(", ")+"]"]}return["["+("complex64"===n?XR(e):Array.from(e)).map(((e,t)=>qR(e,i[t],n))).join(", ")+"]"]}const c=t.slice(1),u=r.slice(1),d=r[0]*o,h=[];if(s>WR){for(let t=0;t<VR;t++){const r=t*d,a=r+d;h.push(...YR(e.slice(r,a),c,n,u,i,!1))}h.push("...");for(let t=s-VR;t<s;t++){const r=t*d,a=r+d;h.push(...YR(e.slice(r,a),c,n,u,i,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,r=t+d;h.push(...YR(e.slice(t,r),c,n,u,i,m===s-1))}const p=2===l?",":"";h[0]="["+(s>0?h[0]+p:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(a?"":f),h}function XR(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class KR{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=pN(e),null!=n){const e=n.length;uN(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||kN(t,this.size),this.strides=MN(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),uN(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const i=this.locToIndex(n);this.values[i]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const a of t){if(a<0||a>=this.shape[r]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}r++}let i=t[t.length-1];for(let a=0;a<t.length-1;++a)i+=this.strides[a]*t[a];return this.values[i]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return ZR().makeTensor(this.values,this.shape,this.dtype)}}let ZR=null,JR=null,QR=null;class $R{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=pN(e),this.strides=MN(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return JR.buffer(this.shape,this.dtype,e)}bufferSync(){return JR.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return DN(this.shape,e,"complex64"===this.dtype)}arraySync(){return DN(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=ZR().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>PR(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),ZR().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=ZR().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>PR(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await ZR().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),ZR().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return JR.print(this,e)}clone(){return this.throwIfDisposed(),JR.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return HR(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),JR.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),ZR().makeVariable(this,e,t,n)}}function eP(){return XN("Tensor",(()=>$R))}Object.defineProperty($R,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),eP();class tP extends $R{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!fN(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));ZR().disposeTensor(this),this.dataId=e.dataId,ZR().incRef(this,null)}dispose(){ZR().disposeVariable(this),this.isDisposedInternal=!0}}var nP,rP,iP,aP,oP;Object.defineProperty(tP,Symbol.hasInstance,{value:e=>e instanceof $R&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(nP||(nP={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(rP||(rP={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(iP||(iP={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(aP||(aP={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(oP||(oP={}));const sP={float32:aP,int32:rP,bool:iP,complex64:oP};function lP(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return sP[e][t]}function cP(e){return lP(e,"int32")}function uP(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function dP(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function hP(e,t){if(e.dtype===t.dtype)return[e,t];const n=lP(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function pP(e,t){return t.some((t=>t.id===e.id))}function fP(e){const t=[];return mP(e,t,new Set),t}function mP(e,t,n){if(null==e)return;if(e instanceof $R)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const i=e;for(const a in i){const e=i[a];n.has(e)||(n.add(e),mP(e,t,n))}}function gP(e){return null!=e.kernelName}class vP{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class bP{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new vP}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(oR("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new FR(this.backendInstance),!0}setupRegisteredKernels(){hR(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){hR(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof iN||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,oR("Initialization of backend ".concat(e," failed")),oR(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(hie){return oR("Initialization of backend ".concat(e," failed")),oR(hie.stack||hie.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:i}=this.initializeBackend(n);if(i||r)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return bP.nextTensorId++}nextVariableId(){return bP.nextVariableId++}clone(e){const t=xP.runKernel(uj,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return xP.runKernel(bM,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=uR(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let i=0;n.forEach((e=>{i+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;let o,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=gP(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(gP(e)){const{kernelName:t,inputs:i,attrs:a}=e;null==this.backendName&&this.backend;const l=uR(t,this.backendName);uN(null!=l,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),o=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:i,attrs:a,backend:this.backend});const o=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const c=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,i,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,i=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,i)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,d=gP(e)?null:e.backwardsFunc;let h;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(h=this.profiler.profileKernel(l,c,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),t=h.outputs):t=o()})),r&&this.addTapeNode(l,c,t,d,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=dR(e);if(null!=r){const e=r.inputsToSave||[],i=r.outputsToSave||[];let a;r.saveAllInputs?(uN(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const o=n.filter(((e,t)=>i[t]));return a.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let i=e;"string"===n&&AN(e[0])&&(i=e.map((e=>RR(e))));const a=r.write(i,t,n),o=new $R(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(a),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(i);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:i}=e,a=new $R(r,i,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const i=new tP(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name ".concat(i.name," was already registered"));return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*CN(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof tP||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*CN(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,i,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},s=dR(e);null!=s&&(r=s.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=PN(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],i,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=fP(e),n=new Set(t.map((e=>e.id)));for(let i=0;i<this.state.activeScope.track.length;i++){const e=this.state.activeScope.track[i];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(uN(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));uN(i instanceof $R,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const r={},i={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],a=n.inputs;for(const e in a){const o=a[e];let s=!1;for(let e=0;e<t.length;e++)if(r[o.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,i[n.id]=!0;break}if(s)break}}const a={};a[n.id]=!0;const o={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(a[t.outputs[e].id]){for(const e in n)a[n[e].id]=!0,o[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(i[t.id]&&o[t.id]){const e={};for(const i in t.inputs){const n=t.inputs[i];r[n.id]&&(e[i]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[i.id]=null==n?function(e){const t=RN(pN(e),"float32");return xP.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,r){for(let i=t.length-1;i>=0;i--){const a=t[i],o=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));const s=a.gradient(o);for(const t in a.inputs){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));const i=n((()=>s[t]()));if("float32"!==i.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(i.dtype,"'"));const o=a.inputs[t];if(!fN(i.shape,o.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(i.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=i;else{const t=e[o.id];e[o.id]=r(t,i),t.dispose()}}}}(e,a,(e=>this.tidy(e)),wP);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:i,grads:r}}))}customGrad(e){var t=this;return uN(EN(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];let a;uN(r.every((e=>e instanceof $R)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const o={};r.forEach(((e,t)=>{o[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(a=e(...r,n),uN(a.value instanceof $R,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),uN(EN(a.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),a.value),backwardsFunc:(e,t)=>{const n=a.gradFunc(e,t),i=Array.isArray(n)?n:[n];uN(i.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),uN(i.every((e=>e instanceof $R)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return i.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=DR(),n=await this.backend.time(e);return n.wallMs=DR()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new vP;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function yP(){const e=YN();if(null==e._tfengine){const t=new VN(e);e._tfengine=new bP(t)}var t;return t=e._tfengine.ENV,GN=t,ZR=()=>e._tfengine,e._tfengine}bP.nextTensorId=0,bP.nextVariableId=0;const xP=yP();function wP(e,t){const n={a:e,b:t};return xP.runKernel(QN,n)}let _P;function kP(e){if(void 0!==_P)return _P;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function SP(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const CP=HN();function AP(e,t){let n=e;if(OR(e))return"string"===t?[]:[e.length];if(uP(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(dP(e))return[e.buffer.size/(null==t?4:CN(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||OR(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&HN().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&TP(e,r,[]),r}function TP(e,t,n){if(n=n||[],!Array.isArray(e)&&!OR(e))return void uN(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));uN(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),uN(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const r=t.slice(1);for(let i=0;i<e.length;++i)TP(e[i],r,n.concat(i))}function IP(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function EP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof eP())return IP(r,e.dtype,t,n),e;let i=IN(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),IP(r,i,t,n),null==e||!OR(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(r,"'"))}const a=AP(e,i);OR(e)||Array.isArray(e)||(e=[e]);const o="string"!==i?jR(e,i):LR(e,[],!0);return xP.makeTensor(o,a,i)}function NP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,i)=>EP(e,"".concat(t,"[").concat(i,"]"),n,r)))}CP.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),CP.registerFlag("IS_BROWSER",(()=>SP())),CP.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),CP.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),CP.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),CP.registerFlag("PROD",(()=>!1)),CP.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>CP.getBool("DEBUG"))),CP.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),CP.registerFlag("IS_TEST",(()=>!1)),CP.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>CP.getBool("DEBUG"))),CP.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),CP.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),CP.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));function MP(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const i=function(){xP.startScope(n);try{const e=r(...arguments);return BN(e)&&console.error("Cannot return a Promise inside of tidy."),xP.endScope(e),e}catch(e){throw xP.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}const jP=MP({complex_:function(e,t){const n=EP(e,"real","complex"),r=EP(t,"imag","complex");dN(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");const i={real:n,imag:r};return xP.runKernel(wM,i)}});function DP(e,t,n,r){if(null==r)r=IN(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(dP(e)||uP(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return xP.backend.createTensorFromGPUData(e,t||n,r)}if(!OR(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){LN(t);const e=pN(t),r=pN(n);uN(e===r,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(r)));for(let i=0;i<n.length;++i){const e=n[i],r=i!==n.length-1||e!==pN(t.slice(i));uN(n[i]===t[i]||!r,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return OR(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?jR(e,r):LR(e,[],!0),xP.makeTensor(e,t,r)}function RP(e,t,n){return DP(e,t,AP(e,n),n)}class PP{static join(e){return new PP(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>OR(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=t+r.byteLength;this.shards.push({buffer:r,start:t,end:i}),t=i}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const r=new ArrayBuffer(t-e),i=new Uint8Array(r);let a=0;for(let o=n;o<this.shards.length;o++){const n=this.shards[o],r=e+a-n.start,s=a,l=Math.min(t,n.end)-n.start,c=new Uint8Array(n.buffer,r,l-r);if(i.set(c,s),a+=c.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const i=Math.floor((r-n)/2)+n,a=t(e[i]);if(0===a)return i;a<0?r=i:n=i+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function OP(){return xP}function LP(){return xP.memory()}function FP(e,t){return xP.tidy(e,t)}function zP(e){fP(e).forEach((e=>e.dispose()))}function BP(e){return xP.keep(e)}function WP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return xP.registerBackend(e,t,n)}function VP(){return xP.backend}QR=function(e){HN().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const UP=4;async function HP(e,t){const n=[],r=[],i=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<i.length;++a){const o=i[a],s=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(s.dtype));const l={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+UP*t.length,r=new Uint8Array(n);let i=0;for(let a=0;a<t.length;a++){const e=t[a],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,i),i+=UP,r.set(e,i),i+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:qP(await Promise.all(r)),specs:n}}function qP(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const r=new Uint8Array(t);let i=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}const GP="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function YP(e){return GP?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function XP(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function KP(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),function(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}(e,n,r)}function ZP(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:YP(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:YP(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new PP(e.weightData).byteLength}}function JP(e){const t=[];for(const n of e)t.push(...n.weights);return t}class QP{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==QP.instance&&(QP.instance=new QP),QP.instance}static registerSaveRouter(e){QP.getInstance().saveRouters.push(e)}static registerLoadRouter(e){QP.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return QP.getHandlers(e,"save")}static getLoadHandlers(e,t){return QP.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?QP.getInstance().loadRouters:QP.getInstance().saveRouters).forEach((t=>{const i=t(e,n);null!==i&&r.push(i)})),r}}const $P="tensorflowjs",eO="models_store",tO="model_info_store";function nO(){if(!HN().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function rO(e){const t=e.result;t.createObjectStore(eO,{keyPath:"modelPath"}),t.createObjectStore(tO,{keyPath:"modelPath"})}class iO{constructor(e){if(this.indexedDB=nO(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open($P,1);r.onupgradeneeded=()=>rO(r),r.onsuccess=()=>{const i=r.result;if(null==t){const t=i.transaction(eO,"readonly"),r=t.objectStore(eO).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return i.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(r.result.modelArtifacts)},r.onerror=e=>(i.close(),n(r.error)),t.oncomplete=()=>i.close()}else{t.weightData=PP.join(t.weightData);const r=ZP(t),o=i.transaction(tO,"readwrite");let s,l,c=o.objectStore(tO);try{s=c.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(a){return n(a)}s.onsuccess=()=>{l=i.transaction(eO,"readwrite");const s=l.objectStore(eO);let u;try{u=s.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(a){return n(a)}u.onsuccess=()=>e({modelArtifactsInfo:r}),u.onerror=e=>{c=o.objectStore(tO);const t=c.delete(this.modelPath);t.onsuccess=()=>(i.close(),n(u.error)),t.onerror=e=>(i.close(),n(u.error))}},s.onerror=e=>(i.close(),n(s.error)),o.oncomplete=()=>{null==l?i.close():l.oncomplete=()=>i.close()}}},r.onerror=e=>n(r.error)}))}}iO.URL_SCHEME="indexeddb://";const aO=e=>{return HN().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(iO.URL_SCHEME)?(t=e.slice(iO.URL_SCHEME.length),new iO(t)):null;var t};QP.registerSaveRouter(aO),QP.registerLoadRouter(aO);class oO{constructor(){this.indexedDB=nO()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open($P,1);n.onupgradeneeded=()=>rO(n),n.onsuccess=()=>{const r=n.result,i=r.transaction(tO,"readonly"),a=i.objectStore(tO).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),i.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(iO.URL_SCHEME)?t.slice(iO.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open($P,1);r.onupgradeneeded=()=>rO(r),r.onsuccess=()=>{const i=r.result,a=i.transaction(tO,"readwrite"),o=a.objectStore(tO),s=o.get(e);let l;s.onsuccess=()=>{if(null==s.result)return i.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const r=o.delete(e),a=()=>{l=i.transaction(eO,"readwrite");const r=l.objectStore(eO).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=a,r.onerror=e=>(a(),i.close(),n(s.error))}},s.onerror=e=>(i.close(),n(s.error)),a.oncomplete=()=>{null==l?i.close():l.oncomplete=()=>i.close()}},r.onerror=e=>n(r.error)}))}}const sO="/",lO="tensorflowjs_models",cO="info",uO="model_topology",dO="weight_specs",hO="weight_data",pO="model_metadata";function fO(e){return{info:[lO,e,cO].join(sO),topology:[lO,e,uO].join(sO),weightSpecs:[lO,e,dO].join(sO),weightData:[lO,e,hO].join(sO),modelMetadata:[lO,e,pO].join(sO)}}function mO(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function gO(e){const t=e.split(sO);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(sO)}class vO{constructor(e){if(!HN().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=fO(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=ZP(e),i=PP.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(GP)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(i));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:r}}catch(hie){throw mO(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(r.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(r.weightSpecsBytes,", ")+"weightDataBytes=".concat(r.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=r;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const e=JSON.parse(i);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(GP){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(a),t}}vO.URL_SCHEME="localstorage://";const bO=e=>{return HN().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(vO.URL_SCHEME)?(t=e.slice(vO.URL_SCHEME.length),new vO(t)):null;var t};QP.registerSaveRouter(bO),QP.registerLoadRouter(bO);class yO{constructor(){uN(HN().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),uN("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=lO+sO,n=sO+cO;for(let r=0;r<this.LS.length;++r){const i=this.LS.key(r);if(i.startsWith(t)&&i.endsWith(n)){e[gO(i)]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){var t;const n=fO(e=(t=e).startsWith(vO.URL_SCHEME)?t.slice(vO.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const r=JSON.parse(this.LS.getItem(n.info));return mO(n),r}}const xO="://";class wO{constructor(){this.managers={}}static getInstance(){return null==wO.instance&&(wO.instance=new wO),wO.instance}static registerManager(e,t){uN(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(xO)&&(e=e.slice(0,e.indexOf(xO))),uN(e.length>0,(()=>"scheme must not be an empty string."));const n=wO.getInstance();uN(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=wO.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(wO.getInstance().managers)}}class _O{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&HN().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return gR(e)}}if(HN().get("IS_BROWSER")){HN().setPlatform("browser",new _O);try{wO.registerManager(vO.URL_SCHEME,new yO)}catch(hie){}try{wO.registerManager(iO.URL_SCHEME,new oO)}catch(hie){}}const kO=()=>__webpack_require__(5817);let SO;class CO{constructor(){this.util=__webpack_require__(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=HN().global.fetch?HN().global.fetch(e,t):(null==SO&&(SO=kO()),SO(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function AO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",LN(e),new KR(e,t,n)}HN().get("IS_NODE")&&!HN().get("IS_BROWSER")&&HN().setPlatform("node",new CO);const TO=MP({cast_:function(e,t){const n=EP(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},i={dtype:t};return xP.runKernel(bM,r,i)}});const IO=MP({clone_:function(e){const t={x:EP(e,"x","clone","string_or_numeric")};return xP.runKernel(uj,t)}});yP();const EO={buffer:AO,cast:TO,clone:IO,print:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}};JR=EO;const NO=MP({add_:function(e,t){let n=EP(e,"a","add"),r=EP(t,"b","add");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(QN,i)}});const MO=MP({floorDiv_:function(e,t){let n=EP(e,"a","floorDiv"),r=EP(t,"b","floorDiv");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(ij,i)}});const jO=MP({div_:function(e,t){let n=EP(e,"a","div"),r=EP(t,"b","div");if([n,r]=hP(n,r),"int32"===n.dtype&&"int32"===r.dtype)return MO(n,r);const i={a:n,b:r};return xP.runKernel(qM,i,{})}});const DO=MP({mul_:function(e,t){let n=EP(e,"a","mul"),r=EP(t,"b","mul");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(Bj,i)}});const RO=MP({sqrt_:function(e){const t={x:EP(e,"x","sqrt","float32")};return xP.runKernel(AD,t)}});const PO=MP({square_:function(e){const t=EP(e,"x","square");return xP.runKernel("Square",{x:t},{})}});const OO=MP({zerosLike_:function(e){const t={x:EP(e,"x","zerosLike")};return xP.runKernel($D,t)}});function LO(e){return xP.customGrad(e)}function FO(e,t){if((OR(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&OR(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return DP(e,[],[],t)}const zO=new Map,BO=new Map;class WO{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class VO{constructor(){this.classNameMap={}}static getMap(){return null==VO.instance&&(VO.instance=new VO),VO.instance}static register(e){VO.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function UO(e,t,n){uN(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),uN("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),uN(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return VO.register(e),zO.set(r,e),BO.set(e,r),e}class HO extends WO{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:i}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:i[e.name]})));this.applyGradients(e)}else this.applyGradients(i);return zP(i),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){uN(EN(e),(()=>"The f passed in variableGrads(f) must be a function")),uN(null==t||Array.isArray(t)&&t.every((e=>e instanceof tP)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in xP.registeredVariables)t.push(xP.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,i=t.length;t=t.filter((e=>e.trainable)),uN(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(i," variables is ")+"trainable."));const{value:a,grads:o}=xP.gradients(e,t,null,!0);uN(o.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),uN(0===a.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(a.rank," tensor")));const s={};return t.forEach(((e,t)=>{null!=o[t]&&(s[e.name]=o[t])})),null!=r&&r.forEach((e=>s[e.name]=null)),{value:a,grads:s}}(e,t)}dispose(){null!=this.iterations_&&zP(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:FO(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(HO,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class qO extends HO{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=xP.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=xP.registeredVariables[t],i=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:FP((()=>OO(r).variable(i)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:FP((()=>OO(r).variable(i)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;FP((()=>{const e=NO(DO(o,this.rho),DO(PO(a),1-this.rho)),t=DO(jO(RO(NO(s,this.epsilon)),RO(NO(o,this.epsilon))),a),n=NO(DO(s,this.rho),DO(PO(t),1-this.rho));o.assign(e),s.assign(n);const i=NO(DO(t,-this.learningRate),r);r.assign(i)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(zP(this.accumulatedGrads.map((e=>e.variable))),zP(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function GO(e,t,n){LN(e);const r={shape:e,value:t,dtype:n=n||IN(t)};return xP.runKernel(tj,{},r)}class YO extends HO{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=xP.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:FP((()=>GO(r.shape,this.initialAccumulatorValue).variable(e)))}}const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedGrads[n].variable;FP((()=>{const e=NO(a,PO(i));a.assign(e);const t=NO(DO(jO(i,RO(NO(e,xP.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&zP(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const XO=MP({pow_:function(e,t){let n=EP(e,"base","pow"),r=EP(t,"exp","pow");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(Zj,i)}});const KO=MP({sub_:function(e,t){let n=EP(e,"a","sub"),r=EP(t,"b","sub");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(UD,i)}});class ZO extends HO{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],FP((()=>{this.accBeta1=FO(t).variable(),this.accBeta2=FO(n).variable()})),null==r&&(this.epsilon=xP.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);FP((()=>{const n=KO(1,this.accBeta1),r=KO(1,this.accBeta2);t.forEach(((t,i)=>{const a=xP.registeredVariables[t],o=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:"".concat(t,"/m"),variable:FP((()=>OO(a).variable(o)))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:"".concat(t,"/v"),variable:FP((()=>OO(a).variable(o)))});const s=Array.isArray(e)?e[i].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[i].variable,c=this.accumulatedSecondMoment[i].variable,u=NO(DO(l,this.beta1),DO(s,1-this.beta1)),d=NO(DO(c,this.beta2),DO(PO(s),1-this.beta2)),h=jO(u,n),p=jO(d,r);l.assign(u),c.assign(d);const f=NO(DO(jO(h,NO(RO(p),this.epsilon)),-this.learningRate),a);a.assign(f)})),this.accBeta1.assign(DO(this.accBeta1,this.beta1)),this.accBeta2.assign(DO(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&zP(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&zP(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),FP((()=>{this.accBeta1.assign(XO(this.beta1,this.iterations_+1)),this.accBeta2.assign(XO(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const JO=MP({abs_:function(e){const t=EP(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return xP.runKernel(_M,e)}{const e={x:t};return xP.runKernel(KN,e)}}});function QO(e,t){const n=e.length,r=[];for(let i=0;i<n;i++){const a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function $O(e,t){const n=[];for(let r=0;r<t.length;r++){const i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function eL(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let i=0;i<n;i++){let a=e[e.length-i-1];null==a&&(a=1);let o=t[t.length-i-1];if(null==o&&(o=1),1===a)r[n-i-1]=o;else if(1===o)r[n-i-1]=a;else{if(a!==o){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}r[n-i-1]=a}}return r}const tL=MP({maximum_:function(e,t){let n=EP(e,"a","maximum"),r=EP(t,"b","maximum");[n,r]=hP(n,r),"bool"===n.dtype&&(n=TO(n,"int32"),r=TO(r,"int32")),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(Ij,i)}});class nL extends HO{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],FP((()=>{this.iteration=FO(0).variable(),this.accBeta1=FO(t).variable()})),null==r&&(this.epsilon=xP.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);FP((()=>{const n=KO(1,this.accBeta1),r=jO(-this.learningRate,NO(DO(this.iteration,this.decay),1));t.forEach(((t,i)=>{const a=xP.registeredVariables[t],o=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:"".concat(t,"/m"),variable:OO(a).variable(o)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:"".concat(t,"/v"),variable:OO(a).variable(o)});const s=Array.isArray(e)?e[i].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[i].variable,c=this.accumulatedWeightedInfNorm[i].variable,u=NO(DO(l,this.beta1),DO(s,1-this.beta1)),d=DO(c,this.beta2),h=JO(s),p=tL(d,h);l.assign(u),c.assign(p);const f=NO(DO(jO(r,n),jO(u,NO(p,this.epsilon))),a);a.assign(f)})),this.iteration.assign(NO(this.iteration,1)),this.accBeta1.assign(DO(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&zP(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&zP(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class rL extends HO{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);t.forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const i=xP.registeredVariables[t];FP((()=>{const e=NO(DO(this.c,r),i);i.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=BP(FO(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class iL extends rL{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=FO(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=xP.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:FP((()=>OO(r).variable(e)))}}const i=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[t];null!=a&&FP((()=>{let e;const t=NO(DO(this.m,i),a);e=this.useNesterov?NO(DO(this.c,NO(a,DO(t,this.m))),r):NO(DO(this.c,t),r),i.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&zP(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class aL extends HO{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==r&&(this.epsilon=xP.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=xP.registeredVariables[t],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:FP((()=>OO(r).variable(i)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:FP((()=>OO(r).variable(i)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:FP((()=>OO(r).variable(i)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;FP((()=>{const e=NO(DO(o,this.decay),DO(PO(a),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,i=NO(DO(t,this.decay),DO(a,1-this.decay)),l=jO(DO(a,this.learningRate),RO(KO(e,NO(PO(i),this.epsilon)))),c=NO(DO(s,this.momentum),l);o.assign(e),t.assign(i),s.assign(c);const u=KO(r,c);r.assign(u)}else{const e=NO(DO(o,this.decay),DO(PO(a),1-this.decay)),t=NO(DO(s,this.momentum),jO(DO(a,this.learningRate),RO(NO(e,this.epsilon))));o.assign(e),s.assign(t);const n=KO(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&zP(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&zP(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&zP(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const oL=[qO,YO,ZO,nL,iL,aL,rL];function sL(e){return new Promise((e=>setTimeout(e))).then(e)}class lL{constructor(e){if(!HN().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(lL.URL_SCHEME)&&(e=e.slice(lL.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=PP.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=XP(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=r,await sL((()=>i.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await sL((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:ZP(e)}}}}lL.URL_SCHEME="downloads://";function cL(e,t,n,r){!function(e){uN(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){uN(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),uN(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),uN(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,r=null==r?1:r);let i=0;return Promise.all(e.map((a=>(a.then((a=>{const o=n+ ++i/e.length*(r-n);return t(o),a})),a))))}async function uL(e,t){null==t&&(t={});const n=null==t.fetchFunc?HN().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),i=(null==t.onProgress?await Promise.all(r):await cL(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(i):await cL(i,t.onProgress,.5,1)}QP.registerSaveRouter((e=>HN().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(lL.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new lL(e)}(e.slice(lL.URL_SCHEME.length)):null));class dL{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(uN("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=HN().platform.fetch,uN(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&uN(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=XP(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=PP.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:ZP(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(die){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return KP(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=JP(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?HN().platform.fetch:t.fetchFunc;let i,a=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var o;a<e.length;){if(!i){const n=(await r(e[a],t.requestInit,{isBinary:!0})).body;i=n.getReader()}const{done:s,value:l}=await i.read();if(!s)return void n.enqueue(l);a++,i=void 0,null===(o=t.onProgress)||void 0===o||o.call(t,a/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),i=n>t?e.substring(n):"";return[r+"/",i]}(t),i=this.weightPathPrefix||n,a=[],o=[];for(const s of e)for(const e of s.paths)null!=this.weightUrlConverter?o.push(this.weightUrlConverter(e)):a.push(i+e+r);return this.weightUrlConverter&&a.push(...await Promise.all(o)),a}async loadWeights(e){const t=await this.getWeightUrls(e);return[JP(e),await uL(t,this.loadOptions)]}}function hL(e){return null!=e.match(dL.URL_SCHEME_REGEX)}dL.URL_SCHEME_REGEX=/^https?:\/\//;const pL=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>hL(e))):hL(e),n)return fL(e,t)}return null};function fL(e,t){return new dL(e,t)}QP.registerSaveRouter(pL),QP.registerLoadRouter(pL);const mL=-2,gL=-1;function vL(e,t,n){const r=e.shape.length;uN(r===t.length,(()=>"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,")."))),uN(r===n.length,(()=>"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")));for(let i=0;i<r;++i)uN(t[i]+n[i]<=e.shape[i],(()=>"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")))}function bL(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function yL(e,t,n){const r=[];for(let i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function xL(e,t,n,r){const i=[...e];for(let a=i.length;a<r.length;a++)i.push(1);for(let a=0;a<n;a++)0===a?i[t]=1:(i.splice(t,0,1),i.pop());return i}function wL(e,t,n){return n<=e?n:n-(t-1)}function _L(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function kL(e,t,n,r,i,a,o,s,l){const c=e.length;let u=new Array(c),d=new Array(c),h=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=SL(o,l,c,r,e),d=CL(s,l,c,i,e),h=xL(a,l,c,e)}else for(let p=0;p<c;p++)u[p]=TL(o,r,a,e,p,l),d[p]=IL(s,i,a,e,p,l),h[p]=AL(a,p,l);return{begin:u,end:d,strides:h}}function SL(e,t,n,r,i){const a=[...i],o=_L(n,t);for(let s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=0;else{const i=wL(t,n,s);let o=r[i];e&1<<i&&(o=0),a[s]=o}return a}function CL(e,t,n,r,i){const a=[...i],o=_L(n,t);for(let s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{const i=wL(t,n,s);let o=r[i];e&1<<i&&(o=Number.MAX_SAFE_INTEGER),a[s]=o}for(let s=0;s<a.length;s++){const e=i[s];a[s]<0&&(a[s]+=e),a[s]=sN(0,a[s],i[s])}return a}function AL(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function TL(e,t,n,r,i,a){let o=t[i];const s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[i];return o<0&&(o+=l),o=sN(0,o,l-1),o}function IL(e,t,n,r,i,a){let o=t[i];const s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[i];return o<0&&(o+=l),o=s>0?sN(0,o,l):sN(-1,o,l-1),o}function EL(e,t,n){let r=n.length;for(let i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(let i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function NL(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function ML(e,t,n){let r;const i=e.shape.length;let a;return r="number"===typeof t?[t,...new Array(i-1).fill(0)]:t.length<i?t.concat(new Array(i-t.length).fill(0)):t.slice(),r.forEach((e=>{uN(-1!==e,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(i).fill(-1):"number"===typeof n?[n,...new Array(i-1).fill(-1)]:n.length<i?n.concat(new Array(i-n.length).fill(-1)):n,a=a.map(((t,n)=>t>=0?t:(uN(-1===t,(()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,"."))),e.shape[n]-r[n]))),[r,a]}function jL(e,t,n,r,i,a,o,s,l){let c;if(null==r?(c=new Array(t.length),c.fill(1)):c=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)u&&0!==(1<<y&s)&&d.numAddAxisAfterEllipsis++,1<<y&o&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(mL),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(gL),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,h);let p=!0,f=!0,m=!0;const g=[],v=[];for(let y=0;y<e.length;++y){if(0===h.strides[y])throw Error("strides[".concat(y,"] must be non-zero"));const t=!!(h.shrinkAxisMask&1<<y),n=e[y];if(-1===n){g.push(t?1:-1);continue}const r=[h.beginMask&1<<y,h.endMask&1<<y],i=[h.strides[y]>0?0:-1,h.strides[y]>0?n:n-1];if(t&&h.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===h.strides[y];const a=!!(h.beginMask&1<<y&&h.endMask&1<<y);if(h.beginValid&&h.endValid){if(t){const e=h.begin[y]<0?n+h.begin[y]:h.begin[y];if(h.begin[y]=e,h.end[y]=h.begin[y]+1,e<0||e>=n)throw Error("slice index ".concat(h.begin[y]," of dimension ").concat(y," out of bounds."))}else h.begin[y]=DL(h.begin[y],0,h.strides[y],n,r,i),h.end[y]=DL(h.end[y],1,h.strides[y],n,r,i);const e=1===h.strides[y]&&0===h.begin[y]&&h.end[y]===n;p=p&&e,f=f&&(0===y&&1===h.strides[y]||e)}else p=p&&1===h.strides[y]&&a,f=f&&(0===y&&1===h.strides[y]||a);let o,s=!1;if(h.beginValid&&h.endValid?(o=h.end[y]-h.begin[y],s=!0):t?(o=1,s=!0):a&&n>=0&&(o=h.strides[y]<0?-n:n,s=!0),s){let e;e=0===o||o<0!==h.strides[y]<0?0:Math.trunc(o/h.strides[y])+(o%h.strides[y]!==0?1:0),g.push(e)}else g.push(-1)}for(let y=0;y<h.finalShapeGatherIndices.length;++y){const e=h.finalShapeGatherIndices[y];e>=0?v.push(g[e]):e===mL&&v.push(1)}const b=v.filter(((e,t)=>h.finalShapeGatherIndices[t]!==mL));return{finalShapeSparse:b,finalShape:v,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function DL(e,t,n,r,i,a){if(i[t])return n>0?a[t]:a[t+1&1];{const t=e<0?r+e:e;return t<a[0]?a[0]:t>a[1]?a[1]:t}}const RL=MP({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:EP(e,"x","all","bool")},i={axis:t,keepDims:n};return xP.runKernel(eM,r,i)}});const PL=MP({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:EP(e,"x","any","bool")},i={axis:t,keepDims:n};return xP.runKernel(tM,r,i)}});const OL=MP({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:EP(e,"x","argMax")},r={axis:t};return xP.runKernel(nM,n,r)}});function LL(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5?arguments[5]:void 0;return BL(e,[...t,e[3]],n,a,r,null,null,ZL(i))}function FL(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[s,l]=UL(t);let c;if("channelsLast"===o)c=[s,l,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat ".concat(o));c=[s,l,e[1],e[1]]}return BL(e,c,n,r,i,a,!1,o)}function zL(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[s,l,c]=HL(t);let u,d;if("NDHWC"===o)d="channelsLast",u=[s,l,c,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat ".concat(o));d="channelsFirst",u=[s,l,c,e[1],e[1]]}return WL(e,u,n,r,i,!1,d,a)}function BL(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,c,u,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,c,u,d]=e;else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));[l,d,c,u]=e}const[h,p,,f]=t,[m,g]=UL(n),[v,b]=UL(r),y=qL(h,v),x=qL(p,b),{padInfo:w,outHeight:_,outWidth:k}=function(e,t,n,r,i,a,o,s,l){let c,u,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const i=function(e,t,n,r,i){null==r&&(r=VL(e,t,n));const a=e[0],o=e[1],s=GL((a-t+2*r)/n+1,i),l=GL((o-t+2*r)/n+1,i);return[s,l]}([t,n],a,r,e,s);u=i[0],d=i[1]}else if("same"===e){u=Math.ceil(t/r),d=Math.ceil(n/i);const e=Math.max(0,(u-1)*r+a-t),s=Math.max(0,(d-1)*i+o-n),l=Math.floor(e/2),h=e-l,p=Math.floor(s/2);c={top:l,bottom:h,left:p,right:s-p,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-a+1)/r),d=Math.ceil((n-o+1)/i);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const h="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:h,bottom:p,left:f,right:m,type:0===h&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},u=GL((t-a+h+p)/r+1,s),d=GL((n-o+f+m)/i+1,s)}}return{padInfo:c,outHeight:u,outWidth:d}}(i,c,u,m,g,y,x,a,s),S=o?f*d:f;let C;return"channelsFirst"===s?C=[l,S,_,k]:"channelsLast"===s&&(C=[l,_,k,S]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:u,inChannels:d,outHeight:_,outWidth:k,outChannels:S,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:h,filterWidth:p,effectiveFilterHeight:y,effectiveFilterWidth:x,dilationHeight:v,dilationWidth:b,inShape:e,outShape:C,filterShape:t}}function WL(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,[l,c,u,d,h]=[-1,-1,-1,-1,-1];if("channelsLast"===o)[l,c,u,d,h]=e;else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat ".concat(o));[l,h,c,u,d]=e}const[p,f,m,,g]=t,[v,b,y]=HL(n),[x,w,_]=HL(r),k=qL(p,x),S=qL(f,w),C=qL(m,_),{padInfo:A,outDepth:T,outHeight:I,outWidth:E}=function(e,t,n,r,i,a,o,s,l,c,u){let d,h,p,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,i,a){null==i&&(i=VL(e,t[0],r[0]));const o=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*i>=t[s]&&(o[s]=GL((e[s]-t[s]+2*i)/r[s]+1,a));return o}([t,n,r,1],[s,l,c],1,[i,a,o],e,u);h=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));{h=Math.ceil(t/i),p=Math.ceil(n/a),f=Math.ceil(r/o);const e=(h-1)*i+s-t,u=(p-1)*a+l-n,m=(f-1)*o+c-r,g=Math.floor(e/2),v=e-g,b=Math.floor(u/2),y=u-b,x=Math.floor(m/2);d={top:b,bottom:y,left:x,right:m-x,front:g,back:v,type:"SAME"}}}return{padInfo:d,outDepth:h,outHeight:p,outWidth:f}}(i,c,u,d,v,b,y,k,S,C,s),N=a?g*h:g;let M;return"channelsFirst"===o?M=[l,N,T,I,E]:"channelsLast"===o&&(M=[l,T,I,E,N]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:u,inWidth:d,inChannels:h,outDepth:T,outHeight:I,outWidth:E,outChannels:N,padInfo:A,strideDepth:v,strideHeight:b,strideWidth:y,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:k,effectiveFilterHeight:S,effectiveFilterWidth:C,dilationDepth:x,dilationHeight:w,dilationWidth:_,inShape:e,outShape:M,filterShape:t}}function VL(e,t,n){const r=qL(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function UL(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function HL(e){return"number"===typeof e?[e,e,e]:e}function qL(e,t){return t<=1?e:e+(e-1)*(t-1)}function GL(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function YL(e){const[t,n,r]=UL(e);return 1===t&&1===n&&1===r}function XL(e,t){return YL(e)||YL(t)}function KL(e){return UL(e).every((e=>e>0))}function ZL(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function JL(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)uN(mN(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{uN(mN(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const QL=MP({reshape_:function(e,t){const n={x:EP(e,"x","reshape","string_or_numeric")},r={shape:t};return xP.runKernel(oD,n,r)}});const $L=MP({avgPool_:function(e,t,n,r,i){const a=EP(e,"x","avgPool","float32");uN(XL(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let o=a,s=!1;3===a.rank&&(s=!0,o=QL(a,[1,a.shape[0],a.shape[1],a.shape[2]])),uN(4===o.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(o.rank,"."))),JL("avgPool",r,i);const l={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:i};let u=xP.runKernel(cM,l,c);return u=TO(u,a.dtype),s?QL(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const eF=MP({avgPool3d_:function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const o=EP(e,"x","avgPool3d","float32");let s=o,l=!1;4===o.rank&&(l=!0,s=QL(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),uN(5===s.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,"."))),uN("NDHWC"===a,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(a))),uN("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'"))),JL("avgPool3d",r,i);const c={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:i,dataFormat:a};let d=xP.runKernel(dM,c,u);return d=TO(d,s.dtype),l?QL(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const tF=MP({batchNorm_:function(e,t,n,r,i,a){null==a&&(a=.001);const o=EP(e,"x","batchNorm"),s=EP(t,"mean","batchNorm"),l=EP(n,"variance","batchNorm");let c,u;null!=i&&(c=EP(i,"scale","batchNorm")),null!=r&&(u=EP(r,"offset","batchNorm")),uN(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),uN(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),uN(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d=function(e){let t;return t=0===e.rank||1===e.rank?QL(e,[1,1,1,e.size]):2===e.rank?QL(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?QL(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(o),h={x:d,scale:c,offset:u,mean:s,variance:l},p={varianceEpsilon:a},f=xP.runKernel(aj,h,p);return QL(f,o.shape)}});const nF=MP({batchNorm2d_:function(e,t,n,r,i,a){const o=EP(e,"x","batchNorm"),s=EP(t,"mean","batchNorm"),l=EP(n,"variance","batchNorm");let c,u;return null!=i&&(c=EP(i,"scale","batchNorm")),null!=r&&(u=EP(r,"offset","batchNorm")),uN(2===o.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(o.rank,"."))),uN(2===s.rank||1===s.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(s.rank,"."))),uN(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&uN(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&uN(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),tF(o,s,l,u,c,a)}});const rF=MP({batchNorm3d_:function(e,t,n,r,i,a){const o=EP(e,"x","batchNorm"),s=EP(t,"mean","batchNorm"),l=EP(n,"variance","batchNorm");let c,u;return null!=i&&(c=EP(i,"scale","batchNorm")),null!=r&&(u=EP(r,"offset","batchNorm")),uN(3===o.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(o.rank,"."))),uN(3===s.rank||1===s.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(s.rank,"."))),uN(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&uN(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&uN(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),tF(o,s,l,u,c,a)}});const iF=MP({batchNorm4d_:function(e,t,n,r,i,a){const o=EP(e,"x","batchNorm"),s=EP(t,"mean","batchNorm"),l=EP(n,"variance","batchNorm");let c,u;return null!=i&&(c=EP(i,"scale","batchNorm")),null!=r&&(u=EP(r,"offset","batchNorm")),uN(4===o.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(o.rank,"."))),uN(4===s.rank||1===s.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(s.rank,"."))),uN(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&uN(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&uN(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),tF(o,s,l,u,c,a)}});const aF=MP({broadcastTo_:function(e,t){let n=EP(e,"broadcastTo","x");const r=n.shape;if(LN(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=QL(n,e)}const i=n.shape,a=Array.from(t);for(let c=t.length-1;c>=0;c--)if(i[c]===t[c])a[c]=1;else if(1!==n.shape[c])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));const o=a.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===o.length)return IO(n);const s={x:n},l={reps:a};return xP.runKernel(GD,s,l)}});const oF=MP({clipByValue_:function(e,t,n){const r=EP(e,"x","clipByValue");if(uN(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return GO(r.shape,t,r.dtype);const i={x:r},a={clipValueMin:t,clipValueMax:n};return xP.runKernel(xM,i,a)}});const sF=MP({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;uN(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=NP(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return IO(n[0]);const r=n,i={axis:t};return xP.runKernel(kM,r,i)}});const lF=MP({concat1d_:function(e){return sF(e,0)}});const cF=MP({concat2d_:function(e,t){return sF(e,t)}});const uF=MP({concat3d_:function(e,t){return sF(e,t)}});const dF=MP({concat4d_:function(e,t){return sF(e,t)}});const hF=MP({conv2d_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0;const s=EP(e,"x","conv2d","float32"),l=EP(t,"filter","conv2d","float32");let c=s,u=!1;3===s.rank&&(u=!0,c=QL(s,[1,s.shape[0],s.shape[1],s.shape[2]])),uN(4===c.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,"."))),uN(4===l.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."))),JL("conv2d",r,o);const d="NHWC"===i?c.shape[3]:c.shape[1];uN(d===l.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],"."))),uN(XL(n,a),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(a,"'"))),uN(KL(a),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),uN(KL(n),(()=>"Error in conv2D: Strides should be larger than 0."));const h={x:c,filter:l},p={strides:n,pad:r,dataFormat:i,dilations:a,dimRoundingMode:o},f=xP.runKernel(SM,h,p);return u?QL(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const pF=MP({conv1d_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const s=EP(e,"x","conv1d"),l=EP(t,"filter","conv1d");let c=s,u=!1;2===s.rank&&(u=!0,c=QL(s,[1,s.shape[0],s.shape[1]])),uN(3===c.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,"."))),uN(3===l.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,"."))),JL("conv1d",r,o),uN(c.shape[2]===l.shape[1],(()=>"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],"."))),uN(XL(n,a),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(a,"'"))),uN(KL(a),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),uN(KL(n),(()=>"Error in conv1D: Stride should be larger than 0.")),uN("NWC"===i,(()=>"Error in conv1d: got dataFormat of ".concat(i," but only NWC is currently supported.")));const d=QL(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=QL(c,[c.shape[0],1,c.shape[1],c.shape[2]]),p=hF(h,d,[1,n],r,"NHWC",[1,a],o);return QL(p,u?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const fF=MP({conv2DBackpropInput_:function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0;uN(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let s=e,l=t,c=!1;3===t.rank&&(c=!0,l=QL(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),uN(4===s.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,"."))),uN(4===l.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank))),uN(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const u="NHWC"===a?s[3]:s[1],d="NHWC"===a?l.shape[3]:l.shape[1];uN(u===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),uN(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),JL("conv2dDerInput",i,o);const h={dy:l,filter:n},p={strides:r,pad:i,dataFormat:a,dimRoundingMode:o,inputShape:s},f=xP.runKernel(AM,h,p);return c?QL(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const mF=MP({conv2dTranspose_:function(e,t,n,r,i,a){const o=EP(e,"x","conv2dTranspose"),s=EP(t,"filter","conv2dTranspose");return fF(n,o,s,r,i,"NHWC",a)}});const gF=MP({conv3d_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const o=EP(e,"x","conv3d"),s=EP(t,"filter","conv3d");let l=o,c=!1;4===o.rank&&(c=!0,l=QL(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),uN(5===l.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,"."))),uN(5===s.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,"."))),uN(l.shape[4]===s.shape[3],(()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],"."))),uN(XL(n,a),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(a,"'"))),uN("NDHWC"===i,(()=>"Error in conv3d: got dataFormat of ".concat(i," but only NDHWC is currently supported."))),uN(KL(a),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),uN(KL(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:l,filter:s},d={strides:n,pad:r,dataFormat:i,dilations:a},h=xP.runKernel(TM,u,d);return c?QL(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const vF=MP({conv3DBackpropInput_:function(e,t,n,r,i){uN(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let a=e,o=t,s=!1;4===t.rank&&(s=!0,o=QL(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],c=o.shape[4];uN(5===a.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(a.length,"."))),uN(5===o.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(o.rank))),uN(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),uN(l===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),uN(c===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const u={dy:o,filter:n},d={pad:i,strides:r,inputShape:a},h=xP.runKernel(EM,u,d);return s?QL(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const bF=MP({conv3dTranspose_:function(e,t,n,r,i){const a=EP(e,"x","conv3dTranspose"),o=EP(t,"filter","conv3dTranspose");return vF(n,a,o,r,i)}});const yF=MP({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=EP(e,"x","denseBincount"),a=EP(t,"weights","denseBincount");uN("int32"===i.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(i.dtype))),uN(i.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(i.rank,"."))),uN(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),uN(a.size===i.size||0===a.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(i.shape,", weights shape: ")+"".concat(a.shape,".")));const o={x:i,weights:a},s={size:n,binaryOutput:r};return xP.runKernel(PM,o,s)}});const xF=MP({depthwiseConv2d_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0;const s=EP(e,"x","depthwiseConv2d","float32"),l=EP(t,"filter","depthwiseConv2d","float32");let c=s,u=!1;3===s.rank&&(u=!0,c=QL(s,[1,s.shape[0],s.shape[1],s.shape[2]])),uN(4===c.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,"."))),uN(4===l.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")));const d="NHWC"===i?c.shape[3]:c.shape[1];uN(d===l.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],"."))),JL("depthwiseConv2d",r,o);const h={x:c,filter:l},p={strides:n,pad:r,dataFormat:i,dilations:a,dimRoundingMode:o},f=xP.runKernel(LM,h,p);return u?QL(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const wF=MP({elu_:function(e){const t={x:EP(e,"x","elu","float32")};return xP.runKernel(YM,t)}});const _F=MP({equal_:function(e,t){let n=EP(e,"a","equal","string_or_numeric"),r=EP(t,"b","equal","string_or_numeric");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(ZM,i)}});const kF=MP({erf_:function(e){let t=EP(e,"x","erf");uN("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=TO(t,"float32"));const n={x:t};return xP.runKernel(KM,n)}});const SF=MP({exp_:function(e){const t={x:EP(e,"x","exp")};return xP.runKernel(JM,t)}});const CF=MP({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=EP(e,"x","expandDims","string_or_numeric");uN(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},i={dim:t};return xP.runKernel(QM,r,i)}});const AF=MP({tile_:function(e,t){const n=EP(e,"x","tile","string_or_numeric");uN(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const r={x:n},i={reps:t};return xP.runKernel(GD,r,i)}});const TF=MP({eye_:function(e,t,n){null==t&&(t=e);const r=AO([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),i=e<=t?e:t;for(let o=0;o<i;++o)r.set(1,o,o);const a=QL(r.toTensor(),[e,t]);if(null==n)return a;if(1===n.length)return AF(CF(a,0),[n[0],1,1]);if(2===n.length)return AF(CF(CF(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return AF(CF(CF(CF(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const IF=MP({floor_:function(e){const t={x:EP(e,"x","floor","float32")};return xP.runKernel(rj,t)}});const EF=MP({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i={x:EP(e,"x","gather"),indices:EP(t,"indices","gather","int32")},a={axis:n,batchDims:r};return xP.runKernel(oj,i,a)}});const NF=MP({greater_:function(e,t){let n=EP(e,"a","greater","string_or_numeric"),r=EP(t,"b","greater","string_or_numeric");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(lj,i)}});const MF=MP({greaterEqual_:function(e,t){let n=EP(e,"a","greaterEqual","string_or_numeric"),r=EP(t,"b","greaterEqual","string_or_numeric");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(cj,i)}});const jF=MP({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:EP(e,"x","leakyRelu")},r={alpha:t};return xP.runKernel(gj,n,r)}});const DF=MP({log_:function(e){const t={x:EP(e,"x","log","float32")};return xP.runKernel(xj,t)}});const RF=MP({log1p_:function(e){const t={x:EP(e,"x","log1p")};return xP.runKernel(wj,t)}});const PF=MP({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:EP(e,"x","max")},i={reductionIndices:t,keepDims:n};return xP.runKernel(Tj,r,i)}});const OF=MP({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=EP(e,"x","sum");"bool"===r.dtype&&(r=TO(r,"int32"));const i={x:r},a={axis:t,keepDims:n};return xP.runKernel(TD,i,a)}});const LF=MP({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=EP(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const r=LO(((e,n)=>{const r=PF(e,t,!0),i=KO(e,r),a=KO(TO(i,"float32"),DF(OF(SF(i),t,!0)));n([a]);return{value:a,gradFunc:(e,n)=>{const[r]=n,i=SF(r);return KO(e,DO(OF(e,t,!0),i))}}}));return r(n)}});function FF(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function zF(e,t,n){const r=e.length+t.length,i=[];let a=0,o=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function BF(e,t){const n=[],r=e.length;for(let i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((t=>e[t]))]}function WF(e,t){return zF(e,t.map((e=>1)),t)}function VF(e,t,n){uN(FF(t,n),(()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")))}function UF(e,t){if(FF(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function HF(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function qF(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const GF=MP({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=EP(e,"x","logSumExp"),i=xN(t,r.shape),a=PF(r,i,!0),o=KO(r,a),s=SF(o),l=OF(s,i),c=DF(l),u=NO(QL(a,c.shape),c);if(n){const e=WF(u.shape,i);return QL(u,e)}return u}});const YF=MP({logicalAnd_:function(e,t){const n=EP(e,"a","logicalAnd","bool"),r=EP(t,"b","logicalAnd","bool");eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(_j,i)}});const XF=MP({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=EP(e,"a","matMul"),a=EP(t,"b","matMul");[i,a]=hP(i,a);const o={a:i,b:a},s={transposeA:n,transposeB:r};return xP.runKernel(pM,o,s)}});const KF=MP({maxPool_:function(e,t,n,r,i){const a=EP(e,"x","maxPool");let o=a,s=!1;3===a.rank&&(s=!0,o=QL(a,[1,a.shape[0],a.shape[1],a.shape[2]])),uN(4===o.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(o.rank,"."))),uN(XL(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),JL("maxPool",r,i);const l={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:i},u=xP.runKernel(Ej,l,c);return s?QL(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const ZF=MP({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const o=EP(e,"x","maxPool3d");let s=o,l=!1;4===o.rank&&(l=!0,s=QL(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),uN(5===s.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,"."))),uN("NDHWC"===a,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(a))),JL("maxPool3d",r,i);const c={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:i,dataFormat:a},d=xP.runKernel(Mj,c,u);return l?QL(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const JF=MP({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:EP(e,"x","mean")},i={axis:t,keepDims:n};return xP.runKernel(Rj,r,i)}});const QF=MP({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:EP(e,"x","min")},i={axis:t,keepDims:n};return xP.runKernel(Pj,r,i)}});const $F=MP({minimum_:function(e,t){let n=EP(e,"a","minimum"),r=EP(t,"b","minimum");[n,r]=hP(n,r),"bool"===n.dtype&&(n=TO(n,"int32"),r=TO(r,"int32")),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(Oj,i)}});const ez=MP({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=xN(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=EP(e,"x","moments")).shape),r=JF(e,n,t);let i=r.shape;t||(i=WF(r.shape,n));const a=PO(KO(TO(e,"float32"),QL(r,i)));return{mean:r,variance:JF(a,n,t)}}});const tz=MP({neg_:function(e){const t={x:EP(e,"x","neg")};return xP.runKernel(Wj,t)}});const nz=MP({notEqual_:function(e,t){let n=EP(e,"a","notEqual","string_or_numeric"),r=EP(t,"b","notEqual","string_or_numeric");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(Vj,i)}});const rz=MP({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const a={indices:EP(e,"indices","oneHot","int32")},o={dtype:i,depth:t,onValue:n,offValue:r};return xP.runKernel(Yj,a,o)}});function iz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(LN(e),"complex64"===t){const t=iz(e,"float32"),n=iz(e,"float32");return jP(t,n)}const n=PN(pN(e),t);return xP.makeTensor(n,e,t)}function az(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(LN(e),"complex64"===t){const t=az(e,"float32"),n=iz(e,"float32");return jP(t,n)}const n=RN(pN(e),t);return xP.makeTensor(n,e,t)}const oz=MP({onesLike_:function(e){const t={x:EP(e,"x","onesLike")};return xP.runKernel(Gj,t)}});const sz=MP({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=EP(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i={paddings:t,constantValue:n},a={x:r};return xP.runKernel(Kj,a,i)}});const lz=MP({prelu_:function(e,t){const n={x:EP(e,"x","prelu"),alpha:EP(t,"alpha","prelu")};return xP.runKernel(Jj,n)}});var cz=__webpack_require__(4334);class uz{constructor(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=i||Math.random();this.random=cz.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,i,a;do{r=2*this.random()-1,i=2*this.random()-1,a=r*r+i*i}while(a>=1||0===a);const o=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*o,t=this.mean+this.stdDev*i*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class dz{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=cz.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const hz=MP({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(LN(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));const a=new uz(t,n,r,!1,i),o=AO(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});const pz=MP({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0;LN(e);const a=AO(e,r),o=new dz(t,n,null,i);for(let s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}});function fz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const i={start:e,stop:t,step:n,dtype:r};return xP.runKernel(nD,{},i)}const mz=MP({relu_:function(e){const t={x:EP(e,"x","relu")};return xP.runKernel(aD,t)}});const gz=MP({reverse_:function(e,t){const n={x:EP(e,"x","reverse")},r={dims:t};return xP.runKernel(hD,n,r)}});const vz=MP({selu_:function(e){const t={x:EP(e,"x","selu")};return xP.runKernel(yD,t)}});const bz=MP({separableConv2d_:function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const s=EP(e,"x","separableConv2d"),l=EP(t,"depthwiseFilter","separableConv2d"),c=EP(n,"pointwiseFilter","separableConv2d");let u=s,d=!1;if(3===s.rank&&(d=!0,u=QL(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");uN(4===u.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),uN(4===l.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),uN(4===c.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),uN(1===c.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],"."))),uN(1===c.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")));const h=l.shape[2],p=l.shape[3];uN(c.shape[2]===h*p,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*p,", ")+"but got ".concat(c.shape[2],".")));const f=xF(u,l,r,i,o,a),m=hF(f,c,1,"valid",o);return d?QL(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const yz=MP({sigmoid_:function(e){const t={x:EP(e,"x","sigmoid","float32")};return xP.runKernel(SD,t)}});const xz=MP({slice_:function(e,t,n){const r=EP(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const i={x:r},a={begin:t,size:n};return xP.runKernel(xD,i,a)}});const wz=MP({slice1d_:function(e,t,n){const r=EP(e,"x","slice1d");return uN(1===r.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor"))),xz(r,[t],[n])}});const _z=MP({slice2d_:function(e,t,n){const r=EP(e,"x","slice2d");return uN(2===r.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor"))),xz(r,t,n)}});const kz=MP({slice3d_:function(e,t,n){const r=EP(e,"x","slice3d");return uN(3===r.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor"))),xz(r,t,n)}});const Sz=MP({slice4d_:function(e,t,n){const r=EP(e,"x","slice4d");return uN(4===r.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor"))),xz(r,t,n)}});const Cz=MP({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=EP(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const r={logits:n},i={dim:t};return xP.runKernel(ND,r,i)}});const Az=MP({softplus_:function(e){const t={x:EP(e,"x","softplus")};return xP.runKernel(CD,t)}});const Tz=MP({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:EP(e,"x","split")},i={numOrSizeSplits:t,axis:n};return xP.runKernel(ED,r,i)}});const Iz=MP({squeeze_:function(e,t){const n=EP(e,"x","squeeze","string_or_numeric");return QL(n,wN(n.shape,t).newShape)}});const Ez=MP({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=NP(e,"tensors","stack","string_or_numeric");uN(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&uN(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,i={axis:t};return xP.runKernel(Xj,r,i)}});const Nz=MP({tanh_:function(e){const t={x:EP(e,"x","tanh","float32")};return xP.runKernel(qD,t)}});function Mz(e,t){hN(e);const n=AP(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return DP(e,null,n,t)}function jz(e,t,n){if(hN(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=AP(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return DP(e,t,r,n)}const Dz=MP({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(LN(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const a=new uz(t,n,r,!0,i),o=AO(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});const Rz=MP({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=EP(e,"x","unstack","string_or_numeric");uN(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const r={value:n},i={axis:t};return xP.runKernel(JD,r,i)}});const Pz=MP({where_:function(e,t,n){const r=EP(t,"a","where"),i=EP(n,"b","where"),a=EP(e,"condition","where","bool"),o=eL(eL(a.shape,r.shape),i.shape),s={condition:aF(a,o),t:aF(r,o),e:aF(i,o)};return xP.runKernel(bD,s)}});const Oz=MP({imag_:function(e){const t={input:EP(e,"input","imag")};return xP.runKernel(hj,t)}});const Lz=MP({real_:function(e){const t={input:EP(e,"input","real")};return xP.runKernel(rD,t)}});const Fz=MP({transpose_:function(e,t,n){const r=EP(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),uN(r.rank===t.length,(()=>"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{uN(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)))})),r.rank<=1)return r.clone();const i={x:r},a={perm:t};return"complex64"===r.dtype?FP((()=>{let e=Lz(r),t=Oz(r);return e=xP.runKernel(KD,{x:e},a),t=xP.runKernel(KD,{x:t},a),n&&(t=tz(t)),jP(e,t)})):xP.runKernel(KD,i,a)}});const zz=MP({dropout_:function(e,t,n,r){const i=EP(e,"x","dropout");if(uN("float32"===i.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(i.dtype," tensor instead."))),uN(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof $R?i.clone():i;const a=function(e,t){if(null==t)return e.shape.slice();if(fN(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,s=jO(IF(NO(pz(a,0,1,"float32",r),o)),o);return DO(i,s)}});const Bz=MP({fft_:function(e){uN("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return xP.runKernel(ej,t)}});const Wz=MP({rfft_:function(e,t){uN("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const r=e.size/n;let i;if(null!=t&&t<n){const r=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,i=xz(e,r,a),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,i=sF([e,iz(r)],e.shape.length-1),n=t}else i=e;const a=OO(i),o=QL(jP(i,a),[r,n]),s=Bz(o),l=Math.floor(n/2)+1,c=Lz(s),u=Oz(s),d=Tz(c,[l,n-l],c.shape.length-1),h=Tz(u,[l,n-l],u.shape.length-1),p=i.shape.slice();return p[i.shape.length-1]=l,QL(jP(d[0],h[0]),p)}});const Vz=MP({ifft_:function(e){uN("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return xP.runKernel(dj,t)}});const Uz=MP({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const i=QL(e,[n,t]);r=Vz(i)}else{const i=[n,2*(t-1)],a=QL(Lz(e),[n,t]),o=QL(Oz(e),[n,t]),s=gz(xz(a,[0,1],[n,t-2]),1),l=DO(gz(xz(o,[0,1],[n,t-2]),1),FO(-1)),c=sF([a,s],1),u=sF([o,l],1),d=QL(jP(c,u),[i[0],i[1]]);r=Vz(d)}if(r=Lz(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=QL(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const Hz=MP({conv2DBackpropFilter_:function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=QL(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=QL(t,[1,t.shape[0],t.shape[1],t.shape[2]])),uN(4===s.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,"."))),uN(4===l.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,"."))),uN(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const c="NHWC"===a?s.shape[3]:s.shape[1],u="NHWC"===a?l.shape[3]:l.shape[1];uN(c===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],"."))),uN(u===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],")."))),JL("conv2dDerFilter",i,o);const d={x:s,dy:l},h={strides:r,pad:i,dataFormat:a,dimRoundingMode:o,filterShape:n};return xP.runKernel(CM,d,h)}});const qz=MP({relu6_:function(e){const t={x:EP(e,"x","relu6")};return xP.runKernel(dD,t)}});const Gz=MP({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:EP(e,"x","step")},r={alpha:t};return xP.runKernel(eR,n,r)}});function Yz(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return DO(e,Gz(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function Xz(e,t){let n=t;const r=$O(e.shape,t.shape);return r.length>0&&(n=OF(n,r)),QL(n,e.shape)}function Kz(e,t,n,r){if("linear"===t)return e;if("relu"===t)return mz(e);if("elu"===t)return wF(e);if("relu6"===t)return qz(e);if("prelu"===t)return lz(e,n);if("leakyrelu"===t)return jF(e,r);if("sigmoid"===t)return yz(e);throw new Error("Unknown fused activation ".concat(t,"."))}const Zz=(e,t)=>!(e>0)||"linear"===t;const Jz=MP({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:i,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:l,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(c=c||"linear",!1===Zz(xP.state.gradientDepth,c)){uN("NHWC"===a,(()=>"Error in fused conv2d: got dataFormat of ".concat(a," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=hF(t,n,r,i,a,o,s);return null!=l&&(e=NO(e,l)),Kz(e,c,u,d)}const h=EP(t,"x","conv2d","float32"),p=EP(n,"filter","conv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=QL(h,[1,h.shape[0],h.shape[1],h.shape[2]])),uN(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),uN(4===p.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(p.rank,"."))),JL("fused conv2d",i,s);const g="NHWC"===a?f.shape[3]:f.shape[1];uN(p.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(p.shape[2],"."))),uN(XL(r,o),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(o,"'")));const v=BL(f.shape,p.shape,r,o,i,s);let b,y;if(null!=l&&(b=EP(l,"bias","fused conv2d"),[b]=hP(b,h),"NHWC"===a?eL(v.outShape,b.shape):(uN(b.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(b.shape.length,"."))),uN(0===b.shape.length||b.shape[0]===v.outChannels||1===b.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(b.shape,") is not ")+"compatible with the number of output channels "+"(".concat(v.outChannels,")"))))),null!=u){const e=u.shape;if(uN(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)uN(1===e[0]||e[0]===v.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(v.outChannels,").")));else if(3===e.length)try{eL(e,v.outShape)}catch(die){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(v.outShape,").");throw Error(n)}y=EP(u,"prelu weights","fused conv2d")}const x=(e,t)=>{uN("NHWC"===a,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(a," but only NHWC is currently supported.")));const[n,s,l,u]=t,d=Yz(e,l,c);uN(YL(o),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")));const h=[fF(s.shape,d,n,r,i),Hz(s,d,n.shape,r,i)];if(null!=u){const e=Xz(u,d);h.push(e)}return h},w={x:f,filter:p,bias:b,preluActivationWeights:y},_={strides:r,pad:i,dataFormat:a,dilations:o,dimRoundingMode:s,activation:c,leakyreluAlpha:d};if(null==l){const e=LO(((e,t,n)=>{let r=xP.runKernel(iR,w,_);return n([t,e,r]),m&&(r=QL(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,p)}{const e=LO(((e,t,n,r)=>{let i=xP.runKernel(iR,w,_);return r([t,e,i,n]),m&&(i=QL(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:x}}));return e(f,p,b)}}});const Qz=MP({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=QL(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=QL(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:s,dy:l},u={strides:r,pad:i,dimRoundingMode:o,dilations:a,filterShape:n};return xP.runKernel(FM,c,u)}});const $z=MP({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=t,l=!1;3===t.rank&&(l=!0,s=QL(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:s,filter:n},u={strides:r,pad:i,dimRoundingMode:o,dilations:a,inputShape:e},d=xP.runKernel(zM,c,u);return l?QL(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const eB=MP({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:i=!1,bias:a,activation:o="linear",preluActivationWeights:s,leakyreluAlpha:l=.2}=e;if(!1===Zz(xP.state.gradientDepth,o)){let e=XF(t,n,r,i);return null!=a&&(e=NO(e,a)),Kz(e,o,s,l)}let c=EP(t,"a","fused matMul"),u=EP(n,"b","fused matMul");[c,u]=hP(c,u);const d=r?c.shape[c.rank-2]:c.shape[c.rank-1],h=i?u.shape[u.rank-1]:u.shape[u.rank-2],p=r?c.shape[c.rank-1]:c.shape[c.rank-2],f=i?u.shape[u.rank-2]:u.shape[u.rank-1],m=c.shape.slice(0,-2),g=u.shape.slice(0,-2),v=pN(m),b=pN(g);uN(d===h,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(c.shape," and ")+"".concat(u.shape," and transposeA=").concat(r)+" and transposeB=".concat(i," must match.")));const y=eL(c.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,f]),x=QL(c,r?[v,d,p]:[v,p,d]),w=QL(u,i?[b,f,h]:[b,h,f]);let _,k;null!=a&&(_=EP(a,"bias","fused matMul"),[_]=hP(_,c),eL(y,_.shape)),null!=s&&(k=EP(s,"prelu weights","fused matMul"));const S=(e,t)=>{const[n,s,l,c]=t,u=Yz(QL(e,l.shape),l,o);let d,h;if(r||i?!r&&i?(d=XF(u,s,!1,!1),h=XF(u,n,!0,!1)):r&&!i?(d=XF(s,u,!1,!0),h=XF(n,u,!1,!1)):(d=XF(s,u,!0,!0),h=XF(u,n,!0,!0)):(d=XF(u,s,!1,!0),h=XF(n,u,!0,!1)),null!=a){return[d,h,Xz(c,u)]}return[d,h]},C={a:x,b:w,bias:_,preluActivationWeights:k},A={transposeA:r,transposeB:i,activation:o,leakyreluAlpha:l};if(null==a){const e=LO(((e,t,n)=>{const r=xP.runKernel(rR,C,A);return n([e,t,r]),{value:QL(r,y),gradFunc:S}}));return e(x,w)}{const e=LO(((e,t,n,r)=>{const i=xP.runKernel(rR,C,A);return r([e,t,i,n]),{value:QL(i,y),gradFunc:S}}));return e(x,w,_)}}});const tB=MP({cropAndResize_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=EP(e,"image","cropAndResize"),s=EP(t,"boxes","cropAndResize","float32"),l=EP(n,"boxInd","cropAndResize","int32"),c=s.shape[0];uN(4===o.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,"."))),uN(2===s.rank&&4===s.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,"."))),uN(1===l.rank&&l.shape[0]===c,(()=>"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,"."))),uN(2===r.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,"."))),uN(r[0]>=1&&r[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(r))),uN("bilinear"===i||"nearest"===i,(()=>"method must be bilinear or nearest, but was ".concat(i)));const u={image:o,boxes:s,boxInd:l},d={method:i,extrapolationValue:a,cropSize:r};return xP.runKernel(RM,u,d)}});const nB=MP({flipLeftRight_:function(e){const t=EP(e,"image","flipLeftRight","float32");uN(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return xP.runKernel(nj,n,{})}});const rB=MP({grayscaleToRGB_:function(e){const t=EP(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];uN(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),uN(1===r,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")));const i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,AF(t,i)}});const iB=MP({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(((e,t)=>EP(e,"tensors".concat(t),"einsum"))),a={equation:e};return xP.runKernel(GM,i,a)}});const aB=MP({rgbToGrayscale_:function(e){const t=EP(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];uN(t.rank>=2,(()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),uN(3===r,(()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(r,".")));const i=t.dtype,a=TO(t,"float32"),o=Mz([.2989,.587,.114]);let s;switch(t.rank){case 2:s=iB("ij,j->i",a,o);break;case 3:s=iB("ijk,k->ij",a,o);break;case 4:s=iB("ijkl,l->ijk",a,o);break;case 5:s=iB("ijklm,m->ijkl",a,o);break;case 6:s=iB("ijklmn,n->ijklm",a,o);break;default:throw new Error("Not a valid tensor rank.")}return s=CF(s,-1),TO(s,i)}});const oB=MP({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const i=EP(e,"image","rotateWithOffset","float32");uN(4===i.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(i.rank,".")));const a={image:i},o={radians:t,fillValue:n,center:r};return xP.runKernel(nR,a,o)}});function sB(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);const o=e.shape[0];return n=Math.min(n,o),uN(0<=r&&r<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(r,"'"))),uN(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),uN(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),uN(1===t.rank,(()=>"scores must be a 1D tensor")),uN(t.shape[0]===o,(()=>"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0]))),uN(0<=a&&a<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(a,"'"))),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}const lB=MP({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const a=EP(e,"boxes","nonMaxSuppression","float32"),o=EP(t,"scores","nonMaxSuppression","float32"),s=sB(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return xP.runKernel(Uj,{boxes:a,scores:o},l)}});function cB(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,i=e.length,a=0,o=!1;for(;r<i;){a=r+(i-r>>>1);const s=n(t,e[a]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||uB)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function uB(e,t){return e>t?1:e<t?-1:0}function dB(e,t,n,r,i){return fB(e,t,n,r,i,0)}function hB(e,t,n,r,i,a){return fB(e,t,n,r,i,0,!1,a,!0)}function pB(e,t,n,r,i,a){return fB(e,t,n,r,i,a,!0)}function fB(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const c=[];for(let g=0;g<t.length;g++)t[g]>i&&c.push({score:t[g],boxIndex:g,suppressBeginIndex:0});c.sort(vB);const u=a>0?-.5/a:0,d=[],h=[];for(;d.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:a,suppressBeginIndex:o}=t;if(n<i)break;let s=!1;for(let l=d.length-1;l>=o;--l){const n=mB(e,a,d[l]);if(n>=r){s=!0;break}if(t.score=t.score*gB(r,u,n),t.score<=i)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(a),h.push(t.score)):t.score>i&&cB(c,t,vB))}const p=d.length,f=n-p;s&&f>0&&(d.push(...new Array(f).fill(0)),h.push(...new Array(f).fill(0)));const m={selectedIndices:d};return o&&(m.selectedScores=h),l&&(m.validOutputs=p),m}function mB(e,t,n){const r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),p=(s-a)*(l-o),f=(d-c)*(h-u);if(p<=0||f<=0)return 0;const m=Math.max(a,c),g=Math.max(o,u),v=Math.min(s,d),b=Math.min(l,h),y=Math.max(v-m,0)*Math.max(b-g,0);return y/(p+f-y)}function gB(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function vB(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const bB=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const a=EP(e,"boxes","nonMaxSuppressionAsync"),o=EP(t,"scores","nonMaxSuppressionAsync"),s=sB(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const l=await Promise.all([a.data(),o.data()]),c=l[0],u=l[1],{selectedIndices:d}=dB(c,u,n,r,i);return a!==e&&a.dispose(),o!==t&&o.dispose(),Mz(d,"int32")};const yB=MP({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=EP(e,"boxes","nonMaxSuppression"),s=EP(t,"scores","nonMaxSuppression"),l=sB(o,s,n,r,i,a);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,a=l.softNmsSigma;const c={boxes:o,scores:s},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a},d=xP.runKernel(qj,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const xB=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=EP(e,"boxes","nonMaxSuppressionAsync"),s=EP(t,"scores","nonMaxSuppressionAsync"),l=sB(o,s,n,r,i,a);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,a=l.softNmsSigma;const c=await Promise.all([o.data(),s.data()]),u=c[0],d=c[1],{selectedIndices:h,selectedScores:p}=pB(u,d,n,r,i,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:Mz(h,"int32"),selectedScores:Mz(p)}};const wB=MP({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=EP(e,"boxes","nonMaxSuppression"),s=EP(t,"scores","nonMaxSuppression"),l=sB(o,s,n,r,i,null),c={boxes:o,scores:s},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},d=xP.runKernel(Hj,c,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const _B=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=EP(e,"boxes","nonMaxSuppressionAsync"),s=EP(t,"scores","nonMaxSuppressionAsync"),l=sB(o,s,n,r,i,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[h,p]=await Promise.all([o.data(),s.data()]),{selectedIndices:f,validOutputs:m}=hB(h,p,c,u,d,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:Mz(f,"int32"),validOutputs:FO(m,"int32")}};const kB=MP({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=EP(e,"images","resizeBilinear");uN(3===i.rank||4===i.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,"."))),uN(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),uN(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=i,o=!1;3===i.rank&&(o=!0,a=QL(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},c=xP.runKernel(cD,s,l);return o?QL(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const SB=MP({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=EP(e,"images","resizeNearestNeighbor");uN(3===i.rank||4===i.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,"."))),uN(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),uN("float32"===i.dtype||"int32"===i.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),uN(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=i,o=!1;3===i.rank&&(o=!0,a=QL(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},c=xP.runKernel(sD,s,l);return o?QL(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const CB=MP({bincount_:function(e,t,n){const r=EP(e,"x","bincount"),i=EP(t,"weights","bincount");uN("int32"===r.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype))),uN(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),uN(i.size===r.size||0===i.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(i.shape,".")));const a={x:r,weights:i},o={size:n};return xP.runKernel(mM,a,o)}});const AB=MP({lessEqual_:function(e,t){let n=EP(e,"a","lessEqual","string_or_numeric"),r=EP(t,"b","lessEqual","string_or_numeric");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(bj,i)}});const TB=MP({round_:function(e){const t={x:EP(e,"x","round")};return xP.runKernel(pD,t)}});const IB=MP({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const i=EP(e,"image","threshold"),a=i.shape[0]*i.shape[1];let o,s,l,c,u=DO(Mz([r]),255);if(uN(3===i.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(i.rank,"."))),uN(3===i.shape[2]||1===i.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(i.shape[2],"."))),uN("int32"===i.dtype||"float32"===i.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(i.dtype,"."))),uN("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===i.shape[2]){[o,s,l]=Tz(i,[1,1,1],-1);const e=DO(o,.2989),t=DO(s,.587),n=DO(l,.114);c=NO(NO(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,r,i,a,o,s,l=Mz([-1]),c=Mz([0]),u=Mz([0]);for(let d=0;d<e.size-1;d++){n=xz(e,0,d+1),r=xz(e,d+1),o=jO(OF(n),t),s=jO(OF(r),t);const h=OF(DO(n,fz(0,n.size)));i=jO(h,OF(n));const p=GO(r.shape,n.size),f=NO(fz(0,r.size),p),m=DO(r,f);a=jO(OF(m),OF(r));const g=KO(i,a),v=KO(i,a),b=DO(o,s);u=DO(DO(b,g),v);const y=NF(u,c);c=Pz(y,u,c),l=Pz(y,Mz([d]),l)}return l}(CB(TO(TB(c),"int32"),RP([]),256),a)}const d=n?AB(c,u):NF(c,u);return TO(DO(d,255),"int32")}});const EB=MP({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0;const o=EP(e,"image","transform","float32"),s=EP(t,"transforms","transform","float32");uN(4===o.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,"."))),uN(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),uN(null==a||2===a.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(a,".")));const l={image:o,transforms:s},c={interpolation:n,fillMode:r,fillValue:i,outputShape:a};return xP.runKernel(XD,l,c)}});const NB=MP({less_:function(e,t){let n=EP(e,"a","less","string_or_numeric"),r=EP(t,"b","less","string_or_numeric");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(vj,i)}});const MB=MP({bandPart_:function(e,t,n){const r=EP(e,"a","bandPart");uN(r.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")));const i=r.shape,[a,o]=r.shape.slice(-2);let s,l;"number"===typeof t?(uN(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),uN(t<=a,(()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(a,")."))),s=EP(t<0?a:t,"numLower","bandPart")):(uN("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=Pz(NB(t,0),a,$F(t,a))),"number"===typeof n?(uN(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,"."))),uN(n<=o,(()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(o,")."))),l=EP(n<0?o:n,"numUpper","bandPart")):(uN("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=Pz(NB(n,0),o,$F(n,o)));const c=QL(fz(0,a,1,"int32"),[-1,1]),u=fz(0,o,1,"int32"),d=KO(c,u),h=YF(AB(d,s),MF(d,tz(l))),p=iz([a,o],r.dtype);return QL(Ez(Rz(QL(r,[-1,a,o])).map((e=>Pz(h,e,p)))),i)}});function jB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return JO(e);if(1!==e.rank&&null===n)return jB(QL(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return OF(JO(e),n);if(t===1/0)return PF(JO(e),n);if(t===-1/0)return QF(JO(e),n);if("euclidean"===t||2===t)return RO(OF(XO(JO(e),FO(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return PF(OF(JO(e),n[0]),n[1]-1);if(t===1/0)return PF(OF(JO(e),n[1]),n[0]);if(t===-1/0)return QF(OF(JO(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return RO(OF(PO(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const DB=MP({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=jB(e=EP(e,"x","norm"),t,n);let a=i.shape;if(r){const t=xN(n,e.shape);a=WF(i.shape,t)}return QL(i,a)}});const RB=MP({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,uN(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)uN(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=Tz(e,e.shape[0],0).map((e=>Iz(e,[0])));uN(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],r=e;for(let i=0;i<e.length;++i)n.push(xP.tidy((()=>{let e=r[i];if(i>0)for(let t=0;t<i;++t){const r=DO(OF(DO(n[t],e)),n[t]);e=KO(e,r)}return jO(e,DB(e,"euclidean"))})));return t?Ez(n,0):n}});function PB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return xP.tidy((()=>{uN(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],r=e.shape[1];let i=TF(n),a=IO(e);const o=jz([[1]],[1,1]);let s=IO(o);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=a,l=s,c=i;[s,a,i]=xP.tidy((()=>{const t=xz(a,[e,e],[n-e,1]),l=DB(t),c=xz(a,[e,e],[1,1]),u=Pz(NF(c,0),jz([[-1]]),jz([[1]])),d=KO(c,DO(u,l)),h=jO(t,d);s=1===h.shape[0]?IO(o):sF([o,xz(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);const p=tz(jO(XF(u,d),l)),f=xz(a,[e,0],[n-e,r]),m=DO(p,s),g=Fz(s);if(0===e)a=KO(f,XF(m,XF(g,f)));else{const t=KO(f,XF(m,XF(g,f)));a=sF([xz(a,[0,0],[e,r]),t],0)}const v=Fz(m),b=xz(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=KO(b,XF(XF(b,s),v));else{const t=KO(b,XF(XF(b,s),v));i=sF([xz(i,[0,0],[n,e]),t],1)}return[s,a,i]})),zP([t,l,c])}return!t&&n>r&&(i=xz(i,[0,0],[n,r]),a=xz(a,[0,0],[r,r])),[i,a]}))}const OB=MP({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(uN(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return PB(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Rz(QL(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];r.forEach((e=>{const[n,r]=PB(e,t);i.push(n),a.push(r)}));return[QL(Ez(i,0),e.shape),QL(Ez(a,0),e.shape)]}}});var LB;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(LB||(LB={}));const FB=MP({squaredDifference_:function(e,t){let n=EP(e,"a","squaredDifference"),r=EP(t,"b","squaredDifference");[n,r]=hP(n,r),eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(OD,i,{})}});const zB={flipLeftRight:nB,grayscaleToRGB:rB,resizeNearestNeighbor:SB,resizeBilinear:kB,rgbToGrayscale:aB,rotateWithOffset:oB,cropAndResize:tB,nonMaxSuppression:lB,nonMaxSuppressionAsync:bB,nonMaxSuppressionWithScore:yB,nonMaxSuppressionWithScoreAsync:xB,nonMaxSuppressionPadded:wB,nonMaxSuppressionPaddedAsync:_B,threshold:IB,transform:EB},BB={bandPart:MB,gramSchmidt:RB,qr:OB};const WB=class{static sgd(e){return new rL(e)}static momentum(e,t){return new iL(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new aL(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new ZO(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new qO(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new nL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new YO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}},VB="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function UB(){return new Promise((e=>VB((()=>e()))))}function HB(e,t){const n=e[0].length;e.forEach(((e,t)=>{uN(e.length===n,(()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")))})),uN(t>=0&&t<n,(()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")));const r=e[0];e.forEach(((e,i)=>{for(let a=0;a<n;a++)uN(a===t||e[a]===r[a],(()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(i,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(i,".")))}))}function qB(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var GB;function YB(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(let i=1;i<n.length;++i){const a=n[i],o=r[r.length-n.length+i],s=r[o];if(a>=0)if(s>=0){if(s!==a)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(i+e,"] = ").concat(a," but shape[").concat(i+e,"] = ").concat(s))}else r[o]=a}return r}function XB(e){const t={FIRST_DIM_SIZE:GB.FIRST_DIM_SIZE,VALUE_ROWIDS:GB.VALUE_ROWIDS,ROW_LENGTHS:GB.ROW_LENGTHS,ROW_SPLITS:GB.ROW_SPLITS,ROW_LIMITS:GB.ROW_LIMITS,ROW_STARTS:GB.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function KB(e){return 0===e.length?0:e[0]===GB.FIRST_DIM_SIZE?e.length-1:e.length}function ZB(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(let i=0;i<Math.min(n,r-1);++i){const n=e[i],r=t[i+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(i-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(i-e.length,"] = ").concat(r))}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(GB||(GB={}));const JB=30;function QB(e){return e<=JB?e:NN(e,Math.floor(Math.sqrt(e)))}function $B(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function eW(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let i=0;i<n;++i)r=r.concat([e[i+1]/t[i],t[i]]);r=r.concat(e.slice(n+1))}return r}function tW(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],i=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?i.push(n):r.push(n);n.push(...r),n.push(0),n.push(...i)}return n}function nW(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(let a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function rW(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function iW(e,t,n){const r=e.slice(0,1);for(let i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}function aW(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===pN(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const i=t.shape,a=i[i.length-1];let o=1;for(let d=0;d<i.length-1;++d)o*=i[d];const s=e.shape,l=i.slice();l.pop();let c=1;for(let d=a;d<n;++d)c*=s[d],l.push(s[d]);const u=[...MN(e.shape).map((e=>e/c)),1].slice(0,a);return[l,o,c,u]}function oW(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(i,".");if(n.rank<i)throw new Error(a+" update.rank < ".concat(i,". "));if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < ".concat(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != ".concat(i+e.length-r));for(let o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(let o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+" updates.shape[".concat(o+i,"] (").concat(n.shape[o+i],") != shape[").concat(o+i,"] (").concat(e[o+i],")"))}function sW(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}oW(n,t,e)}function lW(e,t,n){const r=t.shape.length,i=r>1?t.shape[r-1]:1,a=n.length;let o=1;for(let l=i;l<a;++l)o*=n[l];const s=i<1?1:i;return{sliceRank:i,numUpdates:pN(t.shape)/s,sliceSize:o,strides:[...MN(n.slice(0,i)),1],outputSize:pN(n)}}const cW=1.7580993408473768,uW=1.0507009873554805,dW=.3275911,hW=.254829592,pW=-.284496736,fW=1.421413741,mW=-1.453152027,gW=1.061405429;function vW(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function bW(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function yW(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function xW(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function wW(e,t){return{real:e[2*t],imag:e[2*t+1]}}function _W(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function kW(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let i=0;i<Math.ceil(e/2);i++){const a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}function SW(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const CW="->",AW=/->/g,TW=",",IW="...";function EW(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(AW,"").length)/CW.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(CW,'").'));const[r,i]=e.split(CW);uN(-1===r.indexOf(IW),(()=>'The ellipsis notation ("'.concat(IW,'") is not supported yet.')));const a=r.split(TW),o=a.length;if(t!==o)throw new Error("Expected ".concat(o," input tensors, received ").concat(t));if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<i.length;++d){const e=i[d];if(!a.some((t=>-1!==t.indexOf(e))))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&e!==TW&&s.push(e)}const l=new Array(a.length);for(let d=0;d<o;++d){if(new Set(a[d].split("")).size!==a[d].length)throw new Error("Found duplicate axes in input component ".concat(a[d],". ")+"Support for duplicate axes in input is not implemented yet.");l[d]=[];for(let e=0;e<a[d].length;++e)l[d].push(s.indexOf(a[d][e]))}const c=s.length,u=[];for(let d=i.length;d<c;++d)u.push(d);return{allDims:s,summedDims:u,idDims:l}}function NW(e,t){let n=new Array(e);n.fill(-1);for(let i=0;i<t.length;++i)n[t[i]]=i;const r=[];for(let i=0;i<e;++i)-1===n[i]&&r.push(i);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function MW(e,t,n){const r=new Array(e);for(let i=0;i<n.length;++i){const e=n[i].shape;for(let n=0;n<t[i].length;++n)void 0===r[t[i][n]]?r[t[i][n]]=e[n]:uN(r[t[i][n]]===e[n],(()=>"Expected dimension ".concat(r[t[i][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n])))}}function jW(e,t){const n=e,r=[];let i=0;0===e.length&&n.push(-1),i=e.length+1;for(let o=0;o<i;++o)r.push([]);const a=[];for(let o=0;o<n.length;++o){const e=RW(t,n[o]);for(const t of e)-1===a.indexOf(t)&&(r[o].push(t),a.push(t))}return{path:n,steps:r}}function DW(e){return e.every(((e,t)=>e===t))}function RW(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function PW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)uN(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const i=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);uN(i<=1,(()=>"There should be only one negative value in split array."));const a=t.indexOf(-1);if(-1!==a){const r=t.reduce(((e,t)=>t>0?e+t:e));t[a]=e.shape[n]-r}uN(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function OW(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function LW(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function FW(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function zW(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function BW(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function WW(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function VW(e,t){const n=pN(e),r=pN(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function UW(e,t){const n=pN(e),r=pN(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function HW(){return"segment ids must be >= 0"}function qW(){return"segment ids are not increasing"}function GW(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function YW(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function XW(e,t){let n,r=!1;for(e<=JB?(n=e,r=!0):n=NN(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=NN(e,n+1);return n}function KW(e,t,n){const r=[],i=e.length;for(let a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}function ZW(e,t,n,r){const i=t.shape.length,a=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error("Expect batchDims in the range of [-".concat(i,", ").concat(i,"], but got ").concat(r));if(r<0&&(r+=i),r>a)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(a,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const o=e.shape[n],s=[];let l=1,c=1,u=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),c*=e.shape[d];for(let d=r;d<i;d++)s.push(t.shape[d]);for(let d=n+1;d<a;d++)s.push(e.shape[d]),u*=e.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:o,outputShape:s}}function JW(e){try{return e.map((e=>PR(e)))}catch(hie){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(hie))}}function QW(e){return e.map((e=>RR(e)))}function $W(e,t){const n=[];for(let a=0;a<t.length;a++)t[a]&&n.push(a);const r=AO(e,"int32"),i=AO([n.length,e.length],"int32");for(let a=0;a<n.length;a++){const t=r.indexToLoc(n[a]),o=a*e.length;i.values.set(t,o)}return i.toTensor()}!function(){for(const e of oL)UO(e)}();const eV={kernelName:KN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,Gz(TO(n,"float32"),-1))}}},tV={kernelName:ZN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=PO(TO(n,"float32")),r=RO(KO(FO(1),t));return tz(jO(e,r))}}}},nV={kernelName:JN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=RO(KO(PO(TO(n,"float32")),1));return jO(e,t)}}}},rV={kernelName:QN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{let t=e;const r=$O(n.shape,i);return r.length>0&&(t=OF(t,r)),QL(t,n.shape)},b:()=>{let t=e;const n=$O(r.shape,i);return n.length>0&&(t=OF(t,n)),QL(t,r.shape)}}}},iV={kernelName:$N,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},aV={kernelName:nM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>OO(n)}}},oV={kernelName:rM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>OO(n)}}},sV={kernelName:iM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,RO(KO(FO(1),PO(TO(n,"float32")))))}}},lV={kernelName:aM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=RO(NO(FO(1),PO(TO(n,"float32"))));return jO(e,t)}}}},cV={kernelName:lM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{const t=NO(PO(n),PO(r));let a=DO(e,jO(r,t));const o=$O(n.shape,i);return o.length>0&&(a=OF(a,o)),QL(a,n.shape)},b:()=>{const t=NO(PO(n),PO(r));let a=tz(DO(e,jO(n,t)));const o=$O(r.shape,i);return o.length>0&&(a=OF(a,o)),QL(a,r.shape)}}}},uV={kernelName:oM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,NO(PO(TO(n,"float32")),1))}}},dV={kernelName:sM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,KO(FO(1),PO(TO(n,"float32"))))}}};const hV=MP({avgPool3dGrad_:function(e,t,n,r,i,a){const o=EP(e,"dy","avgPool3dGrad"),s=EP(t,"input","avgPool3dGrad");let l=o,c=s,u=!1;4===s.rank&&(u=!0,l=QL(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),c=QL(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),uN(5===l.rank,(()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,"."))),uN(5===c.rank,(()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(c.rank,"."))),JL("avgPool3dGrad",i,a);const d={dy:l,input:c},h={filterSize:n,strides:r,pad:i,dimRoundingMode:a},p=xP.runKernel(hM,d,h);return u?QL(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),pV={kernelName:dM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:i,strides:a,pad:o,dimRoundingMode:s}=n;return{x:()=>hV(e,r,i,a,o,s)}}};const fV=MP({avgPoolGrad_:function(e,t,n,r,i){const a=EP(e,"dy","avgPoolGrad"),o=EP(t,"input","avgPoolGrad");uN(o.rank===a.rank,(()=>"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(a.rank,")")));let s=o,l=a,c=!1;3===o.rank&&(c=!0,s=QL(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=QL(a,[1,a.shape[0],a.shape[1],a.shape[2]])),uN(4===l.rank,(()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(l.rank,"."))),uN(4===s.rank,(()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(s.rank,".")));const u={dy:l,input:s},d={filterSize:n,strides:r,pad:i},h=xP.runKernel(uM,u,d);return c?QL(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),mV={kernelName:cM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:i,strides:a,pad:o}=n;return{x:()=>fV(e,r,i,a,o)}}},gV={kernelName:pM,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,i]=t,{transposeA:a,transposeB:o}=n;return a||o?!a&&o?{a:()=>XF(e,i,!1,!1),b:()=>XF(e,r,!0,!1)}:a&&!o?{a:()=>XF(i,e,!1,!0),b:()=>XF(r,e,!1,!1)}:{a:()=>XF(i,e,!0,!0),b:()=>XF(e,r,!0,!0)}:{a:()=>XF(e,i,!1,!0),b:()=>XF(r,e,!0,!1)}}};const vV=MP({spaceToBatchND_:function(e,t,n){const r=EP(e,"x","spaceToBatchND");uN(r.rank>=1+t.length,(()=>"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length))),uN(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),uN(r.shape.reduce(((e,r,i)=>i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e),!0),(()=>"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const i={x:r},a={blockShape:t,paddings:n};return xP.runKernel(ID,i,a)}}),bV={kernelName:fM,gradFunc:(e,t,n)=>{const{blockShape:r,crops:i}=n;return{x:()=>vV(e,r,i)}}},yV={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,i=r.inputShape,a=r.shape,o=Array.from(a);for(let l=i.length-1;l>=0;l--)if(i[l]===a[l])o[l]=1;else if(1!==i[l])throw new Error("broadcastTo(): [".concat(i,"] cannot be broadcast to [").concat(a,"]."));const s=[];for(let l=0;l<o.length;l++)o[l]>1&&s.push(l);return{x:()=>OF(e,s,!0)}}},xV={kernelName:bM,gradFunc:e=>({x:()=>e.clone()})},wV={kernelName:yM,gradFunc:e=>({x:()=>OO(e)})},_V={kernelName:xM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:i,clipValueMax:a}=n;return{x:()=>Pz(YF(MF(r,i),AB(r,a)),e,OO(e))}}},kV={kernelName:_M,inputsToSave:["x"],gradFunc:eV.gradFunc},SV={kernelName:kM,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:i}=n,a=xN(i,t[0].shape)[0],o=r.map((e=>e[a]));return Tz(e,o,a).map((e=>()=>e))}},CV={kernelName:SM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,i]=t,{dilations:a,strides:o,pad:s,dataFormat:l}=n;return uN(YL(a),(()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(a,"'"))),{x:()=>fF(r.shape,e,i,o,s,l),filter:()=>Hz(r,e,i.shape,o,s,l)}}},AV={kernelName:AM,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,i]=t,{strides:a,pad:o,dataFormat:s,dimRoundingMode:l}=n;return{dy:()=>hF(e,i,a,o,s,1,l),filter:()=>Hz(e,r,i.shape,a,o,s,l)}}};const TV=MP({conv3DBackpropFilter_:function(e,t,n,r,i){let a=e;4===e.rank&&(a=QL(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let o=t;4===o.rank&&(o=QL(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),uN(5===a.rank,(()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(a.shape,"."))),uN(5===o.rank,(()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,"."))),uN(5===n.length,(()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,"."))),uN(a.shape[4]===n[3],(()=>"Error in conv3dDerFilter: depth of input ".concat(a.shape[4],") must ")+"match input depth in filter (".concat(n[3],"."))),uN(o.shape[4]===n[4],(()=>"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")));const s={x:a,dy:o},l={strides:r,pad:i,filterShape:n};return xP.runKernel(IM,s,l)}}),IV={kernelName:TM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:i,pad:a}=n;uN(YL(r),(()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")));const[o,s]=t;return{x:()=>vF(o.shape,e,s,i,a),filter:()=>TV(o,e,s.shape,i,a)}}};const EV=MP({sin_:function(e){const t={x:EP(e,"x","sin","float32")};return xP.runKernel(wD,t)}}),NV={kernelName:NM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(tz(EV(TO(n,"float32"))),e)}}};const MV=MP({sinh_:function(e){const t={x:EP(e,"x","sinh")};return xP.runKernel(_D,t)}}),jV={kernelName:MM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(MV(TO(n,"float32")),e)}}};const DV=MP({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i={x:EP(e,"x","cumsum")},a={axis:t,exclusive:n,reverse:r};return xP.runKernel(DM,i,a)}}),RV={kernelName:DM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:i,exclusive:a,reverse:o}=n;return{x:()=>{const t=UF([i],r.rank);let n=DV(e,i,a,!o);return null!=t&&(n=Fz(n,t)),n}}}},PV={kernelName:LM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:i,pad:a,dimRoundingMode:o}=n,s=null==r?[1,1]:r;uN(YL(s),(()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")));const[l,c]=t;return uN(4===l.rank,(()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,"."))),uN(4===c.rank,(()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,"."))),uN(l.shape[3]===c.shape[2],(()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],"."))),uN(XL(i,s),(()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(i," and dilations ")+"'".concat(s,"'."))),JL("depthwiseConv2d",a,o),{x:()=>$z(l.shape,e,c,i,a,s,o),filter:()=>Qz(l,e,c.shape,i,a,s,o)}}},OV={kernelName:WM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,i]=t,a={x:r,filter:i,dy:e},o={x:r,filter:i,dy:e};return{x:()=>xP.runKernel(VM,a,n),filter:()=>xP.runKernel(UM,o,n)}}},LV={kernelName:YM,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>xP.runKernel(XM,r)}}},FV={kernelName:KM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=DO(SF(tz(PO(n))),2/Math.sqrt(Math.PI));return{x:()=>DO(e,r)}}},zV={kernelName:JM,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,n)}}},BV={kernelName:QM,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>QL(e,n.shape)}}},WV={kernelName:$M,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,SF(n))}}},VV={kernelName:rj,gradFunc:e=>({x:()=>OO(e)})},UV={kernelName:ij,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{const t=jO(e,TO(r,"float32")),a=$O(n.shape,i);return a.length>0?QL(OF(t,a),n.shape):t},b:()=>{let t=DO(e,TO(n,"float32"));const a=$O(r.shape,i);a.length>0&&(t=QL(OF(t,a),r.shape));const o=PO(r);return tz(jO(t,TO(o,"float32")))}}}};const HV=MP({rsqrt_:function(e){const t={x:EP(e,"x","rsqrt","float32")};return xP.runKernel(fD,t)}}),qV={kernelName:aj,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[i,a,o,s]=t,l=null==s?FO(1):s,c=$O(a.shape,i.shape),u=[];if(1===a.rank){for(let e=0;e<i.shape.length-1;++e)u.push(i.shape[e]);u.push(1)}const d=KO(i,a),h=DO(e,l),p=HV(NO(o,FO(r))),f=DO(DO(DO(p,p),p),FO(-.5));return{x:()=>1===a.rank?QL(DO(DO(e,AF(QL(p,[1,1,1,a.shape[0]]),u)),l),i.shape):QL(DO(DO(e,p),l),i.shape),mean:()=>{let e=DO(DO(p,FO(-1)),h);return 1===a.rank&&(e=OF(e,c)),QL(e,a.shape)},variance:()=>{let e=DO(DO(f,d),h);return 1===a.rank&&(e=OF(e,c)),QL(e,a.shape)},scale:()=>{const t=DO(d,p);let n=DO(e,t);return 1===a.rank&&(n=OF(n,c)),QL(n,a.shape)},offset:()=>{let t=e;return 1===a.rank&&(t=OF(t,c)),QL(t,a.shape)}}}};const GV=MP({unsortedSegmentSum_:function(e,t,n){const r=EP(e,"x","unsortedSegmentSum"),i=EP(t,"segmentIds","unsortedSegmentSum","int32");uN(mN(n),(()=>"numSegments must be of dtype int"));const a={x:r,segmentIds:i},o={numSegments:n};return xP.runKernel(QD,a,o)}}),YV={kernelName:oj,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,i]=t,{axis:a,batchDims:o}=n,s=xN(a,r.shape)[0],l=(e,t,n)=>()=>{const r=e.shape,i=t.size,o=r.slice(0,s),l=o.length,c=r.slice(a,r.length).slice(1),u=c.length,d=XV(0,l),h=XV(l+1,l+1+u),p=KV([o,[i],c]),f=QL(n,p),m=QL(t,[i]),g=KV([[l],d,h]),v=Fz(f,g);let b=GV(v,m,e.shape[s]);const y=HF(g);return b=Fz(b,y),b};if(1===o){const t=r.shape[0],n=r.split(t,0),a=()=>{const t=Ez(n.map(((t,n)=>l(t,i.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)};return{x:a,indices:()=>i}}return{x:l(r,i,e),indices:()=>i}}};function XV(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function KV(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const ZV={kernelName:cj,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>OO(n),b:()=>OO(r)}}},JV={kernelName:uj,gradFunc:e=>({x:()=>TO(e,"float32")})},QV={kernelName:pj,gradFunc:e=>({x:()=>OO(e)})},$V={kernelName:fj,gradFunc:e=>({x:()=>OO(e)})},eU={kernelName:mj,gradFunc:e=>({x:()=>OO(e)})},tU={kernelName:gj,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:i}=n,a=NF(r,0);return{x:()=>Pz(a,e,DO(e,i))}}},nU={kernelName:wj,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,NO(n,1))}}},rU={kernelName:xj,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,TO(n,"float32"))}}},iU={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:i}=n;return{logits:()=>{const t=SF(r);return KO(e,DO(OF(e,i,!0),t))}}}};const aU=MP({localResponseNormalizationBackprop_:function(e,t,n){const r={x:e,y:t,dy:n},i={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return xP.runKernel(Aj,r,i)}}),oU={kernelName:Cj,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,i]=t,{depthRadius:a,bias:o,alpha:s,beta:l}=n;return{x:()=>aU(r,i,e,a,o,s,l)}}};function sU(e,t,n,r){return t.rank<n.rank&&(t=QL(t,WF(t.shape,r))),e.rank<n.rank&&(e=QL(e,WF(e.shape,r))),{x:()=>DO(e,TO(_F(n,t),e.dtype))}}const lU={kernelName:Tj,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:i}=r,a=t[0],o=sU(e,t[1],a,xN(i,a.shape));return{x:()=>o.x()}}},cU={kernelName:Ij,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>DO(e,TO(MF(n,r),"float32")),b:()=>DO(e,TO(NB(n,r),"float32"))}}};const uU=MP({maxPool3dGrad_:function(e,t,n,r,i,a,o){const s=EP(e,"dy","maxPool3dGrad"),l=EP(t,"input","maxPool3dGrad"),c=EP(n,"output","maxPool3dGrad");let u=s,d=l,h=c,p=!1;4===l.rank&&(p=!0,u=QL(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=QL(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=QL(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),uN(5===u.rank,(()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,"."))),uN(5===d.rank,(()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,"."))),uN(5===h.rank,(()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,"."))),JL("maxPool3dGrad",a,o);const f={dy:u,input:d,output:h},m={filterSize:r,strides:i,pad:a,dimRoundingMode:o},g=xP.runKernel(jj,f,m);return p?QL(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),dU={kernelName:Mj,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,i]=t,{filterSize:a,strides:o,pad:s,dimRoundingMode:l}=n;return{x:()=>uU(e,r,i,a,o,s,l)}}};const hU=MP({maxPoolGrad_:function(e,t,n,r,i,a,o){const s=EP(e,"dy","maxPoolGrad"),l=EP(t,"input","maxPoolGrad"),c=EP(n,"output","maxPoolGrad");uN(l.rank===s.rank,(()=>"Rank of input (".concat(l.rank,") does not match rank of dy ")+"(".concat(s.rank,")"))),uN(4===s.rank,(()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(s.rank,"."))),uN(4===l.rank,(()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(l.rank,"."))),JL("maxPoolGrad",a,o);const u={dy:s,input:l,output:c},d={filterSize:r,strides:i,pad:a,dimRoundingMode:o};return xP.runKernel(Nj,u,d)}}),pU={kernelName:Ej,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,i]=t,{filterSize:a,strides:o,pad:s}=n;return{x:()=>hU(e,r,i,a,o,s)}}},fU={kernelName:Rj,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:i}=n,a=xN(i,r.shape),o=pN(BF(r.shape,a)[1]);return{x:()=>{const t=r.shape.slice();a.forEach((e=>{t[e]=1}));const n=QL(e,t);return jO(DO(n,az(r.shape,"float32")),o)}}}},mU={kernelName:Pj,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:i}=r,[a,o]=t,s=sU(e,o,a,xN(i,a.shape));return{x:()=>s.x()}}},gU={kernelName:Oj,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>DO(e,TO(AB(n,r),"float32")),b:()=>DO(e,TO(NF(n,r),"float32"))}}},vU={kernelName:Lj,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:i}=n,a=i.map((e=>e[0]));return{x:()=>xz(e,a,r.shape)}}},bU={kernelName:Fj,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{const t=$O(n.shape,i);return t.length>0?QL(OF(e,t),n.shape):e},b:()=>{const t=DO(e,tz(IF(jO(n,r)))),a=$O(r.shape,i);return a.length>0?QL(OF(t,a),r.shape):t}}}},yU={kernelName:Bj,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{const t=DO(e,TO(r,"float32")),a=$O(n.shape,i);return a.length>0?QL(OF(t,a),n.shape):t},b:()=>{const t=DO(e,TO(n,"float32")),a=$O(r.shape,i);return a.length>0?QL(OF(t,a),r.shape):t}}}},xU={kernelName:Wj,gradFunc:e=>({x:()=>tz(e)})},wU={kernelName:Yj,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>iz(n.shape,"float32")}}},_U={kernelName:Gj,gradFunc:e=>({x:()=>OO(e)})},kU={kernelName:Xj,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return Rz(e,r).map((e=>()=>e))}},SU={kernelName:Kj,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:i}=n,a=i.map((e=>e[0]));return{x:()=>xz(e,a,r.shape)}}},CU={kernelName:Zj,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,i]=t,a=n,o=r,s=eL(a.shape,o.shape);return{a:()=>{const t=TO(o,"float32");let n=DO(e,DO(t,XO(a,KO(t,FO(1)))));const r=$O(a.shape,s);return r.length>0&&(n=OF(n,r)),QL(n,a.shape)},b:()=>{const t=NF(a,0),n=Pz(t,DF(a),OO(a));let r=DO(e,DO(i,n));const l=$O(o.shape,s);return l.length>0&&(r=OF(r,l)),QL(r,o.shape)}}}},AU={kernelName:Jj,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,i=NF(n,0);return{x:()=>Pz(i,e,DO(e,r)),alpha:()=>{let t=Pz(i,OO(e),DO(e,n));const a=$O(r.shape,e.shape);return a.length>0&&(t=OF(t,a)),QL(t,r.shape)}}}};const TU=MP({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i={x:EP(e,"x","cumprod")},a={axis:t,exclusive:n,reverse:r};return xP.runKernel(jM,i,a)}});function IU(e,t,n){const r=e.shape.length,i=r-n.length,a=UF(n,r);let o=e;null!=a&&(o=Fz(e,a));const s=o.shape.slice(),l=s.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);s.push(l);let c=function(e,t,n){const r=e.shape.slice();r[n]=1;const i=QL(t,r),a=TU(e,n,!0,!1),o=TU(e,n,!0,!0),s=DO(a,o);return DO(i,s)}(o.reshape(s),t,i);if(c=c.reshape(o.shape),null!=a){const e=HF(a);c=Fz(c,e)}return c}const EU={kernelName:Qj,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:i}=n;let a=[];return a=void 0===i||null===i?r.shape.map(((e,t)=>t)):"number"===typeof i?[i]:i,{x:()=>IU(r,e,a)}}},NU={kernelName:qM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{const t=jO(e,TO(r,"float32")),a=$O(n.shape,i);return a.length>0?QL(OF(t,a),n.shape):t},b:()=>{let t=DO(e,TO(n,"float32"));const a=$O(r.shape,i);a.length>0&&(t=QL(OF(t,a),r.shape));const o=PO(r);return tz(jO(t,TO(o,"float32")))}}}},MU={kernelName:iD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,tz(PO(n)))}}},jU={kernelName:dD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=DO(AB(n,6),Gz(n));return{x:()=>DO(e,TO(r,"float32"))}}},DU={kernelName:aD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,TO(Gz(n),"float32"))}}},RU={kernelName:oD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>QL(e,n.shape)}}},PU={kernelName:cD,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,i={dy:e,images:r};return{images:()=>xP.runKernel(uD,i,n)}}},OU={kernelName:sD,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,i={dy:e,images:r};return{images:()=>xP.runKernel(lD,i,n)}}},LU={kernelName:hD,gradFunc:(e,t,n)=>{const{dims:r}=n,i=xN(r,e.shape);return{x:()=>gz(e,i)}}},FU={kernelName:pD,gradFunc:e=>({x:()=>OO(e)})},zU={kernelName:fD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>tz(jO(e,DO(XO(n,1.5),2)))}}};const BU=MP({logicalNot_:function(e){const t={x:EP(e,"x","logicalNot","bool")};return xP.runKernel(kj,t)}}),WU={kernelName:bD,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>TO(OO(n),"float32"),t:()=>DO(e,TO(n,e.dtype)),e:()=>DO(e,TO(BU(n),e.dtype))}}},VU={kernelName:yD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=NF(n,FO(0)),r=FO(cW),i=FO(uW),a=DO(e,i),o=DO(DO(e,r),SF(TO(n,"float32")));return Pz(t,a,o)}}}},UU={kernelName:SD,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,DO(n,KO(FO(1),n)))}}},HU={kernelName:kD,gradFunc:e=>({x:()=>OO(e)})};const qU=MP({cos_:function(e){const t={x:EP(e,"x","cos","float32")};return xP.runKernel(NM,t)}}),GU={kernelName:wD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(qU(TO(n,"float32")),e)}}};const YU=MP({cosh_:function(e){const t={x:EP(e,"x","cosh","float32")};return xP.runKernel(MM,t)}}),XU={kernelName:_D,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(YU(TO(n,"float32")),e)}}},KU={kernelName:xD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:i,size:a}=n,o=r.shape,[s,l]=ML(r,i,a),c=[];for(let u=0;u<e.rank;u++)c.push([s[u],o[u]-s[u]-l[u]]);return{x:()=>sz(e,c)}}},ZU={kernelName:ND,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:i}=n,a=DO(e,r);return{logits:()=>KO(a,DO(OF(a,[i],true),r))}}},JU={kernelName:CD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,yz(n))}}};const QU=MP({batchToSpaceND_:function(e,t,n){const r=EP(e,"x","batchToSpaceND"),i=t.reduce(((e,t)=>e*t));uN(r.rank>=1+t.length,(()=>"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length))),uN(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),uN(r.shape[0]%i===0,(()=>"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(i)));const a={x:r},o={blockShape:t,crops:n};return xP.runKernel(fM,a,o)}}),$U={kernelName:ID,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:i}=n;return{x:()=>QU(e,r,i)}}},eH={kernelName:ED,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>sF(e,r)}}},tH={kernelName:AD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,DO(RO(TO(n,"float32")),2))}}},nH={kernelName:LD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(e,DO(TO(n,"float32"),2))}}},rH={kernelName:OD,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=FO(2);return{a:()=>DO(e,DO(i,KO(n,r))),b:()=>DO(e,DO(i,KO(r,n)))}}},iH={kernelName:UD,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=eL(n.shape,r.shape);return{a:()=>{let t=e;const r=$O(n.shape,i);return r.length>0&&(t=OF(t,r)),QL(t,n.shape)},b:()=>{let t=e;const n=$O(r.shape,i);return n.length>0&&(t=OF(t,n)),QL(tz(t),r.shape)}}}},aH={kernelName:TD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,i=r.shape.slice(),{axis:a}=n;xN(a,r.shape).forEach((e=>{i[e]=1}));const o=QL(e,i),s=DO(o,az(r.shape,"float32"));return{x:()=>s}}},oH={kernelName:HD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>jO(e,PO(qU(n)))}}},sH={kernelName:qD,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DO(KO(FO(1),PO(n)),e)}}},lH={kernelName:GD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:i}=n;return{x:()=>{let t=OO(r);if(1===r.rank)for(let n=0;n<i[0];++n)t=NO(t,xz(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<i[0];++n)for(let a=0;a<i[1];++a)t=NO(t,xz(e,[n*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<i[0];++n)for(let a=0;a<i[1];++a)for(let o=0;o<i[2];++o)t=NO(t,xz(e,[n*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(let n=0;n<i[0];++n)for(let a=0;a<i[1];++a)for(let o=0;o<i[2];++o)for(let s=0;s<i[3];++s)t=NO(t,xz(e,[n*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},cH={kernelName:QD,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=tL(t,OO(t)),r=EF(e,n);let i=MF(t,FO(0,"int32"));const a=r.rank-i.rank;for(let s=0;s<a;++s)i=CF(i,s+1);i=YF(i,az(r.shape,"bool"));const o=OO(r);return Pz(i,r,o)}(e,n)}}};const uH=[eV,tV,nV,rV,iV,aV,oV,sV,lV,cV,uV,dV,pV,mV,gV,bV,yV,xV,wV,_V,kV,SV,AV,CV,IV,NV,jV,RV,PV,OV,NU,LV,FV,zV,BV,WV,UV,VV,qV,YV,ZV,JV,QV,$V,eU,tU,nU,rU,iU,oU,lU,lU,cU,dU,pU,fU,mU,gU,vU,bU,yU,xU,wU,_U,kU,SU,SU,CU,AU,EU,MU,jU,DU,RU,PU,OU,LU,FU,zU,WU,VU,UU,HU,GU,XU,KU,ZU,JU,$U,$U,eH,eH,tH,rH,nH,{kernelName:eR,gradFunc:e=>({x:()=>OO(e)})},iH,aH,oH,sH,lH,{kernelName:KD,gradFunc:(e,t,n)=>{const r=n,{perm:i}=r,a=HF(i);return{x:()=>Fz(e,a)}}},{kernelName:JD,gradFunc:(e,t,n)=>{const r=n,{axis:i}=r;return{value:()=>Ez(e,i)}}},cH,{kernelName:$D,gradFunc:e=>({x:()=>OO(e)})}];for(const pie of uH)fR(pie);eP().prototype.abs=function(){return this.throwIfDisposed(),JO(this)};const dH=MP({acos_:function(e){const t={x:EP(e,"x","acos")};return xP.runKernel(ZN,t)}});eP().prototype.acos=function(){return this.throwIfDisposed(),dH(this)};const hH=MP({acosh_:function(e){const t={x:EP(e,"x","acosh")};return xP.runKernel(JN,t)}});eP().prototype.acosh=function(){return this.throwIfDisposed(),hH(this)},eP().prototype.add=function(e){return this.throwIfDisposed(),NO(this,e)},eP().prototype.all=function(e,t){return this.throwIfDisposed(),RL(this,e,t)},eP().prototype.any=function(e,t){return this.throwIfDisposed(),PL(this,e,t)},eP().prototype.argMax=function(e){return this.throwIfDisposed(),OL(this,e)};const pH=MP({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:EP(e,"x","argMin")},r={axis:t};return xP.runKernel(rM,n,r)}});eP().prototype.argMin=function(e){return this.throwIfDisposed(),pH(this,e)},eP().prototype.asScalar=function(){return this.throwIfDisposed(),uN(1===this.size,(()=>"The array must have only 1 element.")),QL(this,[])},eP().prototype.asType=function(e){return this.throwIfDisposed(),TO(this,e)},eP().prototype.as1D=function(){return this.throwIfDisposed(),QL(this,[this.size])},eP().prototype.as2D=function(e,t){return this.throwIfDisposed(),QL(this,[e,t])},eP().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),QL(this,[e,t,n])},eP().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),QL(this,[e,t,n,r])},eP().prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),QL(this,[e,t,n,r,i])};const fH=MP({asin_:function(e){const t={x:EP(e,"x","asin")};return xP.runKernel(iM,t)}});eP().prototype.asin=function(){return this.throwIfDisposed(),fH(this)};const mH=MP({asinh_:function(e){const t={x:EP(e,"x","asinh")};return xP.runKernel(aM,t)}});eP().prototype.asinh=function(){return this.throwIfDisposed(),mH(this)};const gH=MP({atan_:function(e){const t={x:EP(e,"x","atan")};return xP.runKernel(oM,t)}});eP().prototype.atan=function(){return this.throwIfDisposed(),gH(this)};const vH=MP({atan2_:function(e,t){let n=EP(e,"a","atan2"),r=EP(t,"b","atan2");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(lM,i)}});eP().prototype.atan2=function(e){return this.throwIfDisposed(),vH(this,e)};const bH=MP({atanh_:function(e){const t={x:EP(e,"x","atanh")};return xP.runKernel(sM,t)}});eP().prototype.atanh=function(){return this.throwIfDisposed(),bH(this)},eP().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),$L(this,e,t,n,r)},eP().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),QU(this,e,t)},eP().prototype.batchNorm=function(e,t,n,r,i){return this.throwIfDisposed(),tF(this,e,t,n,r,i)},eP().prototype.broadcastTo=function(e){return this.throwIfDisposed(),aF(this,e)},eP().prototype.cast=function(e){return this.throwIfDisposed(),TO(this,e)};const yH=MP({ceil_:function(e){const t={x:EP(e,"x","ceil","float32")};return xP.runKernel(yM,t)}});eP().prototype.ceil=function(){return this.throwIfDisposed(),yH(this)},eP().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),oF(this,e,t)},eP().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof $R&&(e=[e]),sF([this,...e],t)},eP().prototype.conv1d=function(e,t,n,r,i,a){return this.throwIfDisposed(),pF(this,e,t,n,r,i,a)},eP().prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),mF(this,e,t,n,r,i)},eP().prototype.conv2d=function(e,t,n,r,i,a){return this.throwIfDisposed(),hF(this,e,t,n,r,i,a)},eP().prototype.cos=function(){return this.throwIfDisposed(),qU(this)},eP().prototype.cosh=function(){return this.throwIfDisposed(),YU(this)},eP().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),TU(this,e,t,n)},eP().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),DV(this,e,t,n)};const xH=MP({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=EP(e,"x","depthToSpace","float32"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];uN(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),uN(i*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(i," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape))),uN(a*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape))),uN(o%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(o," for depthToSpace with input shape ").concat(r.shape)));const s={x:r},l={blockSize:t,dataFormat:n};return xP.runKernel(OM,s,l)}});eP().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),xH(this,e,t)},eP().prototype.depthwiseConv2d=function(e,t,n,r,i,a){return this.throwIfDisposed(),xF(this,e,t,n,r,i,a)};const wH=MP({dilation2d_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const o=EP(e,"x","dilation2d"),s=EP(t,"filter","dilation2d");uN(3===o.rank||4===o.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(o.rank,"."))),uN(3===s.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,"."))),uN("NHWC"===a,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(a)));let l=o,c=!1;3===o.rank&&(l=QL(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=!0),uN(l.shape[3]===s.shape[2],(()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(s.shape[2])));const u={x:l,filter:s},d={strides:n,pad:r,dilations:i},h=xP.runKernel(WM,u,d);return c?QL(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});eP().prototype.dilation2d=function(e,t,n,r,i){return this.throwIfDisposed(),wH(this,e,t,n,r,i)};const _H=MP({divNoNan_:function(e,t){let n=EP(e,"a","div"),r=EP(t,"b","div");[n,r]=hP(n,r);const i=jO(n,r),a=OO(i),o=_F(r,a);return Pz(o,a,i)}});eP().prototype.divNoNan=function(e){return this.throwIfDisposed(),_H(this,e)},eP().prototype.div=function(e){return this.throwIfDisposed(),jO(this,e)};const kH=MP({dot_:function(e,t){const n=EP(e,"t1","dot"),r=EP(t,"t2","dot");uN((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(uN(i===a,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(i," and ").concat(a,"."))),1===n.rank&&1===r.rank){const e=QL(n,[1,-1]),t=QL(r,[-1,1]),i=XF(e,t);return QL(i,[])}if(1===n.rank&&2===r.rank){const e=QL(n,[1,-1]),t=QL(r,[r.shape[0],r.shape[1]]),i=XF(e,t);return QL(i,[i.size])}if(2===n.rank&&1===r.rank){const e=QL(r,[-1,1]),t=XF(n,e);return QL(t,[t.size])}{const e=QL(r,[r.shape[0],r.shape[1]]);return XF(n,e)}}});eP().prototype.dot=function(e){return this.throwIfDisposed(),kH(this,e)},eP().prototype.elu=function(){return this.throwIfDisposed(),wF(this)},eP().prototype.equal=function(e){return this.throwIfDisposed(),_F(this,e)},eP().prototype.erf=function(){return this.throwIfDisposed(),kF(this)};const SH=MP({euclideanNorm_:function(e){return DB(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});eP().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),SH(this,e,t)},eP().prototype.exp=function(){return this.throwIfDisposed(),SF(this)},eP().prototype.expandDims=function(e){return this.throwIfDisposed(),CF(this,e)};const CH=MP({expm1_:function(e){const t={x:EP(e,"x","expm1")};return xP.runKernel($M,t)}});eP().prototype.expm1=function(){return this.throwIfDisposed(),CH(this)},eP().prototype.fft=function(){return this.throwIfDisposed(),Bz(this)},eP().prototype.flatten=function(){return this.throwIfDisposed(),QL(this,[this.size])},eP().prototype.floor=function(){return this.throwIfDisposed(),IF(this)},eP().prototype.floorDiv=function(e){return this.throwIfDisposed(),MO(this,e)},eP().prototype.gather=function(e,t,n){return this.throwIfDisposed(),EF(this,e,t,n)},eP().prototype.greaterEqual=function(e){return this.throwIfDisposed(),MF(this,e)},eP().prototype.greater=function(e){return this.throwIfDisposed(),NF(this,e)},eP().prototype.ifft=function(){return this.throwIfDisposed(),Vz(this)},eP().prototype.irfft=function(){return this.throwIfDisposed(),Uz(this)};const AH=MP({isFinite_:function(e){const t={x:EP(e,"x","isFinite")};return xP.runKernel(pj,t)}});eP().prototype.isFinite=function(){return this.throwIfDisposed(),AH(this)};const TH=MP({isInf_:function(e){const t={x:EP(e,"x","isInf")};return xP.runKernel(fj,t)}});eP().prototype.isInf=function(){return this.throwIfDisposed(),TH(this)};const IH=MP({isNaN_:function(e){const t={x:EP(e,"x","isNaN")};return xP.runKernel(mj,t)}});eP().prototype.isNaN=function(){return this.throwIfDisposed(),IH(this)},eP().prototype.leakyRelu=function(e){return this.throwIfDisposed(),jF(this,e)},eP().prototype.lessEqual=function(e){return this.throwIfDisposed(),AB(this,e)},eP().prototype.less=function(e){return this.throwIfDisposed(),NB(this,e)};const EH=MP({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const a=EP(e,"x","localResponseNormalization");uN(4===a.rank||3===a.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(a.rank,"."))),uN(mN(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let o=a,s=!1;3===a.rank&&(s=!0,o=QL(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:o},c={depthRadius:t,bias:n,alpha:r,beta:i},u=xP.runKernel(Cj,l,c);return s?QL(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});eP().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),EH(this,e,t,n,r)};const NH=MP({logSigmoid_:function(e){const t=EP(e,"x","logSigmoid"),n=LO((e=>({value:tz(Az(tz(e))),gradFunc:t=>DO(t,yz(tz(e)))})));return n(t)}});eP().prototype.logSigmoid=function(){return this.throwIfDisposed(),NH(this)},eP().prototype.logSoftmax=function(e){return this.throwIfDisposed(),LF(this,e)},eP().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),GF(this,e,t)},eP().prototype.log=function(){return this.throwIfDisposed(),DF(this)},eP().prototype.log1p=function(){return this.throwIfDisposed(),RF(this)},eP().prototype.logicalAnd=function(e){return this.throwIfDisposed(),YF(this,e)},eP().prototype.logicalNot=function(){return this.throwIfDisposed(),BU(this)};const MH=MP({logicalOr_:function(e,t){const n=EP(e,"a","logicalOr","bool"),r=EP(t,"b","logicalOr","bool");eL(n.shape,r.shape);const i={a:n,b:r};return xP.runKernel(Sj,i)}});eP().prototype.logicalOr=function(e){return this.throwIfDisposed(),MH(this,e)};const jH=MP({logicalXor_:function(e,t){const n=EP(e,"a","logicalXor","bool"),r=EP(t,"b","logicalXor","bool");return eL(n.shape,r.shape),YF(MH(e,t),BU(YF(e,t)))}});eP().prototype.logicalXor=function(e){return this.throwIfDisposed(),jH(this,e)},eP().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),XF(this,e,t,n)},eP().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),KF(this,e,t,n,r)},eP().prototype.max=function(e,t){return this.throwIfDisposed(),PF(this,e,t)},eP().prototype.maximum=function(e){return this.throwIfDisposed(),tL(this,e)},eP().prototype.mean=function(e,t){return this.throwIfDisposed(),JF(this,e,t)},eP().prototype.min=function(e,t){return this.throwIfDisposed(),QF(this,e,t)},eP().prototype.minimum=function(e){return this.throwIfDisposed(),$F(this,e)};const DH=MP({mirrorPad_:function(e,t,n){uN("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const r=EP(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");uN(t.length===r.rank,(()=>"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")));const i="reflect"===n?1:0;for(let s=0;s<r.rank;s++)uN(2===t[s].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),uN(t[s][0]>=0&&t[s][0]<=r.shape[s]-i&&t[s][1]>=0&&t[s][1]<=r.shape[s]-i,(()=>"Padding in dimension ".concat(s," cannot be greater than or equal ")+"to ".concat(r.shape[s]-i," or less than 0 for input of ")+"shape ".concat(r.shape)));const a={paddings:t,mode:n},o={x:r};return xP.runKernel(Lj,o,a)}});eP().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),DH(this,e,t)};const RH=MP({mod_:function(e,t){let n=EP(e,"a","mod"),r=EP(t,"b","mod");[n,r]=hP(n,r);const i={a:n,b:r};return xP.runKernel(Fj,i)}});eP().prototype.mod=function(e){return this.throwIfDisposed(),RH(this,e)},eP().prototype.mul=function(e){return this.throwIfDisposed(),DO(this,e)},eP().prototype.neg=function(){return this.throwIfDisposed(),tz(this)},eP().prototype.norm=function(e,t,n){return this.throwIfDisposed(),DB(this,e,t,n)},eP().prototype.notEqual=function(e){return this.throwIfDisposed(),nz(this,e)},eP().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),rz(this,e,t,n)},eP().prototype.onesLike=function(){return this.throwIfDisposed(),oz(this)},eP().prototype.pad=function(e,t){return this.throwIfDisposed(),sz(this,e,t)};const PH=MP({pool_:function(e,t,n,r,i,a,o){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");const s=EP(e,"x","maxPool");let l=s,c=!1;3===s.rank&&(c=!0,l=QL(s,[1,s.shape[0],s.shape[1],s.shape[2]])),uN(XL(a,i),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(i,"'")));const u=FL(l.shape,t,a,i,r),d=[u.dilationHeight,u.dilationWidth];let h;h="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),i=r.map((e=>Math.floor(e/2))),a=r.map(((e,t)=>e-i[t]));return r.map(((e,t)=>[i[t],a[t]]))}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];const p=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),i=n.map((e=>e[1])),a=e.concat(r,i),o=t.map(((e,t)=>(e-a[t]%e)%e)),s=i.map(((e,t)=>e+o[t])),l=t.map(((e,t)=>[r[t],s[t]])),c=t.map(((e,t)=>[0,o[t]]));return[l,c]}([u.inHeight,u.inWidth],d,h),g=p?r:"valid",v=p?l:vV(l,d,f),b=("avg"===n?()=>$L(v,t,a,g,o):()=>KF(v,t,a,g,o))(),y=p?b:QU(b,d,m);return c?QL(y,[y.shape[1],y.shape[2],y.shape[3]]):y}});eP().prototype.pool=function(e,t,n,r,i,a){return this.throwIfDisposed(),PH(this,e,t,n,r,i,a)},eP().prototype.pow=function(e){return this.throwIfDisposed(),XO(this,e)},eP().prototype.prelu=function(e){return this.throwIfDisposed(),lz(this,e)};const OH=MP({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=EP(e,"x","prod");"bool"===r.dtype&&(r=TO(r,"int32"));const i={x:r},a={axis:t,keepDims:n};return xP.runKernel(Qj,i,a)}});eP().prototype.prod=function(e,t){return this.throwIfDisposed(),OH(this,e,t)};const LH=MP({reciprocal_:function(e){const t={x:EP(e,"x","reciprocal")};return xP.runKernel(iD,t)}});eP().prototype.reciprocal=function(){return this.throwIfDisposed(),LH(this)},eP().prototype.relu=function(){return this.throwIfDisposed(),mz(this)},eP().prototype.relu6=function(){return this.throwIfDisposed(),qz(this)},eP().prototype.reshapeAs=function(e){return this.throwIfDisposed(),QL(this,e.shape)},eP().prototype.reshape=function(e){return this.throwIfDisposed(),QL(this,e)},eP().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),kB(this,e,t,n)},eP().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),SB(this,e,t,n)},eP().prototype.reverse=function(e){return this.throwIfDisposed(),gz(this,e)},eP().prototype.rfft=function(){return this.throwIfDisposed(),Wz(this)},eP().prototype.round=function(){return this.throwIfDisposed(),TB(this)},eP().prototype.rsqrt=function(){return this.throwIfDisposed(),HV(this)},eP().prototype.selu=function(){return this.throwIfDisposed(),vz(this)},eP().prototype.separableConv2d=function(e,t,n,r,i,a){return this.throwIfDisposed(),bz(this,e,t,n,r,i,a)},eP().prototype.sigmoid=function(){return this.throwIfDisposed(),yz(this)};const FH=MP({sign_:function(e){const t={x:EP(e,"x","sign")};return xP.runKernel(kD,t)}});eP().prototype.sign=function(){return this.throwIfDisposed(),FH(this)},eP().prototype.sin=function(){return this.throwIfDisposed(),EV(this)},eP().prototype.sinh=function(){return this.throwIfDisposed(),MV(this)},eP().prototype.slice=function(e,t){return this.throwIfDisposed(),xz(this,e,t)},eP().prototype.softmax=function(e){return this.throwIfDisposed(),Cz(this,e)},eP().prototype.softplus=function(){return this.throwIfDisposed(),Az(this)},eP().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),vV(this,e,t)},eP().prototype.split=function(e,t){return this.throwIfDisposed(),Tz(this,e,t)},eP().prototype.sqrt=function(){return this.throwIfDisposed(),RO(this)},eP().prototype.square=function(){return this.throwIfDisposed(),PO(this)},eP().prototype.squaredDifference=function(e){return this.throwIfDisposed(),FB(this,e)},eP().prototype.squeeze=function(e){return this.throwIfDisposed(),Iz(this,e)},eP().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof $R?[this,e]:[this,...e];return Ez(n,t)},eP().prototype.step=function(e){return this.throwIfDisposed(),Gz(this,e)};const zH=MP({stridedSlice_:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const c={x:EP(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:r,beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};return xP.runKernel(zD,c,u)}});eP().prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return this.throwIfDisposed(),zH(this,e,t,n,r,i,a,o,s)},eP().prototype.sub=function(e){return this.throwIfDisposed(),KO(this,e)},eP().prototype.sum=function(e,t){return this.throwIfDisposed(),OF(this,e,t)};const BH=MP({tan_:function(e){const t={x:EP(e,"x","tan","float32")};return xP.runKernel(HD,t)}});eP().prototype.tan=function(){return this.throwIfDisposed(),BH(this)},eP().prototype.tanh=function(){return this.throwIfDisposed(),Nz(this)},eP().prototype.tile=function(e){return this.throwIfDisposed(),AF(this,e)},eP().prototype.toBool=function(){return this.throwIfDisposed(),TO(this,"bool")},eP().prototype.toFloat=function(){return this.throwIfDisposed(),TO(this,"float32")},eP().prototype.toInt=function(){return this.throwIfDisposed(),TO(this,"int32")};const WH=MP({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=EP(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const i=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(i,") ")+"but got ".concat(t));const a={x:r},o={k:t,sorted:n},[s,l]=xP.runKernel(YD,a,o);return{values:s,indices:l}}});eP().prototype.topk=function(e,t){return this.throwIfDisposed(),WH(this,e,t)},eP().prototype.transpose=function(e){return this.throwIfDisposed(),Fz(this,e)};const VH=MP({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=EP(e,"x","unique","string_or_numeric");uN(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},i={axis:t},[a,o]=xP.runKernel(ZD,r,i);return{values:a,indices:o}}});eP().prototype.unique=function(e){return this.throwIfDisposed(),VH(this,e)},eP().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),GV(this,e,t)},eP().prototype.unstack=function(e){return this.throwIfDisposed(),Rz(this,e)},eP().prototype.where=function(e,t){return this.throwIfDisposed(),Pz(e,this,t)},eP().prototype.zerosLike=function(){return this.throwIfDisposed(),OO(this)};class UH extends Error{constructor(e){super(e),Object.setPrototypeOf(this,UH.prototype)}}class HH extends Error{constructor(e){super(e),Object.setPrototypeOf(this,HH.prototype)}}class qH extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qH.prototype)}}class GH extends Error{constructor(e){super(e),Object.setPrototypeOf(this,GH.prototype)}}class YH extends Error{constructor(e){super(e),Object.setPrototypeOf(this,YH.prototype)}}Error;class XH{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function KH(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function ZH(e,t){if(!e)throw new YH(t)}function JH(e,t){let n=0;for(const r of e)r===t&&n++;return n}function QH(e){return 1===e.length?e[0]:e}function $H(e){return Array.isArray(e)?e:[e]}function eq(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function tq(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let nq={};function rq(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function iq(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>iq(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?iq(t):e[n]=t.value)}}}function aq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const i=e;let a;if(i in n)a=n[i];else if(i in nq)a=nq[i];else if(a=t[i],null==a)throw new qH("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return a}{const a=e;if(null==a.className||null==a.config)throw new qH("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(a),".\n")+"'className' and 'config' must set.");const o=a.className;let s,l;if(o in n?[s,l]=n[o]:o in nq?[s,l]=nq.className:o in t&&([s,l]=t[o]),null==s)throw new qH("Unknown ".concat(r,": ").concat(o,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){const e={};for(const n of Object.keys(nq))e[n]=nq[n];for(const i of Object.keys(n))e[i]=n[i];a.config.customObjects=e;const t=Object.assign({},nq);for(const i of Object.keys(n))nq[i]=n[i];iq(a.config);const r=l(s,a.config,n,i);return nq=Object.assign({},t),r}{const e=Object.assign({},nq);for(const r of Object.keys(n))nq[r]=n[r];const t=new s(a.config);return nq=Object.assign({},e),t}}}function oq(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function sq(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function lq(e){if(null==e)throw new qH("Invalid value in obj: ".concat(JSON.stringify(e)));for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function cq(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new qH("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function uq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return ZH(n>=0),ZH(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function dq(e,t){Array.isArray(e)?(uN(e.length>0,(()=>"".concat(t," is unexpectedly an empty array."))),e.forEach(((e,n)=>dq(e,"element ".concat(n+1," of ").concat(t))))):uN(Number.isInteger(e)&&e>0,(()=>"Expected ".concat(t," to be a positive integer, but got ")+"".concat(hq(e),".")))}function hq(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>hq(e))).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function pq(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let fq=0;function mq(){return fq++}const gq={};function vq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in gq||(gq[e]=0),gq[e]+=1,e+gq[e].toString()}const bq=["channelsFirst","channelsLast"],yq=["nearest","bilinear"],xq=["valid","same","causal"],wq=["max","avg"],_q=["sum","mul","concat","ave"],kq=new Map;function Sq(e){cq(bq,"DataFormat",e)}function Cq(e){cq(xq,"PaddingMode",e)}function Aq(e){cq(wq,"PoolMode",e)}const Tq=[],Iq="/";function Eq(e,t){Tq.push(e);try{const e=t();return Tq.pop(),e}catch(die){throw Tq.pop(),die}}function Nq(e){if(!Dq(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Tq.length?"":Tq.join(Iq)+Iq)+e}function Mq(e){if(!Dq(e))throw new Error("Not a valid tensor name: '"+e+"'");kq.has(e)||kq.set(e,0);const t=kq.get(e);if(kq.set(e,kq.get(e)+1),t>0){const n="".concat(e,"_").concat(t);return kq.set(n,1),n}return e}const jq=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Dq(e){return!!e.match(jq)}function Rq(e){return e===parseInt(e.toString(),10)}function Pq(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let i=t;i<n;++i)r*=e[i];return r}function Oq(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Lq(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function Fq(e,t){if(t<e)throw new qH("end (".concat(t,") < begin (").concat(e,") is forbidden."));const n=[];for(let r=e;r<t;++r)n.push(r);return n}let zq;function Bq(){return null==zq&&(zq=VP().epsilon()),zq}function Wq(e,t){return TO(e,t)}function Vq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),QL(e,n)}function Uq(e,t,n){return FP((()=>{switch(e.rank){case 1:return wz(e,t,n);case 2:return _z(e,[t,0],[n,e.shape[1]]);case 3:return kz(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Sz(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return xz(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return xz(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new qH("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Hq(e,t,n){return FP((()=>{switch(e.rank){case 1:return wz(e,t,n);case 2:return _z(e,[0,t],[e.shape[0],n]);case 3:return kz(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Sz(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new qH("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function qq(e,t,n,r){return FP((()=>{switch(e.rank){case 1:return wz(e,t,n);case 2:switch(r){case 1:return Uq(e,t,n);case 2:return Hq(e,t,n);default:throw new qH("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return Uq(e,t,n);case 2:return kz(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Hq(e,t,n);default:throw new qH("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return Uq(e,t,n);case 2:return Sz(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Sz(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Hq(e,t,n);default:throw new qH("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new qH("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Gq(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),sF(e,n)}function Yq(e,t){switch(e.rank){case 1:return lF([e,t]);case 2:return cF([e,t],0);case 3:return uF([e,t],0);case 4:return dF([e,t],0);default:throw new qH("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function Xq(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new qH("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return AF(e,t)}function Kq(e){return hz(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function Zq(e,t,n,r){if(e.rank<2||t.rank<2)throw new GH("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new GH("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape))}if(2===e.rank&&2===t.rank){return eB({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?$q(e.rank,r,"channelsLast"):null,activation:n})}{const i=e.shape.slice(),a=i.pop();e=QL(e,[-1,a]);const o=t.shape.slice(),s=o.pop(),l=o.pop(),c=[...o,s],u=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=QL(Fz(t,u),[l,-1]);const d=[...i,...c];return QL(eB({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?$q(e.rank,r,"channelsLast"):null,activation:n}),d)}}function Jq(e,t,n){return FP((()=>(t=Array.isArray(t)?Mz(t,"int32"):TO(t,"int32"),EF(e,t,n))))}function Qq(e){return DO(e,e)}function $q(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new qH("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?QL(t,[1,r[0],1,1,1]):QL(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?QL(t,[1,1,1,1,r[0]]):QL(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?QL(t,[1,r[0],1,1]):QL(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?QL(t,[1,1,1,r[0]]):QL(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?QL(t,[1,r[0],1]):QL(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?QL(t,[1,1,r[0]]):QL(t,[1].concat(r))}else if(e<3)return t;throw new qH("Unsupported input rank by biasAdd: ".concat(t.rank))}function eG(e,t,n){return FP((()=>(null==n&&(n="channelsLast"),Sq(n),NO(e,$q(e.rank,t,n)))))}function tG(e,t,n,r){return FP((()=>zz(e,t,n,r)))}function nG(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const rG=["fanIn","fanOut","fanAvg"],iG=["normal","uniform","truncatedNormal"];class aG extends WO{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class oG extends aG{apply(e,t){return iz(e,t)}}oG.className="Zeros",UO(oG);class sG extends aG{apply(e,t){return az(e,t)}}sG.className="Ones",UO(sG);class lG extends aG{constructor(e){if(super(),"object"!==typeof e)throw new qH("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new qH("config must have value set but got ".concat(e));this.value=e.value}apply(e,t){return FP((()=>DO(FO(this.value),az(e,t))))}getConfig(){return{value:this.value}}}lG.className="Constant",UO(lG);class cG extends aG{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return pz(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}cG.className="RandomUniform",UO(cG);class uG extends aG{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new GH("randomNormal does not support dType ".concat(t,"."));return Kq(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}uG.className="RandomNormal",UO(uG);class dG extends aG{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new GH("truncatedNormal does not support dType ".concat(t,"."));return Dz(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}dG.className="TruncatedNormal",UO(dG);class hG extends aG{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return FP((()=>{if(2!==e.length||e[0]!==e[1])throw new qH("Identity matrix initializer can only be used for 2D square matrices.");return DO(this.gain,TF(e[0]))}))}getConfig(){return{gain:this.gain}}}hG.className="Identity",UO(hG);class pG extends aG{constructor(e){if(super(),e.scale<0)throw new qH("scale must be a positive float. Got: ".concat(e.scale));this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function(e){cq(rG,"FanMode",e)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function(e){cq(iG,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Sq(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){const r=Pq(e,2);t=e[1]*r,n=e[0]*r}else if("channelsLast"===r){const r=Pq(e,0,e.length-2);t=e[e.length-2]*r,n=e[e.length-1]*r}}else{const r=Pq(e);t=Math.sqrt(r),n=Math.sqrt(r)}return[t,n]}(e),r=n[0],i=n[1];let a=this.scale;if("fanIn"===this.mode?a/=Math.max(1,r):"fanOut"===this.mode?a/=Math.max(1,i):a/=Math.max(1,(r+i)/2),"normal"===this.distribution){const n=Math.sqrt(a);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new GH("".concat(this.getClassName()," does not support dType ").concat(t,"."));return Dz(e,0,n,t,this.seed)}{const n=Math.sqrt(3*a);return pz(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}pG.className="VarianceScaling",UO(pG);class fG extends pG{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return pG.className}}fG.className="GlorotUniform",UO(fG);class mG extends pG{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return pG.className}}mG.className="GlorotNormal",UO(mG);class gG extends pG{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return pG.className}}gG.className="HeNormal",UO(gG);class vG extends pG{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return pG.className}}vG.className="HeUniform",UO(vG);class bG extends pG{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return pG.className}}bG.className="LeCunNormal",UO(bG);class yG extends pG{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return pG.className}}yG.className="LeCunUniform",UO(yG);class xG extends aG{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return FP((()=>{if(e.length<2)throw new GH("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError("Unsupported data type ".concat(t,"."));const n=pN(e.slice(0,-1)),r=e[e.length-1],i=n*r;i>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(i,") elements: ")+"Slowness may result.");const a=Kq([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),o=BB.qr(a,!1);let s=o[0];const l=o[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return s=DO(s,l.sign()),n<r&&(s=s.transpose()),DO(FO(this.gain),s.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}xG.className="Orthogonal",UO(xG);const wG={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function _G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return aq(e,VO.getMap().classNameMap,t,"initializer")}function kG(e){return rq(e)}function SG(e){if("string"===typeof e){const t=e in wG?wG[e]:e;if("GlorotNormal"===t)return new mG;if("GlorotUniform"===t)return new fG;if("HeNormal"===t)return new gG;if("HeUniform"===t)return new vG;if("LeCunNormal"===t)return new bG;if("LeCunUniform"===t)return new yG;{const e={};return e.className=t,e.config={},_G(e)}}return e instanceof aG?e:_G(e)}function CG(e){return Array.isArray(e)&&Array.isArray(e[0])}function AG(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function TG(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new qH("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function IG(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new qH("Expected exactly 1 Shape; got ".concat(e.length))}return e}function EG(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const NG="Variable";class MG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NG,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=mq(),n=null==n?NG:n,this.originalName=Nq(n),this.name=Mq(this.originalName),this.trainable_=r,this.constraint=i,this.val=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return xP.makeVariable(e,t,n,r)}(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function jG(e){return e.map((e=>e.read()))}function DG(e){e.forEach((e=>{e[0].write(e[1])}))}class RG{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class PG{constructor(e,t,n,r,i,a,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=mq(),null!=a&&(this.originalName=Nq(a),this.name=Mq(this.originalName)),this.rank=t.length}}let OG=0;class LG{constructor(e,t){this.callArgs=t,this.id=OG++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let FG=0;class zG extends WO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=FG++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=eq(e)+"_"+vq(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new HH("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new qH("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return QH(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return QH(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new UH("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new UH("Layer ".concat(this.name)+" is not connected, no input to return.");return QH(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new UH("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new UH("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return QH(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=$H(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=$H(this.inputSpec);if(t.length!==n.length)throw new qH("Layer ".concat(this.name," expects ").concat(n.length," inputs, ")+"but it received ".concat(t.length," input tensors. ")+"Input received: ".concat(e));for(let r=0;r<t.length;r++){const e=t[r],i=n[r];if(null==i)continue;const a=e.rank;if(null!=i.ndim&&a!==i.ndim)throw new qH("Input ".concat(r," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(i.ndim,", found ndim=").concat(a));if(null!=i.maxNDim&&a>i.maxNDim)throw new qH("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(i.maxNDim,", found ndim=").concat(a));if(null!=i.minNDim&&a<i.minNDim)throw new qH("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(i.minNDim,", found ndim=").concat(a,"."));if(null!=i.dtype&&e.dtype!==i.dtype)throw new qH("Input ".concat(r," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(i.dtype,", found dtype=").concat(e.dtype,"."));if(i.axes){const t=e.shape;for(const e in i.axes){const n=Number(e),a=i.axes[e],o=n>=0?t[n]:t[t.length+n];if(null!=a&&-1===[a,null].indexOf(o))throw new qH("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(n," of input shape to ")+"have value ".concat(a," but got shape ").concat(t,"."))}}if(null!=i.shape)for(let t=0;t<i.shape.length;++t){const n=i.shape[t],a=e.shape[t];if(null!=n&&null!=a&&n!==a)throw new qH("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(i.shape,", ")+"found shape=".concat(e.shape,"."))}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=$H(e),r=function(e){let t=!0;for(const n of $H(e))if(!(n instanceof PG)){t=!1;break}return t}(e),i=function(e){let t=!0;for(const n of $H(e))if(n instanceof PG){t=!1;break}return t}(e);if(r===i)throw new qH("Arguments to apply() must be all SymbolicTensors or all Tensors");return Eq(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of $H(e))t.push(n.shape);this.build(QH(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const i=$H(r),a=[];for(let e of i)-1!==n.indexOf(e)&&(e=e.clone()),a.push(e);if(r=QH(a),null!=this.activityRegularizer)throw new GH("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=$H(e);const t=[];for(const n of e)t.push(n.shape);return QH(t)}(e),r=this.computeOutputShape(n);let i;const a="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),i=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new PG(a,n,this,$H(e),t,this.name,r))):new PG(a,r,this,$H(e),t,this.name),this.addInboundNode(e,i,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new GH("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new UH("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new UH("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new HH("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return EG(this.weights)}build(e){this.built=!0}getWeights(){return jG(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){FP((()=>{const t=this.weights;if(t.length!==e.length)throw new qH('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(t.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0===t.length)return;const n=[],r=jG(t);for(let i=0;i<r.length;++i){const a=r[i],o=t[i],s=e[i];if(!fN(a.shape,s.shape))throw new qH("Layer weight shape ".concat(a.shape," ")+"not compatible with provided weight shape ".concat(s.shape));n.push([o,s])}DG(n)}))}addWeight(e,t,n,r,i,a,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new qH("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():SG("zeros"));const l=r.apply(t,n),c=new MG(l,n,e,a,o);return l.dispose(),null!=i&&this.addLoss((()=>i.apply(c.read()))),null==a&&(a=!0),a?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=$H(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((e=>{if(null!=e)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),i=$H(t),a=$H(r);if(i.length!==a.length)throw new Error("".concat(this.name," outputs ").concat(i.length," tensors ")+"but ".concat(i.length," masks for those tensors"));for(let o=0;o<i.length;o++)i[o].kerasMask=a[o]}addInboundNode(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const s=$H(e);t=$H(t),n=$H(n),r=$H(r),i=AG(i),a=AG(a);const l=[],c=[],u=[];for(const d of s)l.push(d.sourceLayer),c.push(d.nodeIndex),u.push(d.tensorIndex);new LG({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:u,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(let d=0;d<t.length;d++)t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function BG(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=BG(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class WG extends zG{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:vq("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new qH("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new qH("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new qH("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new PG(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new LG({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new qH("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}function VG(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new qH("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;null==n&&(n="float32");return new WG({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}WG.className="InputLayer",UO(WG);class UG{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof UG)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new qH("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return TO(t,e.dtype)}catch(hie){throw new qH("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof PG){if(null==this.id2Value[e.id])throw new qH("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new qH("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}}getMask(e){if(e instanceof PG){if(null==this.id2Value[e.id])throw new qH("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new qH("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&zP(this.id2Mask)}}const HG=new XH,qG=new XH;function GG(e,t,n,r){const i=null!=n&&n.training,a=Array.isArray(e),o=a?e:[e],s=o.map((e=>e.name)),l=[],c=t.names();for(const f of s)-1!==c.indexOf(f)?l.push(t.getValue(f)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const u=s.join(",")+"|"+t.names().sort().join(",");let d,h=HG.get(u);if(null==h){const e=function(e,t){uN(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const i=XG(e[0],t);n=i.sorted,r=i.recipientMap}else{const i=new Set;for(const a of e){const{sorted:e,recipientMap:o}=XG(a,t);for(const t of e)i.has(t.name)||(n.push(t),i.add(t.name));for(const t in o)null==r[t]&&(r[t]=new Set),o[t].forEach((e=>r[t].add(e)))}}return{sorted:n,recipientCounts:YG(r)}}(o,t);h=e.sorted,d=e.recipientCounts,HG.put(u,h),qG.put(u,d)}d={},i||Object.assign(d,qG.get(u));const p=new UG(t);for(let f=0;f<h.length;++f){if(null!=r){const e=LP().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const e=h[f],a=e.sourceLayer;if(a instanceof WG)continue;const o=[],c=[],u=[];let m=!1;for(const n of e.inputs){const e=p.getValue(n),r=p.getMask(n);o.push(e),c.push(r),null!=r&&(m=!0),i||(d[n.name]--,0!==d[n.name]||t.hasKey(n)||-1!==s.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||u.push(e))}m&&((n=n||{}).mask=c[0]);const g=$H(a.apply(o,n));let v=null;a.supportsMasking&&(v=a.computeMask(o,c));const b=KG(e),y=Array.isArray(b)?b:[b];for(let t=0;t<y.length;++t){p.hasKey(y[t])||p.add(y[t],g[t],Array.isArray(v)?v[0]:v);const e=s.indexOf(y[t].name);-1!==e&&(l[e]=g[t])}i||zP(u)}return p.disposeMasks(),a?l:l[0]}function YG(e){const t={};for(const n in e)t[n]=e[n].size;return t}function XG(e,t){const n=new Set,r=[],i={};for(const s of t.names())n.add(s);const a=[],o=[];for(a.push(e);a.length>0;){const e=a[a.length-1];if(n.has(e.name)){a.pop();continue}const t=o[o.length-1]===a.length-1;if(0===e.inputs.length||t)a.pop(),r.push(e),n.add(e.name),t&&o.pop();else{o.push(a.length-1);for(const t of e.inputs)null==i[t.name]&&(i[t.name]=new Set),i[t.name].add(e.name),n.has(t.name)||a.push(t)}}return{sorted:r,recipientMap:i}}function KG(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function ZG(e,t){return FP((()=>RO(OF(DO(e,e),t,!0))))}HN().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=HG&&HG.setMaxEntries(e),null!=qG&&qG.setMaxEntries(e)}));class JG extends WO{getConfig(){return{}}}class QG extends JG{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return FP((()=>{const t=ZG(e,this.axis),n=oF(t,0,this.maxValue);return DO(e,jO(n,NO(Bq(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}QG.className="MaxNorm",UO(QG);class $G extends JG{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return FP((()=>jO(e,NO(Bq(),ZG(e,this.axis)))))}getConfig(){return{axis:this.axis}}}$G.className="UnitNorm",UO($G);class eY extends JG{apply(e){return mz(e)}}eY.className="NonNeg",UO(eY);class tY extends JG{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return FP((()=>{const t=ZG(e,this.axis),n=NO(DO(this.rate,oF(t,this.minValue,this.maxValue)),DO(1-this.rate,t));return DO(e,jO(n,NO(Bq(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}tY.className="MinMaxNorm",UO(tY);const nY={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function rY(e){return rq(e)}function iY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return aq(e,VO.getMap().classNameMap,t,"constraint")}function aY(e){if(null==e)return null;if("string"===typeof e){return iY({className:e in nY?nY[e]:e,config:{}})}return e instanceof JG?e:iY(e)}async function oY(e){if(null==e)return;const t=[],n=[],r=[];for(const i in e){const a=e[i];if("number"!==typeof a){const e=a;t.push(e.data()),n.push(i),r.push(e)}}if(t.length>0){const i=await Promise.all(t);for(let t=0;t<i.length;++t)e[n[t]]=i[t][0];zP(r)}}function sY(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var lY;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(lY||(lY={}));class cY{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class uY{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class dY extends cY{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"===typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const i=FP((()=>NO(this.totals[r],DO(e,n))));this.totals[r]=i,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:FP((()=>{const e=DO(jO(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),BP(t[n])})))}}class hY extends cY{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const i in this.history){const r=this.history[i];for(let a=0;a<r.length;++a)if("number"!==typeof r[a]){const o=r[a];e.push(o.data()),t.push(i),n.push(a)}}const r=await Promise.all(e);for(let i=0;i<r.length;++i){this.history[t[i]][n[i]].dispose(),this.history[t[i]][n[i]]=r[i][0]}}}class pY extends cY{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||UB,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");TN(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,i=null!=n?n():DR();return function(){const a=null!=n?n():DR();return a-i<t||(i=a,r=e(...arguments)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await oY(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await oY(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await oY(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await oY(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await oY(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):TN(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await oY(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await oY(e),await this.trainEnd(e))}}function fY(e,t){if(null==e&&(e={}),e instanceof cY)return[e];if(Array.isArray(e)&&e[0]instanceof cY)return e;return $H(e).map((e=>new pY(e,t)))}class mY{constructor(){}static registerCallbackConstructor(e,t){uN(e>=0&&Number.isInteger(e),(()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e))),mY.checkForDuplicate(t),null==mY.constructors[e]&&(mY.constructors[e]=[]),mY.constructors[e].push(t)}static checkForDuplicate(e){for(const t in mY.constructors){mY.constructors[+t].forEach((t=>{if(t===e)throw new qH("Duplicate callback constructor.")}))}}static clear(){mY.constructors={}}static createCallbacks(e){const t=[];for(const n in mY.constructors){const r=+n;e>=r&&t.push(...mY.constructors[r])}return t.map((e=>new e))}}function gY(e,t,n,r,i,a,o,s,l){const c=new hY,u=[new dY,...mY.createCallbacks(t)];null!=e&&u.push(...e),u.push(c);const d=new uY(u);return d.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:o,verbose:t,doValidation:s,metrics:l}),{callbackList:d,history:c}}function vY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return aq(e,VO.getMap().classNameMap,t,"layer",n)}function bY(e,t){return FP((()=>{"float32"!==e.dtype&&(e=TO(e,"float32"));const n=OF(Qq(e),t,!0),r=GO(n.shape,Bq()),i=RO(tL(n,r));return jO(e,i)}))}function yY(e,t){return FP((()=>JF(Qq(KO(t,e)),-1)))}function xY(e,t){return FP((()=>JF(JO(KO(t,e)),-1)))}function wY(e,t){return FP((()=>{const n=KO(e,t),r=oF(JO(e),Bq(),Number.MAX_VALUE),i=JO(jO(n,r));return DO(100,JF(i,-1))}))}function _Y(e,t){return FP((()=>{const n=oF(t,Bq(),Number.MAX_VALUE),r=DF(NO(1,n)),i=oF(e,Bq(),Number.MAX_VALUE),a=DF(NO(1,i));return JF(Qq(KO(r,a)),-1)}))}function kY(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return FP((()=>{if(n)t=Cz(t);else{const e=OF(t,t.shape.length-1,!0);t=jO(t,e)}return t=oF(t,Bq(),1-Bq()),tz(OF(DO(TO(e,"float32"),DF(t)),t.shape.length-1))}))}function SY(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return FP((()=>{const r=TO(IF(function(e){const t=[Pq(e.shape)];return QL(e,t)}(e)),"int32"),i=(t=oF(t,Bq(),1-Bq())).shape;return kY(QL(rz(r,i[i.length-1]),i),t,n)}))}function CY(e,t){return FP((()=>{let n;return n=oF(t,Bq(),1-Bq()),n=DF(jO(n,KO(1,n))),JF(function(e,t){if(!fN(e.shape,t.shape))throw new qH("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return FP((()=>{const n=mz(t),r=tz(JO(t));return NO(KO(n,DO(t,e)),RF(SF(r)))}))}(e,n),-1)}))}function AY(e,t){return FP((()=>{const n=oF(e,Bq(),1),r=oF(t,Bq(),1);return OF(DO(e,DF(jO(n,r))),-1)}))}function TY(e,t){return FP((()=>{const n=bY(e,-1),r=bY(t,-1),i=DO(n,r);return tz(OF(i,-1))}))}mY.constructors={};const IY={meanSquaredError:yY,meanAbsoluteError:xY,meanAbsolutePercentageError:wY,meanSquaredLogarithmicError:_Y,squaredHinge:function(e,t){return FP((()=>{const n=tL(0,KO(1,DO(e,t)));return JF(Qq(n),-1)}))},hinge:function(e,t){return FP((()=>{const n=tL(0,KO(1,DO(e,t)));return JF(n,-1)}))},categoricalHinge:function(e,t){return FP((()=>{const n=OF(DO(e,t),-1),r=PF(DO(KO(1,e),t),-1);return tL(0,NO(1,KO(r,n)))}))},logcosh:function(e,t){return FP((()=>{const n=Math.log(2),r=KO(t,e),i=KO(NO(r,Az(DO(-2,r))),n);return JF(i,-1)}))},categoricalCrossentropy:kY,sparseCategoricalCrossentropy:SY,binaryCrossentropy:CY,kullbackLeiblerDivergence:AY,poisson:function(e,t){return FP((()=>{const n=DF(NO(Bq(),t));return JF(KO(t,DO(e,n)),-1)}))},cosineProximity:TY};function EY(e){if("string"===typeof e){if(e in IY)return IY[e];let t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new qH(t)}return e}function NY(e,t){return FP((()=>{const n=DO(.5,oz(t)),r=Wq(NF(t,n),e.dtype);return JF(_F(e,r),-1)}))}function MY(e,t){return FP((()=>Wq(_F(OL(e,-1),OL(t,-1)),"float32")))}function jY(e,t){return FP((()=>TO(OF(YF(_F(e,1),_F(t,1))),"float32")))}function DY(e,t){return CY(e,t)}function RY(e,t){return e.rank===t.rank&&(e=Iz(e,[e.rank-1])),(t=OL(t,-1)).dtype!==e.dtype&&(t=TO(t,e.dtype)),TO(_F(e,t),"float32")}const PY=kY,OY=SY,LY={binaryAccuracy:NY,categoricalAccuracy:MY,precision:function(e,t){return FP((()=>{const n=jY(e,t),r=function(e,t){return FP((()=>TO(OF(YF(_F(e,0),_F(t,1))),"float32")))}(e,t),i=NO(n,r);return TO(Pz(NF(i,0),jO(n,i),0),"float32")}))},categoricalCrossentropy:PY,sparseCategoricalCrossentropy:OY,mse:yY,MSE:yY,mae:xY,MAE:xY,mape:wY,MAPE:wY,cosine:TY};function FY(e){if("string"===typeof e&&e in LY)return LY[e];if("string"!==typeof e&&null!=e)return e;throw new qH("Unknown metric ".concat(e))}function zY(e){if(ZH(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;{let t;for(const n of Object.keys(IY))if(IY[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(LY))if(LY[n]===e){t=n;break}return void 0!==t?t:e.name}}const BY=1048576;function WY(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!VY(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>BY&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(n.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(BY,"."))}}function VY(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!VY(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!VY(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function UY(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const i=function(e){let t=!0;const n=[],r=[];for(const i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(const i of n){if(i.length>1||1===i.length&&i[0].inboundLayers.length>1){t=!1;break}r.push(...i)}if(t)for(const i of e.layers){let e=!1;for(const n of i.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),a=["Layer (type)","Input Shape","Output shape","Param #"];let o;if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!i){a.push("Receives inputs"),o=[];for(const t in e.nodesByDepth)o.push(...e.nodesByDepth[t])}r("_".repeat(t)),HY(a,n,r),r("=".repeat(t));const s=e.layers;for(let u=0;u<s.length;++u)i?qY(s[u],n,r):GY(s[u],n,o,r),r((u===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?EG(e.collectedTrainableWeights):EG(e.trainableWeights);return t}(e),c=EG(e.nonTrainableWeights);r("Total params: ".concat(l+c)),r("Trainable params: ".concat(l)),r("Non-trainable params: ".concat(c)),r("_".repeat(t))}function HY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="";for(let i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r+=e[i],r=r.slice(0,t[i]),r+=" ".repeat(t[i]-r.length);n(r)}function qY(e,t,n){let r,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(hie){i="multiple"}try{r=JSON.stringify(e.outputShape)}catch(hie){r="multiple"}const a=e.name,o=e.getClassName();HY(["".concat(a," (").concat(o,")"),i,r,e.countParams().toString()],t,n)}function GY(e,t,n,r){let i,a;try{a=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(hie){a="multiple"}try{i=JSON.stringify(e.outputShape)}catch(hie){i="multiple"}const o=[];for(const u of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(let e=0;e<u.inboundLayers.length;++e){const t=u.inboundLayers[e].name,n=u.nodeIndices[e],r=u.tensorIndices[e];o.push("".concat(t,"[").concat(n,"][").concat(r,"]"))}const s=e.name,l=e.getClassName(),c=0===o.length?"":o[0];HY(["".concat(s," (").concat(l,")"),a,i,e.countParams().toString(),c],t,r);for(let u=1;u<o.length;++u)HY(["","","","",o[u]],t,r)}function YY(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function XY(e,t){if(null===e)return null;if("string"===typeof e)return tq(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let i=0;i<r;++i){const r=e[i];YY(t,i,r)?n.push(r):n.push(XY(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"===typeof r)t[n]=r;else{const e=tq(n);t[e]=XY(r,e)}}return t}}function KY(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return eq(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let i=0;i<r;++i){const r=e[i];YY(t,i,r)?n.push(r):n.push(KY(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],i=eq(n);t[i]="name"!==n&&"className"!==n||"string"!==typeof r?KY(r,n):r}return t}}const ZY="4.19.0";class JY extends zG{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=vq(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],sq(this.inputs).length!==this.inputs.length)throw new qH("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map((e=>e.name))));sq(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map((e=>e.name)))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const v of this.outputs){const e=v.sourceLayer,t=v.nodeIndex,n=v.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const v of this.inputs){const e=v.sourceLayer,t=v.nodeIndex,n=v.tensorIndex;ZH(0===t,"input layer has >1 nodes"),ZH(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let v=0;v<this.inputLayers.length;v++){const t=this.inputLayers[v];if(!(t instanceof WG))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(v," (0-based) originates ")+"from layer type ".concat(t.getClassName(),"."));this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const v of this.outputLayers)this.outputNames.push(v.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},i={},a={},o=[],s=(e,t,n,r,i,l)=>{null!=r&&null!=i&&null!=l||(r=e.sourceLayer,i=e.nodeIndex,l=e.tensorIndex);const c=r.inboundNodes[i];if(-1!==n.indexOf(c))throw new HH("The tensor ".concat(e.name,' at layer "').concat(r.name,'" ')+"is part of a cycle.");if(-1!==t.indexOf(c))return;this.containerNodes.add(JY.nodeKey(r,i)),r.id in a||(a[r.id]=Object.keys(a).length),-1===n.indexOf(c)&&n.push(c);const u=c.inboundLayers.length;for(let a=0;a<u;a++){const e=c.inputTensors[a],r=c.inboundLayers[a],i=c.nodeIndices[a],o=c.tensorIndices[a];s(e,t,n,r,i,o)}for(t.push(c);n.indexOf(c)>=0;)n.splice(n.indexOf(c),1);o.push(c)},l=[],c=[];for(const v of this.outputs)s(v,l,c);const u=o.slice().reverse();for(const v of u){n[v.id]=v,v.id in t||(t[v.id]=0);let e=t[v.id];const a=null==r[v.outboundLayer.id]?0:r[v.outboundLayer.id];e=Math.max(e,a),r[v.outboundLayer.id]=e,i[v.outboundLayer.id]=v.outboundLayer,t[v.id]=e;for(let r=0;r<v.inboundLayers.length;r++){const i=v.inboundLayers[r],a=v.nodeIndices[r],o=i.inboundNodes[a],s=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(e+1,s),n[o.id]=o}}const d={};for(const v in t){const e=t[v];e in d||(d[e]=[]),d[e].push(n[v])}const h={};for(const v in r){const e=r[v];e in h||(h[e]=[]),h[e].push(i[v])}let p=Object.keys(h).map((e=>parseInt(e,10))).sort(oq);this.layers=[];for(const v of p){const e=h[v];e.sort(((e,t)=>{const n=a[e.id],r=a[t.id];return n<r?-1:n>r?1:0}));for(const t of e)t instanceof JY&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=h,p=Object.keys(d).map((e=>parseInt(e,10))).sort(oq);const f=this.inputs.slice(),m=[];for(const v of p)for(const e of d[v]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new HH("Graph disconnected: cannot obtain value for tensor ".concat(n)+' at layer "'.concat(t.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(m));for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const v of g){const e=g.filter((e=>e===v)).length;if(1!==e)throw new HH('The name "'.concat(v,'" is used ').concat(e," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new LG({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new qH("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let r=0;const i=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);i&&this.parseWeights(e);for(const o of this.layers)for(const[e,t]of o.weights.entries()){const a=i?"".concat(t.name.split("/").slice(0,-1).join("/")+"/").concat(e):t.originalName;if(null!=n[a])throw new qH("Duplicate weight name: ".concat(a));n[a]=t,r++}const a=[];for(const o in e){let r=o;if(null==n[o]){const e=o.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])a.push([n[r],e[o]]);else if(t)throw new qH("Provided weight data has no target variable: ".concat(o));delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new qH("".concat(e.length," of ").concat(r," weights are not set: ")+"".concat(e))}DG(a)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],i=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");i!==t&&(e[i]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(ZY),t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=KY(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return FP((()=>{e=$H(e);const n=new UG;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return GG(this.outputs,n,t)}))}computeMask(e,t){return FP((()=>{let n;return e=$H(e),n=null==t?KH(null,e.length):$H(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=AG(e);if(t.length!==this.inputLayers.length)throw new qH("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const n={};for(let o=0;o<t.length;o++){const e=this.inputLayers[o],r=t[o];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(oq);if(r.length>1)for(const o of r){const e=this.nodesByDepth[o];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const r=[];for(let o=0;o<t.inboundLayers.length;o++){const e=t.inboundLayers[o],i=t.nodeIndices[o],a=t.tensorIndices[o],s=n["".concat(e.name,"_").concat(i,"_").concat(a)];r.push(s)}const i=AG(e.computeOutputShape(QH(r))),a=e.inboundNodes.indexOf(t);for(let t=0;t<i.length;t++){n["".concat(e.name,"_").concat(a,"_").concat(t)]=i[t]}}}const i=[],a=[];for(let o=0;o<this.outputLayers.length;o++){const e=this.outputLayers[o],t=this.outputLayersNodeIndices[o],n=this.outputLayersTensorIndices[o],r="".concat(e.name,"_").concat(t,"_").concat(n);a.push(r)}for(let o=0;o<a.length;o++){const e=a[o];ZH(e in n),i.push(n[e])}return QH(i)}runInternalGraph(e,t){null==t&&(t=KH(null,e.length));const n={};for(let s=0;s<this.inputs.length;++s){const r=this.inputs[s],i=e[s],a=t[s];n[r.id]=[i,a]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(oq);for(const s of r){const e=this.nodesByDepth[s];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,i=t.outputTensors,a=new Array;for(const t of r)t.id in n&&a.push(n[t.id]);if(a.length===r.length){let r,o,s,l,c={};if(null!=t.callArgs&&(c=t.callArgs),1===a.length){const[t,n]=a[0];null==c.mask&&(c.mask=n),s=$H(e.call(t,c)),l=$H(e.computeMask(t,n)),r=[t],o=[n]}else r=a.map((e=>e[0])),o=a.map((e=>e[1])),null==c.mask&&(c.mask=o),s=$H(e.call(r,c)),l=$H(e.computeMask(r,o));if(e.activityRegularizer)throw new GH("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<i.length;++e){const t=i[e],r=s[e],a=l[e];n[t.id]=[r,a]}}}}const i=[],a=[],o=[];for(const s of this.outputs){ZH(s.id in n,"Could not compute output ".concat(s.name," : ").concat(s.id));const[e,t]=n[s.id];o.push(e.shape),i.push(e),a.push(t)}return[i,a,o]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof JY?1:0;for(let e=0;e<r.inboundNodes.length;e++){const i=JY.nodeKey(r,e);this.containerNodes.has(i)&&(t[i]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new qH("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new qH("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new qH("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return FP((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=JY.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const a of this.layers){const e=a.getClassName(),r=a.getConfig(),i=[];for(let n=0;n<a.inboundNodes.length;n++){const e=a.inboundNodes[n],r=JY.nodeKey(a,n);let o={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),o=e.callArgs}catch(hie){console.warn("Layer ".concat(a.name," was passed ")+"non-serializable keyword arguments: "+"".concat(e.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),o={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const i=e.inboundLayers[r],a=e.nodeIndices[r],s=e.tensorIndices[r];let l=t[JY.nodeKey(i,a)];null==l&&(l=0),n.push([i.name,l,s,o])}i.push(n)}}}const o={};o.name=a.name,o.className=e,o.config=r,o.inboundNodes=i,n.push(o)}e.layers=n;const r=[];for(let a=0;a<this.inputLayers.length;a++){const e=this.inputLayers[a],n=this.inputLayersNodeIndices[a],i=JY.nodeKey(e,n);if(!this.containerNodes.has(i))continue;let o=t[i];null!==o&&void 0!==o||(o=0);const s=this.inputLayersTensorIndices[a];r.push([e.name,o,s])}e.inputLayers=r;const i=[];for(let a=0;a<this.outputLayers.length;a++){const e=this.outputLayers[a],n=this.outputLayersNodeIndices[a],r=JY.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let o=t[r];null!==o&&void 0!==o||(o=0);const s=this.outputLayersTensorIndices[a];i.push([e.name,o,s])}return e.outputLayers=i,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={},i={};function a(e,t){e.name in i?i[e.name].push(t):i[e.name]=[t]}function o(e,t){const n=[];let i;for(const o of t){const s=o[0],l=o[1],c=o[2];if(i=null==o[3]?{}:o[3],!(s in r))return void a(e,t);const u=r[s];if(u.inboundNodes.length<=l)return void a(e,t);const d=u.inboundNodes[l];n.push(d.outputTensors[c])}n.length>0&&e.apply(QH(n),i)}function s(e){const i=e.name,o=vY(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[i]=o;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new qH("Corrupted configuration, expected array for nodeData: ".concat(e));a(o,e)}))}const l=t.name,c=t.layers;for(const f of c)s(f);for(;!lq(i);)for(const e of c){const t=r[e.name];if(t.name in i){const e=i[t.name];delete i[t.name];for(const n of e)o(t,n)}}const u=[],d=[],h=t.inputLayers;for(const f of h){const e=f[0],t=f[1],n=f[2];ZH(e in r);const i=r[e].inboundNodes[t].outputTensors;u.push(i[n])}const p=t.outputLayers;for(const f of p){const e=f[0],t=f[1],n=f[2];ZH(e in r);const i=r[e].inboundNodes[t].outputTensors;d.push(i[n])}return new e({inputs:u,outputs:d,name:l})}get stateful(){if(this._stateful)throw new qH("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){FP((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function QY(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function $Y(e,t){return QY(e,t,"classWeight")}async function eX(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=FP((()=>{if(1===e.shape.length)return IO(e);if(2===e.shape.length){if(e.shape[1]>1){return OL(e,1)}if(1===e.shape[1])return QL(e,[e.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(e.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(e.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),r=Array.from(await t.data());zP(t);const i=[];return r.forEach((e=>{if(null==n[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");i.push(n[e])})),Mz(i,"float32")}return null}function tX(e,t){return DO(e,t)}function nX(e,t){let n,r;const i=t;n=i.xs,r=i.ys,uN(null!=n&&null!=r,(()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)));const a=rX("input",e.inputNames,n),o=rX("output",e.outputNames,r),s=a[0].shape[0];uN(a.length===e.inputs.length,(()=>"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(a.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")"))),uN(o.length===e.outputs.length,(()=>"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(o.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")));for(let l=0;l<a.length;l++)uN(a[l].shape[0]===s,(()=>"Batch size mismatch: input "+"".concat(e.inputNames[l]," has ").concat(a[l].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")));for(let l=0;l<o.length;l++)uN(o[l].shape[0]===s,(()=>"Batch size mismatch: output "+"".concat(e.outputNames[l]," has ").concat(o[l].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")));return{xs:a,ys:o}}function rX(e,t,n){if(n instanceof $R)return[n];if(Array.isArray(n))return uN(n.length===t.length,(()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,"."))),n;{const r=[];for(const i of t){if(null==n[i])throw new qH("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(i,"'."));r.push(n[i])}return r}}async function iX(e,t,n){const r=null!=n.batchesPerEpoch;if(uN(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),uN(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),uN(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs))),uN(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch))),uN(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const i=null!=n.validationData;let a,o;if(i)if(aX(n.validationData))uN(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches)));else{const e=function(e){if(3===e.length)throw new GH("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);a=e.xs,o=e.ys}const s=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let c;c=i?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const u=fY(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,{callbackList:h,history:p}=gY(u,d,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,i,c);h.setModel(e),e.history=p,await h.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const c={};await h.onEpochBegin(f);let u=0,d=0;for(r||(m=await t.iterator());!r||u<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(u," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:i}=nX(e,t.value),a={};a.batch=d,a.size=r[0].shape[0],await h.onBatchBegin(d,a);const o=[];if(null!=n.classWeight){const t=$Y(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)o.push(await eX(i[e],null,t[e]))}const c=r.concat(i).concat(o),p=s(c);zP(c);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];a[t]=n,BP(n)}await h.onBatchEnd(d,a),sY(a),d++,u++}if(r?u>=n.batchesPerEpoch:t.done){if(i){let t;t=aX(n.validationData)?$H(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):$H(e.evaluate(a,o,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)c["val_".concat(e.metricsNames[n])]=t[n]}break}if(e.stopTraining_)break}if(await h.onEpochEnd(f,c),f++,e.stopTraining_)break}return await h.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function aX(e){return"function"===typeof e.iterator}function oX(e){uN(e>0&&Number.isInteger(e),(()=>"batchSize is required to be a positive integer, but got ".concat(e)))}function sX(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>Uq(e,t,n-t))):Uq(e,t,n-t)}function lX(e,t){return FP((()=>null==e?null:Array.isArray(e)?e.map((e=>lX(e,t))):Jq(e,"int32"===t.dtype?t:TO(t,"int32"))))}function cX(e,t){const n=[];let r=0,i=null;for(;r<e;)i=r+t,i>=e&&(i=e),n.push([r,i]),r=i;return n}function uX(e){const t=[];e instanceof $R&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(Vq(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function dX(e,t){if(null==e)return;const n=[];if(t instanceof $R)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const i in t){const e=t[i];n.push(e.id)}const r=[];if(e instanceof $R)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const i in e){const t=e[i];-1===n.indexOf(t.id)&&r.push(t)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function hX(e){return Array.isArray(e)}function pX(e){return!function(e){return e instanceof $R}(e)&&!hX(e)}function fX(e,t,n){let r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(hX(e)&&e.length>0)t=!0;else if(pX(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new qH("Error when checking model ".concat(a," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((e=>null));if(pX(e)){r=[];for(const n of t){if(null==e[n])throw new qH('No data provided for "'.concat(n,'". Need data for each key in: ')+"".concat(t));r.push(e[n])}}else if(hX(e)){if(e.length!==t.length)throw new qH("Error when checking model ".concat(a,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(t.length>1)throw new qH("The model ".concat(a," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=uX(r),null!=n)for(let o=0;o<t.length;++o){if(null==n[o])continue;const e=r[o];if(e.shape.length!==n[o].length)throw new qH("Error when checking ".concat(a,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s). but got array with ")+"shape ".concat(e.shape));for(let t=0;t<n[o].length;++t){if(0===t&&!i)continue;const r=e.shape[t],s=n[o][t];if(null!=s&&s>=0&&r!==s)throw new qH("".concat(a," expected a batch of elements where each ")+"example has shape [".concat(n[o].slice(1,n[o].length),"] ")+"(i.e.,tensor shape [*,".concat(n[o].slice(1,n[o].length),"])")+" but the ".concat(a," received an input with ").concat(e.shape[0])+" examples, each with shape [".concat(e.shape.slice(1,e.shape.length),"]")+" (tensor shape [".concat(e.shape,"])"))}}return r}function mX(e,t,n){let r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new qH("Error when checking model ".concat(a,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new qH("The model expects ".concat(t.length," ").concat(a," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(let o=0;o<t.length;++o){if(null==n[o])continue;const e=r[o];if(e.shape.length!==n[o].length)throw new qH("Error when checking ".concat(a,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(e.shape)));for(let r=0;r<n[o].length;++r){if(0===r&&!i)continue;const s=e.shape[r],l=n[o][r];if(null!=l&&l!==s)throw new qH("Error when checking ".concat(a,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(e.shape),"."))}}}class gX extends JY{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new qH("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");UY(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>WB.adagrad(.01),Adadelta:()=>WB.adadelta(1,.95,Bq()),Adam:()=>WB.adam(.001,.9,.999,Bq()),Adamax:()=>WB.adamax(.002,.9,.999,Bq(),0),RMSProp:()=>WB.rmsprop(.001,.9,0,Bq()),SGD:()=>WB.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new qH("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof HO))throw new qH("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new qH("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));const n=e.loss;t=n.map((e=>EY(e)))}else{const n=EY(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new qH('Unknown entry in loss dictionary: "'.concat(t,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const n of this.outputNames)null==e.loss[n]&&console.warn('Output "'.concat(n,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(n," during training")),t.push(EY(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const e=this.internalOutputShapes[a],t=this.outputNames[a];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[a])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Eq("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),i=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Eq("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,a;for(const o of t){if("string"===typeof o&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(o)){const t=this.internalOutputShapes[e];let i;1===t[t.length-1]||this.lossFunctions[e]===CY?-1!==["accuracy","acc"].indexOf(o)?r=NY:-1!==["crossentropy","ce"].indexOf(o)&&(r=DY):this.lossFunctions[e]===SY?-1!==["accuracy","acc"].indexOf(o)?r=RY:-1!==["crossentropy","ce"].indexOf(o)&&(r=OY):-1!==["accuracy","acc"].indexOf(o)?r=MY:-1!==["crossentropy","ce"].indexOf(o)&&(r=PY),-1!==["accuracy","acc"].indexOf(o)?i="acc":-1!==["crossentropy","ce"].indexOf(o)&&(i="ce"),a=r,n=""+i}else{const e=FY(o);a=e,n=""+zY(o)}let t;Eq(n,(()=>{t=a})),i(e,n,t)}})(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null==n.batchSize?32:n.batchSize;oX(r);const i=this.standardizeUserDataXY(e,t,!0,r);try{const e=i[0].concat(i[1]);this.makeTestFunction();const t=this.testFunction;return QH(this.testLoop(t,e,r,n.verbose,n.steps))}finally{dX(i[0],e),dX(i[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,i=e.testFunction;let a=[];if(n.verbose>0)throw new GH("Verbose mode is not implemented yet.");uN(!r||n.batches>0&&Number.isInteger(n.batches),(()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches))));const o="function"===typeof t.next?t:await t.iterator();let s=0,l=0;for(;!r||l<n.batches;){const t=await o.next();if(a=FP((()=>{if(t.value){const{xs:n,ys:r}=nX(e,t.value),o=n.concat(r),c=FP((()=>i(o)));if(zP(o),0===l)for(let e=0;e<c.length;++e)a.push(FO(0));const u=o[0].shape[0];for(let e=0;e<c.length;++e){const t=c[e],n=a[e];a[e]=FP((()=>NO(a[e],DO(u,t)))),l>0&&zP(n)}zP(c),s+=u,++l}return a})),t.done){r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let c=0;c<a.length;++c){const e=a[c];a[c]=jO(a[c],s),zP(e)}return QH(a)}(this,e,t)}checkNumSamples(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new qH("If ".concat(i," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new qH("Either the input data should have a defined shape, or "+"".concat(i," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new qH("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),a=new UG;if(e instanceof $R&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new qH("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let t=0;t<this.inputs.length;++t)a.add(this.inputs[t],e[t])}else for(const s of this.inputs){const t=e[s.name];if(null==t)throw new qH("No value is provided for the model's input ".concat(s.name));a.add(s,t)}const o=GG(i,a);return n?o:o[0]}retrieveSymbolicTensors(e){const t=KH(null,e.length);let n=e.length;for(const r of this.layers){const i=Array.isArray(r.output)?r.output:[r.output],a=i.map((e=>e.name));for(let r=0;r<e.length;++r){const o=a.indexOf(e[r]);if(-1!==o&&(t[r]=i[o],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new qH("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(n)))}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return FP((()=>{const r=this.checkNumSamples(e);if(n)throw new GH("Verbose predictLoop() is not implemented yet.");const i=cX(r,t),a=this.outputs.map((e=>[]));for(let t=0;t<i.length;++t){const n=FP((()=>{const n=i[t][0],r=i[t][1],a=sX(e,n,r),o=[];if(Array.isArray(a))for(let e=0;e<a.length;++e)o.push({key:this.inputs[e],value:a[e]});else o.push({key:this.inputs[0],value:a});const s=new UG(o);return GG(this.outputs,s)}));n.forEach(((e,t)=>a[t].push(e)))}return QH(a.map((e=>sF(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=uX(e);mX(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return oX(e),this.predictLoop(n,e)}finally{dX(n,e)}}predictOnBatch(e){mX(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new HH("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let i=0;i<this.feedOutputShapes.length;++i){const e=this.feedOutputShapes[i];this.feedLossFns[i]===SY?r.push(e.slice(0,e.length-1).concat([1])):r.push(e)}if(function(e,t,n){const r=sq(e.map((e=>e.shape[0])));r.sort();const i=sq(t.map((e=>e.shape[0])));if(i.sort(),r.length>1)throw new qH("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((e=>e.shape)))));if(i.length>1)throw new qH("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((e=>e.shape)))));if(r.length>0&&i.length>0&&!fN(r,i))throw new qH("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(i[0]," target ")+"sample(s).")}(e=fX(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=fX(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const r=[yY,CY,kY];for(let i=0;i<e.length;++i){const a=e[i],o=t[i],s=n[i];if(null!=o){if(o===kY&&1===a.shape[a.shape.length-1])throw new qH("You are passing a target array of shape ".concat(a.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o)){const e=a.shape.slice(1),t=s.slice(1);for(let n=0;n<e.length;++n){const r=e[n],i=t[n];if(null!=i&&r!==i)throw new qH("A target Tensor with shape ".concat(a.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new qH("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}async standardizeUserData(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5?arguments[5]:void 0;const[o,s]=this.standardizeUserDataXY(e,t,i,a);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=$Y(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await eX(s[t],null,e[t]))}return[o,s,l]}testLoop(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return FP((()=>{const a=this.checkNumSamples(t,n,i,"steps"),o=[];if(r>0)throw new GH("Verbose mode is not implemented yet.");if(null!=i)throw new GH("steps mode in testLoop() is not implemented yet");{const r=cX(a,n),i=Mz(Fq(0,a));for(let n=0;n<r.length;++n){const a=r[n][0],s=r[n][1],l=Uq(i,a,s-a),c=lX(t,l),u=e(c);if(0===n)for(let e=0;e<u.length;++e)o.push(FO(0));for(let e=0;e<u.length;++e){const t=u[e];o[e]=NO(o[e],DO(s-a,t))}}for(let e=0;e<o.length;++e)o[e]=jO(o[e],a)}return o}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let i=r;if(JH(e,r)>1){const t=JH(e.slice(0,n),r);i+="_".concat(t)}t.push(i)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),a=[],o=this.collectedTrainableWeights.map((e=>e.read())),s=this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const o=new UG(e),s=GG(this.outputs,o,{training:!0});let l;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],s[n]);null!=i[n]&&(e=tX(e,i[n]));const a=JF(e);t.push(a),l=0===n?e:NO(l,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],i=this.metricsTensors[n][1];e=JF(t(r[i],s[i]))}BP(e),a.push(e)}return l=JF(l),this.calculateLosses().forEach((e=>{l=NO(l,e)})),l}),!0,o);return[s].concat(a)}}makeTestFunction(){this.testFunction=e=>FP((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let e=0;e<this.inputs.length;++e)a.push({key:this.inputs[e],value:r[e]});const o=new UG(a),s=GG(this.outputs,o);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],a=JF(r(i[e],s[e]));n=0===e?a:NO(n,a),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],a=JF(n(i[r],s[r]));t.push(a)}return t}))}async fit(e,t){let n,r,i,a,o,s,l,c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const h=null==d.batchSize?32:d.batchSize;oX(h);const p=!1,f=await this.standardizeUserData(e,t,d.sampleWeight,d.classWeight,p,h);n=f[0],r=f[1],u=f[2];let m,g=!1;if(null!=d.validationData&&d.validationData.length>0){if(g=!0,2!==d.validationData.length)throw 3===d.validationData.length?new GH("validationData including sample weights is not supported yet."):new qH("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(d.validationData," is invalid."));o=d.validationData[0],s=d.validationData[1];const e=!0,t=await this.standardizeUserData(o,s,null,null,e,h);l=t[0],c=t[1],m=l.concat(c)}else if(null!=d.validationSplit&&d.validationSplit>0&&d.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-d.validationSplit)),t=n[0].shape[0];l=sX(n,e,t),i=n,n=sX(n,0,e),c=sX(r,e,t),a=r,r=sX(r,0,e),m=l.concat(c)}else null!=d.validationSteps&&(g=!0);const v=n.concat(r).concat(u);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),y=this.getDedupedMetricsNames();let x,w;g?(this.makeTestFunction(),x=this.testFunction,w=y.slice().concat(y.map((e=>"val_"+e)))):(x=null,m=[],w=y.slice());const _=fY(d.callbacks,d.yieldEvery);return await this.fitLoop(b,v,y,h,d.epochs,d.verbose,_,x,m,d.shuffle,w,d.initialEpoch,null,null)}finally{this.isTraining=!1,dX(n,e),dX(r,t),dX(i,e),dX(a,t),dX(l,o),dX(c,s),null!=u&&zP(u)}}async fitLoop(e,t,n,r,i,a,o,s,l,c,u,d,h,p){null==r&&(r=32),null==i&&(i=1),null==c&&(c=!0),null==d&&(d=0);let f=!1;if(null!=s&&null!=l&&(f=!0),null!=p&&(f=!0,null==h))throw new qH("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,h,"steps_per_epoch");let g;null!=m&&(g=Fq(0,m)),null==a&&(a=1);const{callbackList:v,history:b}=gY(o,a,i,d,m,h,r,f,u);v.setModel(this),this.history=b,await v.onTrainBegin(),this.stopTraining_=!1;for(let y=d;y<i;++y){await v.onEpochBegin(y);const i={};if(null!=h)throw new GH("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new GH("batch shuffling is not implemneted yet");c&&oN(g);const a=Mz(g),o=cX(m,r);for(let c=0;c<o.length;++c){const u={};if(await v.onBatchBegin(c,u),FP((()=>{const d=o[c][0],h=o[c][1],p=Uq(a,d,h-d);u.batch=c,u.size=h-d;const m=lX(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];u[t]=r,BP(r)}if(c===o.length-1&&f){const e=this.testLoop(s,l,r);for(let t=0;t<n.length;++t){const r=n[t],a=e[t];BP(a),i["val_"+r]=a}}})),await v.onBatchEnd(c,u),sY(u),this.stopTraining_)break}a.dispose()}if(await v.onEpochEnd(y,i),this.stopTraining_)break}return await v.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return iX(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],i=n[1],a=this.makeTrainFunction()(r.concat(i)),o=[];for(const s of a){const e=await s.data();o.push(e[0])}return zP(a),dX(n[0],e),dX(n[1],t),QH(o)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n);for(let a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:i[a]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=LP().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-LP().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=eq(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>eq(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!==typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=eq(n[r])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[eq(zY(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>eq(zY(e))));{const e={};for(const t in this.metrics)e[t]=eq(zY(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=vY(XY(e.optimizer_config));let n,r;if("string"===typeof e.loss)n=tq(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>tq(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=tq(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>tq(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=tq(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"===typeof e){const t=(e=>QP.getSaveHandlers(e))(e);if(0===t.length)throw new qH("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new qH("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new qH("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await HP(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(ZY),convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){r.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:a}=await HP(await this.optimizer.getWeights(),e);n.specs.push(...a),n.data=(i=[n.data,t],PP.join(i))}var i;if(null!=this.userDefinedMetadata){const e=!0;WY(this.userDefinedMetadata,this.name,e),r.userDefinedMetadata=this.userDefinedMetadata}return r.weightData=n.data,r.weightSpecs=n.specs,e.save(r)}setUserDefinedMetadata(e){WY(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}gX.className="Model",UO(gX);class vX extends gX{}vX.className="Functional",UO(vX);class bX extends gX{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:vq("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new qH("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const t=e instanceof bX||e instanceof gX;let n;if(t){if(n=e,1!==n.outputs.length)throw new qH("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new qH("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new qH("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=VG({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new qH("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new qH("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=BG(this.outputs[0])}this.inboundNodes=[],new LG({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:KH(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(IG(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new gX({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new HH("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new HH("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new HH("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new HH("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new qH("Legacy serialization format not supported yet.");n=t}else uN(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,i=t;const a=new e(i);if(!(a instanceof bX))throw new GH("Sequential.fromConfig called on non-Sequential input: ".concat(a));for(const o of n){const e=vY(o,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),a.add(e)}return a}set stopTraining(e){if(null==this.model)throw new qH("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new qH("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}bX.className="Sequential",UO(bX);class yX extends WO{getConfig(){return{}}}class xX extends yX{apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new GH("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return wF(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}xX.className="elu",UO(xX);class wX extends yX{apply(e){return vz(e)}}wX.className="selu",UO(wX);class _X extends yX{apply(e){return mz(e)}}_X.className="relu",UO(_X);class kX extends yX{apply(e){return FP((()=>$F(6,mz(e))))}}kX.className="relu6",UO(kX);class SX extends yX{apply(e){return e}}SX.className="linear",UO(SX);class CX extends yX{apply(e){return yz(e)}}CX.className="sigmoid",UO(CX);class AX extends yX{apply(e){return function(e){return FP((()=>{const t=NO(.5,DO(.2,e));return oF(t,0,1)}))}(e)}}AX.className="hardSigmoid",UO(AX);class TX extends yX{apply(e){return Az(e)}}TX.className="softplus",UO(TX);class IX extends yX{apply(e){return function(e){return FP((()=>jO(e,NO(JO(e),1))))}(e)}}IX.className="softsign",UO(IX);class EX extends yX{apply(e){return Nz(e)}}EX.className="tanh",UO(EX);class NX extends yX{apply(e){return Cz(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}NX.className="softmax",UO(NX);class MX extends yX{apply(e){return LF(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}MX.className="logSoftmax",UO(MX);class jX extends yX{apply(e){return FP((()=>FP((()=>{const t=Math.sqrt(2),n=DO(.5,NO(1,kF(jO(e,t))));return DO(e,n)}))))}}jX.className="gelu",UO(jX);class DX extends yX{apply(e){return FP((()=>DO(.5,DO(e,NO(1,Nz(DO(RO(jO(2,Math.PI)),NO(e,DO(.044715,XO(e,3))))))))))}}DX.className="gelu_new",UO(DX);class RX extends yX{apply(e){return FP((()=>DO(e,Nz(Az(e)))))}}RX.className="mish",UO(RX);class PX extends yX{apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return FP((()=>DO(yz(DO(e,t)),e)))}}function OX(e){return e.getClassName()}function LX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return aq(e,VO.getMap().classNameMap,t,"activation")}function FX(e){if(null==e){const e={className:"linear",config:{}};return LX(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},LX(t)}return e instanceof yX?e:LX(e)}function zX(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}PX.className="swish",UO(PX);class BX extends WO{}class WX extends BX{constructor(e){super(),zX(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return FP((()=>{let t=iz([1]);return this.hasL1&&(t=NO(t,OF(DO(this.l1,JO(e))))),this.hasL2&&(t=NO(t,OF(DO(this.l2,Qq(e))))),QL(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}WX.className="L1L2",UO(WX);const VX={l1l2:"L1L2"};function UX(e){return rq(e)}function HX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return aq(e,VO.getMap().classNameMap,t,"regularizer")}function qX(e){if(null==e)return null;if("string"===typeof e){return HX({className:e in VX?VX[e]:e,config:{}})}return e instanceof BX?e:HX(e)}class GX extends zG{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=TG(e);let n=mz(e);return null!=this.maxValue&&(n=oF(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}GX.className="ReLU",UO(GX);class YX extends zG{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=TG(e);return jF(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}YX.className="LeakyReLU",UO(YX);class XX extends zG{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=SG(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=qX(e.alphaRegularizer),this.alphaConstraint=aY(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new qH("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=IG(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new RG({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=TG(e),lz(e,this.alpha.read())}getConfig(){const e={alphaInitializer:kG(this.alphaInitializer),alphaRegularizer:UX(this.alphaRegularizer),alphaConstraint:rY(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}XX.className="PReLU",UO(XX);class KX extends zG{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new GH("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=TG(e);return wF(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}KX.className="ELU",UO(KX);class ZX extends zG{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=TG(e);return DO(n,TO(NF(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}ZX.className="ThresholdedReLU",UO(ZX);class JX extends zG{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new NX).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return FP((()=>{let n=TG(e);const r=t.mask;if(null!=r){const e=DO(KO(az(n.shape),TO(r,n.dtype)),FO(-1e9));n=NO(n,e)}return this.axis instanceof Array?this.axis.length>1?SF(KO(n,GF(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function QX(e,t,n){if("number"===typeof e)return KH(e,t);if(e.length!==t)throw new qH("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(let r=0;r<t;++r){const i=e[r];if(!Rq(i))throw new qH("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(i))}return e}function $X(e,t,n,r){if(null==e)return e;let i;return i="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((i+r-1)/r)}function eK(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Lq([n-t,0]);else{if("same"!==r)throw new qH("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function tK(e,t){return FP((()=>(Sq(t),"channelsFirst"===t?Fz(e,[0,2,3,1]):e)))}function nK(e,t){return FP((()=>(Sq(t),"channelsFirst"===t?Fz(e,[0,2,3,4,1]):e)))}function rK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return FP((()=>{if(null==a&&(a="channelsLast"),Sq(a),3!==e.shape.length)throw new qH("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new qH("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new qH("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if("channelsFirst"===a&&(e=Fz(e,[0,2,1])),"causal"===i)throw new GH("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=pF(e,t,r,"same"===i?"same":"valid","NWC",o);return null!=n&&(s=eG(s,n)),s}))}function iK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return FP((()=>{if(null==a&&(a="channelsLast"),Sq(a),3!==e.rank&&4!==e.rank)throw new qH("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new qH("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));let l=tK(e,a);if("causal"===i)throw new GH("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Jz({x:l,filter:t,strides:r,pad:"same"===i?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===a&&(l=Fz(l,[0,3,1,2])),l}))}function aK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return FP((()=>{if(null==a&&(a="channelsLast"),Sq(a),4!==e.rank&&5!==e.rank)throw new qH("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new qH("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));let s=nK(e,a);if("causal"===i)throw new GH("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=gF(s,t,r,"same"===i?"same":"valid","NDHWC",o),null!=n&&(s=eG(s,n)),"channelsFirst"===a&&(s=Fz(s,[0,4,1,2,3])),s}))}JX.className="Softmax",UO(JX);class oK extends zG{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",oK.verifyArgs(t),this.rank=e,dq(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new GH("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=QX(t.kernelSize,e,"kernelSize"),this.strides=QX(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Cq(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Sq(this.dataFormat),this.activation=FX(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=SG(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=aY(t.biasConstraint),this.biasRegularizer=qX(t.biasRegularizer),this.activityRegularizer=qX(t.activityRegularizer),this.dilationRate=QX(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new qH("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new qH("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new qH("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}static verifyArgs(e){if(ZH("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!uq(e.kernelSize,"number",1,3))throw new qH("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:OX(this.activation),useBias:this.useBias,biasInitializer:kG(this.biasInitializer),biasRegularizer:UX(this.biasRegularizer),activityRegularizer:UX(this.activityRegularizer),biasConstraint:rY(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class sK extends oK{constructor(e,t){super(e,t),this.kernel=null,sK.verifyArgs(t),this.filters=t.filters,dq(this.filters,"filters"),this.kernelInitializer=SG(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=aY(t.kernelConstraint),this.kernelRegularizer=qX(t.kernelRegularizer)}build(e){e=IG(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new qH("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return FP((()=>{let t;e=TG(e);const n=null==this.bias?null:this.bias.read(),r=pq(this.activation.getClassName());if(null!=r&&2===this.rank)t=iK(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=rK(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=iK(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new GH("convolutions greater than 3D are not implemented yet.");t=aK(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=IG(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<n.length;++i){const e=$X(n[i],this.kernelSize[i],this.padding,this.strides[i],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[i]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:kG(this.kernelInitializer),kernelRegularizer:UX(this.kernelRegularizer),kernelConstraint:rY(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new qH("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class lK extends sK{constructor(e){super(2,e),lK.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!uq(e.kernelSize,"number",1,2))throw new qH("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}lK.className="Conv2D",UO(lK);class cK extends sK{constructor(e){super(3,e),cK.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new qH("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}cK.className="Conv3D",UO(cK);class uK extends lK{constructor(e){if(super(e),this.inputSpec=[new RG({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new qH("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(4!==(e=IG(e)).length)throw new qH("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new qH("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new RG({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return FP((()=>{let t=TG(e);if(4!==t.shape.length)throw new qH("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,r=n[0];let i,a;"channelsFirst"===this.dataFormat?(i=2,a=3):(i=1,a=2);const o=n[i],s=n[a],l=this.kernelSize[0],c=this.kernelSize[1],u=this.strides[0],d=this.strides[1],h=[r,eK(o,u,l,this.padding),eK(s,d,c,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=Fz(t,[0,2,3,1]));let p=mF(t,this.kernel.read(),h,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=Fz(p,[0,3,1,2])),null!=this.bias&&(p=eG(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=IG(e)).slice();let n,r,i;"channelsFirst"===this.dataFormat?(n=1,r=2,i=3):(n=3,r=1,i=2);const a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=eK(t[r],s,a,this.padding),t[i]=eK(t[i],l,o,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}uK.className="Conv2DTranspose",UO(uK);class dK extends cK{constructor(e){if(super(e),this.inputSpec=[new RG({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new qH("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(5!==(e=IG(e)).length)throw new qH("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new qH("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new RG({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return FP((()=>{let t=TG(e);if(5!==t.shape.length)throw new qH("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,r=n[0];let i,a,o;"channelsFirst"===this.dataFormat?(o=2,i=3,a=4):(o=1,i=2,a=3);const s=n[o],l=n[i],c=n[a],u=this.kernelSize[0],d=this.kernelSize[1],h=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,eK(s,p,u,this.padding),eK(l,f,d,this.padding),eK(c,m,h,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=Fz(t,[0,2,3,4,1]));let v=bF(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(v=Fz(v,[0,4,1,2,3])),null!==this.bias&&(v=eG(v,this.bias.read(),this.dataFormat)),null!==this.activation&&(v=this.activation.apply(v)),v}))}computeOutputShape(e){const t=(e=IG(e)).slice();let n,r,i,a;"channelsFirst"===this.dataFormat?(n=1,r=2,i=3,a=4):(n=4,r=1,i=2,a=3);const o=this.kernelSize[0],s=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],u=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[r]=eK(t[r],c,o,this.padding),t[i]=eK(t[i],u,s,this.padding),t[a]=eK(t[a],d,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}dK.className="Conv3DTranspose",UO(dK);class hK extends sK{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new qH("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new qH("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new qH("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(t.padding)));this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=SG(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=qX(t.depthwiseRegularizer),this.depthwiseConstraint=aY(t.depthwiseConstraint),this.pointwiseInitializer=SG(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=qX(t.pointwiseRegularizer),this.pointwiseConstraint=aY(t.pointwiseConstraint)}build(e){if((e=IG(e)).length<this.rank+2)throw new qH("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new qH("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),i=[];for(let o=0;o<this.rank;++o)i.push(1);i.push(n*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new RG({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return FP((()=>{let t;if(e=TG(e),1===this.rank)throw new GH("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=Fz(e,[0,2,3,1])),t=bz(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=eG(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=Fz(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=kG(this.depthwiseInitializer),e.pointwiseInitializer=kG(this.pointwiseInitializer),e.depthwiseRegularizer=UX(this.depthwiseRegularizer),e.pointwiseRegularizer=UX(this.pointwiseRegularizer),e.depthwiseConstraint=rY(this.depthwiseConstraint),e.pointwiseConstraint=rY(this.pointwiseConstraint),e}}hK.className="SeparableConv";class pK extends hK{constructor(e){super(2,e)}}pK.className="SeparableConv2D",UO(pK);class fK extends sK{constructor(e){super(1,e),fK.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!uq(e.kernelSize,"number",1,1))throw new qH("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}fK.className="Conv1D",UO(fK);class mK extends zG{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return FP((()=>{if(e=TG(e),"channelsLast"===this.dataFormat){const t=qq(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return qq(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=qq(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return qq(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}mK.className="Cropping2D",UO(mK);class gK extends zG{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Sq(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function(e){cq(yq,"InterpolationFormat",e)}(this.interpolation)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return FP((()=>{let t=TG(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=Fz(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],i="nearest"===this.interpolation?zB.resizeNearestNeighbor(t,[e,r]):zB.resizeBilinear(t,[e,r]);return Fz(i,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?zB.resizeNearestNeighbor(t,[e,r]):zB.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}gK.className="UpSampling2D",UO(gK);class vK extends oK{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=SG(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=aY(e.depthwiseConstraint),this.depthwiseRegularizer=qX(e.depthwiseRegularizer)}build(e){if((e=IG(e)).length<4)throw new qH("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new qH("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return FP((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return FP((()=>{null==i&&(i="channelsLast"),Sq(i);let o=tK(e,i);if(4!==e.rank)throw new qH("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new qH("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return o=xF(o,t,n,"same"===r?"same":"valid","NHWC",a),"channelsFirst"===i&&(o=Fz(o,[0,3,1,2])),o}))}(e=TG(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=eG(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=IG(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=$X(t,this.kernelSize[0],this.padding,this.strides[0]),a=$X(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=kG(this.depthwiseInitializer),e.depthwiseRegularizer=UX(this.depthwiseRegularizer),e.depthwiseConstraint=rY(this.depthwiseRegularizer),e}}function bK(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new qH("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function yK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return FP((()=>{const l=t.shape.length;if(l<3)throw new qH("Input should be at least 3D, but is ".concat(l,"D."));const c=[1,0].concat(Fq(2,l));if(t=Fz(t,c),null!=a)throw new GH("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&(i=TO(TO(i,"bool"),"float32"),i.rank===l-1&&(i=CF(i,-1)),i=Fz(i,c)),r&&(t=gz(t,0),null!=i&&(i=gz(i,0)));const u=[];let d,h=n;const p=t.shape[0],f=Rz(t);let m,g;null!=i&&(m=Rz(i));for(let t=0;t<p;++t){const n=f[t],r=FP((()=>e(n,h)));if(null==i)d=r[0],h=r[1];else{const e=FP((()=>{const e=m[t],n=KO(oz(e),e),i=NO(DO(r[0],e),DO(h[0],n)),a=h.map(((t,i)=>NO(DO(r[1][i],e),DO(t,n))));return{output:i,newStates:a}}));d=e.output,h=e.newStates}s&&u.push(d)}if(s){g=Ez(u,1)}return[d,g,h]}))}vK.className="DepthwiseConv2D",UO(vK);class xK extends zG{constructor(e){let t;if(super(e),null==e.cell)throw new qH("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new IK({cells:e.cell}):e.cell,null==t.stateSize)throw new qH("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new RG({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return Fq(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){CG(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return FP((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new GH("Constants support is not implemented in RNN yet.");CG(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new RG({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let i;if(this.cell.build(r),i=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!fN(this.stateSpec.map((e=>e.shape[e.shape.length-1])),i))throw new qH("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=i.map((e=>new RG({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];FP((()=>{if(!this.stateful)throw new UH("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new qH("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>iz([n,e]))):this.states_=[iz([n,this.cell.stateSize])];else if(null==e)zP(this.states_),null!=this.keptStates&&(zP(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>iz([n,e]))):this.states_[0]=iz([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new qH("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===t?this.keptStates.push(this.states_.slice()):zP(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,a=[n,i];if(!fN(r.shape,a))throw new qH("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(a,", received shape=").concat(r.shape));this.states_[t]=r}}this.states_=this.states_.map((e=>BP(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const i=bK(e,n,r,this.numConstants);e=i.inputs,n=i.initialState,r=i.constants;let a=[],o=[];if(null!=n){t.initialState=n,a=a.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new RG({shape:e.shape}));o=o.concat(this.stateSpec)}null!=r&&(t.constants=r,a=a.concat(r),this.numConstants=r.length);if(a[0]instanceof PG){const n=[e].concat(a),r=this.inputSpec.concat(o),i=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=i,s}return super.apply(e,t)}call(e,t){return FP((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let i=null==t?null:t.initialState;e=TG(e),null==i&&(i=this.stateful?this.states_:this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==a)throw new qH("RNN Layer has ".concat(a," state(s) but was passed ")+"".concat(i.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:r},s=yK(((e,t)=>{const n=this.cell.call([e].concat(t),o);return[n[0],n.slice(1)]}),e,i,this.goBackwards,n,null,this.unroll,this.returnSequences),l=s[0],c=s[1],u=s[2];this.stateful&&this.resetStates(u,r);const d=this.returnSequences?c:l;return this.returnState?[d].concat(u):d}))}getInitialState(e){return FP((()=>{let t=iz(e.shape);return t=OF(t,[1,2]),t=Vq(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?Xq(t,[1,e]):t)):this.cell.stateSize>1?[Xq(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===xK.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=vY(t.cell,n);return new e(Object.assign(t,{cell:r}))}}xK.className="RNN",UO(xK);class wK extends zG{}class _K extends wK{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,dq(this.units,"units"),this.activation=FX(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=SG(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=SG(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=SG(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=qX(e.kernelRegularizer),this.recurrentRegularizer=qX(e.recurrentRegularizer),this.biasRegularizer=qX(e.biasRegularizer),this.kernelConstraint=aY(e.kernelConstraint),this.recurrentConstraint=aY(e.recurrentConstraint),this.biasConstraint=aY(e.biasConstraint),this.dropout=Oq([1,Lq([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Oq([1,Lq([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=IG(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return FP((()=>{if(2!==e.length)throw new qH("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let n=e[1];e=e[0];const r=null!=t.training&&t.training;let i;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=EK({ones:()=>oz(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=EK({ones:()=>oz(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=this.recurrentDropoutMask;i=Zq(null!=a?DO(e,a):e,this.kernel.read()),null!=this.bias&&(i=eG(i,this.bias.read())),null!=o&&(n=DO(n,o));let s=NO(i,Zq(n,this.recurrentKernel.read()));return null!=this.activation&&(s=this.activation.apply(s)),[s,s]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:OX(this.activation),useBias:this.useBias,kernelInitializer:kG(this.kernelInitializer),recurrentInitializer:kG(this.recurrentInitializer),biasInitializer:kG(this.biasInitializer),kernelRegularizer:UX(this.kernelRegularizer),recurrentRegularizer:UX(this.recurrentRegularizer),biasRegularizer:UX(this.biasRegularizer),activityRegularizer:UX(this.activityRegularizer),kernelConstraint:rY(this.kernelConstraint),recurrentConstraint:rY(this.recurrentConstraint),biasConstraint:rY(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}_K.className="SimpleRNNCell",UO(_K);class kK extends xK{constructor(e){e.cell=new _K(e),super(e)}call(e,t){return FP((()=>{null!=this.cell.dropoutMask&&(zP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(zP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})}))}static fromConfig(e,t){return new e(t)}}kK.className="SimpleRNN",UO(kK);class SK extends wK{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new qH("GRUCell does not support reset_after parameter set to true.");this.units=e.units,dq(this.units,"units"),this.activation=FX(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=FX(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=SG(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=SG(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=SG(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=qX(e.kernelRegularizer),this.recurrentRegularizer=qX(e.recurrentRegularizer),this.biasRegularizer=qX(e.biasRegularizer),this.kernelConstraint=aY(e.kernelConstraint),this.recurrentConstraint=aY(e.recurrentConstraint),this.biasConstraint=aY(e.biasConstraint),this.dropout=Oq([1,Lq([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Oq([1,Lq([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=IG(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return FP((()=>{if(2!==e.length)throw new qH("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=EK({ones:()=>oz(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=EK({ones:()=>oz(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let o,s,l;0<this.dropout&&this.dropout<1&&(e=DO(e,i[0]));let c=Zq(e,this.kernel.read());this.useBias&&(c=eG(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=DO(r,a[0]));const u=this.recurrentKernel.read(),[d,h]=Tz(u,[2*this.units,this.units],u.rank-1),p=Zq(r,d),[f,m,g]=Tz(c,3,c.rank-1),[v,b]=Tz(p,2,p.rank-1);o=this.recurrentActivation.apply(NO(f,v)),s=this.recurrentActivation.apply(NO(m,b));const y=Zq(DO(s,r),h);l=this.activation.apply(NO(g,y));const x=NO(DO(o,r),DO(NO(1,tz(o)),l));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:OX(this.activation),recurrentActivation:OX(this.recurrentActivation),useBias:this.useBias,kernelInitializer:kG(this.kernelInitializer),recurrentInitializer:kG(this.recurrentInitializer),biasInitializer:kG(this.biasInitializer),kernelRegularizer:UX(this.kernelRegularizer),recurrentRegularizer:UX(this.recurrentRegularizer),biasRegularizer:UX(this.biasRegularizer),activityRegularizer:UX(this.activityRegularizer),kernelConstraint:rY(this.kernelConstraint),recurrentConstraint:rY(this.recurrentConstraint),biasConstraint:rY(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}SK.className="GRUCell",UO(SK);class CK extends xK{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new SK(e),super(e)}call(e,t){return FP((()=>{null!=this.cell.dropoutMask&&(zP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(zP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}CK.className="GRU",UO(CK);class AK extends wK{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,dq(this.units,"units"),this.activation=FX(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=FX(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=SG(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=SG(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=SG(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=qX(e.kernelRegularizer),this.recurrentRegularizer=qX(e.recurrentRegularizer),this.biasRegularizer=qX(e.biasRegularizer),this.kernelConstraint=aY(e.kernelConstraint),this.recurrentConstraint=aY(e.recurrentConstraint),this.biasConstraint=aY(e.biasConstraint),this.dropout=Oq([1,Lq([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Oq([1,Lq([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=IG(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends aG{apply(t,r){const i=e.apply([n]),a=(new sG).apply([n]),o=e.apply([2*n]);return Yq(Yq(i,a),o)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return FP((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new qH("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let r=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=EK({ones:()=>oz(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=EK({ones:()=>oz(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=this.recurrentDropoutMask;let s,l,c,u;0<this.dropout&&this.dropout<1&&(e=DO(e,a[0]));let d=Zq(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=DO(r,o[0])),d=NO(d,Zq(r,this.recurrentKernel.read())),this.useBias&&(d=eG(d,this.bias.read()));const[h,p,f,m]=Tz(d,4,d.rank-1);s=this.recurrentActivation.apply(h),l=this.recurrentActivation.apply(p),c=NO(DO(l,i),DO(s,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=DO(u,this.activation.apply(c));return[g,g,c]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:OX(this.activation),recurrentActivation:OX(this.recurrentActivation),useBias:this.useBias,kernelInitializer:kG(this.kernelInitializer),recurrentInitializer:kG(this.recurrentInitializer),biasInitializer:kG(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:UX(this.kernelRegularizer),recurrentRegularizer:UX(this.recurrentRegularizer),biasRegularizer:UX(this.biasRegularizer),activityRegularizer:UX(this.activityRegularizer),kernelConstraint:rY(this.kernelConstraint),recurrentConstraint:rY(this.recurrentConstraint),biasConstraint:rY(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}AK.className="LSTMCell",UO(AK);class TK extends xK{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new AK(e),super(e)}call(e,t){return FP((()=>{null!=this.cell.dropoutMask&&(zP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(zP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}TK.className="LSTM",UO(TK);class IK extends wK{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return FP((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const i=[];let a;for(let o=0;o<this.cells.length;++o){const s=this.cells[o];n=r[o],a=0===o?[e[0]].concat(n):[a[0]].concat(n),a=s.call(a,t),i.push(a.slice(1))}n=[];for(const e of i.slice().reverse())n.push(...e);return[a[0]].concat(n)}))}build(e){let t;CG(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{Eq("RNNCell_".concat(r),(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];for(const i of t.cells)r.push(vY(i,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return jG(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,i=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],i[e]])}DG(t)}}function EK(e){const{ones:t,rate:n,training:r=!1,count:i=1,dropoutFunc:a}=e,o=()=>null!=a?a(t(),n):tG(t(),n),s=()=>nG(o,t,r);if(!i||i<=1)return BP(s().clone());return Array(i).fill(void 0).map(s).map((e=>BP(e.clone())))}IK.className="StackedRNNCells",UO(IK);var NK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class MK extends xK{constructor(e){if(e.unroll)throw new GH("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new GH("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new RG({ndim:5})]}call(e,t){return FP((()=>{if(null!=this.cell.dropoutMask&&(zP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(zP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new qH("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return FP((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),i=iz([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(i):[i]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];FP((()=>{if(!this.stateful)throw new UH("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),i=[r[0],...r.slice(2)];if(null==n[0])throw new qH("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>iz(i))):this.states_=[iz(i)];else if(null==e)zP(this.states_),null!=this.keptStates&&(zP(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>iz(i))):this.states_[0]=iz(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new qH("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));t?this.keptStates.push(this.states_.slice()):zP(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=i;if(!fN(n.shape,r))throw new qH("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(r,", received shape=").concat(n.shape));this.states_[t]=n}}this.states_=this.states_.map((e=>BP(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:i,strides:a,dilationRate:o}=this.cell,s="channelsFirst"===t,l=e[s?3:2],c=e[s?4:3],u=$X(l,r[0],i,a[0],o[0]),d=$X(c,r[1],i,a[1],o[1]);return[...e.slice(0,2),...s?[n,u,d]:[u,d,n]]}}MK.className="ConvRNN2D";class jK extends AK{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:i,dataFormat:a,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,dq(this.filters,"filters"),this.kernelSize=QX(n,2,"kernelSize"),this.kernelSize.forEach((e=>dq(e,"kernelSize"))),this.strides=QX(r||1,2,"strides"),this.strides.forEach((e=>dq(e,"strides"))),this.padding=i||"valid",Cq(this.padding),this.dataFormat=a||"channelsLast",Sq(this.dataFormat),this.dilationRate=QX(o||1,2,"dilationRate"),this.dilationRate.forEach((e=>dq(e,"dilationRate")))}build(e){var t;e=IG(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new qH("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const r=e[n],i=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends aG{apply(e,t){return Gq([n.apply([r]),az([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return FP((()=>{if(3!==e.length)throw new qH("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=t.training||!1,r=e[0],i=e[1],a=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=EK({ones:()=>oz(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,s=(e,t,n)=>t&&t[n]?DO(t[n],e):e;let l=s(r,o,0),c=s(r,o,1),u=s(r,o,2),d=s(r,o,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=EK({ones:()=>oz(i),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const h=this.recurrentDropoutMask;let p=s(i,h,0),f=s(i,h,1),m=s(i,h,2),g=s(i,h,3);const[v,b,y,x]=Tz(this.kernel.read(),4,3),[w,_,k,S]=this.useBias?Tz(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,v,w,this.padding),c=this.inputConv(c,b,_,this.padding),u=this.inputConv(u,y,k,this.padding),d=this.inputConv(d,x,S,this.padding);const[C,A,T,I]=Tz(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,C),f=this.recurrentConv(f,A),m=this.recurrentConv(m,T),g=this.recurrentConv(g,I);const E=this.recurrentActivation.apply(NO(l,p)),N=this.recurrentActivation.apply(NO(c,f)),M=NO(DO(N,a),DO(E,this.activation.apply(NO(u,m)))),j=DO(this.recurrentActivation.apply(NO(d,g)),this.activation.apply(M));return[j,j,M]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=NK(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const i=hF(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?eG(i,n,this.dataFormat):i}recurrentConv(e,t){return hF(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}jK.className="ConvLSTM2DCell",UO(jK);class DK extends MK{constructor(e){const t=new jK(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}DK.className="ConvLSTM2D",UO(DK);class RK extends zG{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return nG((()=>tG(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}RK.className="Dropout",UO(RK);class PK extends RK{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}PK.className="SpatialDropout1D",UO(PK);class OK extends zG{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,dq(this.units,"units"),this.activation=FX(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=SG(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=SG(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=aY(e.kernelConstraint),this.biasConstraint=aY(e.biasConstraint),this.kernelRegularizer=qX(e.kernelRegularizer),this.biasRegularizer=qX(e.biasRegularizer),this.activityRegularizer=qX(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=IG(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=IG(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e),r=pq(this.activation.getClassName());let i;return null!=r?i=Zq(n,this.kernel.read(),r,this.bias?this.bias.read():null):(i=Zq(n,this.kernel.read()),null!=this.bias&&(i=eG(i,this.bias.read())),null!=this.activation&&(i=this.activation.apply(i))),i}))}getConfig(){const e={units:this.units,activation:OX(this.activation),useBias:this.useBias,kernelInitializer:kG(this.kernelInitializer),biasInitializer:kG(this.biasInitializer),kernelRegularizer:UX(this.kernelRegularizer),biasRegularizer:UX(this.biasRegularizer),activityRegularizer:UX(this.activityRegularizer),kernelConstraint:rY(this.kernelConstraint),biasConstraint:rY(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}OK.className="Dense",UO(OK);class LK extends zG{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=IG(e);for(const t of e.slice(1))if(null==t)throw new qH('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],Pq(e,1)]}call(e,t){return FP((()=>{this.invokeCallHook(e,t);let n=TG(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=Fz(n,e)}return function(e){if(e.rank<=1)throw new qH("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));const t=[e.shape[0],Pq(e.shape,1)];return QL(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}LK.className="Flatten",UO(LK);class FK extends zG{constructor(e){super(e),this.supportsMasking=!0,this.activation=FX(e.activation)}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e);return this.activation.apply(n)}))}getConfig(){const e={activation:OX(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}FK.className="Activation",UO(FK);class zK extends zG{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return FP((()=>function(e,t){return FP((()=>{if(2!==e.shape.length)throw new qH("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(e.shape.length," tensor."));return Xq(Vq(e,1),[1,t,1])}))}(e=TG(e),this.n)))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}zK.className="RepeatVector",UO(zK);class BK extends zG{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let i=1,a=null;for(let s=0;s<r.length;++s){const e=r[s];if(this.isUnknown(e)){if(null!==a)throw new qH("Can only specifiy one unknown dimension.");a=s}else i*=e}const o=Pq(e);if(null!==a){if(0===i||o%i!==0)throw new qH(n);r[a]=o/i}else if(o!==i)throw new qH(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e),r=n.shape,i=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return QL(n,i)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}BK.className="Reshape",UO(BK);class WK extends zG{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const t=Fq(1,e.dims.length+1);if(!fN(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new RG({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=IG(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return Fz(TG(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}WK.className="Permute",UO(WK);class VK extends zG{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=TG(e);return PL(nz(n,this.maskValue),-1)}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e),r=PL(nz(n,this.maskValue),-1,!0);return DO(n,TO(r,n.dtype))}))}}VK.className="Masking",UO(VK);class UK extends zG{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat($H(e.inputLength))}this.inputDim=e.inputDim,dq(this.inputDim,"inputDim"),this.outputDim=e.outputDim,dq(this.outputDim,"outputDim"),this.embeddingsInitializer=SG(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=qX(e.embeddingsRegularizer),this.activityRegularizer=qX(e.activityRegularizer),this.embeddingsConstraint=aY(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return FP((()=>this.maskZero?(e=TG(e),nz(e,OO(e))):null))}computeOutputShape(e){if(e=IG(e),null==this.inputLength)return[...e,this.outputDim];const t=$H(this.inputLength);if(t.length!==e.length-1)throw new qH('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let n=0;for(let r=0;r<t.length;++r){const i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new qH('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==i&&(t[n]=a),n++}}return[e[0],...t,this.outputDim]}call(e,t){return FP((()=>{this.invokeCallHook(e,t);let n=TG(e);"int32"!==n.dtype&&(n=Wq(n,"int32"));const r=Jq(this.embeddings.read(),QL(n,[n.size]));return QL(r,IG(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:kG(this.embeddingsInitializer),embeddingsRegularizer:UX(this.embeddingsRegularizer),activityRegularizer:UX(this.activityRegularizer),embeddingsConstraint:rY(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}UK.className="Embedding",UO(UK);class HK extends zG{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new GH}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new qH("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[IG(e)]),e.length<2)throw new qH("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let t=[];for(const i of e)null!=i&&null!==i[0]&&t.push(i[0]);if(t=sq(t),t.length>1)throw new qH("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let n=null==e[0]?null:e[0].slice(1);for(let i=1;i<e.length;++i){const t=null==e[i]?null:e[i].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===sq(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return FP((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=Lq(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=Vq(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const a of e){const e=a.rank;if(null==e){const e=a.shape,r=e[0],i=e.slice(1).concat([r]);let o=QL(a,[r].concat(Pq(e.slice(1))));o=Fz(o,[1,0]),o=QL(o,i),t.push(o),n=!0}else if(e>1){const r=Fq(1,e).concat([0]);t.push(Fz(a,r)),n=!0}else t.push(a)}let r=this.mergeFunction(t);const i=r.rank;if(n)if(null==i){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=QL(Fz(QL(r,[-1,t]),[1,0]),n)}else if(i>1){const e=[i-1].concat(Fq(0,i-1));r=Fz(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=sq(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return FP((()=>{if(null==t)return null;if(!Array.isArray(t))throw new qH("`mask` should be an Array");if(!Array.isArray(e))throw new qH("`inputs` should be an Array");if(t.length!==e.length)throw new qH("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((e=>null==e)))return null;t=t.map((e=>null==e?e:CF(e,0)));let n=t[0];for(let e=1;e<t.length-1;++e)n=YF(n,t[e]);return n}))}}class qK extends HK{constructor(e){super(e)}mergeFunction(e){return FP((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=NO(t,e[n]);return t}))}}qK.className="Add",UO(qK);class GK extends HK{constructor(e){super(e)}mergeFunction(e){return FP((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=DO(t,e[n]);return t}))}}GK.className="Multiply",UO(GK);class YK extends HK{constructor(e){super(e)}mergeFunction(e){return FP((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=NO(t,e[n]);return DO(1/e.length,t)}))}}YK.className="Average",UO(YK);class XK extends HK{constructor(e){super(e)}mergeFunction(e){return FP((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=tL(t,e[n]);return t}))}}XK.className="Maximum",UO(XK);class KK extends HK{constructor(e){super(e)}mergeFunction(e){return FP((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=$F(t,e[n]);return t}))}}KK.className="Minimum",UO(KK);class ZK extends HK{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new qH("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let i=!1;for(const e of n)if(fN(e,t)){i=!0;break}i||n.push(t)}if(n.length>1)throw new qH("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return FP((()=>Gq(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new qH("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const i of t.slice(1)){if(null==n[r]||null==i[r]){n[r]=null;break}n[r]+=i[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new qH("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new qH("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new qH("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return FP((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let a=0;a<e.length;++a)null==t[a]?r.push(TO(oz(e[a]),"bool")):t[a].rank<e[a].rank?r.push(CF(t[a],-1)):r.push(t[a]);const i=sF(r,this.axis);return RL(i,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function JK(e,t){for(;e<0;)e+=t;return e}ZK.className="Concatenate",UO(ZK);class QK extends HK{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){uN(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new GH("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new qH("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}mergeFunction(e){if(2!==e.length)throw new qH("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>JK(t,e[n].shape.length))):[JK(this.axes,n.shape.length),JK(this.axes,r.shape.length)],this.normalize&&(n=bY(n,t[0]),r=bY(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new GH("batchDot is not implemented for tensors of 4D or higher rank yet");if(uN(e.shape.length>=2,(()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length))),uN(e.shape.length>=2,(()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length))),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new GH("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);const a=n;return FP((()=>{let n,o;if(r>i){n=r-i;const e=[];for(let t=0;t<n;++t)e.push(1);t=QL(t,t.shape.concat(e))}else if(i>r){n=i-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=QL(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=a[0]===a[1]?OF(DO(e,t),a[0]):OF(DO(Fz(e,[1,0]),t),a[1]);else{const n=a[0]!==e.shape.length-1,r=a[1]===t.shape.length-1;o=XF(e,t,n,r)}if(n>0){let e;e=r>i?r+i-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);o=Iz(o,t)}return 1===o.shape.length&&(o=CF(o,1)),o}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[JK(this.axes,e.length),JK(this.axes,t.length)],n}computeOutputShape(e){uN(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new GH("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const i=t.concat(n);return 1===i.length&&i.push(1),i}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}QK.className="Dot",UO(QK);class $K extends zG{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e);return nG((()=>NO(Kq(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}$K.className="GaussianNoise",UO($K);class eZ extends zG{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return FP((()=>{this.invokeCallHook(e,t);const n=TG(e);if(this.rate>0&&this.rate<1){return nG((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return DO(n,Kq(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}eZ.className="GaussianDropout",UO(eZ);class tZ extends zG{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||TG(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return FP((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=TG(e),r=-1.7580993408473766;let i=MF(pz(n),this.rate);i=Wq(i,"float32");const a=((1-this.rate)*(1+this.rate*r**2))**-.5,o=-a*r*this.rate,s=NO(DO(t,i),DO(NO(i,-1),r));return NO(DO(s,a),o)};return nG(r,(()=>TG(e)),t.training||!1)}return e}))}}function nZ(e,t,n,r,i){let a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)a=nF(e,t,n,r,i,o);else if(3===e.rank)a=rF(e,t,n,r,i,o);else{if(4!==e.rank)throw new GH("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");a=iF(e,t,n,r,i,o)}return a}function rZ(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return fN(r.slice().sort(),Fq(0,e.rank-1))?function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return FP((()=>{const a=ez(e,r),o=a.mean,s=a.variance;return[nZ(e,o,s,n,t,i),o,s]}))}(e,t,n,r,i):function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return FP((()=>{const a=ez(e,r),o=a.mean,s=a.variance,l=[];for(const t of Fq(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const c=QL(o,l),u=QL(s,l),d=null==t?null:QL(t,l),h=null==n?null:QL(n,l);return[nZ(e,c,u,h,d,i),o,s]}))}(e,t,n,r,i)}tZ.className="AlphaDropout",UO(tZ);class iZ extends zG{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=SG(e.betaInitializer||"zeros"),this.gammaInitializer=SG(e.gammaInitializer||"ones"),this.movingMeanInitializer=SG(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=SG(e.movingVarianceInitializer||"ones"),this.betaConstraint=aY(e.betaConstraint),this.gammaConstraint=aY(e.gammaConstraint),this.betaRegularizer=qX(e.betaRegularizer),this.gammaRegularizer=qX(e.gammaRegularizer)}build(e){e=IG(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new qH("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new RG({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return FP((()=>{const n=null!=t.training&&t.training,r=TG(e),i=r.shape,a=i.length,o=Fq(0,a),s=this.axis>=0?this.axis:this.axis+a;o.splice(s,1);const l=KH(1,a);l[s]=i[s];const c=o.slice();c.sort();const u=!fN(c,Fq(0,a).slice(0,a-1));if(!n)return(()=>{if(u){const e=QL(this.movingMean.read(),l),t=QL(this.movingVariance.read(),l),n=this.center?QL(this.beta.read(),l):null,i=this.scale?QL(this.gamma.read(),l):null;return nZ(r,e,t,n,i,this.epsilon)}return nZ(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[d,h,p]=rZ(r,this.gamma.read(),this.beta.read(),o,this.epsilon),f=(e,t,n)=>{FP((()=>{const r=1-n,i=e.read(),a=DO(KO(i,t),r);e.write(KO(i,a))}))};return(()=>{f(this.movingMean,h,this.momentum),f(this.movingVariance,p,this.momentum)})(),d}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:kG(this.betaInitializer),gammaInitializer:kG(this.gammaInitializer),movingMeanInitializer:kG(this.movingMeanInitializer),movingVarianceInitializer:kG(this.movingVarianceInitializer),betaRegularizer:UX(this.betaRegularizer),gammaRegularizer:UX(this.gammaRegularizer),betaConstraint:rY(this.betaConstraint),gammaConstraint:rY(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}iZ.className="BatchNormalization",UO(iZ);class aZ extends zG{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else{if(!Array.isArray(this.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));for(const e of this.axis)if(!Number.isInteger(e))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=SG(e.betaInitializer||"zeros"),this.gammaInitializer=SG(e.gammaInitializer||"ones"),this.betaRegularizer=qX(e.betaRegularizer),this.gammaRegularizer=qX(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=IG(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=t);for(const i of this.axis)if(i<0||i>=t)throw new Error("Invalid axis: ".concat(i));if(this.axis.length!==sq(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const n=this.axis.map((t=>e[t])),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=TG(e),r=n.shape,i=r.length;return FP((()=>{let{mean:e,variance:t}=ez(n,this.axis,!0);const a=KH(1,i);for(const n of this.axis)a[n]=r[n];const o=e=>null!=e&&e.shape.length!==i?QL(e,a):e;let s=this.scale?o(this.gamma.read()):null,l=this.center?o(this.beta.read()):null;const c=[],u=[];for(let n=0;n<i;++n)-1!==this.axis.indexOf(n)?(c.push(r[n]),u.push(1)):(c.push(1),u.push(r[n]));return e=AF(e,c),t=AF(t,c),null!=s&&(s=AF(s,u)),null!=l&&(l=AF(l,u)),nZ(n,e,t,l,s,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:kG(this.betaInitializer),gammaInitializer:kG(this.gammaInitializer),betaRegularizer:UX(this.betaRegularizer),gammaRegularizer:UX(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}aZ.className="LayerNormalization",UO(aZ);class oZ extends zG{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new qH("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new qH("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(t=e.padding[0],2!==e.padding[1].length)throw new qH("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new RG({ndim:4})]}computeOutputShape(e){let t,n;return e=IG(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return FP((()=>function(e,t,n){return FP((()=>{if(4!==e.rank)throw new qH("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(e.rank,"-D tensor."));if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new qH("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new qH("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],sz(e,r)}))}(TG(e),this.padding,this.dataFormat)))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function sZ(e,t,n,r,i,a){return FP((()=>{let o;Sq(i),Aq(a),Cq(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==a&&(a="max"),e=tK(e,i);const s="same"===r?"same":"valid";return o="max"===a?KF(e,t,n,s):$L(e,t,n,s),"channelsFirst"===i&&(o=Fz(o,[0,3,1,2])),o}))}function lZ(e,t,n,r,i,a){return FP((()=>{let o;Sq(i),Aq(a),Cq(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==a&&(a="max"),e=nK(e,i);const s="same"===r?"same":"valid";return o="max"===a?ZF(e,t,n,s):eF(e,t,n,s),"channelsFirst"===i&&(o=Fz(o,[0,4,1,2,3])),o}))}oZ.className="ZeroPadding2D",UO(oZ);class cZ extends zG{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new qH("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));this.poolSize=e.poolSize}if(dq(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new qH("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));this.strides=e.strides}dq(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Cq(this.padding),this.inputSpec=[new RG({ndim:3})]}computeOutputShape(e){const t=$X((e=IG(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return FP((()=>{this.invokeCallHook(e,t),e=Vq(TG(e),2);const n=this.poolingFunction(TG(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Iz(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class uZ extends cZ{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Sq(i),Cq(r),sZ(e,t,n,r,i,"max")}}uZ.className="MaxPooling1D",UO(uZ);class dZ extends cZ{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Sq(i),Cq(r),sZ(e,t,n,r,i,"avg")}}dZ.className="AveragePooling1D",UO(dZ);class hZ extends zG{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new qH("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];dq(this.poolSize,"poolSize"),dq(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Sq(this.dataFormat),Cq(this.padding),this.inputSpec=[new RG({ndim:4})]}computeOutputShape(e){e=IG(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=$X(t,this.poolSize[0],this.padding,this.strides[0]),n=$X(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return FP((()=>(this.invokeCallHook(e,t),this.poolingFunction(TG(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class pZ extends hZ{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Sq(i),Cq(r),sZ(e,t,n,r,i,"max")}}pZ.className="MaxPooling2D",UO(pZ);class fZ extends hZ{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Sq(i),Cq(r),sZ(e,t,n,r,i,"avg")}}fZ.className="AveragePooling2D",UO(fZ);class mZ extends zG{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new qH("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];dq(this.poolSize,"poolSize"),dq(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Sq(this.dataFormat),Cq(this.padding),this.inputSpec=[new RG({ndim:5})]}computeOutputShape(e){e=IG(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=$X(t,this.poolSize[0],this.padding,this.strides[0]),n=$X(n,this.poolSize[1],this.padding,this.strides[1]),r=$X(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return FP((()=>(this.invokeCallHook(e,t),this.poolingFunction(TG(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class gZ extends mZ{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Sq(i),Cq(r),lZ(e,t,n,r,i,"max")}}gZ.className="MaxPooling3D",UO(gZ);class vZ extends mZ{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Sq(i),Cq(r),lZ(e,t,n,r,i,"avg")}}vZ.className="AveragePooling3D",UO(vZ);class bZ extends zG{constructor(e){super(e),this.inputSpec=[new RG({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new GH}}class yZ extends bZ{constructor(e){super(e||{})}call(e,t){return FP((()=>{const t=TG(e);return JF(t,1)}))}}yZ.className="GlobalAveragePooling1D",UO(yZ);class xZ extends bZ{constructor(e){super(e||{})}call(e,t){return FP((()=>{const t=TG(e);return PF(t,1)}))}}xZ.className="GlobalMaxPooling1D",UO(xZ);class wZ extends zG{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Sq(this.dataFormat),this.inputSpec=[new RG({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new GH}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class _Z extends wZ{call(e,t){return FP((()=>{const t=TG(e);return"channelsLast"===this.dataFormat?JF(t,[1,2]):JF(t,[2,3])}))}}_Z.className="GlobalAveragePooling2D",UO(_Z);class kZ extends wZ{call(e,t){return FP((()=>{const t=TG(e);return"channelsLast"===this.dataFormat?PF(t,[1,2]):PF(t,[2,3])}))}}kZ.className="GlobalMaxPooling2D",UO(kZ);class SZ extends zG{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=vY(t.layer,n);delete t.layer;const i={layer:r};return Object.assign(i,t),new e(i)}}class CZ extends SZ{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=IG(e)).length<3)throw new qH("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=IG(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return FP((()=>yK(((e,n)=>[TG(this.layer.call(e,t)),[]]),e=TG(e),[],!1,null,null,!1,!0)[1]))}}CZ.className="TimeDistributed",UO(CZ);class AZ extends SZ{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=vY(n),t.goBackwards=!0!==t.goBackwards;const r={};if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=vY(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function(e){cq(_q,"BidirectionalMergeMode",e)}(this.mergeMode),e.weights)throw new GH("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState?(r=i.slice(1),t=i[0]):t=i[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):QH(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const i=bK(e,n,r,this.numConstants);if(e=i.inputs,n=i.initialState,r=i.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const a=[],o=[];if(null!=n){const e=n.length;if(e%2>0)throw new qH("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,a.push(...n);const r=n.map((e=>new RG({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),o.push(...r)}if(null!=r)throw new GH("Support for constants in Bidirectional layers is not implemented yet.");const s=a[0]instanceof PG;for(const l of a)if(l instanceof PG!==s)throw new qH("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(s){const n=[e].concat(a),r=this.inputSpec.concat(o),i=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=i,s}return super.apply(e,t)}call(e,t){return FP((()=>{const n=t.initialState;let r,i,a,o;if(null==n)r=this.forwardLayer.call(e,t),i=this.backwardLayer.call(e,t);else{const a=n.slice(0,n.length/2),o=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:a})),i=this.backwardLayer.call(e,Object.assign(t,{initialState:o}))}return this.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),this.returnSequences&&(i=gz(i,1)),"concat"===this.mergeMode?o=Gq([r,i]):"sum"===this.mergeMode?o=NO(r,i):"ave"===this.mergeMode?o=DO(.5,NO(r,i)):"mul"===this.mergeMode?o=DO(r,i):null==this.mergeMode&&(o=[r,i]),this.returnState?null==this.mergeMode?o.concat(a):[o].concat(a):o}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Eq(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),Eq(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=vY(t.layer);if(delete t.layer,null!=t.numConstants)throw new GH("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}AZ.className="Bidirectional",UO(AZ);class TZ extends zG{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return FP((()=>("float32"!==(e=TG(e)).dtype&&(e=Wq(e,"float32")),NO(DO(e,this.scale),this.offset))))}}TZ.className="Rescaling",UO(TZ);const{resizeBilinear:IZ,cropAndResize:EZ}=zB;class NZ extends zG{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,i,a,o,s){return FP((()=>{let l,c=!1;const u=[t/a,n/o,(r+t)/a,(i+n)/o],d=[];3===e.rank?(c=!0,l=Ez([e])):l=e;for(let e=0;e<l.shape[0];e++)d.push(u);const h=RP(d,[d.length,4]),p=fz(0,d.length,1,"int32"),f=EZ(l,h,p,[r,i],"nearest");return Wq(c?TG(Rz(f)):f,s)}))}upsize(e,t,n,r){return FP((()=>Wq(IZ(e,[t,n]),r)))}call(e,t){return FP((()=>{const t=TG(e),n=t.dtype,r=t.shape,i=r[r.length-3],a=r[r.length-2];let o=0;i!==this.height&&(o=Math.floor((i-this.height)/2));let s=0;return a!==this.width&&(s=Math.floor((a-this.width)/2),0===s&&(s=1)),o>=0&&s>=0?this.centerCrop(t,o,s,this.height,this.width,i,a,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=IG(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}NZ.className="CenterCrop",UO(NZ);class MZ extends zG{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=IG(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return FP((()=>{let n;if("int32"!==(e=TG(e)).dtype&&(e=Wq(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new qH("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(t.countWeights));n=TG(t.countWeights)}const r=PF(e),i=QF(e),a=NF(this.numTokens,r).bufferSync().get(0),o=MF(i,0).bufferSync().get(0);if(!a||!o)throw new qH("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return function(e,t,n,r){let i=TG(e);if("int32"!==i.dtype&&(i=Wq(i,"int32")),"int"===t)return i;const a=i.shape;if(0===i.rank&&(i=CF(i,-1)),"oneHot"===t&&1!==i.shape[i.shape.length-1]&&(i=CF(i,-1)),i.rank>2)throw new qH("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(t," and input shape ").concat(a)+" which would result in output rank ".concat(i.rank,"."));const o=["multiHot","oneHot"].includes(t),s=i;let l;if(l=yF(s,"undefined"!==typeof r&&"count"===t?r:[],n,o),"tfIdf"!==t)return l;if(r)return DO(l,r);throw new qH("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}MZ.className="CategoryEncoding",UO(MZ);const jZ=new Set(["bilinear","nearest"]);class DZ extends zG{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!jZ.has(e.interpolation))throw new qH("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=IG(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return FP((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return zB.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return zB.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...jZ]," are supported"))}))}}DZ.className="Resizing",UO(DZ);class RZ{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}RZ.className="RandomSeed";class PZ extends zG{constructor(e){super(e),this.randomGenerator=new RZ(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}PZ.className="BaseRandomLayer";const OZ=new Set(["bilinear","nearest"]);class LZ extends PZ{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new qH("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new qH("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new qH("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(n){if(!OZ.has(n))throw new qH("Invalid interpolation parameter: ".concat(n," is not implemented"));this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=IG(e))[2];return[this.imgHeight,-1,t]}call(e,t){return FP((()=>{const t=TG(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=pz([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const i=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return zB.resizeBilinear(e,i);case"nearest":return zB.resizeNearestNeighbor(e,i);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...OZ]," are supported"))}}))}}function FZ(e){return new OK(e)}LZ.className="RandomWidth",UO(LZ);var zZ,BZ;HN().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(zZ||(zZ={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(BZ||(BZ={}));Error;new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function WZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(qZ(e)){const i=Array.isArray(e)?[]:{};r.add(e);for(const a in e){const o=WZ(e[a],t,n,r);i[a]=o}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,i.value),i.value}function VZ(e){return UZ(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:HZ)}function UZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(qZ(r)){const i=Array.isArray(r)?[]:{};n.add(r);for(const a in r){const r=e.map((e=>e[a])),o=UZ(r,t,n);i[a]=o}return n.delete(r),i}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return i.value}function HZ(e){return null===e?null:qZ(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function qZ(e){let t=!1;if(HN().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:n}=__webpack_require__(551);t=e instanceof n}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof $R)&&!(e instanceof Promise)&&!t)}function GZ(e){return function(e,t){return WZ(e,t)}(e,YZ)}function YZ(e){return e instanceof $R?{value:e.clone(),recurse:!1}:qZ(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class XZ{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class KZ extends XZ{constructor(){super(KZ.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function ZZ(e){return new eJ(e)}function JZ(e,t){return new dJ(e,t)}KZ.INITIAL_CAPACITY=32;class QZ{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new sJ(this,e)}filter(e){return new aJ(this,e)}map(e){return new oJ(this,e)}mapAsync(e){return new lJ(this,e)}serialMapAsync(e){return new lJ(this,e).serial()}flatmap(e){return new uJ(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new iJ(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HZ;return this.rowMajorBatch(e,t).map((e=>VZ(e,n)))}concatenate(e,t){return new dJ(new $Z([this,e]),t)}take(e){return e<0||null==e?this:new rJ(this,e)}skip(e){return e<0||null==e?this:new nJ(this,e)}prefetch(e){return new pJ(this,e)}shuffle(e,t){return new fJ(this,e,t)}serial(){return new tJ(this)}}class $Z extends QZ{constructor(e){super(),this.items=e,this.trav=0}summary(){return"Array of ".concat(this.items.length," items")}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:GZ(e),done:!1}}}class eJ extends QZ{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(die){throw die.message="Error thrown while iterating through a dataset: ".concat(die.message),die}}}class tJ extends QZ{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Serial")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class nJ extends QZ{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Skip")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;zP(e.value)}return this.upstream.next()}}class rJ extends QZ{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return"".concat(this.upstream.summary()," -> Take")}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class iJ extends QZ{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class aJ extends QZ{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Filter")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;zP(e.value)}}}class oJ extends QZ{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Map")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=fP(e.value),n=this.transform(e.value),r=fP(n);for(const i of t)pP(i,r)||i.dispose();return{value:n,done:!1}}}class sJ extends QZ{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> handleErrors")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(die){if(!this.handler(die))return{value:null,done:!0}}}}class lJ extends QZ{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> AsyncMap")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=fP(e.value),n=await this.transform(e.value),r=fP(n);for(const i of t)pP(i,r)||i.dispose();return{value:n,done:!1}}}class cJ extends QZ{constructor(){super(),this.outputQueue=new KZ,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class uJ extends cJ{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Flatmap")}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=fP(e.value),n=this.transform(e.value),r=fP(n);this.outputQueue.pushAll(n);for(const i of t)pP(i,r)||i.dispose();return!0}}class dJ extends QZ{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var hJ;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(hJ||(hJ={}));class pJ extends QZ{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new XZ(t)}summary(){return"".concat(this.upstream.summary()," -> Prefetch")}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class fJ extends pJ{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=cz.alea(n||DR().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class mJ{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let r;return uN(e>0,(()=>"batchSize needs to be positive, but it is\n      ".concat(e))),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),gJ((async()=>(await n.iterator()).columnMajorBatch(e,t,vJ)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,gJ((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,gJ((async()=>(await t.iterator()).filter((t=>FP((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return gJ((async()=>(await t.iterator()).map((t=>FP((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return gJ((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return gJ((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,gJ((async()=>JZ(ZZ((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,gJ((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));const r=this,i=cz.alea(t||DR().toString());return gJ((async()=>{let t=i.int32();return n&&(t+=i.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,gJ((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function gJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends mJ{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function vJ(e){if(null===e)return null;const t=e[0];if(null==(n=t)||function(e){return null===e||"object"!==typeof e&&"function"!==typeof e}(n)||Array.isArray(n)||"object"===typeof n&&n instanceof $R||OR(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof $R?Ez(e):RP(e)}(e),recurse:!1}}var n;return{value:null,recurse:!0}}mJ.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function bJ(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&uN("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors in the CPU backend.")))}))}const yJ=$W;class xJ extends iN{nextDataId(){return xJ.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new rN(this,OP())}write(e,t,n){this.firstUse&&(this.firstUse=!1,HN().get("IS_NODE")&&oR("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&AN(n[0])){const i=n.map((e=>RR(e)));r=this.write(i,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,i){this.data.set(e,{values:t,dtype:r,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return vW(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>PR(e)));return AO(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return AO(e.shape,e.dtype,t)}makeOutput(e,t,n){return OP().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=DR();e();return{kernelMs:DR()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){bJ([e],"where");const t=this.readSync(e.dataId);return yJ(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}xJ.nextDataId=0;function wJ(e){return(t,n,r)=>{const i=kN(n,t.length);for(let a=0;a<t.length;++a)i[a]=e(t[a],r);return i}}function _J(e,t,n){return kJ(e,wJ(t),n)}function kJ(e,t,n){return r=>{let{inputs:i,attrs:a,backend:o}=r;const{x:s}=i;bJ(s,e);const l=o,c=l.data.get(s.dataId).values;let u;if("string"===s.dtype){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");u=JW(c)}else u=c;const d=n||s.dtype,h=t(u,d,a);return l.makeTensorInfo(s.shape,d,h)}}WP("cpu",(()=>new xJ),1);const SJ=_J(YM,(e=>e>=0?e:Math.exp(e)-1)),CJ={kernelName:YM,backendName:"cpu",kernelFunc:SJ};function AJ(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const TJ={kernelName:uj,backendName:"cpu",kernelFunc:AJ};function IJ(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{alpha:a}=r;bJ([i],"leakyRelu");const o=pN(i.shape),s=n.data.get(i.dataId).values,l=_N("float32",o);for(let c=0;c<s.length;c++)l[c]=s[c]<0?a*s[c]:s[c];return n.makeTensorInfo(i.shape,"float32",l)}const EJ={kernelName:gj,backendName:"cpu",kernelFunc:IJ};function NJ(e){return(t,n,r,i,a)=>{const o=eL(t,n),s=o.length,l=MN(o),c=_N(a,pN(o)),u=t.length,d=n.length,h=MN(t),p=MN(n),f=QO(t,o),m=QO(n,o);if(f.length+m.length===0)for(let g=0;g<c.length;++g)c[g]=e(r[g%r.length],i[g%i.length]);else for(let g=0;g<c.length;++g){const t=zN(g,s,l),n=t.slice(-u);f.forEach((e=>n[e]=0));const a=FN(n,u,h),o=t.slice(-d);m.forEach((e=>o[e]=0));const v=FN(o,d,p);c[g]=e(r[a],i[v])}return[c,o]}}const MJ=NJ(((e,t)=>e<0?t*e:e));function jJ(e){const{inputs:t,backend:n}=e,{x:r,alpha:i}=t;bJ([r,i],"prelu");const a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,[s,l]=MJ(r.shape,i.shape,a,o,"float32");return n.makeTensorInfo(l,"float32",s)}const DJ={kernelName:Jj,backendName:"cpu",kernelFunc:jJ},RJ=_J(aD,(e=>Math.max(0,e))),PJ={kernelName:aD,backendName:"cpu",kernelFunc:RJ},OJ=_J(dD,(e=>Math.min(Math.max(0,e),6))),LJ={kernelName:dD,backendName:"cpu",kernelFunc:OJ},FJ=wJ((e=>1/(1+Math.exp(-e)))),zJ=_J(SD,(e=>1/(1+Math.exp(-e)))),BJ={kernelName:SD,backendName:"cpu",kernelFunc:zJ};function WJ(e,t,n,r,i){if("linear"===n)return AJ({inputs:{x:t},backend:e});if("relu"===n)return RJ({inputs:{x:t},backend:e});if("elu"===n)return SJ({inputs:{x:t},backend:e});if("relu6"===n)return OJ({inputs:{x:t},backend:e});if("prelu"===n)return jJ({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return IJ({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return zJ({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function VJ(e){const{inputs:t,backend:n}=e,{real:r,imag:i}=t,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(i.shape,"float32",o)},s}const UJ={kernelName:wM,backendName:"cpu",kernelFunc:VJ};function HJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return VJ({inputs:{real:HJ(e,t,"float32"),imag:HJ(e,t,"float32")},backend:e})}const r=PN(pN(t),n);return e.makeTensorInfo(t,n,r)}function qJ(e){const{inputs:t,backend:n}=e,{input:r}=t,i=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}const GJ={kernelName:rD,backendName:"cpu",kernelFunc:qJ};function YJ(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=jR([0],n),[i,a]=NJ(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[a,"bool",i]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(r))}function XJ(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{dtype:a}=r;if("complex64"===a){if("complex64"===i.dtype)return AJ({inputs:{x:i},backend:n});const e=HJ(n,i.shape,i.dtype),t=XJ({inputs:{x:i},backend:n,attrs:{dtype:"float32"}}),r=VJ({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===i.dtype){const e=qJ({inputs:{input:i},backend:n}),t=XJ({inputs:{x:e},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(e),t}if(!SN(i.dtype,a)){const e=AJ({inputs:{x:i},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:a}}const o=n.data.get(i.dataId).values,[s,l,c]=YJ(o,i.shape,i.dtype,a);return n.makeTensorInfo(s,l,c)}const KJ={kernelName:bM,backendName:"cpu",kernelFunc:XJ};function ZJ(e,t,n,r){return null==n?n=>{let{inputs:i,backend:a}=n;const{a:o,b:s}=i,l=a;bJ([o,s],e);const c=l.data.get(o.dataId).values,u=l.data.get(s.dataId).values,d="string"===o.dtype?JW(c):c,h="string"===o.dtype?JW(u):u,p=r||o.dtype,[f,m]=t(o.shape,s.shape,d,h,p);return l.makeTensorInfo(m,p,f)}:e=>{let{inputs:i,backend:a}=e;const{a:o,b:s}=i,l=a;if("complex64"===o.dtype||"complex64"===s.dtype){const e=XJ({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,i=t.complexTensorInfos.imag,a=l.data.get(r.dataId).values,c=l.data.get(i.dataId).values,u=XJ({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(u.dataId),h=d.complexTensorInfos.real,p=d.complexTensorInfos.imag,f=l.data.get(h.dataId).values,m=l.data.get(p.dataId).values,[g,v,b]=n(o.shape,s.shape,a,c,f,m),y=l.makeTensorInfo(b,"float32",g),x=l.makeTensorInfo(b,"float32",v),w=VJ({inputs:{real:y,imag:x},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(y),l.disposeIntermediateTensorInfo(x),w}{const e=l.data.get(o.dataId).values,n=l.data.get(s.dataId).values,i=r||o.dtype,[a,c]=t(o.shape,s.shape,e,n,i);return l.makeTensorInfo(c,i,a)}}}function JJ(e){return(t,n,r,i,a,o)=>{const s=eL(t,n),l=pN(s),c=s.length,u=MN(s),d=_N("float32",l),h=_N("float32",l),p=QO(t,s),f=QO(n,s),m=vW(r,i),g=vW(a,o),v=t.length,b=MN(t),y=n.length,x=MN(n);if(p.length+f.length===0)for(let w=0;w<d.length;w++){const t=w%m.length,n=w%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[w]=r.real,h[w]=r.imag}else for(let w=0;w<d.length;w++){const t=zN(w,c,u),n=t.slice(-v);p.forEach((e=>n[e]=0));const r=FN(n,v,b),i=t.slice(-y);f.forEach((e=>i[e]=0));const a=FN(i,y,x),o=e(m[2*r],m[2*r+1],g[2*a],g[2*a+1]);d[w]=o.real,h[w]=o.imag}return[d,h,s]}}const QJ=NJ(((e,t)=>e+t)),$J=JJ(((e,t,n,r)=>({real:e+n,imag:t+r}))),eQ=ZJ(QN,QJ,$J),tQ={kernelName:QN,backendName:"cpu",kernelFunc:eQ};function nQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{shape:a}=r,o=pN(i.shape),s=yN(a,o),l=pN(s);uN(o===l,(()=>"The new shape (".concat(s,") has ").concat(l," elements and the old ")+"shape (".concat(i.shape,") has ").concat(o," elements. The new shape and old ")+"shape must have the same number of elements.")),n.incRef(i.dataId);const c=n.data.get(i.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:i.dataId,shape:s,dtype:i.dtype}}const rQ={kernelName:oD,backendName:"cpu",kernelFunc:nQ};function iQ(e){const{inputs:t,backend:n,attrs:r}=e,{a:i,b:a}=t,{transposeA:o,transposeB:s}=r;bJ([i,a],"matMul");const l=i.shape.length,c=a.shape.length,u=o?i.shape[l-2]:i.shape[l-1],d=s?a.shape[c-1]:a.shape[c-2],h=o?i.shape[l-1]:i.shape[l-2],p=s?a.shape[c-2]:a.shape[c-1],f=i.shape.slice(0,-2),m=a.shape.slice(0,-2),g=pN(f),v=pN(m),b=eL(i.shape.slice(0,-2),a.shape.slice(0,-2)).concat([h,p]);uN(u===d,(()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(i.shape," and ")+"".concat(a.shape," and transposeA=").concat(o)+" and transposeB=".concat(s," must match.")));const y=s?[v,p,d]:[v,d,p],x=nQ({inputs:{x:i},backend:n,attrs:{shape:o?[g,u,h]:[g,h,u]}}),w=nQ({inputs:{x:a},backend:n,attrs:{shape:y}}),_=o?x.shape[1]:x.shape[2],k=o?x.shape[2]:x.shape[1],S=s?w.shape[1]:w.shape[2],C=Math.max(g,v),A=n.data.get(x.dataId).values,T=n.data.get(w.dataId).values,I=MN(x.shape),E=MN(w.shape),[N,M,j]=o?[I[0],1,I[1]]:[I[0],I[1],1],[D,R,P]=s?[1,E[1],E[0]]:[E[1],1,E[0]],O=k*S,L=AO([C,k,S],x.dtype),F=L.values,z=n.blockSize;for(let B=0;B<C;B++){const e=B%g,t=B%v;for(let n=0;n<k;n+=z){const r=Math.min(n+z,k);for(let i=0;i<S;i+=z){const a=Math.min(i+z,S);for(let o=0;o<_;o+=z){const s=Math.min(o+z,_);for(let l=n;l<r;l++)for(let n=i;n<a;n++){let r=0;for(let i=o;i<s;i++){r+=A[e*N+l*M+i*j]*T[i*D+n*R+t*P]}F[B*O+(l*S+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(b,L.dtype,L.values)}const aQ={kernelName:pM,backendName:"cpu",kernelFunc:iQ};const oQ={kernelName:rR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:i,b:a,bias:o,preluActivationWeights:s}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=r;let h,p,f;const m=[];h=iQ({inputs:{a:i,b:a},attrs:{transposeA:l,transposeB:c},backend:n}),o&&(p=eQ({inputs:{a:h,b:o},backend:n}),m.push(h),h=p),u&&(f=WJ(n,h,u,s,d),m.push(h),h=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return h}};function sQ(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const lQ={kernelName:KN,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;bJ(t,"abs");let r=new Float32Array(pN(t.shape));return r=sQ(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},cQ=_J(ZN,(e=>Math.acos(e))),uQ={kernelName:ZN,backendName:"cpu",kernelFunc:cQ},dQ=_J(JN,(e=>Math.acosh(e))),hQ={kernelName:JN,backendName:"cpu",kernelFunc:dQ};const pQ={kernelName:$N,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;bJ(t,"addN");const i=r.map((e=>n.data.get(e.dataId).values)),a=AO(r[0].shape,r[0].dtype),o=a.values;for(let s=0;s<r.length;s++){const e=i[s];for(let t=0;t<o.length;t++)o[t]+=e[t]}return n.makeTensorInfo(a.shape,a.dtype,a.values)}};function fQ(e,t,n,r,i){const a=t.length,o=pN(t),s=MN(t),l=MN(i),c=_N(n,pN(i));for(let u=0;u<o;++u){const t=zN(u,a,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];c[FN(n,a,l)]=e[u]}return c}function mQ(e){const{inputs:t,attrs:n,backend:r}=e,{x:i}=t,{perm:a}=n;bJ(i,"transpose");const o=i.shape.length,s=new Array(o);for(let c=0;c<s.length;c++)s[c]=i.shape[a[c]];const l=fQ(r.data.get(i.dataId).values,i.shape,i.dtype,a,s);return{dataId:r.write(l,s,i.dtype),shape:s,dtype:i.dtype}}const gQ={kernelName:KD,backendName:"cpu",kernelFunc:mQ};const vQ={kernelName:eM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r;bJ(i,"all");const s=xN(a,i.shape);let l=s;const c=UF(l,i.shape.length);let u=i;null!=c&&(u=mQ({inputs:{x:i},backend:n,attrs:{perm:c}}),l=qF(l.length,i.shape.length)),VF("all",l,u.shape.length);const[d,h]=BF(u.shape,l),p=pN(h),f=PN(pN(d),u.dtype),m=n.data.get(u.dataId).values;for(let v=0;v<f.length;++v){const e=v*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t&&r}f[v]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(o){const e=nQ({inputs:{x:g},backend:n,attrs:{shape:WF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const bQ={kernelName:tM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r;bJ(i,"any");const s=xN(a,i.shape);let l=s;const c=UF(l,i.shape.length);let u=i;null!=c&&(u=mQ({inputs:{x:i},backend:n,attrs:{perm:c}}),l=qF(l.length,i.shape.length)),VF("any",l,u.shape.length);const[d,h]=BF(u.shape,l),p=pN(h),f=PN(pN(d),u.dtype),m=n.data.get(u.dataId).values;for(let v=0;v<f.length;++v){const e=v*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t||r}f[v]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(o){const e=nQ({inputs:{x:g},backend:n,attrs:{shape:WF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const yQ={kernelName:nM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a}=r;bJ(i,"argMax");let o=xN(a,i.shape);const s=UF(o,i.shape.length);let l=i;const c=[];null!=s&&(l=mQ({inputs:{x:i},backend:n,attrs:{perm:s}}),c.push(l),o=qF(o.length,l.shape.length)),o=[o[0]],VF("argMax",o,l.shape.length);const[u,d]=BF(l.shape,o),h=PN(pN(u),"int32"),p=pN(d),f=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const i=f[e+r];i>t&&(t=i,n=r)}h[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",h)}};const xQ={kernelName:rM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a}=r;bJ(i,"argMin");let o=xN(a,i.shape);const s=UF(o,i.shape.length);let l=i;const c=[];null!=s&&(l=mQ({inputs:{x:i},backend:n,attrs:{perm:s}}),c.push(l),o=qF(o.length,l.shape.length)),o=[o[0]],VF("argMin",o,l.shape.length);const[u,d]=BF(l.shape,o),h=PN(pN(u),"int32"),p=pN(d),f=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const i=f[e+r];i<t&&(t=i,n=r)}h[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",h)}},wQ=_J(iM,(e=>Math.asin(e))),_Q={kernelName:iM,backendName:"cpu",kernelFunc:wQ},kQ=_J(aM,(e=>Math.asinh(e))),SQ={kernelName:aM,backendName:"cpu",kernelFunc:kQ},CQ=_J(oM,(e=>Math.atan(e))),AQ={kernelName:oM,backendName:"cpu",kernelFunc:CQ},TQ=NJ(((e,t)=>Math.atan2(e,t))),IQ=ZJ(lM,TQ),EQ={kernelName:lM,backendName:"cpu",kernelFunc:IQ},NQ=_J(sM,(e=>Math.atanh(e))),MQ={kernelName:sM,backendName:"cpu",kernelFunc:NQ};function jQ(e,t,n,r,i,a){const o=i.strideHeight,s=i.strideWidth,l=i.dilationHeight,c=i.dilationWidth,u=i.effectiveFilterHeight,d=i.effectiveFilterWidth,h=i.padInfo.top,p=i.padInfo.left,f="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=AO(i.outShape,n),g=m.values,v=i.outShape[1]*i.outShape[2]*i.outShape[3],b=i.outShape[2]*i.outShape[3],y=i.outShape[3];for(let x=0;x<i.batchSize;++x){const t=x*v,n=x*r[0];for(let m=0;m<i.inChannels;++m)for(let v=0;v<i.outHeight;++v){const x=v*o-h,w=Math.max(0,x),_=Math.min(i.inHeight,u+x),k=t+v*b;for(let t=0;t<i.outWidth;++t){const o=t*s-p,u=Math.max(0,o),h=Math.min(i.inWidth,d+o);let v=f,b=0,x=0;for(let t=w;t<_;t+=l){const i=n+t*r[1];for(let t=u;t<h;t+=c){const n=e[i+t*r[2]+m];"max"===a&&n>v?v=n:"avg"===a&&(b+=n,x++)}if(isNaN(v))break}g[k+t*y+m]="avg"===a?b/x:v}}}return m}function DQ(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=AO(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,f=r.padInfo.left,m=AO(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*s-p;let v=n;for(;v<0;)v+=c;const b=Math.min(r.inHeight,d+n);for(let s=0;s<r.outWidth;++s){const d=s*l-f;let p=d;for(;p<0;)p+=u;const y=Math.min(r.inWidth,h+d);let x=Number.NEGATIVE_INFINITY,w=-1;for(let t=v;t<b;t+=c){const o=t-n;for(let n=p;n<y;n+=u){const s=n-d,l=m.get(g,t,n,e);l>x&&(x=l,w=i?a?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:o*h+s)}}o.set(w,g,t,s,e)}}return o}function RQ(e,t,n,r,i,a){const o=i.strideDepth,s=i.strideHeight,l=i.strideWidth,c=i.dilationDepth,u=i.dilationHeight,d=i.dilationWidth,h=i.effectiveFilterDepth,p=i.effectiveFilterHeight,f=i.effectiveFilterWidth,m=i.padInfo.front,g=i.padInfo.top,v=i.padInfo.left,b="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=AO(i.outShape,n),x=y.values,w=i.outShape[1]*i.outShape[2]*i.outShape[3]*i.outShape[4],_=i.outShape[2]*i.outShape[3]*i.outShape[4],k=i.outShape[3]*i.outShape[4],S=i.outShape[4];for(let C=0;C<i.batchSize;++C){const t=C*w,n=C*r[0];for(let y=0;y<i.inChannels;++y)for(let w=0;w<i.outDepth;++w){const C=w*o-m;let A=C;for(;A<0;)A+=c;const T=Math.min(i.inDepth,h+C),I=t+w*_;for(let t=0;t<i.outHeight;++t){const o=t*s-g;let h=o;for(;h<0;)h+=u;const m=Math.min(i.inHeight,p+o),w=I+t*k;for(let t=0;t<i.outWidth;++t){const o=t*l-v;let s=o;for(;s<0;)s+=d;const p=Math.min(i.inWidth,f+o),g=w+t*S;let _=b,k=0,C=0;for(let t=A;t<T;t+=c){const i=n+t*r[1];for(let t=h;t<m;t+=u){const n=i+t*r[2];for(let t=s;t<p;t+=d){const i=e[n+t*r[3]+y];if("max"===a&&i>_?_=i:"avg"===a&&(k+=i,C++),isNaN(_))break}if(isNaN(_))break}if(isNaN(_))break}x[g+y]="avg"===a?k/Math.max(C,1):_}}}}return y}const PQ={kernelName:cM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t;bJ(i,"avgPool");const{filterSize:a,strides:o,pad:s,dimRoundingMode:l}=r;uN(XL(o,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const c=FL(i.shape,a,o,1,s,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&fN(c.inShape,c.outShape))u=AJ({inputs:{x:i},backend:n});else{const e=n.data.get(i.dataId).values,t=MN(i.shape),r=jQ(e,i.shape,i.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,i.dtype,r.values)}return u}};const OQ={kernelName:dM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{filterSize:a,strides:o,pad:s,dimRoundingMode:l,dataFormat:c}=r;bJ(i,"avgPool3d");const u=zL(i.shape,a,o,1,s,l,c),d=RQ(n.data.get(i.dataId).values,i.shape,i.dtype,MN(i.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const LQ={kernelName:hM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:c}=r;bJ([i,a],"avgPool3DGrad");const u=zL(a.shape,o,s,1,l,c),d=u.strideDepth,h=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,v=u.dilationDepth,b=u.dilationHeight,y=u.dilationWidth,x=u.effectiveFilterDepth,w=u.effectiveFilterHeight,_=u.effectiveFilterWidth,k=x-1-u.padInfo.front,S=_-1-u.padInfo.left,C=w-1-u.padInfo.top,A=AO(a.shape,"float32"),T=1/(f*m*g),I=n.bufferSync(i);for(let E=0;E<u.batchSize;++E)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const i=t-k,a=n-C,o=r-S;let s=0;for(let t=0;t<x;t+=v){const n=(i+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<w;t+=b){const r=(a+t)/h;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let t=0;t<_;t+=y){const i=(o+t)/p;if(i<0||i>=u.outWidth||Math.floor(i)!==i)continue;s+=I.get(E,n,r,i,e)}}}A.set(s*T,E,t,n,r,e)}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};const FQ={kernelName:uM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a}=t,o=a;bJ([i,a],"avgPoolGrad");const{filterSize:s,strides:l,pad:c}=r,u=FL(o.shape,s,l,1,c),d=u.strideHeight,h=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,v=u.effectiveFilterHeight,b=u.effectiveFilterWidth,y=b-1-u.padInfo.left,x=v-1-u.padInfo.top,w=AO(o.shape,"float32"),_=1/(p*f),k=n.data.get(i.dataId).values,S=AO(i.shape,"float32",k);for(let C=0;C<u.batchSize;++C)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const r=t-x,i=n-y;let a=0;for(let t=0;t<v;t+=m){const n=(r+t)/d;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<b;t+=g){const r=(i+t)/h;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;a+=S.get(C,n,r,e)}}w.set(a*_,C,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const zQ={kernelName:aj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,scale:a,offset:o,mean:s,variance:l}=t;uN(s.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),uN(null==o||s.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),uN(null==a||s.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),bJ([i,s,l,a,o],"batchNorm");let{varianceEpsilon:c}=r;null==c&&(c=.001);const u=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values,h=n.data.get(l.dataId).values,p=a?n.data.get(a.dataId).values:new Float32Array([1]),f=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,v=p.length,b=h.length,y=d.length;let x=0,w=0,_=0,k=0;for(let S=0;S<u.length;++S)m[S]=f[x++]+(u[S]-d[w++])*p[_++]/Math.sqrt(h[k++]+c),x>=g&&(x=0),w>=y&&(w=0),_>=v&&(_=0),k>=b&&(k=0);return n.makeTensorInfo(i.shape,i.dtype,m)}};function BQ(e,t,n,r,i){const a=EL(r,t,n),o=pN(n),s=MN(r);if(a){const n=NL(t,s);return"string"===i?e.slice(n,n+o):e.subarray(n,n+o)}const l=AO(r,i,"string"===i?JW(e):e),c=AO(n,i);for(let u=0;u<c.size;++u){const e=c.indexToLoc(u),n=e.map(((e,n)=>e+t[n]));c.set(l.get(...n),...e)}return"string"===i?QW(c.values):c.values}function WQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{begin:a,size:o}=r;bJ(i,"slice");const[s,l]=ML(i,a,o);vL(i,s,l);const c=BQ(n.data.get(i.dataId).values,s,l,i.shape,i.dtype);return n.makeTensorInfo(l,i.dtype,c)}const VQ={kernelName:xD,backendName:"cpu",kernelFunc:WQ};const UQ={kernelName:fM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{blockShape:a,crops:o}=r;bJ([i],"batchToSpaceND");const s=a.reduce(((e,t)=>e*t)),l=eW(i.shape,a,s),c=tW(l.length,a.length),u=nW(i.shape,a,s),d=rW(o,a.length),h=iW(u,o,a.length),p=nQ({inputs:{x:i},backend:n,attrs:{shape:l}}),f=mQ({inputs:{x:p},backend:n,attrs:{perm:c}}),m=nQ({inputs:{x:f},backend:n,attrs:{shape:u}}),g=WQ({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function HQ(e,t,n,r,i){const a=pN(r),o=PN(i,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=i||(o[n]+=a>0?t[s]:1)}return o}function qQ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.shape[0],a=e.shape[1],o=AO([i,n],t.dtype);for(let s=0;s<i;s++)for(let i=0;i<a;i++){const a=e.get(s,i);if(a<0)throw new Error("Input x must be non-negative!");a>=n||(r?o.set(1,s,a):t.size>0?o.set(o.get(s,a)+t.get(s,i),s,a):o.set(o.get(s,a)+1,s,a))}return o}const GQ={kernelName:mM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,weights:a}=t,{size:o}=r,s=HQ(n.data.get(i.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,s)}},YQ=NJ(((e,t)=>e&t)),XQ={kernelName:gM,backendName:"cpu",kernelFunc:ZJ(gM,YQ)};const KQ={kernelName:vM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:i}=t,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=eL(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},ZQ=wJ((e=>Math.ceil(e))),JQ=kJ(yM,ZQ),QQ={kernelName:yM,backendName:"cpu",kernelFunc:JQ},$Q=_J(xM,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),e$={kernelName:xM,backendName:"cpu",kernelFunc:$Q},t$={kernelName:_M,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(pN(t.shape)),i=n.data.get(t.dataId),a=i.complexTensorInfos.real,o=i.complexTensorInfos.imag,s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values;for(let c=0;c<s.length;c++){const e=s[c],t=l[c];r[c]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function n$(e,t,n,r){const i=kN(n,pN(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=pN(e.shape);i.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const a="string"===n?JW(e.vals):e.vals;let o=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)i[s+t]=a[o++]}r+=e.shape[1]}))}return i}function r$(e){const{inputs:t,backend:n}=e,{input:r}=t,i=n.data.get(r.dataId).complexTensorInfos.imag,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}const i$={kernelName:hj,backendName:"cpu",kernelFunc:r$};function a$(e){const{inputs:t,backend:n,attrs:r}=e,{axis:i}=r,a=xN(i,t[0].shape)[0];HB(t.map((e=>e.shape)),a);let o=qB(t.map((e=>e.shape)),a);if(0===pN(o))return n.makeTensorInfo(o,t[0].dtype,[]);const s=t.filter((e=>pN(e.shape)>0));if(1===s.length)return AJ({inputs:{x:s[0]},backend:n});if("complex64"===s[0].dtype){const e=s.map((e=>qJ({inputs:{input:e},backend:n}))),t=s.map((e=>r$({inputs:{input:e},backend:n}))),r=a$({inputs:e,backend:n,attrs:{axis:a}}),i=a$({inputs:t,backend:n,attrs:{axis:a}}),o=VJ({inputs:{real:r,imag:i},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(i),o}const l=s.map((e=>{const t=pN(e.shape.slice(a));return nQ({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),c=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));o=qB(l.map((e=>e.shape)),1);const u=1===l[0].shape[0],d=n$(c,o,t[0].dtype,u),h=qB(s.map((e=>e.shape)),a),p=n.makeTensorInfo(h,t[0].dtype,d);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const o$={kernelName:kM,backendName:"cpu",kernelFunc:a$};function s$(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dataFormat:l,dilations:c,dimRoundingMode:u}=r;bJ([i,a],"conv2d");const d=ZL(l),h=BL(i.shape,a.shape,o,c,s,u,!1,d),p=h.filterHeight,f=h.filterWidth,m=h.dilationHeight,g=h.dilationWidth,v=h.padInfo.left,b=h.padInfo.top,y="channelsLast"===h.dataFormat,x=new KR(h.outShape,i.dtype),w=MN(i.shape),_=MN(a.shape),k=w[0],S=y?w[1]:w[2],C=y?w[2]:1,A=y?1:w[1],T=x.strides[0],I=y?x.strides[1]:x.strides[2],E=y?x.strides[2]:1,N=y?1:x.strides[1],M=n.data.get(i.dataId).values,j=n.data.get(a.dataId).values,D=x.values;for(let R=0;R<h.batchSize;++R){const e=R*k,t=R*T;for(let n=0;n<h.outHeight;++n){const r=t+n*I,i=n*h.strideHeight-b;for(let t=0;t<p;++t){const n=i+t*m;if(n<0||n>=h.inHeight)continue;const a=t*_[0],o=e+n*S;for(let e=0;e<h.outWidth;++e){const t=r+e*E,n=e*h.strideWidth-v;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=h.inWidth)continue;const i=o+r*C;let s=a+e*_[1];for(let e=0;e<h.inChannels;++e){const n=M[i+e*A];for(let e=0;e<h.outChannels;++e)D[t+e*N]+=n*j[s+e];s+=h.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,D)}const l$={kernelName:SM,backendName:"cpu",kernelFunc:s$};const c$={kernelName:CM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,dy:a}=t,{strides:o,pad:s,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;bJ([i,a],"conv2dBackpropFilter");const d=ZL(l),h=BL(i.shape,u,o,1,s,c,!1,d),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=h,v="channelsLast"===h.dataFormat,b=new KR(h.filterShape,"float32"),y=h.padInfo.left,x=h.padInfo.top,w=n.data.get(i.dataId).values,_=n.data.get(a.dataId).values,k=new KR(i.shape,i.dtype,w),S=new KR(a.shape,a.dtype,_);for(let C=0;C<m;++C){const e=Math.max(0,Math.ceil((x-C)/p)),t=Math.min(h.outHeight,(h.inHeight+x-C)/p);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((y-n)/f)),i=Math.min(h.outWidth,(h.inWidth+y-n)/f);for(let a=0;a<h.inChannels;++a)for(let o=0;o<h.outChannels;++o){let s=0;for(let l=0;l<h.batchSize;++l)for(let c=e;c<t;++c){const e=C+c*p-x;for(let t=r;t<i;++t){const r=n+t*f-y;s+=v?k.get(l,e,r,a)*S.get(l,c,t,o):k.get(l,a,e,r)*S.get(l,o,c,t)}}b.set(s,C,n,a,o)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const u$={kernelName:AM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,filter:a}=t,{inputShape:o,strides:s,pad:l,dataFormat:c,dimRoundingMode:u}=r;bJ([i,a],"conv2dBackpropInput");const d=MN(a.shape),h=MN(i.shape);let p=ZL(c);const f=BL(o,a.shape,s,1,l,u,!1,p),m=new KR(f.inShape,"float32"),g=m.values,v=n.data.get(i.dataId).values,b=n.data.get(a.dataId).values,[y,x,w]=d,{batchSize:_,filterHeight:k,filterWidth:S,inChannels:C,inHeight:A,inWidth:T,outChannels:I,outHeight:E,outWidth:N,strideHeight:M,strideWidth:j}=f;p=f.dataFormat;const D=k-1-f.padInfo.top,R=S-1-f.padInfo.left,P="channelsLast"===p,O=m.strides[0],L=P?m.strides[1]:m.strides[2],F=P?m.strides[2]:1,z=P?1:m.strides[1],B=h[0],W=P?h[1]:h[2],V=P?h[2]:1,U=P?1:h[1];for(let H=0;H<_;++H)for(let e=0;e<C;++e)for(let t=0;t<A;++t){const n=t-D,r=Math.max(0,Math.ceil(n/M)),i=Math.min(E,(k+n)/M);for(let a=0;a<T;++a){const o=a-R,s=Math.max(0,Math.ceil(o/j)),l=Math.min(N,(S+o)/j);let c=0;for(let t=r;t<i;++t){const r=t*M-n;for(let n=s;n<l;++n){const i=B*H+W*t+V*n,a=y*(k-1-r)+x*(S-1-(n*j-o))+w*e;for(let e=0;e<I;++e){c+=v[i+U*e]*b[a+e]}}}g[O*H+L*t+F*a+z*e]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const d$={kernelName:TM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dilations:l}=r;bJ([i,a],"conv3d");const c=WL(i.shape,a.shape,o,l,s),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=c,v=g.front,b=g.left,y=g.top,x=new KR(c.outShape,i.dtype),w=n.data.get(i.dataId).values,_=n.data.get(a.dataId).values,k=x.values,S=MN(i.shape),C=MN(a.shape);for(let A=0;A<c.batchSize;++A){const e=A*S[0],t=A*x.strides[0];for(let n=0;n<c.outDepth;++n){const r=t+n*x.strides[1],i=n*c.strideDepth-v;for(let t=0;t<u;++t){const n=i+t*p;if(n<0||n>=c.inDepth)continue;const a=t*C[0],o=e+n*S[1];for(let e=0;e<c.outHeight;++e){const t=r+e*x.strides[2],n=e*c.strideHeight-y;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=c.inHeight)continue;const i=a+e*C[1],s=o+r*S[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,r=e*c.strideWidth-b;for(let e=0;e<h;++e){const t=r+e*m;if(t<0||t>=c.inWidth)continue;const a=i+e*C[2],o=s+t*c.inChannels;let l=a;for(let e=0;e<c.inChannels;++e){const t=w[o+e];for(let e=0;e<c.outChannels;++e)k[n+e]+=t*_[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const h$={kernelName:IM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,dy:a}=t,{strides:o,pad:s,filterShape:l}=r;bJ([i,a],"conv3dBackpropFilterV2");const c=MN(i.shape),u=MN(a.shape),d=WL(i.shape,l,o,1,s),h=d.strideDepth,p=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,v=d.filterWidth,b=new KR(d.filterShape,"float32"),y=b.values,[x,w,_,k]=b.strides,S=n.data.get(a.dataId).values,[C,A,T,I]=u,E=n.data.get(i.dataId).values,[N,M,j,D]=c,R=d.padInfo.front,P=d.padInfo.left,O=d.padInfo.top;for(let L=0;L<m;++L){const e=Math.max(0,Math.ceil((R-L)/h)),t=Math.min(d.outDepth,(d.inDepth+R-L)/h),n=L*x;for(let r=0;r<g;++r){const i=Math.max(0,Math.ceil((O-r)/p)),a=Math.min(d.outHeight,(d.inHeight+O-r)/p),o=r*w+n;for(let n=0;n<v;++n){const s=Math.max(0,Math.ceil((P-n)/f)),l=Math.min(d.outWidth,(d.inWidth+P-n)/f),c=n*_+o;for(let o=0;o<d.inChannels;++o){const u=o*k+c;for(let c=0;c<d.outChannels;++c){let m=0;for(let u=0;u<d.batchSize;++u){const d=u*N,g=u*C;for(let u=e;u<t;++u){const e=(L+u*h-R)*M+d,t=u*A+g;for(let u=i;u<a;++u){const i=(r+u*p-O)*j+e,a=u*T+t;for(let e=s;e<l;++e){const t=e*I+a;m+=E[(n+e*f-P)*D+i+o]*S[t+c]}}}}y[u+c]=m}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const p$={kernelName:EM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,filter:a}=t,{pad:o,strides:s,inputShape:l}=r;bJ([i],"conv3dBackpropInputV2");const c=MN(i.shape),u=MN(a.shape),d=WL(l,a.shape,s,1,o),h=new KR(d.inShape,"float32"),p=h.values,[f,m,g,v]=h.strides,b=n.data.get(i.dataId).values,[y,x,w,_]=c,k=n.data.get(a.dataId).values,[S,C,A,T]=u,{batchSize:I,filterDepth:E,filterHeight:N,filterWidth:M,inChannels:j,inDepth:D,inHeight:R,inWidth:P,outChannels:O,outDepth:L,outHeight:F,outWidth:z,strideDepth:B,strideHeight:W,strideWidth:V}=d,U=E-1-d.padInfo.front,H=N-1-d.padInfo.top,q=M-1-d.padInfo.left;for(let G=0;G<I;++G)for(let e=0;e<j;++e)for(let t=0;t<D;++t){const n=t-U,r=Math.max(0,Math.ceil(n/B)),i=Math.min(L,(E+n)/B);for(let a=0;a<R;++a){const o=a-H,s=Math.max(0,Math.ceil(o/W)),l=Math.min(F,(N+o)/W);for(let c=0;c<P;++c){const u=c-q,d=Math.max(0,Math.ceil(u/V)),h=Math.min(z,(M+u)/V);let I=0;for(let t=r;t<i;++t){const r=t*B-n;for(let n=s;n<l;++n){const i=n*W-o;for(let a=d;a<h;++a){const o=y*G+x*t+w*n+_*a,s=S*(E-1-r)+C*(N-1-i)+A*(M-1-(a*V-u))+T*e;for(let e=0;e<O;++e){I+=b[o+e]*k[s+e]}}}}p[f*G+m*t+g*a+v*c+e]=I}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},f$=_J(NM,(e=>Math.cos(e))),m$={kernelName:NM,backendName:"cpu",kernelFunc:f$},g$=_J(MM,(e=>Math.cosh(e))),v$={kernelName:MM,backendName:"cpu",kernelFunc:g$};const b$={kernelName:RM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:i,boxes:a,boxInd:o}=t,{cropSize:s,method:l,extrapolationValue:c}=r,[u,d,h,p]=i.shape,f=a.shape[0],[m,g]=s,v=AO([f,m,g,p],"float32"),b=n.data.get(a.dataId).values,y=n.data.get(o.dataId).values,x=n.data.get(i.dataId).values,w=MN(i.shape),_=MN(v.shape);for(let k=0;k<f;k++){const e=4*k,t=b[e],n=b[e+1],r=b[e+2],i=b[e+3],a=y[k];if(a>=u)continue;const o=m>1?(r-t)*(d-1)/(m-1):0,s=g>1?(i-n)*(h-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(d-1)+u*o:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<p;e++){const n=e+t*_[2]+u*_[1]+k*_[0];v.values[n]=c}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),o=e-t;for(let e=0;e<g;e++){const l=g>1?n*(h-1)+e*s:.5*(n+i)*(h-1);if(l<0||l>h-1){for(let t=0;t<p;t++){const n=t+e*_[2]+u*_[1]+k*_[0];v.values[n]=c}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<p;n++){let i=n+d*w[2]+t*w[1]+a*w[0];const s=x[i];i=n+f*w[2]+t*w[1]+a*w[0];const l=x[i];i=n+d*w[2]+r*w[1]+a*w[0];const c=x[i];i=n+f*w[2]+r*w[1]+a*w[0];const h=s+(l-s)*m,p=c+(x[i]-c)*m;i=n+e*_[2]+u*_[1]+k*_[0],v.values[i]=h+(p-h)*o}}}else for(let t=0;t<g;++t){const r=g>1?n*(h-1)+t*s:.5*(n+i)*(h-1);if(r<0||r>h-1){for(let e=0;e<p;e++){const n=e+t*_[2]+u*_[1]+k*_[0];v.values[n]=c}continue}const o=Math.round(r),l=Math.round(e);for(let e=0;e<p;e++){const n=e+o*w[2]+l*w[1]+a*w[0],r=e+t*_[2]+u*_[1]+k*_[0];v.values[r]=x[n]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const y$={kernelName:jM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,exclusive:o,reverse:s}=r;bJ(i,"cumprod");const l=UF([a],i.shape.length);let c=i;null!=l&&(c=mQ({inputs:{x:i},backend:n,attrs:{perm:l}}));const u=qF(1,i.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=lP(c.dtype,"int32"),h=RN(pN(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let v=0;v<p.length;v+=f)for(let e=0;e<f;e++){const t=m(v,e);if(0===e)h[t]=o?1:p[t];else{const n=m(v,e-1);h[t]=o?p[n]*h[n]:p[t]*h[n]}}const g=n.makeTensorInfo(c.shape,d,h);if(null!=l){const e=mQ({inputs:{x:g},backend:n,attrs:{perm:HF(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const x$={kernelName:DM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,exclusive:o,reverse:s}=r;bJ(i,"cumsum");const l=UF([a],i.shape.length);let c=i;null!=l&&(c=mQ({inputs:{x:i},backend:n,attrs:{perm:l}}));const u=qF(1,i.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=lP(c.dtype,"int32"),h=PN(pN(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let v=0;v<p.length;v+=f)for(let e=0;e<f;e++){const t=m(v,e);if(0===e)h[t]=o?0:p[t];else{const n=m(v,e-1);h[t]=o?p[n]+h[n]:p[t]+h[n]}}const g=n.makeTensorInfo(c.shape,d,h);if(null!=l){const e=mQ({inputs:{x:g},backend:n,attrs:{perm:HF(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const w$={kernelName:PM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,weights:a}=t,{size:o,binaryOutput:s}=r;if(1===i.shape.length){const e=HQ(n.data.get(i.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,e)}if(2===i.shape.length){const e=qQ(n.bufferSync(i),n.bufferSync(a),o,s);return n.makeTensorInfo(e.shape,a.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}};const _$={kernelName:OM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{blockSize:a,dataFormat:o}=r;uN("NHWC"===o,(()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(o)));const s=i.shape[0],l=i.shape[1],c=i.shape[2],u=i.shape[3],d=l*a,h=c*a,p=u/(a*a),f=n.data.get(i.dataId).values,m=new Float32Array(s*d*h*p);let g=0;for(let v=0;v<s;++v)for(let e=0;e<d;++e){const t=Math.floor(e/a),n=e%a;for(let e=0;e<h;++e){const r=Math.floor(e/a),i=(n*a+e%a)*p;for(let e=0;e<p;++e){const n=e+i+u*(r+c*(t+l*v));m[g++]=f[n]}}}return n.makeTensorInfo([s,d,h,p],i.dtype,m)}};function k$(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dilations:l,dimRoundingMode:c}=r;bJ([i,a],"depthwiseConv2DNative");const u=MN(i.shape),d=MN(a.shape);let h=l;null==h&&(h=[1,1]),uN(XL(o,h),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(h,"'")));const p=BL(i.shape,a.shape,o,h,s,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:v,padInfo:b}=p,y=b.left,x=b.top,w=p.outChannels/p.inChannels,_=new KR(p.outShape,i.dtype),k=n.data.get(i.dataId).values,S=n.data.get(a.dataId).values,C=_.values;for(let A=0;A<p.batchSize;++A){const e=A*u[0],t=A*_.strides[0];for(let n=0;n<p.outHeight;++n){const r=t+n*_.strides[1],i=n*p.strideHeight-x;for(let t=0;t<f;++t){const n=i+t*g;if(n<0||n>=p.inHeight)continue;const a=t*d[0],o=e+n*u[1];for(let e=0;e<p.outWidth;++e){const t=r+e*_.strides[2],n=e*p.strideWidth-y;for(let e=0;e<m;++e){const r=n+e*v;if(r<0||r>=p.inWidth)continue;const i=a+e*d[1],s=o+r*p.inChannels;let l=t,c=i;for(let e=0;e<p.inChannels;++e){const t=k[s+e];for(let e=0;e<w;++e)C[l+e]+=t*S[c+e];l+=w,c+=w}}}}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const S$={kernelName:LM,backendName:"cpu",kernelFunc:k$};const C$={kernelName:FM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,dy:a}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:c,filterShape:u}=r;bJ([i,a],"depthwiseConv2dNativeBackpropFilter");const d=BL(i.shape,u,o,s,l,c,!0),{strideHeight:h,strideWidth:p,filterHeight:f,filterWidth:m}=d,g=new KR(d.filterShape,"float32"),v=d.padInfo.left,b=d.padInfo.top,y=d.outChannels/d.inChannels,x=n.data.get(i.dataId).values,w=new KR(i.shape,i.dtype,x),_=n.data.get(a.dataId).values,k=new KR(a.shape,a.dtype,_);for(let S=0;S<f;++S){const e=Math.max(0,Math.ceil((b-S)/h)),t=Math.min(d.outHeight,(d.inHeight+b-S)/h);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((v-n)/p)),i=Math.min(d.outWidth,(d.inWidth+v-n)/p);for(let a=0;a<d.outChannels;++a){const o=Math.trunc(a/y),s=a%y;let l=0;for(let c=0;c<d.batchSize;++c)for(let s=e;s<t;++s){const e=S+s*h-b;for(let t=r;t<i;++t){const r=n+t*p-v;l+=w.get(c,e,r,o)*k.get(c,s,t,a)}}g.set(l,S,n,o,s)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const A$={kernelName:zM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,filter:a}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:c,inputShape:u}=r;bJ([i,a],"depthwiseConv2DNativeBackpropInput");const d=MN(i.shape),h=MN(a.shape),p=BL(u,a.shape,o,s,l,c,!0),f=new KR(p.inShape,"float32"),m=f.values,[g,v,b]=f.strides,y=n.data.get(i.dataId).values,[x,w,_]=d,k=n.data.get(a.dataId).values,[S,C,A]=h,{batchSize:T,filterHeight:I,filterWidth:E,inChannels:N,inHeight:M,inWidth:j,outChannels:D,outHeight:R,outWidth:P,strideHeight:O,strideWidth:L}=p,F=I-1-p.padInfo.top,z=E-1-p.padInfo.left,B=D/N;for(let W=0;W<T;++W)for(let e=0;e<N;++e)for(let t=0;t<M;++t){const n=t-F,r=Math.max(0,Math.ceil(n/O)),i=Math.min(R,(I+n)/O);for(let a=0;a<j;++a){const o=a-z,s=Math.max(0,Math.ceil(o/L)),l=Math.min(P,(E+o)/L);let c=0;for(let t=r;t<i;++t){const r=t*O-n;for(let n=s;n<l;++n){const i=x*W+w*t+_*n,a=S*(I-1-r)+C*(E-1-(n*L-o))+A*e;for(let t=0;t<B;++t){c+=y[i+(e*B+t)]*k[a+t]}}}m[g*W+v*t+b*a+e]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const T$={kernelName:BM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,i=pN(r.shape),a=n.data.get(r.dataId).values,o=AO([i,i],r.dtype),s=o.values;for(let c=0;c<a.length;c++)s[c*i+c]=a[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,o.dtype,o.values)}},I$={kernelName:WM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:i,filter:a}=t,{strides:o,pad:s,dilations:l}=r,c=n,u=c.data.get(i.dataId).values,d=i.shape.length,h=c.data.get(a.dataId).values,p=a.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:v,outHeight:b,outWidth:y,padInfo:x,strideHeight:w,strideWidth:_,filterHeight:k,filterWidth:S,dilationHeight:C,dilationWidth:A,outShape:T}=LL(i.shape,a.shape,o,s,"NHWC",l),I=pN(T),E=T.length,N=kN(i.dtype,I);for(let M=0;M<f;++M)for(let e=0;e<b;++e){const t=e*w-x.top;for(let n=0;n<y;++n){const r=n*_-x.left;for(let o=0;o<v;++o){let s=Number.MIN_SAFE_INTEGER;for(let e=0;e<k;++e){const n=t+e*C;if(n>=0&&n<m)for(let t=0;t<S;++t){const l=r+t*A;if(l>=0&&l<g){const r=FN([M,n,l,o],d,MN(i.shape)),c=FN([e,t,o],p,MN(a.shape)),f=u[r]+h[c];f>s&&(s=f)}}}N[FN([M,e,n,o],E,MN(T))]=s}}}return{dataId:c.write(jR(N,i.dtype),T,i.dtype),shape:T,dtype:i.dtype}}},E$={kernelName:UM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:i,filter:a,dy:o}=t,{strides:s,pad:l,dilations:c}=r,u=n,d=DN(i.shape,u.data.get(i.dataId).values),h=DN(a.shape,u.data.get(a.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:v,outWidth:b,padInfo:y,strideHeight:x,strideWidth:w,filterHeight:_,filterWidth:k,dilationHeight:S,dilationWidth:C,outShape:A}=LL(i.shape,a.shape,s,l,"NHWC",c);uN(o.rank===A.length,(()=>"Error in ".concat(UM,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(o.rank)));const T=DN(A,u.data.get(o.dataId).values),I=ON(a.shape,a.dtype);for(let E=0;E<p;++E)for(let e=0;e<v;++e){const t=e*x-y.top;for(let n=0;n<b;++n){const r=n*w-y.left;for(let i=0;i<g;++i){let a=Number.MIN_SAFE_INTEGER,o=0,s=0;for(let e=0;e<_;++e){const n=t+e*S;if(n>=0&&n<f)for(let t=0;t<k;++t){const l=r+t*C;if(l>=0&&l<m){const r=d[E][n][l][i]+h[e][t][i];r>a&&(a=r,o=e,s=t)}}}I[o][s][i]+=T[E][e][n][i]}}}return{dataId:u.write(jR(I,i.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},N$={kernelName:VM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:i,filter:a,dy:o}=t,{strides:s,pad:l,dilations:c}=r,u=n,d=DN(i.shape,u.data.get(i.dataId).values),h=DN(a.shape,u.data.get(a.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:v,outWidth:b,padInfo:y,strideHeight:x,strideWidth:w,filterHeight:_,filterWidth:k,dilationHeight:S,dilationWidth:C,outShape:A}=LL(i.shape,a.shape,s,l,"NHWC",c);uN(o.rank===A.length,(()=>"Error in ".concat(VM,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(o.rank)));const T=DN(A,u.data.get(o.dataId).values),I=ON(i.shape,i.dtype);for(let E=0;E<p;++E)for(let e=0;e<v;++e){const t=e*x-y.top;for(let n=0;n<b;++n){const r=n*w-y.left;for(let i=0;i<g;++i){let a=Number.MIN_SAFE_INTEGER,o=t<0?0:t,s=r<0?0:r;for(let e=0;e<_;++e){const n=t+e*S;if(n>=0&&n<f)for(let t=0;t<k;++t){const l=r+t*C;if(l>=0&&l<m){const r=d[E][n][l][i]+h[e][t][i];r>a&&(a=r,o=n,s=l)}}}I[E][o][s][i]+=T[E][e][n][i]}}}return{dataId:u.write(jR(I,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};const M$={kernelName:HM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:i}=t,{canvas:a,options:o}=r,{contextOptions:s,imageOptions:l}=o||{},c=(null===l||void 0===l?void 0:l.alpha)||1,u=(null===s||void 0===s?void 0:s.contextType)||"2d";if("2d"!==u)throw new Error("Context type ".concat(s.contextType," is not supported by the CPU backend."));const d=a.getContext(u,(null===s||void 0===s?void 0:s.contextAttributes)||{});if(null==d)throw new Error("Could not get the context with ".concat(u," type."));const[h,p]=i.shape.slice(0,2),f=2===i.shape.length?1:i.shape[2],m=n.data.get(i.dataId).values,g="float32"===i.dtype?255:1,v=new Uint8ClampedArray(p*h*4);for(let y=0;y<h*p;++y){const e=[0,0,0,255*c];for(let n=0;n<f;n++){const t=m[y*f+n];if("float32"===i.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===i.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*y;v[t+0]=Math.round(e[0]),v[t+1]=Math.round(e[1]),v[t+2]=Math.round(e[2]),v[t+3]=Math.round(e[3])}a.width=p,a.height=h;const b=new ImageData(v,p,h);return d.putImageData(b,0,0),i}},j$=NJ(((e,t)=>e*t)),D$=JJ(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),R$=ZJ(Bj,j$,D$),P$={kernelName:Bj,backendName:"cpu",kernelFunc:R$};function O$(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r;let s;bJ(i,"sum"),s="bool"===i.dtype?XJ({inputs:{x:i},backend:n,attrs:{dtype:"int32"}}):AJ({inputs:{x:i},backend:n});const l=s.shape.length,c=xN(a,s.shape),u=UF(c,l);let d=c,h=s;null!=u&&(h=mQ({inputs:{x:s},backend:n,attrs:{perm:u}}),d=qF(d.length,l)),VF("sum",d,h.shape.length);const[p,f]=BF(h.shape,d);let m=HJ(n,p,lP(h.dtype,"int32"));const g=pN(f),v=n.data.get(m.dataId).values,b=n.data.get(h.dataId).values;for(let y=0;y<v.length;++y){const e=y*g;let t=0;for(let n=0;n<g;++n)t+=b[e+n];v[y]=t}if(o){const e=m;m=nQ({inputs:{x:m},backend:n,attrs:{shape:WF(m.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=u&&n.disposeIntermediateTensorInfo(h),m}const L$={kernelName:TD,backendName:"cpu",kernelFunc:O$};const F$={kernelName:GM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:i}=r,a=t,{allDims:o,summedDims:s,idDims:l}=EW(i,a.length);MW(o.length,l,a);const{path:c,steps:u}=jW(s,l),d=u.length;let h=null,p=o.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=NW(p,l[e]);let i;DW(t)?i=a[e]:(i=mQ({inputs:{x:a[e]},backend:n,attrs:{perm:t}}),f.push(i));const o=i.shape.slice();for(let e=0;e<r.length;++e)o.splice(r[e],0,1);fN(i.shape,o)||(i=nQ({inputs:{x:i},backend:n,attrs:{shape:o}}),f.push(i)),null===h?h=i:(h=R$({inputs:{a:i,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=O$({inputs:{x:h},backend:n,attrs:{axis:c[m]-(o.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}};const z$={kernelName:XM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:i}=t;bJ([r,i],"eluGrad");const a=new Float32Array(pN(i.shape)),o=n.data.get(i.dataId).values,s=n.data.get(r.dataId).values;for(let l=0;l<o.length;++l){const e=o[l];a[l]=e>=0?s[l]:s[l]*(e+1)}return n.makeTensorInfo(i.shape,"float32",a)}},B$=NJ(((e,t)=>e===t?1:0)),W$=ZJ(ZM,B$,null,"bool"),V$={kernelName:ZM,backendName:"cpu",kernelFunc:W$},U$=dW,H$=hW,q$=pW,G$=fW,Y$=mW,X$=gW,K$=_J(KM,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+U$*n);return t*(1-((((X$*r+Y$)*r+G$)*r+q$)*r+H$)*r*Math.exp(-n*n))})),Z$={kernelName:KM,backendName:"cpu",kernelFunc:K$},J$=wJ((e=>Math.exp(e))),Q$=kJ(JM,J$,"float32"),$$={kernelName:JM,backendName:"cpu",kernelFunc:Q$};function e0(e){const{inputs:t,backend:n,attrs:r}=e,{input:i}=t,{dim:a}=r,o=i.shape.length,s=i.shape.slice();let l=a;return a<0&&(uN(-(o+1)<=a,(()=>"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]"))),l=o+a+1),s.splice(l,0,1),nQ({inputs:{x:i},backend:n,attrs:{shape:s}})}const t0={kernelName:QM,backendName:"cpu",kernelFunc:e0},n0=wJ((e=>Math.expm1(e))),r0=kJ($M,n0),i0={kernelName:$M,backendName:"cpu",kernelFunc:r0},a0=NJ(((e,t)=>e/t)),o0=ZJ(qM,a0),s0={kernelName:qM,backendName:"cpu",kernelFunc:o0},l0=NJ(((e,t)=>e-t)),c0=JJ(((e,t,n,r)=>({real:e-n,imag:t-r}))),u0=ZJ(UD,l0,c0),d0={kernelName:UD,backendName:"cpu",kernelFunc:u0};function h0(e,t,n){const r=e.shape,i=r[0],a=r[1],o=n.data.get(e.dataId),s=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,c=[i,a],u=pN(c),d=_N("float32",u),h=_N("float32",u);for(let g=0;g<i;g++){const e=WQ({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,a]}}),r=WQ({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,a]}}),i=VJ({inputs:{real:e,imag:r},backend:n}),{real:o,imag:c}=p0(i,t,n),u=vW(o,c);for(let t=0;t<a;t++){const e=wW(u,t);d[g*a+t]=e.real,h[g*a+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(i)}const p=n.makeTensorInfo(c,"float32",d),f=n.makeTensorInfo(c,"float32",h),m=VJ({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function p0(e,t,n){const r=pN(e.shape),i=n.data.get(e.dataId),a=n.data.get(i.complexTensorInfos.real.dataId).values,o=n.data.get(i.complexTensorInfos.imag.dataId).values;if(0===((s=r)&s-1)){const i=f0(a,o,r,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",i.real),t=n.makeTensorInfo(s,"float32",i.imag),a=n.makeTensorInfo([],"float32",MR(r,"float32")),o=AJ({inputs:{x:a},backend:n}),l=s0.kernelFunc({inputs:{a:e,b:a},backend:n}),c=s0.kernelFunc({inputs:{a:t,b:o},backend:n}),u=n.data.get(l.dataId).values,d=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:d}}return i}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let i=0;i<t;i++){let a=0,o=0;for(let r=0;r<t;r++){const s=SW(i*r,t,n),l=wW(e,r);a+=l.real*s.real-l.imag*s.imag,o+=l.real*s.imag+l.imag*s.real}n&&(a/=t,o/=t),_W(r,a,o,i)}return r}(vW(a,o),r,t);return bW(e)}var s}function f0(e,t,n,r,i){if(1===n)return{real:e,imag:t};const a=vW(e,t),o=n/2,s=yW(a),l=s.real,c=s.imag,u=[l.length],d=i.makeTensorInfo(u,"float32",l),h=i.makeTensorInfo(u,"float32",c),p=VJ({inputs:{real:d,imag:h},backend:i}),f=xW(a),m=f.real,g=f.imag,v=[m.length],b=i.makeTensorInfo(v,"float32",m),y=i.makeTensorInfo(v,"float32",g),x=VJ({inputs:{real:b,imag:y},backend:i}),w=f0(l,c,o,r,i),_=w.real,k=w.imag,S=[_.length],C=i.makeTensorInfo(S,"float32",_),A=i.makeTensorInfo(S,"float32",k),T=VJ({inputs:{real:C,imag:A},backend:i}),I=f0(m,g,o,r,i),E=I.real,N=I.imag,M=[E.length],j=i.makeTensorInfo(M,"float32",E),D=i.makeTensorInfo(M,"float32",N),R=VJ({inputs:{real:j,imag:D},backend:i}),P=kW(n,r),O=[P.real.length],L=i.makeTensorInfo(O,"float32",P.real),F=i.makeTensorInfo(O,"float32",P.imag),z=VJ({inputs:{real:L,imag:F},backend:i}),B=R$({inputs:{a:z,b:R},backend:i}),W=eQ({inputs:{a:T,b:B},backend:i}),V=u0({inputs:{a:T,b:B},backend:i}),U=qJ({inputs:{input:W},backend:i}),H=qJ({inputs:{input:V},backend:i}),q=r$({inputs:{input:W},backend:i}),G=r$({inputs:{input:V},backend:i}),Y=a$({inputs:[U,H],backend:i,attrs:{axis:0}}),X=a$({inputs:[q,G],backend:i,attrs:{axis:0}}),K=i.data.get(Y.dataId).values,Z=i.data.get(X.dataId).values;return i.disposeIntermediateTensorInfo(d),i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(p),i.disposeIntermediateTensorInfo(b),i.disposeIntermediateTensorInfo(y),i.disposeIntermediateTensorInfo(x),i.disposeIntermediateTensorInfo(C),i.disposeIntermediateTensorInfo(A),i.disposeIntermediateTensorInfo(T),i.disposeIntermediateTensorInfo(j),i.disposeIntermediateTensorInfo(D),i.disposeIntermediateTensorInfo(R),i.disposeIntermediateTensorInfo(L),i.disposeIntermediateTensorInfo(F),i.disposeIntermediateTensorInfo(z),i.disposeIntermediateTensorInfo(B),i.disposeIntermediateTensorInfo(W),i.disposeIntermediateTensorInfo(V),i.disposeIntermediateTensorInfo(U),i.disposeIntermediateTensorInfo(q),i.disposeIntermediateTensorInfo(H),i.disposeIntermediateTensorInfo(G),i.disposeIntermediateTensorInfo(Y),i.disposeIntermediateTensorInfo(X),{real:K,imag:Z}}const m0={kernelName:ej,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,i=pN(r.shape),a=r.shape[r.shape.length-1],o=nQ({inputs:{x:r},backend:n,attrs:{shape:[i/a,a]}}),s=h0(o,!1,n),l=nQ({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}};function g0(e){const{backend:t,attrs:n}=e,{shape:r,value:i,dtype:a}=n,o=a||IN(i),s=kN(o,pN(r));return function(e,t,n){e.fill(t)}(s,i),t.makeTensorInfo(r,o,s)}const v0={kernelName:tj,backendName:"cpu",kernelFunc:g0};const b0={kernelName:nj,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:i}=t,a=r,o=_N(i.dtype,pN(i.shape)),[s,l,c,u]=i.shape,d=a.data.get(i.dataId).values;for(let h=0;h<s;h++){const e=h*c*l*u;for(let t=0;t<l;t++){const n=t*(c*u);for(let t=0;t<c;t++){const r=t*u;for(let i=0;i<u;i++){const a=Math.round(c-t-1),s=e+n+r+i;let l=d[s];if(a>=0&&a<c){l=d[e+n+a*u+i]}o[s]=l}}}}return{dataId:a.write(o,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},y0=wJ((e=>Math.floor(e))),x0=kJ(rj,y0),w0={kernelName:rj,backendName:"cpu",kernelFunc:x0},_0=NJ(((e,t)=>Math.floor(e/t))),k0=ZJ(ij,_0,null,"int32"),S0={kernelName:ij,backendName:"cpu",kernelFunc:k0};const C0={kernelName:iR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a,bias:o,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=r;let m=s$({inputs:{x:i,filter:a},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(o){const e=m;if("NCHW"===u&&1===o.shape.length&&1!==o.shape[0]){const e=nQ({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=eQ({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=eQ({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===u&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){const e=nQ({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=WJ(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=WJ(n,m,p,s,f);n.disposeIntermediateTensorInfo(e)}return m}};const A0={kernelName:aR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a,bias:o,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=r;let m=k$({inputs:{x:i,filter:a},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(o){const e=m;m=eQ({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=WJ(n,m,p,s,f),n.disposeIntermediateTensorInfo(e)}return m}};function T0(e,t,n,r,i,a,o,s,l){const c=AO([r,a],n);for(let u=0;u<r;u++){const n=[];let r=0;for(let t=0;t<i;t++){const a=e[u*i+t];r+=a*o[t],n.push(a)}if(r<0||r>=l/a)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(s));for(let e=0;e<a;e++)c.values[u*a+e]=t.get(...t.indexToLoc(r*a+e))}return c}const I0={kernelName:sj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:i}=t,a=pN(r.shape),o=i.shape,s=o[o.length-1],[l,c,u,d]=aW(r,i);if(0===c)return n.makeTensorInfo(l,r.dtype,[]);const h=T0(n.data.get(i.dataId).values,n.bufferSync(r),r.dtype,c,s,u,d,r.shape,a);return n.makeTensorInfo(l,r.dtype,h.values)}};function E0(e,t,n){const r=AO(n,e.dtype);for(let i=0;i<r.size;++i){const n=r.indexToLoc(i).slice(),a=n[0],o=n[2],s=t.locToIndex([a,o]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[i]=e.values[l])}return r}const N0={kernelName:oj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,indices:a}=t,{axis:o,batchDims:s}=r;bJ([i,a],"gatherV2");const l=xN(o,i.shape)[0],c=n.data.get(a.dataId).values,u=i.shape[l];for(let y=0;y<c.length;++y){const e=c[y];uN(e<=u-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(u-1,"]")))}let d=s;null==s&&(d=0);const h=pN(a.shape),p=ZW(i,a,l,d),f=nQ({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=nQ({inputs:{x:a},backend:n,attrs:{shape:[p.batchSize,h/p.batchSize]}}),g=[p.batchSize,p.outerSize,h/p.batchSize,p.sliceSize],v=n.bufferSync(m),b=E0(n.bufferSync(f),v,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,b.dtype,b.values)}},M0=NJ(((e,t)=>e>t?1:0)),j0=ZJ(lj,M0,null,"bool"),D0={kernelName:lj,backendName:"cpu",kernelFunc:j0},R0=NJ(((e,t)=>e>=t?1:0)),P0=ZJ(cj,R0,null,"bool"),O0={kernelName:cj,backendName:"cpu",kernelFunc:P0};const L0={kernelName:dj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,i=pN(r.shape),a=r.shape[r.shape.length-1],o=nQ({inputs:{x:r},backend:n,attrs:{shape:[i/a,a]}}),s=h0(o,!0,n),l=nQ({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}},F0=_J(pj,(e=>Number.isFinite(e)?1:0),"bool"),z0={kernelName:pj,backendName:"cpu",kernelFunc:F0},B0=_J(fj,(e=>Math.abs(e)===1/0?1:0),"bool"),W0={kernelName:fj,backendName:"cpu",kernelFunc:B0},V0=_J(mj,(e=>Number.isNaN(e)?1:0),"bool"),U0={kernelName:mj,backendName:"cpu",kernelFunc:V0},H0=NJ(((e,t)=>e<t?1:0)),q0=ZJ(vj,H0,null,"bool"),G0={kernelName:vj,backendName:"cpu",kernelFunc:q0},Y0=NJ(((e,t)=>e<=t?1:0)),X0=ZJ(bj,Y0,null,"bool"),K0={kernelName:bj,backendName:"cpu",kernelFunc:X0};function Z0(e,t,n){const r=(t-e)/(n-1),i=PN(n,"float32");i[0]=e;for(let a=1;a<i.length;a++)i[a]=i[a-1]+r;return i}const J0={kernelName:yj,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:i,num:a}=n,o=Z0(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Q0=wJ((e=>Math.log(e))),$0=kJ(xj,Q0),e1={kernelName:xj,backendName:"cpu",kernelFunc:$0},t1=_J(wj,(e=>Math.log1p(e))),n1={kernelName:wj,backendName:"cpu",kernelFunc:t1},r1=NJ(((e,t)=>e&&t)),i1=ZJ(_j,r1,null,"bool"),a1={kernelName:_j,backendName:"cpu",kernelFunc:i1},o1=_J(kj,(e=>e?0:1),"bool"),s1={kernelName:kj,backendName:"cpu",kernelFunc:o1},l1=NJ(((e,t)=>e||t)),c1=ZJ(Sj,l1,null,"bool"),u1={kernelName:Sj,backendName:"cpu",kernelFunc:c1};const d1={kernelName:Cj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{depthRadius:a,bias:o,alpha:s,beta:l}=r;bJ(i,"LRN");const c=i.shape[3],u=c-1,d=n.data.get(i.dataId).values,h=pN(i.shape),p=new Float32Array(h);function f(e){const t=e%c;let n=e-t+Math.max(0,t-a);const r=e-t+Math.min(t+a,u);let i=0;for(;n<=r;n++){const e=d[n];i+=e*e}return i}for(let m=0;m<h;m++){const e=f(m),t=d[m]*Math.pow(o+s*e,-l);p[m]=t}return n.makeTensorInfo(i.shape,i.dtype,p)}};const h1={kernelName:Aj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,y:a,dy:o}=t,{depthRadius:s,bias:l,alpha:c,beta:u}=r;bJ(o,"LRNGrad");const d=pN(o.shape),h=o.shape[3],p=n.data.get(o.dataId).values,f=n.data.get(i.dataId).values,m=n.data.get(a.dataId).values,g=new Float32Array(d),v=d;for(let b=0;b<v;b++){const e=b%h,t=b-e+Math.max(0,e-s),n=b-e+Math.min(h,e+s+1);let r=0;for(let i=t;i<n;i++)r+=Math.pow(f[i],2);r=c*r+l;for(let i=t;i<n;i++){let e=-2*c*u*f[i]*m[b]/r;b===i&&(e+=Math.pow(r,-u)),e*=p[b],g[i]+=e}}return n.makeTensorInfo(o.shape,i.dtype,g)}};function p1(e,t,n,r){const i=_N(r,pN(n));for(let a=0;a<i.length;++a){const n=a*t;let r=e[n];for(let i=0;i<t;++i){const t=e[n+i];(Number.isNaN(t)||t>r)&&(r=t)}i[a]=r}return i}function f1(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{reductionIndices:a,keepDims:o}=r,s=n;let l=i.shape;const c=l.length,u=xN(a,l);let d=u;const h=UF(d,c);let p=s.data.get(i.dataId).values;if(null!=h){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[h[t]];p=fQ(p,l,i.dtype,h,e),d=qF(d.length,c),l=e}bJ(i,"max"),VF("max",d,c);const[f,m]=BF(l,d),g=p1(p,pN(m),f,i.dtype),v=s.write(g,f,i.dtype);let b=f;if(o){b=WF(f,u)}return{dataId:v,shape:b,dtype:i.dtype}}const m1={kernelName:Tj,backendName:"cpu",kernelFunc:f1},g1=NJ(((e,t)=>Math.max(e,t))),v1=ZJ(Ij,g1),b1={kernelName:Ij,backendName:"cpu",kernelFunc:v1};const y1={kernelName:Ej,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t;bJ(i,"maxPool");const{filterSize:a,strides:o,pad:s,dimRoundingMode:l}=r;uN(XL(o,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const c=FL(i.shape,a,o,1,s,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&fN(c.inShape,c.outShape))u=AJ({inputs:{x:i},backend:n});else{const e=n.data.get(i.dataId).values,t=MN(i.shape),r=jQ(e,i.shape,i.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,i.dtype,r.values)}return u}};const x1={kernelName:Mj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{filterSize:a,strides:o,pad:s,dimRoundingMode:l,dataFormat:c}=r;bJ(i,"maxPool3d");const u=zL(i.shape,a,o,1,s,l,c),d=RQ(n.data.get(i.dataId).values,i.shape,i.dtype,MN(i.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const w1={kernelName:jj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:c}=r;bJ([i,a],"maxPool3DGrad");const u=zL(a.shape,o,s,1,l,c),d=function(e,t){const n=AO(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let v=0;v<t.outDepth;++v){const b=v*r-h;let y=b;for(;y<0;)y+=o;const x=Math.min(t.inDepth,c+b);for(let r=0;r<t.outHeight;++r){const c=r*i-p;let h=c;for(;h<0;)h+=s;const w=Math.min(t.inHeight,u+c);for(let i=0;i<t.outWidth;++i){const p=i*a-f;let _=p;for(;_<0;)_+=l;const k=Math.min(t.inWidth,d+p);let S=Number.NEGATIVE_INFINITY,C=-1;for(let t=y;t<x;t+=o){const n=t-b;for(let r=h;r<w;r+=s){const i=r-c;for(let a=_;a<k;a+=l){const o=a-p,s=e.get(m,t,r,a,g);s>=S&&(S=s,C=n*u*d+i*u+o)}}}n.set(C,m,v,r,i,g)}}}return n}(n.bufferSync(a),u),h=u.strideDepth,p=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,v=u.dilationWidth,b=u.effectiveFilterDepth,y=u.effectiveFilterHeight,x=u.effectiveFilterWidth,w=b-1-u.padInfo.front,_=x-1-u.padInfo.left,k=y-1-u.padInfo.top,S=AO(a.shape,"float32"),C=n.bufferSync(i);for(let A=0;A<u.batchSize;++A)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const i=t-w,a=n-k,o=r-_;let s=0;for(let t=0;t<b;t+=m){const n=(i+t)/h;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let r=0;r<y;r+=g){const i=(a+r)/p;if(!(i<0||i>=u.outHeight||Math.floor(i)!==i))for(let a=0;a<x;a+=v){const l=(o+a)/f;if(l<0||l>=u.outWidth||Math.floor(l)!==l)continue;const c=b*y*x-1-d.get(A,n,i,l,e)===t*y*x+r*x+a?1:0;if(0===c)continue;s+=C.get(A,n,i,l,e)*c}}}S.set(s,A,t,n,r,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const _1={kernelName:Nj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a,output:o}=t,s=a;bJ([a,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,h=FL(s.shape,l,c,1,u,d),p=n.data.get(s.dataId).values,f=AO(h.outShape,s.dtype,DQ(p,s.shape,s.dtype,h).values),m=h.strideHeight,g=h.strideWidth,v=h.dilationHeight,b=h.dilationWidth,y=h.effectiveFilterHeight,x=h.effectiveFilterWidth,w=x-1-h.padInfo.left,_=y-1-h.padInfo.top,k=AO(s.shape,"float32"),S=n.data.get(i.dataId).values,C=AO(i.shape,"float32",S);for(let A=0;A<h.batchSize;++A)for(let e=0;e<h.inChannels;++e)for(let t=0;t<h.inHeight;++t)for(let n=0;n<h.inWidth;++n){const r=t-_,i=n-w;let a=0;for(let t=0;t<y;t+=v){const n=(r+t)/m;if(!(n<0||n>=h.outHeight||Math.floor(n)!==n))for(let r=0;r<x;r+=b){const o=(i+r)/g;if(o<0||o>=h.outWidth||Math.floor(o)!==o)continue;const s=y*x-1-f.get(A,n,o,e)===t*x+r?1:0;if(0===s)continue;a+=C.get(A,n,o,e)*s}}k.set(a,A,t,n,e)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const k1={kernelName:Dj,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:i}=t,{filterSize:a,strides:o,pad:s,includeBatchInIndex:l}=n,c=r;bJ(i,"MaxPoolWithArgmax");const u=c.data.get(i.dataId).values,d=FL(i.shape,a,o,[1,1],s),[h,p]=function(e,t,n,r,i){const a=jQ(e,0,n,MN(t),i,"max"),o=DQ(e,t,n,i,!0,r);return[a.values,o.values]}(u,i.shape,i.dtype,l,d),f=c.write(h,d.outShape,i.dtype),m=c.write(p,d.outShape,i.dtype);return[{dataId:f,shape:d.outShape,dtype:i.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const S1={kernelName:Rj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r,s=xN(a,i.shape),l=pN(BF(i.shape,s)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const d=XJ({inputs:{x:i},backend:n,attrs:{dtype:"float32"}});c.push(d);const h=o0({inputs:{a:d,b:u},backend:n});c.push(h);const p=O$({inputs:{x:h},backend:n,attrs:{axis:a,keepDims:o}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const C1={kernelName:Pj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r;bJ(i,"min");const s=xN(a,i.shape);let l=s;const c=UF(l,i.shape.length);let u=i;null!=c&&(u=mQ({inputs:{x:i},backend:n,attrs:{perm:c}}),l=qF(l.length,i.shape.length)),VF("min",l,u.shape.length);const[d,h]=BF(u.shape,l),p=pN(h),f=PN(pN(d),u.dtype),m=n.data.get(u.dataId).values;for(let v=0;v<f.length;++v){const e=v*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[v]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(o){const e=nQ({inputs:{x:g},backend:n,attrs:{shape:WF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}},A1=NJ(((e,t)=>Math.min(e,t))),T1=ZJ(Oj,A1),I1={kernelName:Oj,backendName:"cpu",kernelFunc:T1};const E1={kernelName:Lj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{paddings:a,mode:o}=r;bJ(i,"mirrorPad");const s=a.map(((e,t)=>e[0]+i.shape[t]+e[1])),l=a.map((e=>e[0])),c=a.map(((e,t)=>e[0]+i.shape[t])),u="reflect"===o?0:1,d=n.data.get(i.dataId).values,h=i.shape.length,p=MN(i.shape),f=pN(s),m=s.length,g=MN(s),v=_N(i.dtype,f);for(let b=0;b<f;b++){let e=zN(b,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-u:e[n]>=c[n]&&(e[n]=2*(c[n]-1)-e[n]+u);e=e.map(((e,t)=>e-l[t]));const t=FN(e,h,p);v[b]=d[t]}return{dataId:n.write(v,s,i.dtype),shape:s,dtype:i.dtype}}},N1=NJ(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),M1=ZJ(Fj,N1),j1={kernelName:Fj,backendName:"cpu",kernelFunc:M1};function D1(e){const{inputs:t,backend:n,attrs:r}=e,{logits:i}=t,{dim:a}=r,o=i.shape.length;let s=a;if(-1===s&&(s=o-1),s!==o-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(o," and dim was ").concat(s));const l=xN([s],i.shape),c=f1({inputs:{x:i},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=WF(c.shape,l),d=nQ({inputs:{x:c},backend:n,attrs:{shape:u}}),h=u0({inputs:{a:i,b:d},backend:n}),p=Q$({inputs:{x:h},backend:n}),f=O$({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=nQ({inputs:{x:f},backend:n,attrs:{shape:u}}),g=o0({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const R1={kernelName:ND,backendName:"cpu",kernelFunc:D1};const P1={kernelName:zj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:i}=t,{numSamples:a,seed:o,normalized:s}=r;bJ(i,"multinomial");const l=s?i:D1({inputs:{logits:i},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,h=[c,a],p=PN(pN(h),"int32");for(let f=0;f<c;++f){const e=f*u,t=new Float32Array(u-1);t[0]=d[e];for(let i=1;i<t.length;++i)t[i]=t[i-1]+d[e+i];const n=cz.alea(o.toString()),r=f*a;for(let i=0;i<a;++i){const e=n();p[r+i]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){p[r+i]=n;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",p)}};function O1(e,t,n){const r=MR(-1,n);return j$([],t,r,e,n)}const L1={kernelName:Wj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;bJ(r,"neg");const i=n.data.get(r.dataId).values,[a,o]=O1(i,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,a)}},F1=dB;const z1={kernelName:Uj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:i,scores:a}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l}=r;bJ(i,"NonMaxSuppression");const c=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,{selectedIndices:d}=F1(c,u,o,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},B1=hB;const W1={kernelName:Hj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:i,scores:a}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:c}=r;bJ(i,"NonMaxSuppressionPadded");const u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,{selectedIndices:h,validOutputs:p}=B1(u,d,o,s,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},V1=pB;const U1={kernelName:qj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:i,scores:a}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=r;bJ(i,"NonMaxSuppressionWithScore");const u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,h=o,p=s,f=l,m=c,{selectedIndices:g,selectedScores:v}=V1(u,d,h,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},H1=NJ(((e,t)=>e!==t?1:0)),q1=ZJ(Vj,H1,null,"bool"),G1={kernelName:Vj,backendName:"cpu",kernelFunc:q1};const Y1={kernelName:Yj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:i}=t,{dtype:a,depth:o,onValue:s,offValue:l}=r;bJ(i,"oneHot");const c=pN(i.shape),u=new Float32Array(c*o);u.fill(l);const d=n.data.get(i.dataId).values;for(let h=0;h<c;++h)d[h]>=0&&d[h]<o&&(u[h*o+d[h]]=s);return n.makeTensorInfo([...i.shape,o],a,u)}};function X1(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=qJ({inputs:{input:r},backend:n}),t=X1({inputs:{x:e},backend:n}),i=r$({inputs:{input:r},backend:n}),a=X1({inputs:{x:i},backend:n}),o=VJ({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),o}return g0({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const K1={kernelName:$D,backendName:"cpu",kernelFunc:X1};const Z1={kernelName:Gj,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:i}=n;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){const t=qJ({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r}),a=r$({inputs:{input:i},backend:r}),o=X1({inputs:{x:a},backend:r}),s=VJ({inputs:{real:n,imag:o},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}return g0({backend:r,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function J1(e){const{inputs:t,backend:n,attrs:r}=e,{axis:i}=r;if(1===t.length)return e0({inputs:{input:t[0]},backend:n,attrs:{dim:i}});const a=t[0].shape,o=t[0].dtype;t.forEach((e=>{dN(a,e.shape,"All tensors passed to stack must have matching shapes"),uN(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=a$({inputs:t.map((e=>{const t=e0({inputs:{input:e},backend:n,attrs:{dim:i}});return s.push(t),t})),backend:n,attrs:{axis:i}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const Q1={kernelName:Xj,backendName:"cpu",kernelFunc:J1};const $1={kernelName:Kj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{paddings:a,constantValue:o}=r;bJ(i,"pad");const s=a.map(((e,t)=>e[0]+i.shape[t]+e[1])),l=a.map((e=>e[0])),c=n.data.get(i.dataId).values,u=pN(i.shape),d=i.shape.length,h=MN(i.shape),p=pN(s),f=s.length,m=MN(s),g=_N(i.dtype,p);0!==o&&g.fill(o);for(let v=0;v<u;v++){const e=zN(v,d,h).map(((e,t)=>e+l[t]));g[FN(e,f,m)]=c[v]}return{dataId:n.write(g,s,i.dtype),shape:s,dtype:i.dtype}}},e2=NJ(((e,t)=>Math.pow(e,t))),t2=ZJ(Zj,e2),n2={kernelName:Zj,backendName:"cpu",kernelFunc:t2};function r2(e,t,n,r){const[i,a]=BF(e,r),o=lP(t,"int32"),s=PN(pN(i),o),l=pN(a);for(let c=0;c<s.length;++c){const e=c*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];s[c]=t}return{outVals:s,outShape:i,outDtype:o}}const i2={kernelName:Qj,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r;bJ(i,"prod");const s=i.shape.length,l=xN(a,i.shape),c=UF(l,s);let u=l,d=i;const h=[];null!=c&&(d=mQ({inputs:{x:i},backend:n,attrs:{perm:c}}),h.push(d),u=qF(u.length,s));const p=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=r2(d.shape,d.dtype,p,u);let v=m;return o&&(v=WF(m,l)),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(v,g,f)}};function a2(e,t,n,r){const i=[];let a=0;const o=t.length-1+n.length,s=new Array(o).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],i=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>i)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let c=0;c<t.length-1;++c){l*=t[c];const e=t[c+1];for(let t=1;t<l+1;++t)s[c].push(t*e)}for(let c=0;c<e.length;++c){let r=e[c],o=e[c]+1;for(let e=0;e<n.length;++e){const i=n[e],a=e+t.length-1;if(a>=0){const e=s[a],t=e[e.length-1]-i[r];for(let n=r;n<o;++n)s[a].push(i[n+1]+t)}r=i[r],o=i[o]}o!==r&&(i.push([r,o]),a+=o-r)}return{outSplits:s,valueSlices:i,numValues:a}}function o2(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function s2(e,t,n,r,i){const a=t.slice();a[0]=i;const o=kN(n,pN(a)),s=e.length;return function(e,t,n,r,i,a){const o=o2(t,2)[1],s=o2(a,2)[1];let l=0;for(const c of n)for(let t=c[0];t<c[1];++t){for(let n=0;n<r;++n)i[l*s+n]=e[t*o+n];++l}}(e,t,r,0===s?0:s/t[0],o,a),[o,a]}function l2(e,t,n,r,i,a,o,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const i=zN(r,t.length,MN(t)).join(",");throw new Error("indices[".concat(i,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(a,o,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:c,valueSlices:u,numValues:d}=a2(a,o,e,l),h=function(e){const t=[];for(let n=0;n<e.length;++n){const r=kN("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(c),p=s2(n,r,i,u,d);return[h,p[0],p[1]]}const c2={kernelName:$j,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:i,paramsDenseValues:a,indices:o}=t,{outputRaggedRank:s}=r,l=i.map((e=>n.data.get(e.dataId).values)),c=i.map((e=>e.shape)),u=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,[h,p,f]=l2(l,c,u,a.shape,a.dtype,d,o.shape),m=h.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,a.dtype,p);return m.concat([g])}},u2=2147483647;function d2(e,t,n,r,i,a,o){if(t.length>1)throw new Error("starts must be a scalar or vector");if(i.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,l=0===i.length,c=0===o.length,u=[];s||u.push(t[0]),l||u.push(i[0]),c||u.push(o[0]);for(let m=1;m<u.length;++m)if(u[m]!==u[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===u.length?1:u[0],h=kN("int32",d+1);h[0]=0;for(let m=0;m<d;++m){const t=s?e[0]:e[m],n=l?r[0]:r[m],i=c?a[0]:a[m];if(0===i)throw new Error("Requires delta != 0");let o;if(i>0&&n<t||i<0&&n>t)o=0;else if(o=Math.ceil(Math.abs((n-t)/i)),o>u2)throw new Error("Requires ((limit - start) / delta) <= ".concat(u2));h[m+1]=h[m]+o}const p=kN(n,h[d]);let f=0;for(let m=0;m<d;++m){const t=h[m+1]-h[m];let n=s?e[0]:e[m];const r=c?a[0]:a[m];for(let e=0;e<t;++e)p[f++]=n,n+=r}return[h,p]}const h2={kernelName:eD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:i,deltas:a}=t,o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,[c,u]=d2(o,r.shape,r.dtype,s,i.shape,l,a.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],r.dtype,u)]}};var p2=GB;class f2{constructor(e,t,n,r,i,a,o,s,l,c){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=i,this.defaultValue=a,this.defaultValueShape=o,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=XB(c),this.raggedRank=KB(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===p2.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===p2.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case p2.VALUE_ROWIDS:return f2.getMaxWidthValueRowID(t);case p2.ROW_SPLITS:return f2.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(p2[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],i=0;for(let a=1;a<t;++a){const t=e[a];t!==r&&(r=t,i=Math.max(a-n,i),n=a)}return Math.max(t-n,i)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return g2(e,n)}calculateOutputSize(e){const t=this.valuesShape;ZB(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=YB(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let i=1;i<=this.raggedRank;++i)r[i]<0&&(r[i]=this.getMaxWidth(i));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),i=[];let a=0;for(let o=0;o<r;++o,a+=t)i.push(a);for(let o=r;o<e;++o)i.push(-1);return uN(i.length===e,(()=>"Final length of result must be equal to firstDimension.")),i}calculateOutputIndexRowSplit(e,t,n,r){const i=e.length,a=[];for(let o=0;o<i-1;++o){const i=e[o+1]-e[o];let s=Math.min(r,i),l=t[o];-1===l&&(s=0);for(let e=0;e<s;++e)a.push(l),l+=n;for(let e=0;e<i-s;++e)a.push(-1)}if(i>0&&a.length!==e[i-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,t,n,r){const i=e.length,a=[];if(0===i)return[];let o=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));let l=t[s];a.push(l);for(let c=1;c<i;++c){const i=e[c];if(i===s)l>=0&&(++o,o<r?l+=n:l=-1);else{if(o=0,s=i,i>=t.length)throw new Error("Got nextValueRowId=".concat(i," which is not less than ").concat(t.length));l=t[i]}a.push(l)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,t,n,r){const i=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case p2.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,t,n,r);case p2.ROW_SPLITS:if(i.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(i.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(i,t,n,r);default:throw new Error("Unsupported partition type: ".concat(p2[a]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case p2.FIRST_DIM_SIZE:return e[0];case p2.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case p2.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(p2[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let a=n.length-2;a>=0;--a)n[a]=n[a+1]*t[a+1];const r=g2(t,!1),i=kN(this.valuesDType,pN(r));if(n[0]*t[0]>0){let a=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){a=this.calculateOutputIndex(e-1,a,n[e],t[e])}this.setOutput(this.raggedRank,a,i,r)}return[r,i]}setOutput(e,t,n,r){if(0===n.length)return;const i=this.values,a=n;let o=r.slice();o=o.slice(e+1);const s=pN(o),l=t.length;let c=this.defaultValue;if(c.length!==s&&1!==c.length){const e=this.defaultValueShape;FP((()=>{const t=QL(c,e),n=aF(t,o);c=n.dataSync()}))}let u=0,d=0,h=0;for(let p=0;p<=l;++p){let e=p<l?t[p]:-1;if(e!==h){if(d<h){const e=i.subarray(u*s);m2(a.subarray(d*s),e,(h-d)*s)}if(p>=l){const t=n.length;e=Math.floor(t/s)}if(e>h)if(1===this.defaultValue.length)a.subarray(h*s,e*s).fill(this.defaultValue[0]),h=e;else for(;e>h;){m2(a.slice(h*s),c,s),++h}e<0?(u=p+1,d=h):(u=p,d=h,h=d+1)}else++h}}}function m2(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function g2(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error("Dimension ".concat(r," must be >= 0"));if(r<-1)throw new Error("Dimension ".concat(r," must be >= -1"));r=-1}n.push(r)}return n}function v2(e,t,n,r,i,a,o,s,l,c){return new f2(e,t,n,r,i,a,o,s,l,c).compute()}const b2={kernelName:tD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:i,values:a,defaultValue:o,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,c=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,h=s.map((e=>n.data.get(e.dataId).values)),p=s.map((e=>e.shape)),[f,m]=v2(c,i.shape,u,a.shape,a.dtype,d,o.shape,h,p,l);return n.makeTensorInfo(f,a.dtype,m)}};function y2(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return PN(0,r);const i=PN(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(let a=1;a<i.length;a++)i[a]=i[a-1]+n;return i}const x2={kernelName:nD,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:i,dtype:a,step:o}=n,s=y2(r,i,o,a);return t.makeTensorInfo([s.length],a,s)}},w2=_J(iD,(e=>1/e)),_2={kernelName:iD,backendName:"cpu",kernelFunc:w2};const k2={kernelName:cD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i}=t,{alignCorners:a,halfPixelCenters:o,size:s}=r;bJ(i,"resizeBilinear");const l=MN(i.shape),[c,u]=s,[d,h,p,f]=i.shape,m=n.data.get(i.dataId).values,g=new Float32Array(pN([d,c,u,f])),v=[a&&c>1?h-1:h,a&&u>1?p-1:p],b=[a&&c>1?c-1:c,a&&u>1?u-1:u];let y=0;const x=v[0]/b[0],w=v[1]/b[1];for(let _=0;_<d;_++)for(let e=0;e<c;e++){let t;t=o?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),r=t-n,i=Math.min(h-1,Math.ceil(t)),a=_*l[0]+n*l[1],s=_*l[0]+i*l[1];for(let e=0;e<u;e++){let t;t=o?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),i=t-n,c=Math.min(p-1,Math.ceil(t)),u=a+n*l[2],d=s+n*l[2],h=a+c*l[2],v=s+c*l[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[d+e],a=t+(m[h+e]-t)*i,o=a+(n+(m[v+e]-n)*i-a)*r;g[y++]=o}}}return n.makeTensorInfo([d,c,u,f],"float32",g)}};const S2={kernelName:uD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i,dy:a}=t,{alignCorners:o}=r;bJ([a,i],"resizeBilinearGrad");const s=MN(i.shape),[l,c,u,d]=i.shape,[,h,p]=a.shape,f=new Float32Array(l*c*u*d),m=[o&&h>1?c-1:c,o&&p>1?u-1:u],g=[o&&h>1?h-1:h,o&&p>1?p-1:p],v=m[0]/g[0],b=m[1]/g[1],y=n.data.get(a.dataId).values;let x=0;for(let w=0;w<l;w++){const e=w*s[0];for(let t=0;t<h;t++){const n=t*v,r=Math.floor(n),i=Math.min(Math.ceil(n),c-1),a=e+r*s[1],o=e+i*s[1],l=n-r,h=1-l;for(let e=0;e<p;e++){const t=e*b,n=Math.floor(t),r=Math.min(Math.ceil(t),u-1),i=t-n,c=1-i,p=a+n*s[2],m=a+r*s[2],g=o+n*s[2],v=o+r*s[2],w=h*c,_=h*i,k=l*c,S=l*i;for(let e=0;e<d;e++){const t=y[x++];f[p+e]+=t*w,f[m+e]+=t*_,f[g+e]+=t*k,f[v+e]+=t*S}}}}return n.makeTensorInfo([l,u,c,d],"float32",f)}};const C2={kernelName:sD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i}=t,{alignCorners:a,halfPixelCenters:o,size:s}=r;bJ(i,"resizeNearestNeighbor");const l=MN(i.shape),[c,u]=s,[d,h,p,f]=i.shape,m=n.data.get(i.dataId).values,g=new Float32Array(d*c*u*f),v=[a&&c>1?h-1:h,a&&u>1?p-1:p],b=[a&&c>1?c-1:c,a&&u>1?u-1:u],y=v[0]/b[0],x=v[1]/b[1];let w=0;for(let _=0;_<d;_++){const e=_*l[0];for(let t=0;t<c;t++){const n=o?y*(t+.5):y*t;let r=Math.min(h-1,a?Math.round(n):Math.floor(n));o&&(r=Math.max(0,r));const i=e+r*l[1];for(let e=0;e<u;e++){const t=o?x*(e+.5):x*e;let n=Math.min(p-1,a?Math.round(t):Math.floor(t));o&&(n=Math.max(0,n));const r=i+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[w++]=t}}}}return n.makeTensorInfo([d,c,u,f],i.dtype,g)}};const A2={kernelName:lD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i,dy:a}=t,{alignCorners:o}=r;bJ([a,i],"resizeNearestNeighborGrad");const s=MN(i.shape),l=MN(a.shape),[c,u,d,h]=i.shape,[,p,f]=a.shape,m=new Float32Array(c*u*d*h),g=n.data.get(a.dataId).values,v=[o&&p>1?u-1:u,o&&f>1?d-1:d],b=[o&&p>1?p-1:p,o&&f>1?f-1:f],y=v[0]/b[0],x=v[1]/b[1],w=1/y,_=1/x,k=2*Math.ceil(w)+2,S=2*Math.ceil(_)+2;for(let C=0;C<c;C++){const e=C*s[0];for(let t=0;t<u;t++){const n=e+t*s[1],r=Math.floor(t*w),i=Math.floor(r-k/2);for(let a=0;a<d;a++){const r=n+a*s[2],c=Math.floor(a*_),v=Math.floor(c-S/2);for(let n=0;n<h;n++){let s=0;for(let r=0;r<k;r++){const c=r+i;if(c<0||c>=p)continue;const h=e+c*l[1],m=c*y;if(t===Math.min(u-1,o?Math.round(m):Math.floor(m)))for(let e=0;e<S;e++){const t=e+v;if(t<0||t>=f)continue;const r=h+t*l[2],i=t*x;a===Math.min(d-1,o?Math.round(i):Math.floor(i))&&(s+=g[r+n])}}m[r+n]=s}}}}return n.makeTensorInfo(i.shape,i.dtype,m)}};const T2={kernelName:hD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{dims:a}=r;bJ(i,"reverse");const o=i.shape.length,s=xN(a,i.shape);if(0===o)return AJ({inputs:{x:i},backend:n});const l=new KR(i.shape,i.dtype),c=n.bufferSync(i);for(let u=0;u<l.size;u++){const e=l.indexToLoc(u),t=e.slice();s.forEach((e=>t[e]=i.shape[e]-1-t[e])),l.set(c.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},I2={kernelName:nR,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:i}=t,{radians:a,fillValue:o,center:s}=n,l=r,c=_N(i.dtype,pN(i.shape)),[u,d,h,p]=i.shape,[f,m]=$B(s,d,h),g=Math.sin(a),v=Math.cos(a),b=l.data.get(i.dataId).values;for(let y=0;y<u;y++){const e=y*h*d*p;for(let t=0;t<d;t++){const n=t*(h*p);for(let r=0;r<h;r++){const i=r*p;for(let a=0;a<p;a++){const s=[u,t,r,a],l=s[2],y=s[1];let x=(l-f)*v-(y-m)*g,w=(l-f)*g+(y-m)*v;x=Math.round(x+f),w=Math.round(w+m);let _=o;if("number"!==typeof o&&(_=3===a?255:o[a]),x>=0&&x<h&&w>=0&&w<d){_=b[e+w*(h*p)+x*p+a]}c[e+n+i+a]=_}}}}return{dataId:l.write(c,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},E2=_J(pD,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),N2={kernelName:pD,backendName:"cpu",kernelFunc:E2},M2=wJ((e=>1/Math.sqrt(e))),j2=kJ(fD,M2),D2={kernelName:fD,backendName:"cpu",kernelFunc:j2};function R2(e,t,n,r,i,a,o,s,l,c){const u=[r/i,i],d=e.values,h=t.values;if(0===r)return AO(n,t.dtype);const p=l instanceof KR?l:AO(u,t.dtype);"string"===typeof l||"number"===typeof l?p.values.fill(l):"boolean"===typeof l&&p.values.fill(+l);for(let f=0;f<a;f++){const e=[];let a=0;for(let t=0;t<o;t++){const n=d[f*o+t];e.push(n),a+=n*s[t]}if(a<0||a>=r/i)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<i;n++)c?p.values[a*i+n]+=h[f*i+n]:p.values[a*i+n]=0===t.rank?h[0]:h[f*i+n]}return p}const P2={kernelName:mD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:i,updates:a}=t,{shape:o}=r,{sliceRank:s,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=lW(0,i,o),h=R2(n.bufferSync(i),n.bufferSync(a),o,d,c,l,s,u,0,!0);return n.makeTensorInfo(o,h.dtype,h.values)}};function O2(e,t){let n=0,r=e.length,i=0;for(;n<r;)i=Math.floor((n+r)/2),e[i]<t?n=i+1:r=i;return r}function L2(e,t){let n=0,r=e.length,i=0;for(;n<r;)i=Math.floor((n+r)/2),e[i]<=t?n=i+1:r=i;return r}const F2={kernelName:vD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:i,values:a}=t,{side:o}=r,s=function(e,t,n,r,i,a){const o=kN("int32",n*i);for(let s=0;s<n;++s){const n=e.slice(s*r,(s+1)*r),l=s*i;for(let e=0;e<i;++e)o[l+e]="left"===a?O2(n,t[e+l]):L2(n,t[e+l])}return o}(n.data.get(i.dataId).values,n.data.get(a.dataId).values,i.shape[0],i.shape[1],a.shape[1],o);return n.makeTensorInfo(a.shape,"int32",s)}};const z2={kernelName:bD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:i,e:a}=t;bJ([r,i,a],"select");const o=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,u=lP(i.dtype,a.dtype),d=PN(pN(i.shape),u);let h=0;const p=0===o||o>1||1===i.shape.length?1:pN(i.shape.slice(1));for(let f=0;f<s.length;f++)for(let e=0;e<p;e++)1===s[f]?d[h++]=l[f]:d[h++]=c[f];return n.makeTensorInfo(i.shape,u,d)}},B2=cW,W2=uW,V2=_J(yD,(e=>e>=0?W2*e:B2*(Math.exp(e)-1))),U2={kernelName:yD,backendName:"cpu",kernelFunc:V2},H2=_J(kD,(e=>e<0?-1:e>0?1:0)),q2={kernelName:kD,backendName:"cpu",kernelFunc:H2},G2=_J(wD,(e=>Math.sin(e))),Y2={kernelName:wD,backendName:"cpu",kernelFunc:G2},X2=_J(_D,(e=>Math.sinh(e))),K2={kernelName:_D,backendName:"cpu",kernelFunc:X2},Z2=Math.log(1.1920928955078125e-7)+2,J2=_J(CD,(e=>{const t=e>-Z2,n=e<Z2,r=Math.exp(e);let i;return i=n?r:t?e:Math.log(1+r),i})),Q2={kernelName:CD,backendName:"cpu",kernelFunc:J2};const $2={kernelName:ID,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{blockShape:a,paddings:o}=r;bJ([i],"spaceToBatchND");const s=pN(a),l=[[0,0]];l.push(...o);for(let g=1+a.length;g<i.shape.length;++g)l.push([0,0]);const c=$1.kernelFunc({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),u=eW(c.shape,a,s,!1),d=tW(u.length,a.length,!1),h=nW(c.shape,a,s,!1),p=nQ({inputs:{x:c},backend:n,attrs:{shape:u}}),f=mQ({inputs:{x:p},backend:n,attrs:{perm:d}}),m=nQ({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};function e3(e,t,n,r,i,a,o){const s=t[0],l=a[0],c=new Array(l),u=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(OW(s));return[kN(n,0),[0,d],kN(i,0),c,u]}let h=!0,p=0;const f=new Array(l).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(LW(g,t));if(t>=l)throw new Error(FW(g,t,l));++f[t],h=h&&t>=p,p=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];c[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&h){const t=e,n=r;for(let e=0;e<s;++e)u[e]=e;return[t,[s,d],n,c,u]}{const t=f[l-1],a=kN(n,t*d),h=kN(i,t),p=new Array(l).fill(0);for(let n=0;n<s;++n){const t=e[n*d],i=p[t],o=(0===t?0:f[t-1])+i;p[t]++;for(let r=0;r<d;++r)a[o*d+r]=e[n*d+r];h[o]=r[n],u[n]=o}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:f[e-1];a[t*d+0]=e;for(let e=1;e<d;++e)a[t*d+e]=0;h[t]=o}}return[a,[t,d],h,c,u]}}const t3={kernelName:MD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:i,denseShape:a,defaultValue:o}=t;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));const s=n.data.get(r.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values[0],[d,h,p,f,m]=e3(s,r.shape,r.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([h[0]],i.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};function n3(e,t,n,r,i){const a=pN(r),o=t[0],s=i.length,l=[];let c=1,u=-1;for(let m=0;m<s;++m){const e=i[m];if(-1===e){if(-1!==u)throw new Error(zW(u,m));u=m,l.push(1)}else{if(e<0)throw new Error(BW(m,e));c*=e,l.push(e)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(a/c);if(c*e!==a)throw new Error(VW(r,l));l[u]=e}if(pN(l)!==a)throw new Error(UW(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let e=d-2;e>=0;--e)h[e]=h[e+1]*r[e+1]}const p=[];if(s>0){p[s-1]=1;for(let e=s-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const f=kN(n,o*s);for(let m=0;m<o;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*h[n];for(let e=0;e<s;++e)f[m*s+e]=Math.trunc(t/p[e]),t%=p[e]}return[f,[o,s],l]}const r3={kernelName:jD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:i,newShape:a}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));const o=Array.from(n.data.get(i.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(a.dataId).values),[c,u,d]=n3(s,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}};function i3(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const s=r.length,l=[t[0],e.length/t[0]],c=l[1],u=s>0?i[s-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=u;const h=d.reduce(((e,t)=>e*t),1),p=kN(n,h);if(0===s)return u>0&&p.fill(o),[p,d];if(u<=0)throw new Error("segment ids must be >= 0");let f=0,m=1,g=0,v=i[f];for(;;){let t=0;if(m<s){if(t=i[m],v===t){++m;continue}if(v>=t)throw new Error("segment ids are not increasing")}if(v<0||v>=u)throw new Error(GW(v,u));v>g&&p.fill(o,g*c,v*c);for(let n=f;n<m;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(YW(n,r[n],l[0]));for(let n=0;n<c;n++)p[v*c+n]+=e[t*c+n]}if(a)for(let e=0;e<c;e++)p[v*c+e]/=m-f;if(f=m,++m,g=v+1,v=t,m>s)break}return g<u&&p.fill(o,g*c,u*c),[p,d]}const a3={kernelName:DD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:i,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,[c,u]=i3(o,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(u,r.dtype,c)}};const o3={kernelName:RD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:i,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,[c,u]=i3(o,r.shape,r.dtype,s,l);return n.makeTensorInfo(u,r.dtype,c)}};const s3={kernelName:PD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:i,sparseValues:a,defaultValue:o}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=lW(0,i,s),p=!1,f=n.bufferSync(i);let m;switch(a.dtype){case"bool":m=R2(f,n.bufferSync(a),s,h,u,c,l,d,Boolean(n.data.get(o.dataId).values[0]),p);break;case"float32":m=R2(f,n.bufferSync(a),s,h,u,c,l,d,n.data.get(o.dataId).values[0],p);break;case"int32":m=R2(f,n.bufferSync(a),s,h,u,c,l,d,n.data.get(o.dataId).values[0],p);break;case"string":m=R2(f,n.bufferSync(a),s,h,u,c,l,d,PR(n.data.get(o.dataId).values[0]),p);break;default:throw new Error("Unsupported type ".concat(a.dtype))}return n.makeTensorInfo(s,m.dtype,m.values)}};const l3={kernelName:ED,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{numOrSizeSplits:a,axis:o}=r,s=xN(o,i.shape)[0],l=PW(i,a,s),c=new Array(i.shape.length).fill(0),u=i.shape.slice();return l.map((e=>{const t=[...u];t[s]=e;const r=WQ({inputs:{x:i},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},c3=wJ((e=>Math.sqrt(e))),u3=_J(AD,(e=>Math.sqrt(e))),d3={kernelName:AD,backendName:"cpu",kernelFunc:u3},h3={kernelName:LD,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,i=n;bJ(r,"square");const a=i.data.get(r.dataId).values,o=new Float32Array(a.length);for(let s=0;s<a.length;++s){const e=a[s];o[s]=e*e}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},p3=NJ(((e,t)=>{const n=e-t;return n*n})),f3=ZJ(OD,p3),m3={kernelName:OD,backendName:"cpu",kernelFunc:f3},g3=wJ(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:i}=t;return e.replace(new RegExp(n,r?"g":""),i)})),v3=kJ(FD,g3),b3={kernelName:FD,backendName:"cpu",kernelFunc:v3},y3=_J(eR,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),x3={kernelName:eR,backendName:"cpu",kernelFunc:y3};function w3(e,t,n,r){const i=AO(e,t.dtype);for(let a=0;a<i.size;a++){const e=i.indexToLoc(a),o=new Array(e.length);for(let t=0;t<o.length;t++)o[t]=e[t]*n[t]+r[t];i.set(t.get(...o),...e)}return i}const _3={kernelName:zD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{begin:a,end:o,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=r;bJ(i,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:b,end:y,strides:x}=jL(i.shape,a,o,s,l,c,u,d,h);let w;if(m)w=nQ({inputs:{x:i},backend:n,attrs:{shape:f}});else if(g||v){uN(i.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(i.shape.length)));const e=yL(b,y,x),t=WQ({inputs:{x:i},backend:n,attrs:{begin:b,size:e}});w=nQ({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=w3(p,n.bufferSync(i),x,b);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};class k3{constructor(e,t,n,r,i,a){this.separator=RR(e),this.nGramWidths=t,this.leftPad=RR(n),this.rightPad=RR(r),this.padWidth=i,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,i,a){for(let o=0;o<i;++o){const s=this.getPadWidth(a),l=Math.max(0,s-o),c=Math.max(0,s-(i-(o+1))),u=a-(l+c),d=t+(l>0?0:o-s);let h=0;h+=l*this.leftPad.length;for(let t=0;t<u;++t)h+=e[d+t].length;h+=c*this.rightPad.length;h+=(l+c+u-1)*this.separator.length,n[r+o]=new Uint8Array(h);const p=n[r+o];let f=0;const m=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[d+t]),m(this.separator);if(u>0){m(e[d+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let i=1;i<r;++i){let r=t[i]>=e;if(r=r&&t[i]<=n,!r)throw new Error("Invalid split value ".concat(t[i],", must be in [").concat(e,", ").concat(n,"]"));e=t[i]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const i=r-1,a=kN("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=i;++t)a[t]=0;return[e,a]}a[0]=0;for(let s=1;s<=i;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),a[s]=a[s-1]+n}const o=new Array(a[i]);for(let s=0;s<i;++s){const n=t[s];let r=a[s];if(this.nGramWidths.forEach((i=>{const a=t[s+1]-t[s],l=this.getNumNGrams(a,i);this.createNGrams(e,n,o,r,l,i),r+=l})),this.preserveShort&&r===a[s]){const i=t[s+1]-t[s];if(0===i)continue;const a=i+2*this.padWidth,l=1;this.createNGrams(e,n,o,r,l,a)}}return[o,a]}}function S3(e,t,n,r,i,a,o,s){return new k3(n,r,i,a,o,s).compute(e,t)}const C3={kernelName:BD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:i,nGramWidths:a,leftPad:o,rightPad:s,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:d}=t,h=n.data.get(u.dataId).values,p=n.data.get(d.dataId).values,[f,m]=S3(h,p,i,a,o,s,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};function A3(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const i=t[0];let a=e.indexOf(i);for(;-1!==a;){const t=e.subarray(0,a);n&&0===t.length||r.push(t),a=(e=e.subarray(a+1)).indexOf(i)}return void(n&&0===e.length||r.push(e))}let i=0;for(let a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){const t=e.subarray(i,a);n&&0===t.length||r.push(t),i=a+1}}function T3(e,t,n){const r=e.length,i=[];let a=0,o=0;const s=new Array(r);for(let h=0;h<r;++h){const r=i.length;A3(e[h],t,n,i);const l=i.length-r;s[h]=l,a+=l,o=Math.max(o,l)}const l=kN("int32",2*a),c=new Array(a),u=[r,o];let d=0;for(let h=0;h<r;++h)for(let e=0;e<s[h];++e)l[2*d]=h,l[2*d+1]=e,c[d]=i[d],++d;return[l,c,u]}const I3={kernelName:WD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:i}=r,{input:a,delimiter:o}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));const s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values[0],[c,u,d]=T3(s,l,i),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function E3(e,t){const n=kN("int32",e.length);for(let r=0;r<e.length;++r)n[r]=NR(e[r]).modulo(t).getLowBitsUnsigned();return n}const N3={kernelName:VD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:i}=r,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const o=E3(n.data.get(a.dataId).values,i);return n.makeTensorInfo(a.shape,"int32",o)}},M3=_J(HD,(e=>Math.tan(e))),j3={kernelName:HD,backendName:"cpu",kernelFunc:M3},D3=_J(qD,(e=>Math.tanh(e)));const R3={kernelName:gD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:i,updates:a}=t,{sliceRank:o,numUpdates:s,sliceSize:l,strides:c,outputSize:u}=lW(0,i,r.shape),d=n.bufferSync(i),h=n.bufferSync(a),p=n.bufferSync(r),f=R2(d,h,r.shape,u,l,s,o,c,p,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};function P3(e,t){const n=new Array(e.rank);for(let i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];const r=AO(n,e.dtype);for(let i=0;i<r.values.length;++i){const t=r.indexToLoc(i),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const a=e.locToIndex(n);r.values[i]=e.values[a]}return r}const O3={kernelName:GD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{reps:a}=r;bJ(i,"tile");const o=P3(n.bufferSync(i),a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},L3=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function F3(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const i=r-n+1,a=t-n+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i)*Math.sign(a-i/2);F3(e,t,Math.max(n,Math.floor(t-a*s/i+l)),Math.min(r,Math.floor(t+(i-a)*s/i+l)))}const i=e[t];let a=n,o=r;for(cN(e,n,t),L3(e[r],i)>0&&cN(e,n,r);a<o;){for(cN(e,a,o),a++,o--;L3(e[a],i)<0;)a+=1;for(;L3(e[o],i)>0;)o-=1}0===L3(e[n],i)?cN(e,n,o):(o+=1,cN(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}}function z3(e,t,n,r,i){const a=t[t.length-1],[o,s]=[e.length/a,a],l=_N(n,o*r),c=_N("int32",o*r);for(let d=0;d<o;d++){const t=d*s,n=e.subarray(t,t+s);let a=new Array(n.length);n.forEach(((e,t)=>a[t]={value:e,index:t})),r<a.length&&(F3(a,r),a=a.slice(0,r)),i&&a.sort(L3);const o=d*r,u=l.subarray(o,o+r),h=c.subarray(o,o+r);for(let e=0;e<r;e++)u[e]=a[e].value,h[e]=a[e].index}const u=t.slice();return u[u.length-1]=r,[AO(u,n,l),AO(u,"int32",c)]}const B3={kernelName:YD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{k:a,sorted:o}=r;bJ(i,"topk");const s=n.data.get(i.dataId).values,[l,c]=z3(s,i.shape,i.dtype,a,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};const W3={kernelName:XD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:i,transforms:a}=t,{interpolation:o,fillMode:s,fillValue:l,outputShape:c}=n,[u,d,h,p]=i.shape,[f,m]=null!=c?c:[d,h],g=[u,f,m,p],v=MN(i.shape),b=v[0],y=v[1],x=v[2],w=MN(g),_=w[0],k=w[1],S=w[2],C=_N(i.dtype,pN(g));C.fill(l);const A=r.data.get(i.dataId).values,T=r.data.get(a.dataId).values;for(let I=0;I<u;++I){const e=1===a.shape[0]?T:T.subarray(8*I,8*I+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<p;++r){let i;const a=e[6]*n+e[7]*t+1;if(0===a)continue;const c=(e[0]*n+e[1]*t+e[2])/a,u=(e[3]*n+e[4]*t+e[5])/a,p=V3(c,h,s),f=V3(u,d,s);switch(o){case"nearest":i=H3(A,d,h,b,y,x,I,f,p,r,l);break;case"bilinear":i=q3(A,d,h,b,y,x,I,f,p,r,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(o))}C[I*_+t*k+n*S+r]=i}return r.makeTensorInfo(g,i.dtype,C)}return{dataId:r.write(C,g,i.dtype),shape:i.shape,dtype:i.dtype}}};function V3(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return sN(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return sN(0,n,t-1)}(e,t);case"nearest":return function(e,t){return sN(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function U3(e,t,n,r,i,a,o,s,l,c,u){return 0<=s&&s<t&&0<=l&&l<n?e[o*r+s*i+l*a+c]:u}function H3(e,t,n,r,i,a,o,s,l,c,u){return U3(e,t,n,r,i,a,o,Math.round(s),Math.round(l),c,u)}function q3(e,t,n,r,i,a,o,s,l,c,u){const d=Math.floor(s),h=Math.floor(l),p=d+1,f=h+1;return(p-s)*((f-l)*U3(e,t,n,r,i,a,o,d,h,c,u)+(l-h)*U3(e,t,n,r,i,a,o,d,f,c,u))+(s-d)*((f-l)*U3(e,t,n,r,i,a,o,p,h,c,u)+(l-h)*U3(e,t,n,r,i,a,o,p,f,c,u))}function G3(e,t,n,r){const i=xN(t,n)[0],a=[1,n[0],1];for(let f=0;f<i;f++)a[0]*=n[f];a[1]=n[i];for(let f=i+1;f<n.length;f++)a[2]*=n[f];const o=new Map,s=new Int32Array(n[i]),l=new KR(a,r,e),c=[],u=1===a[0]&&1===a[2];for(let f=0;f<n[i];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<a[0];t++)for(let n=0;n<a[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=o.get(t);if(null!=n)s[f]=n;else{const e=o.size;o.set(t,e),s[f]=e,c.push(f)}}const d=a.slice();d[1]=o.size;const h=new KR(d,r);c.forEach(((e,t)=>{for(let n=0;n<a[0];n++)for(let r=0;r<a[2];r++)h.set(l.get(n,e,r),n,t,r)}));const p=n.slice();return p[i]=d[1],{outputValues:h.values,outputShape:p,indices:s}}const Y3={kernelName:ZD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:i}=n,{x:a}=t;bJ(a,"unique");const o=r.data.get(a.dataId).values,{outputValues:s,outputShape:l,indices:c}=G3(o,i,a.shape,a.dtype);return[r.makeTensorInfo(l,a.dtype,s),r.makeTensorInfo([c.length],"int32",c)]}};const X3={kernelName:JD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:i}=t;let{axis:a}=r;a<0&&(a+=i.shape.length);const o=i.shape.length,s=i.shape[a],l=new Array(o-1);let c=0;for(let p=0;p<o;p++)p!==a&&(l[c++]=i.shape[p]);const u=new Array(o).fill(0),d=i.shape.slice();d[a]=1;const h=new Array(s);for(let p=0;p<h.length;p++){u[a]=p;const e=WQ({inputs:{x:i},backend:n,attrs:{begin:u,size:d}});h[p]=nQ({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return h}};const K3={kernelName:QD,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,segmentIds:a}=t,{numSegments:o}=r;bJ(i,"unsortedSegmentSum");const s=[],l=[],c=i.shape.length-a.shape.length;let u=a;for(let h=0;h<c;++h){const e=e0({inputs:{input:u},backend:n,attrs:{dim:h+1}});u=e,l.push(e)}for(let h=0;h<o;++h){const e=MR(h,"int32"),t=n.makeTensorInfo([],"int32",e),r=W$({inputs:{a:t,b:u},backend:n}),a=XJ({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),o=R$({inputs:{a:a,b:i},backend:n}),c=O$({inputs:{x:o},backend:n,attrs:{axis:0,keepDims:!1}});s.push(c),l.push(t),l.push(r),l.push(a),l.push(o),l.push(c)}const d=J1({inputs:s,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},Z3=[oQ,lQ,uQ,hQ,tQ,pQ,vQ,bQ,yQ,xQ,_Q,SQ,AQ,EQ,MQ,PQ,OQ,LQ,FQ,aQ,zQ,UQ,GQ,XQ,KQ,KJ,QQ,e$,UJ,t$,o$,l$,c$,u$,d$,h$,p$,m$,v$,b$,y$,x$,w$,_$,S$,C$,A$,T$,I$,E$,N$,M$,F$,CJ,z$,V$,Z$,$$,t0,i0,m0,v0,b0,w0,S0,C0,A0,I0,N0,D0,O0,TJ,L0,i$,z0,W0,U0,EJ,G0,K0,J0,e1,n1,a1,s1,u1,d1,h1,m1,b1,y1,x1,w1,_1,k1,S1,C1,I1,E1,j1,P1,P$,L1,z1,W1,U1,G1,Y1,Z1,Q1,$1,n2,DJ,i2,c2,h2,b2,x2,GJ,s0,_2,PJ,LJ,rQ,k2,S2,C2,A2,T2,I2,N2,D2,P2,F2,z2,U2,BJ,q2,Y2,K2,VQ,R1,Q2,$2,t3,r3,a3,o3,s3,l3,d3,h3,m3,b3,x3,_3,C3,I3,N3,d0,L$,j3,{kernelName:qD,backendName:"cpu",kernelFunc:D3},R3,O3,B3,W3,gQ,Y3,X3,K3,K1];for(const pie of Z3)pR(pie);const J3={},Q3={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function $3(e,t){if(!(e in J3)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(HN().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete J3[e]}),!1),HN().getBool("SOFTWARE_WEBGL_ENABLED")&&(Q3.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",Q3)||n.getContext("experimental-webgl",Q3);return n.getContext("webgl2",Q3)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;J3[e]=n}const n=J3[e];return null==n||n.isContextLost()?(delete J3[e],$3(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),J3[e])}var e4,t4,n4;function r4(e,t){return[t,e]}function i4(e){const t=pN(e);return gN(Math.ceil(t/4))}function a4(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function o4(e,t){const n=e;let r,i,a,o,s,l,c,u,d,h;return 2===HN().getNumber("WEBGL_VERSION")?(r=n.R32F,i=n.R16F,a=n.RGBA16F,o=n.RGBA32F,s=n.RED,c=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(r=e.RGBA,i=e.RGBA,a=e.RGBA,o=n.RGBA,s=e.RGBA,c=4,u=4,d=null!=t?t.HALF_FLOAT_OES:null,h=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:i,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}function s4(e,t){const n=t();return HN().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(e4||(e4={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(t4||(t4={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(n4||(n4={}));function l4(e){return!!(HN().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function c4(e,t){return b4(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const u4=/ERROR: [0-9]+:([0-9]+):/g;function d4(e,t){const n=u4.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);const r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map(((e,t)=>vN((t+1).toString(),a)+e));let s=0;for(let d=0;d<o.length;d++)s=Math.max(o[d].length,s);const l=o.slice(0,r-1),c=o.slice(r-1,r),u=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(vN(c[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function h4(e,t){if(s4(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function p4(e,t,n,r,i,a,o){const s=e.getAttribLocation(t,n);return-1!==s&&(s4(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),s4(e,(()=>e.vertexAttribPointer(s,i,e.FLOAT,!1,a,o))),s4(e,(()=>e.enableVertexAttribArray(s))),!0)}function f4(e,t,n,r){s4(e,(()=>function(e,t,n){y4(e,n),s4(e,(()=>e.activeTexture(e.TEXTURE0+n))),s4(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),s4(e,(()=>e.uniform1i(n,r)))}function m4(e,t,n){s4(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),s4(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function g4(e,t){s4(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),s4(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function v4(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function b4(e,t,n){const r=s4(e,(()=>t()));if(null==r)throw new Error(n);return r}function y4(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const e="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(e,"."))}}function x4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return pN(e.slice(0,e.length-t))}function w4(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function _4(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[x4(e),...w4(e)]),t}function k4(e){return e%2===0}function S4(e,t){if(fN(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(k4(n)&&k4(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&k4(e[0])&&k4(t[0])}let C4,A4;function T4(e,t){return null!=e.getExtension(t)}function I4(e){try{if(null!=$3(e))return!0}catch(die){return console.log("Error when getting WebGL context: ",die),!1}return!1}function E4(e){if(0===e)return!1;const t=$3(e);if(1!==e){if(T4(t,"EXT_color_buffer_float"))return N4(t);const e="EXT_color_buffer_half_float";if(T4(t,e)){const n=t.getExtension(e);return function(e,t){const n=o4(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,n)}return!1}if(!T4(t,"OES_texture_float"))return!1;if(!T4(t,"WEBGL_color_buffer_float"))return!1;return N4(t)}function N4(e){const t=o4(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function M4(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&uN("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."))}))}const j4=HN();function D4(){let e,t,n,r,i,a,o,s,l,c;return 2===HN().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s=HN().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function R4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=MN(t);return r.map(((t,i)=>{const a="int ".concat(e[i]," = ").concat(n," / ").concat(t),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * ").concat(t):"index -= ".concat(e[i]," * ").concat(t);return"".concat(a,"; ").concat(o,";")})).join("")}function P4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=MN(t);return r.map(((t,i)=>{const a="int ".concat(e[i]," = ").concat(n," / outShapeStrides[").concat(i,"]"),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * outShapeStrides[").concat(i,"]"):"index -= ".concat(e[i]," * outShapeStrides[").concat(i,"]");return"".concat(a,"; ").concat(o,";")})).join("")}function O4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=e.map(((e,t)=>t)),i=function(e,t){const n=e.length,r=e.map((e=>"".concat(t,"[").concat(e,"]"))),i=new Array(n-1);i[n-2]=r[n-1];for(let a=n-3;a>=0;--a)i[a]="(".concat(i[a+1]," * ").concat(r[a+1],")");return i}(r,t);return i.map(((t,r)=>{const a="int ".concat(e[r]," = ").concat(n," / ").concat(i[r]),o=r===i.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(i[r]):"index -= ".concat(e[r]," * ").concat(i[r]);return"".concat(a,"; ").concat(o,";")})).join("")}function L4(e){const t=MN(e).map((e=>e.toString()));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}j4.registerFlag("HAS_WEBGL",(()=>j4.getNumber("WEBGL_VERSION")>0)),j4.registerFlag("WEBGL_VERSION",(()=>I4(2)?2:I4(1)?1:0)),j4.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),j4.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===j4.get("WEBGL_VERSION"))),j4.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),j4.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),j4.registerFlag("WEBGL_PACK",(()=>j4.getBool("HAS_WEBGL"))),j4.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_CLIP",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_REDUCE",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_LAZILY_UNPACK",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_CONV_IM2COL",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>j4.getBool("WEBGL_PACK"))),j4.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==C4){const t=$3(e);C4=t.getParameter(t.MAX_TEXTURE_SIZE)}return C4}(j4.getNumber("WEBGL_VERSION")))),j4.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==A4){const t=$3(e);A4=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,A4)}(j4.getNumber("WEBGL_VERSION")))),j4.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=j4.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=$3(e);return t=T4(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:T4(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),j4.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>j4.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!kP())),j4.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=$3(e);if(1===e){if(!T4(t,"OES_texture_float"))return!1}else if(!T4(t,"EXT_color_buffer_float"))return!1;return N4(t)}(j4.getNumber("WEBGL_VERSION")))),j4.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!j4.getBool("WEBGL_FORCE_F16_TEXTURES")&&j4.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),j4.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>E4(j4.getNumber("WEBGL_VERSION")))),j4.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=j4.getNumber("WEBGL_VERSION"))&&null!=$3(e).fenceSync;var e})),j4.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>j4.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),j4.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),j4.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>kP()?1:-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),j4.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),j4.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),j4.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),j4.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),j4.registerFlag("WEBGL_EXP_CONV",(()=>!1)),j4.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>j4.getBool("IS_TEST"))),j4.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),j4.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),j4.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),j4.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const F4="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:z4}=r;function B4(e,t,n){const r=[];if(e.forEach((e=>{const t=pN(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){const{uniformShape:t}=Z4(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));const i=r.join("\n"),a=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i="";i+=n?V4(e,r):W4(e,r);const a=e.shapeInfo.logicalShape,o=t.logicalShape;a.length<=o.length&&(i+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=e.shapeInfo.logicalShape.length,o=t.logicalShape.length,s=z4(e.shapeInfo.logicalShape,t.logicalShape),l=K4(o),c=o-a;let u;const d=["x","y","z","w","u","v"];u=0===a?"":o<2&&s.length>=1?"coords = 0;":s.map((e=>"coords.".concat(d[e+c]," = 0;"))).join("\n");let h="";h=o<2&&a>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(d[t+c]))).join(", ");let p="return outputValue;";const f=1===pN(e.shapeInfo.logicalShape),m=pN(t.logicalShape),g=1===m;if(1!==a||f||g){if(f&&!g)p=1===o?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=a-2,t=a-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?p="return vec4(outputValue.x);":s.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(i,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(r,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&fN(o,a))return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const c=K4(l),u=z4(e.shapeInfo.logicalShape,t.logicalShape),d=l-s;let h;const p=["x","y","z","w","u","v"];h=0===s?"":l<2&&u.length>=1?"coords = 0;":u.map((e=>"coords.".concat(p[e+d]," = 0;"))).join("\n");let f="";f=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(p[t+d]))).join(", ");return"\n    float ".concat(i,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(h,"\n      return get").concat(r,"(").concat(f,");\n    }\n  ")}(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),o=t.texShape,s=D4(),l=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(s);let c,u,d=function(e){const t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(U4,"\n    ").concat(H4,"\n    ").concat(q4,"\n  ");return t}(s);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(fN(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");const i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),a=i*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),a=i*Math.ceil(e[e.length-2]/2);let o=a,s="",l="b, r, c";for(let c=2;c<e.length-1;c++)o*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+s,l="b".concat(c,", ")+l;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec").concat(e.length,"(").concat(l,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,o,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(s)):(c=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(fN(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){const t=P4(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(t,"\n    return ivec3(r, c, d);\n  }\n")}const r=R4(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){const t=P4(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(t,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const r=R4(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){const n=R4(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){const n=R4(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,o,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(s)),n.packedInputs&&(d+=G4);return[d,l,u,i,c,a,n.userCode].join("\n")}function W4(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");const[i,a]=e.shapeInfo.texShape;if(1===i&&1===a)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const o=Y4(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(o,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[s,l]=e.shapeInfo.texShape;return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(s,", ").concat(l,", ").concat(o,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(X4(e),"\n      }\n    ");const i=e.shapeInfo.texShape,a=i[0],o=i[1];if(1===o&&1===a)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const s=Y4(n);if(1===o)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===a)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&fN(n,a)){if(t)return"\n      float ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");const e=a[0],n=a[1];return"\n    float ".concat(i,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,".0, ").concat(e,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}const{newShape:o,keptDims:s}=wN(n),l=o;if(l.length<n.length){const n=J4(e,l),r=["row","col"];return"\n      ".concat(W4(n,t),"\n      float ").concat(i,"(int row, int col) {\n        return ").concat(i,"(").concat(Q4(r,s),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(X4(e),"\n      }\n    ");const c=a[0],u=a[1],d=Y4(r);if(1===u)return t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(c,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(1===c)return t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(t)return"\n      float ".concat(i,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");return"\n  float ".concat(i,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(c,", ").concat(u,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],o=n[2],{newShape:s,keptDims:l}=wN(n),c=s;if(c.length<n.length){const n=J4(e,c),r=["row","col","depth"];return"\n        ".concat(W4(n,t),"\n        float ").concat(i,"(int row, int col, int depth) {\n          return ").concat(i,"(").concat(Q4(r,l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(o,", 1)));\n        ").concat(X4(e),"\n      }\n    ");const u=e.shapeInfo.texShape,d=u[0],h=u[1],p=e.shapeInfo.flatOffset;if(h===a&&null==p)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(i,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(d,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(h===o&&null==p)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(d,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");const f=Y4(r);if(t)return"\n    float ".concat(i,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    ");return"\n      float ".concat(i,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(h,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],o=n[2]*a,s=n[1]*o,{newShape:l,keptDims:c}=wN(n);if(l.length<n.length){const n=J4(e,l),r=["row","col","depth","depth2"];return"\n      ".concat(W4(n,t),"\n      float ").concat(i,"(int row, int col, int depth, int depth2) {\n        return ").concat(i,"(").concat(Q4(r,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(a,", 1)));\n        ").concat(X4(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1],f="int stride2 = ".concat(r,"Shape[3];"),m="int stride1 = ".concat(r,"Shape[2] * stride2;"),g="int stride0 = ".concat(r,"Shape[1] * stride1;");if(p===s&&null==u)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(p===a&&null==u)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");const v=Y4(r);if(t)return"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(g,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(v,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");return"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index + ").concat(v,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,{newShape:l,keptDims:c}=wN(t);if(l.length<t.length){const t=J4(e,l),n=["row","col","depth","depth2","depth3"];return"\n      ".concat(W4(t),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Q4(n,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(a,", ").concat(i,")) +\n          depth3;\n        ").concat(X4(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===s&&null==u)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(a,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(p===i&&null==u)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=Y4(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(a," +\n          depth2 * ").concat(i," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:i,keptDims:a}=wN(t);if(i.length<t.length){const t=J4(e,i),n=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(W4(t),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Q4(n,a),");\n      }\n    ")}const o=t[5],s=t[4]*o,l=t[3]*s,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(c,", ").concat(l,", ").concat(s,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(o,", 1)));\n        ").concat(X4(e),"\n      }\n    ");const d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,p=h[0],f=h[1];if(f===u&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(c,", ").concat(l,", ").concat(s,", ").concat(o,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===o&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=Y4(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth2 * ").concat(s," + depth3 * ").concat(o," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function V4(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=D4();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=D4();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");const o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=a[0],s=a[1],l=D4();if(null!=a&&fN(n,a))return t?"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(l.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(i,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");const c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){const r=[1,2],a=J4(e,n.slice(1)),o=["b","row","col"];return"\n        ".concat(V4(a,t),"\n        vec4 ").concat(i,"(int b, int row, int col) {\n          return ").concat(i,"(").concat(Q4(o,r),");\n        }\n      ")}const s=D4();if(t)return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(s.texture2D,"(").concat(r,", uv);\n    }\n  ");const l=o[0],c=o[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(c,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(s.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=D4();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");const a=e.shapeInfo.logicalShape,o=a.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=l[0],u=l[1],d=Math.ceil(a[o-1]/2);let h=d*Math.ceil(a[o-2]/2),p="int b, int row, int col",f="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<o-1;m++)p="int b".concat(m,", ")+p,h*=a[o-m-1],f="b".concat(m," * ").concat(h," + ")+f;return"\n    vec4 ".concat(r,"(").concat(p,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(c,");\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}const U4="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",H4="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",q4="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",G4="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Y4(e){return"offset".concat(e)}function X4(e){const t=e.name,n=pN(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function K4(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Z4(e,t,n){const{newShape:r,keptDims:i}=wN(t),a=t.length,o=e&&3===a&&1===t[0],s=o?t.slice(1):r,l=!e&&a>1&&!fN(t,n)&&r.length<a||o;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:i}}function J4(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Q4(e,t){return t.map((t=>e[t])).join(", ")}function $4(e,t,n,r){const i=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((e=>e.shapeInfo)),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=B4(i,o,t),l=function(e,t){const n=b4(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(s4(e,(()=>e.shaderSource(n,t))),s4(e,(()=>e.compileShader(n))),HN().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw d4(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),c=e.createProgram(l);return HN().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:a,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(c),Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:a,outShapeInfo:o},e5(e,t,c)))}function e5(e,t,n){const r=[],i=[];let a,o,s,l=null,c=null;c=e.getUniformLocation(n,"NAN",!1),1===HN().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of t.variableNames){const i={name:d,uniform:e.getUniformLocation(n,d,u),offset:e.getUniformLocation(n,"offset".concat(d),u)};t.enableShapeUniforms&&(i.shape=e.getUniformLocation(n,"".concat(d,"Shape"),u),i.texShape=e.getUniformLocation(n,"".concat(d,"TexShape"),u)),r.push(i)}if(t.enableShapeUniforms&&(a=e.getUniformLocation(n,"outShape",u),s=e.getUniformLocation(n,"outShapeStrides",u),o=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const d of t.customUniforms)i.push(e.getUniformLocation(n,d.name,u));return{variablesLocations:r,customUniformLocations:i,infLoc:l,nanLoc:c,outShapeLocation:a,outShapeStridesLocation:s,outTexShapeLocation:o}}function t5(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(((e,n)=>{const r=e.logicalShape,i=t[n],a=i.shape;if(!fN(r,a))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(a," must match"));if(e.isUniform&&i.isUniform)return;const o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!fN(o,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(s," must match"))}))}function n5(e){return HN().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class r5{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=e4.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=D4();this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?P4(["r","c","d"],e):R4(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class i5{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=e4.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=D4();this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?P4(["r","c","d"],e):R4(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class a5{constructor(e){this.variableNames=["A"],this.outTexUsage=t4.DOWNLOAD;const t=D4();this.outputShape=e,this.userCode="\n      ".concat(F4,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}class o5{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=t4.DOWNLOAD;const t=D4();this.outputShape=e,this.userCode="\n      ".concat(F4,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}const s5={R:0,G:1,B:2,A:3};class l5{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=D4();this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length);let i="result";t&&(i="floor(result * 255. + 0.5)");let a="";for(let o=0;o<n.length;o++){const e=n[o];a+="\n          if(offset == ".concat(o,") {\n            result = values[").concat(s5[e],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":L4(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(n.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(n.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(r.texture2D,"(A, uv);\n          ").concat(a,"\n        }\n        ").concat(r.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")}}class c5{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=D4();this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length);let r="",i="result";t&&(i="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let t=0;t<=1;t++){const i=2*a+t;r+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(t," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(t,";\n          if (localCoords[1] + ").concat(a," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(a,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(n.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(i,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(i,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(i,"] = values[2];\n            } else {\n              result[").concat(i,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":L4(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(r,"\n\n          ").concat(n.output," = ").concat(i,";\n        }\n    ")}}function u5(e){const t=D4();return function(e,t){const n=b4(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(s4(e,(()=>e.shaderSource(n,t))),s4(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function d5(e){return function(e,t){const n=b4(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return s4(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),s4(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function h5(e){return function(e,t){const n=b4(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return s4(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),s4(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function p5(e,t,n,r,i,a){!function(e,t){const n=HN().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const n="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+n+" is invalid.")}if(e>n||t>n){const r="[".concat(e,"x").concat(t,"]"),i="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+i+".")}}(t,n);const o=function(e){return b4(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return s4(e,(()=>e.bindTexture(s,o))),s4(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),s4(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),s4(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),s4(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===HN().getNumber("WEBGL_VERSION")?s4(e,(()=>e.texImage2D(s,0,r,t,n,0,i,a,null))):s4(e,(()=>e.texStorage2D(s,1,r,t,n))),s4(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:o,texShape:[n,t]}}function f5(e){return e.internalFormatFloat}function m5(e){return e.internalFormatHalfFloat}function g5(e){return e.downloadTextureFormat}function v5(e){return e.internalFormatPackedFloat}function b5(e){return e.internalFormatPackedHalfFloat}function y5(e,t,n,r,i,a,o,s){const l=e,c=new Float32Array(function(e,t){const[n,r]=a4(e,t);return n*r*4}(a,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class x5{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=HN().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){J3[e]=t}(t,e)):this.gl=$3(t),e=this.gl,2===HN().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>s4(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>s4(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>s4(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>s4(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>s4(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>s4(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>s4(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>s4(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===HN().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=c4(this.gl,e),T4(this.gl,t))this.textureHalfFloatExtension=c4(this.gl,t);else if(HN().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),T4(this.gl,r))this.colorBufferHalfFloatExtension=c4(this.gl,r);else if(HN().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",T4(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!T4(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=d5(this.gl),this.indexBuffer=h5(this.gl),this.framebuffer=function(e){return b4(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=o4(this.gl,this.textureHalfFloatExtension)}get debug(){return HN().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;s4(e,(()=>e.finish())),s4(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),s4(e,(()=>e.deleteFramebuffer(this.framebuffer))),s4(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),s4(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),s4(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=r4(t,n);return p5(e,i,a,f5(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=r4(t,n);return p5(e,i,a,m5(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=r4(t,n);return p5(e,i,a,g5(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){s4(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===HN().getNumber("WEBGL_VERSION")?s4(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):s4(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===HN().getNumber("WEBGL_VERSION")?s4(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):s4(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),s4(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,i,a){let o,s,l;s4(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),i instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,l=a.internalFormatPackedFloat),o.set(i),2===HN().getNumber("WEBGL_VERSION")?s4(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o))):s4(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,o))),s4(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=a4(t,n);return p5(e,i,a,b5(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=a4(t,n);return p5(e,i,a,v5(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(g4(this.gl,this.framebuffer),this.outputTexture=null),s4(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[i,a]=r4(t,n),o=new Uint8Array(t*n*4);return s4(e,(()=>e.readPixels(0,0,i,a,r.downloadTextureFormat,e.UNSIGNED_BYTE,o))),new Float32Array(o.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,i,a){return y5(this.gl,e,0,0,0,i,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n,r){const i=e.createBuffer();s4(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,i)));const a=16*t*n;return s4(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ))),s4(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),s4(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),i}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(HN().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,i=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(i,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=i}else HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return s4(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=u5(t));const n=function(e){return b4(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);s4(t,(()=>t.attachShader(n,this.vertexShader))),s4(t,(()=>t.attachShader(n,e))),function(e,t){if(s4(e,(()=>e.linkProgram(t))),!HN().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&h4(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;s4(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){s4(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),p4(e,t,"clipSpacePos",n,3,20,0)&&p4(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(s4(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&h4(this.gl,this.program),s4(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return b4(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),s4(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),f4(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,i]=a4(t,n);this.setOutputMatrixTextureDriver(e,r,i)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&h4(this.gl,this.program),v4(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}s4(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),s4(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=c4(this.gl,2===HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await bN((()=>this.disposed||this.isQueryAvailable(e,HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in HN().platform&&(n=HN().platform.setTimeoutCustom.bind(HN().platform)),bN((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),m4(this.gl,e,this.framebuffer),this.debug&&v4(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(m4(this.gl,this.outputTexture,this.framebuffer),this.debug&&v4(this.gl)):g4(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;m4(r,e,this.framebuffer),this.debug&&v4(r),this.outputTexture=e,s4(r,(()=>r.viewport(0,0,t,n))),s4(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),s4(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:w5,bincountImpl:_5,bincountReduceImpl:k5,bitwiseAndImpl:S5,castImpl:C5,ceilImpl:A5,concatImpl:T5,equalImpl:I5,expImpl:E5,expm1Impl:N5,floorImpl:M5,gatherNdImpl:j5,gatherV2Impl:D5,greaterImpl:R5,greaterEqualImpl:P5,lessImpl:O5,lessEqualImpl:L5,linSpaceImpl:F5,logImpl:z5,maxImpl:B5,maximumImpl:W5,minimumImpl:V5,multiplyImpl:U5,negImpl:H5,notEqualImpl:q5,prodImpl:G5,raggedGatherImpl:Y5,raggedRangeImpl:X5,raggedTensorToTensorImpl:K5,rangeImpl:Z5,rsqrtImpl:J5,scatterImpl:Q5,sigmoidImpl:$5,simpleAbsImpl:e6,sliceImpl:t6,sparseFillEmptyRowsImpl:n6,sparseReshapeImpl:r6,sparseSegmentReductionImpl:i6,sqrtImpl:a6,staticRegexReplaceImpl:o6,stridedSliceImpl:s6,stringNGramsImpl:l6,stringSplitImpl:c6,stringToHashBucketFastImpl:u6,subImpl:d6,tileImpl:h6,topKImpl:p6,transposeImpl:f6,uniqueImpl:m6}=i;function g6(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>"".concat(e,".").concat(t)))}function v6(e,t){return 1===t?[e]:g6(e,t)}class b6{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=n5(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=v6("rc",this.rank),t=K4(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),i=this.getOutput(e);this.userCode="\n        void main() {\n          ".concat(t," rc = getOutputCoords();\n\n          if(").concat(n,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(r,"\n\n            setOutput(vec4(").concat(i,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let i="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1");for(let t=2;t<this.rank;t++)i="".concat(e[e.length-1-t],",")+i;t.push(i)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let t="";for(let n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){const e=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(e," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}class y6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length);let n="";for(let r=0;r<4;r++){let e="thisRC = rc;";r%2===1&&(e+="thisRC.z += 1;"),r>1&&(e+="thisRC.y += 1;"),n+="\n        ".concat(e,"\n        ").concat(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(r,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(r>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){const n=t?O4(["r","c","d"],"inputShape"):R4(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(t,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":L4(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(n,"\n\n        setOutput(result);\n      }\n    ")}}class x6{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=_6(t,n),i=k6(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const a=w6(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const e=this.freeTextures[i].pop();return this.usedTextures[i].push(e),e}let o;return r===n4.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===n4.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===n4.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===n4.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===n4.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),o}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const i=_6(n,r),a=k6(t,i,r);a in this.freeTextures||(this.freeTextures[a]=[]);const o=w6(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=HN().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const l=this.usedTextures[a],c=l&&l.indexOf(e);if(null==c||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[c]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function w6(e,t,n,r,i){const a=function(e,t){switch(e){case n4.PACKED_2X2_FLOAT32:return v5(t);case n4.PACKED_2X2_FLOAT16:return b5(t);case n4.UNPACKED_FLOAT32:return f5(t);case n4.UNPACKED_FLOAT16:return m5(t);case n4.PACKED_4X1_UNSIGNED_BYTE:return g5(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);let o;if(i){const[t,n]=a4(e[0],e[1]);o=t*n}else{const[t,n]=r4(e[0],e[1]);o=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,a);return o*s}function _6(e,t){if(e===t4.UPLOAD)return n4.PACKED_2X2_FLOAT32;if(e===t4.RENDER||null==e)return function(e){return HN().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?n4.PACKED_2X2_FLOAT32:n4.UNPACKED_FLOAT32:e?n4.PACKED_2X2_FLOAT16:n4.UNPACKED_FLOAT16}(t);if(e===t4.DOWNLOAD||e===t4.PIXELS)return n4.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function k6(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}class S6{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const C6="if (isnan(x)) return x;",A6="return x;",T6="return abs(x);";const I6="return (x >= 0.0) ? x : (exp(x) - 1.0);",E6=C6+"\n  return (x < 0.0) ? 0.0 : x;\n",N6=C6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",M6="return x;",j6="return 1.0 / (1.0 + exp(-1.0 * x));",D6="return x;",R6="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",P6="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",O6="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",L6="return 1.0 / (1.0 + exp(-1.0 * x));";class F6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}class z6{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length);const t=e.length,n=v6("rc",t),r=K4(t),i=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":"vec2(".concat(a.join(","),")");this.userCode="\n      void main() {\n        ".concat(r," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(o,"));\n      }\n    ")}}const B6=$W,W6={};const V6=HN().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class U6 extends iN{nextDataId(){return U6.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!HN().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof x5)t=e;else{const n=$3(HN().getNumber("WEBGL_VERSION"),e);t=new x5(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=$3(HN().getNumber("WEBGL_VERSION"));t=new x5(e),this.binaryCache=((n=HN().getNumber("WEBGL_VERSION"))in W6||(W6[n]={}),W6[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new x6(this.gpgpu),this.numMBBeforeWarning=null==HN().global.screen?1024:HN().global.screen.height*HN().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new rN(this,OP())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,i,a){const o=this.makeTensorInfo(t,n),s=this.texData.get(o.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,i]},s.texShape=[r,i];const l=_4(t),c=new l5(l,!1,a),u=this.runWebGLProgram(c,[o],n,[[r,i]]);return u.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(o),u.dataId}write(e,t,n){if((HN().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||HN().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:t4.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,i){if(HN().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:t4.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:i,slice:a,shape:o,isPacked:s}=t;if(null!=a){let t;t=s?new F6(o,M6):new S6(o,M6);const n=this.runWebGLProgram(t,[{dataId:e,shape:o,dtype:r}],r),i=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=DR()),"complex64"===r){u=vW(this.readSync(i.real.dataId),this.readSync(i.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=DR()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:i,dtype:a,complexTensorInfos:o,isPacked:s}=t;if(null!=i){let t;t=s?new F6(r,M6):new S6(r,M6);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:a}],a),i=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if(HN().getBool("DEBUG")&&!HN().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===HN().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==a&&HN().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...i4(r))}if(this.pendingRead.set(e,[]),"complex64"!==a&&await this.gpgpu.createAndWaitForFence(),"complex64"===a){const e=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]);c=vW(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=pN(r);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;s4(e,(()=>e.deleteBuffer(u)))}const d=this.convertAndCacheOnCPU(e,c),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&OP().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:i,slice:a,dtype:o,isPacked:s,texture:l}=n;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){let n;n=s?new F6(i,M6):new S6(i,M6);const r=this.runWebGLProgram(n,[{dataId:e,shape:i,dtype:o}],o),a=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),a}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=OP().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:u},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>PR(e)));return AO(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return AO(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!l4(n)){if(HN().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),i=pN(t);if(HN().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),a=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...i4(t)).subarray(0,i);return this.disposeIntermediateTensorInfo(n),a}const a=HN().getBool("WEBGL_PACK")&&!0===r,o=a?_4(t):t,s=a?new o5(o):new a5(o),l=this.runWebGLProgram(s,[{shape:o,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const i=LR(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),a=LR(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(i);o.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),o.getExtraProfileInfo=()=>e.map(((e,t)=>({name:a[t],ms:e}))).map((e=>"".concat(e.name,": ").concat(e.ms))).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:DR(),endMs:null}}endTimer(e){return HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=DR(),e)}async getQueryTime(e){if(HN().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:i,isPacked:a,slice:o}=this.texData.get(e),s=o&&o.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,i,a)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V6;return HN().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&pN(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){oR("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return B6(e.shape,t)}packedUnaryOp(e,t,n){const r=new F6(e.shape,t),i=this.compileAndRun(r,[e],n);return OP().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=e6(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(HN().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,T6,e.dtype);const t=new S6(e.shape,T6),n=this.compileAndRun(t,[e]);return OP().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&AN(n[0])){const i=n.map((e=>RR(e)));r=this.write(i,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return OP().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new z6(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new b6(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[x4(e.shape),...w4(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[x4(t),...w4(t)],a=new y6(i,n),o=[n],s=this.runWebGLProgram(a,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:i,dtype:a}=n;if(null!=t){uN(pN(i)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const o=_4(i);let s;s=r?new i5(o):new r5(o);const l=[null!=t?t:i4(o)];return{dtype:a,shape:i,dataId:this.runWebGLProgram(s,[{shape:o,dtype:a,dataId:e}],a,l,!0,t).dataId}}runWebGLProgram(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0;const o=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(o.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===e4.DENSE){const t=null!=a?a:i4(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===pN(o.shape))return s.values=_N(o.dtype,0),o;const l=[],c=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&pN(t.shape)<=HN().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!S4(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);const u={shape:o.shape,texData:s,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const a=t.texData.texShape,{useSqueezeShape:o,uniformShape:s,keptDims:l}=Z4(e.packedInputs,t.shape,a);let c="",u="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];c="".concat(e[0]>1,"_").concat(e[1]>1)}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=MN(s);d="".concat(e[0]===a[1],"_").concat(e[e.length-1]===a[1])}}else u="".concat(s[0]>1,"_").concat(s[1]>1);const h=t.shape.length,p=2===s.length&&fN(t.shape,a),f=1===pN(t.shape),m=QO(t.shape,n.shape),g=!e.packedInputs&&h===n.shape.length&&fN(a,n.texData.texShape),v=e.packedInputs||s.length>2?"":"".concat(a[0]>1,"_").concat(a[1]>1);r+="".concat(h,"_").concat(g,"_").concat(o?l:"","_").concat(s.length,"_").concat(f,"_").concat(m,"_").concat(p,"_").concat(c,"_").concat(u,"_").concat(d,"_").concat(v,"_").concat(i)}else{const e=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(e,"_").concat(i)}}));const i=e.userCode;let a=e.constructor.name;return a+="_"+r+"_"+i+"".concat(HN().getNumber("WEBGL_VERSION")),a}(e,c,u),h=this.getAndSaveBinary(d,(()=>$4(this.gpgpu,e,c,u))),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),HN().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,i){t.program.enableShapeUniforms||(t5(t.inShapeInfos,n),t5([t.outShapeInfo],[r]));const a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,o[0],o[1]):e.setOutputMatrixTexture(a.texture,o[0],o[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===HN().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const r=n[l],{uniform:i,offset:a,shape:o,texShape:s}=t.variablesLocations[l];if(o){const{uniformShape:n}=Z4(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(o,new Int32Array(n));break;case 2:e.gl.uniform2iv(o,new Int32Array(n));break;case 3:e.gl.uniform3iv(o,new Int32Array(n));break;case 4:e.gl.uniform4iv(o,new Int32Array(n))}}if(s&&e.gl.uniform2i(s,r.texData.texShape[0],r.texData.texShape[1]),null!=i)if(r.isUniform)if(pN(r.shape)<2)e.gl.uniform1f(i,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(i,t)}else null!=r.texData.slice&&null!=a&&e.gl.uniform1i(a,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,i,l)}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=MN(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&i)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],r=t.customUniformLocations[l],a=i[l];if("float"===n.type)e.gl.uniform1fv(r,a);else if("vec2"===n.type)e.gl.uniform2fv(r,a);else if("vec3"===n.type)e.gl.uniform3fv(r,a);else if("vec4"===n.type)e.gl.uniform4fv(r,a);else if("int"===n.type)e.gl.uniform1iv(r,a);else if("ivec2"===n.type)e.gl.uniform2iv(r,a);else if("ivec3"===n.type)e.gl.uniform3iv(r,a);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(r,a)}}e.executeProgram()}(this.gpgpu,h,c,u,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=HN().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=DR();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!HN().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){const e=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),e}return o}compileAndRun(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,i)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!HN().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=FP((()=>{if(!HN().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=HN().getBool("DEBUG");HN().set("DEBUG",!1);const t=this.abs(FO(1e-8)).dataSync()[0];if(HN().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:i,texture:a,usage:o,isPacked:s}=t;if(null!=a)return;const l=null!=this.activeTimers;let c;l&&(c=DR());let u=t.texShape;if(null==u&&(u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=HN().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=HN().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&HN().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,e=e.map(((t,n)=>n>=e.length-2?lN(e[n]):e[n])),1===e.length&&(e=[2,e[0]])),2!==e.length){const t=wN(e);e=t.newShape}let i=pN(e),a=null;e.length<=1&&i<=n?a=[1,i]:2===e.length&&e[0]<=n&&e[1]<=n?a=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?a=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?a=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?a=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(a=[e[0],e[1]*e[2]*e[3]]);const o=null!=a&&Math.max(...a)>r&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||o)if(t){const t=x4(e);let n=2,r=2;e.length&&([n,r]=w4(e)),i=t*(n/2)*(r/2),a=gN(i).map((e=>2*e))}else a=gN(i);return a}(n,s),t.texShape=u),null!=i){const e=_4(n);let a,o=u[1],d=u[0];const h=i instanceof Uint8Array||i instanceof Uint8ClampedArray;!s&&h||([o,d]=a4(u[0],u[1])),a=s?new c5(e,h):new l5(e,h);const p=h?[d,o]:u,f=this.makeTensorInfo(p,r),m=this.texData.get(f.dataId);m.usage=h?t4.PIXELS:t4.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),o,d,i);const g=[[d,o]],v=!0,b=this.runWebGLProgram(a,[f],r,g,v),y=this.texData.get(b.dataId);t.texShape=y.texShape,t.isPacked=y.isPacked,t.usage=y.usage,HN().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=y.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=DR()-c)}else{const e=this.acquireTexture(u,o,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(e," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*CN(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await UB(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw d4(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:i,outShapeLocation:a,outShapeStridesLocation:o,outTexShapeLocation:s}=e5(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=i,e.outShapeLocation=a,e.outShapeStridesLocation=o,e.outTexShapeLocation=s}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:i,width:a,channels:o}=e,s=OP().backend;if(!s.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=s.writeTexture(r,t,n,i,a,o);return OP().makeTensorFromDataId(l,t,n,s)}}U6.nextDataId=0;SP()&&WP("webgl",(()=>new U6),2);const H6="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class q6{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=eL(t,n),this.enableShapeUniforms=n5(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}const G6="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class Y6{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=eL(t,n);const i=this.outputShape.length;this.enableShapeUniforms=n5(i);let a="";if(r)if(0===i||1===pN(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const e=K4(i);if(a="\n          ".concat(e," coords = getOutputCoords();\n        "),1===i)this.enableShapeUniforms?a+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":a+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const e=v6("coords",i);this.enableShapeUniforms?a+="\n            bool nextRowOutOfBounds =\n              (".concat(e[i-2]," + 1) >= outShape[").concat(i," - 2];\n            bool nextColOutOfBounds =\n              (").concat(e[i-1]," + 1) >= outShape[").concat(i," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):a+="\n            bool nextRowOutOfBounds =\n              (".concat(e[i-2]," + 1) >= ").concat(this.outputShape[i-2],";\n            bool nextColOutOfBounds =\n              (").concat(e[i-1]," + 1) >= ").concat(this.outputShape[i-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(a,"\n\n        setOutput(result);\n      }\n    ")}}function X6(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const K6={kernelName:uj,backendName:"webgl",kernelFunc:X6};function Z6(e){const{inputs:t,backend:n}=e,{real:r,imag:i}=t,a=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(a.dataId),s=X6({inputs:{x:r},backend:n}),l=X6({inputs:{x:i},backend:n});return o.complexTensorInfos={real:s,imag:l},a}const J6={kernelName:wM,backendName:"webgl",kernelFunc:Z6},Q6="return (a < 0.) ? b * a : a;",$6="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const e8={kernelName:gj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{alpha:a}=r,o=n.makeTensorInfo([],"float32",MR(a,"float32")),s=HN().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Y6($6,i.shape,o.shape):new q6(Q6,i.shape,o.shape),l=n.runWebGLProgram(s,[i,o],"float32");return n.disposeIntermediateTensorInfo(o),l}},t8="return (a < 0.) ? b * a : a;",n8="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const r8={kernelName:Jj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:i}=t,a=HN().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Y6(n8,r.shape,i.shape):new q6(t8,r.shape,i.shape);return n.runWebGLProgram(a,[r,i],"float32")}},i8="if (isnan(x)) return x;";function a8(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:i}=e;return e=>{let{inputs:a,backend:o}=e;const{x:s}=a,l=o,c=i||s.dtype;if(l.shouldExecuteOnCPU([s])&&null!=r){const e=l.texData.get(s.dataId),t=r(e.values,c);return l.makeTensorInfo(s.shape,c,t)}let u;return u=HN().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new F6(s.shape,n):new S6(s.shape,t),l.runWebGLProgram(u,[s],c)}}function o8(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:i=!1,cpuKernelImpl:a,dtype:o}=e;return e=>{let{inputs:s,backend:l}=e;const{a:c,b:u}=s,d=l;if(i&&"complex64"===c.dtype){const e=d.texData.get(c.dataId),n=d.texData.get(u.dataId),[r,i]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,i={dataId:n.dataId,dtype:n.dtype,shape:c.shape},a={dataId:r.dataId,dtype:r.dtype,shape:u.shape},o=new q6(t,c.shape,u.shape);return d.runWebGLProgram(o,[i,a],lP(n.dtype,r.dtype))})),a=Z6({inputs:{real:r,imag:i},backend:d});return d.disposeIntermediateTensorInfo(r),d.disposeIntermediateTensorInfo(i),a}const h=o||lP(c.dtype,u.dtype);if(("string"===c.dtype||"string"===u.dtype||d.shouldExecuteOnCPU([c,u]))&&null!=a){const e=d.texData.get(c.dataId).values,t=d.texData.get(u.dataId).values,n="string"===c.dtype?JW(e):e,r="string"===c.dtype?JW(t):t,[i,o]=a(c.shape,u.shape,n,r,h),s=d.makeTensorInfo(o,h);return d.texData.get(s.dataId).values=i,s}let p;return p=HN().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Y6(n,c.shape,u.shape,r):new q6(t,c.shape,u.shape),d.runWebGLProgram(p,[c,u],h)}}function s8(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?D6:A6;if("relu"===e)return t?P6:E6;if("elu"===e)return t?R6:I6;if("relu6"===e)return t?O6:N6;if("prelu"===e)return t?n8:t8;if("leakyrelu"===e)return t?$6:Q6;if("sigmoid"===e)return t?L6:j6;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}class l8{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=n5(this.outputShape.length);const c=r?e[1]:e[2],u=Math.ceil(c/2),d=r?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";o&&(m=s?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(o,"\n        }"):l?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(o,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(o,"\n        }"),g="result = activation(result);");const v=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",y="rc.x";e[0]<t[0]?b="imod(rc.x, ".concat(e[0],")"):t[0]<e[0]&&(y="imod(rc.x, ".concat(t[0],")")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(u,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(b,";\n        int batchB = ").concat(y,";\n        for (int i = 0; i < ").concat(u,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(f[0],");\n          result += (").concat(p[1]," * ").concat(f[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(v,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}const c8={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class u8{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=eL(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}const d8="return a * b;";function h8(e){const{inputs:t,backend:n}=e,{a:r,b:i}=t,a=lP(r.dtype,i.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(i.dataId),a=new u8(c8.REAL,r.shape,i.shape),o=new u8(c8.IMAG,r.shape,i.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:i.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:i.shape}],l=n.runWebGLProgram(a,s,"float32"),c=n.runWebGLProgram(o,s,"float32"),u=Z6({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([r,i])){const e=n.texData.get(r.dataId),t=n.texData.get(i.dataId),[o,s]=U5(r.shape,i.shape,e.values,t.values,a),l=n.makeTensorInfo(s,a);return n.texData.get(l.dataId).values=o,l}let o;return o=HN().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Y6(d8,r.shape,i.shape):new q6(d8,r.shape,i.shape),n.runWebGLProgram(o,[r,i],a)}const p8={kernelName:Bj,backendName:"webgl",kernelFunc:h8};function f8(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{shape:a}=r,o=n,s=pN(i.shape),l=yN(a,s),c=pN(l);uN(s===c,(()=>"The new shape (".concat(l,") has ").concat(c," elements and the old ")+"shape (".concat(i.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."));const u=o.texData.get(i.dataId);return!u.isPacked||S4(i.shape,l)||null!==u.texture&&S4(u.shape,l)?(o.incRef(i.dataId),{dataId:i.dataId,shape:l,dtype:i.dtype}):function(e,t,n){const r=[x4(e.shape),...w4(e.shape)],i={dtype:e.dtype,shape:r,dataId:e.dataId},a=[x4(t),...w4(t)],o=new y6(a,r),s=[r],l=n.runWebGLProgram(o,[i],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(i,l,o)}const m8={kernelName:oD,backendName:"webgl",kernelFunc:f8};class g8{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:i,outSize:a}=e;this.outputShape=[r,a];const o=4*Math.floor(n/4),s=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l="sumValue += dot(values * ".concat(mN(e)?e.toPrecision(2):e,", ones);")}let c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(c,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(o,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(o,";\n        if (").concat(1===s,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}class v8{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:i,outSize:a}=e;this.outputShape=[r,a];let o="0.0",s="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",s="min"):"max"===t&&(o="-1.0 / 1e-20",s="max");let l="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let d="\n      if (".concat("sum"===t,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===t,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(s,"(values, minMaxValue);\n        if (").concat("min"===t," || ").concat("max"===t,") {\n          minMaxValue = ").concat(s,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===t?(o="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(o="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");let p="";i%n>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(o,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        vec4 minMaxValue = vec4(").concat(o,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")}}function b8(e,t,n,r){const i=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=QB(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let a=e;for(let o=0;o<i.length;o++){const{inSize:s,windowSize:l,outSize:c}=i[o];let u,d;u="mean"===n?0===o?new g8({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:c},s):new g8({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:c}):new v8({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:c},n),d=a,a=r.runWebGLProgram(u,[a],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return a}class y8{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;const r=K4(this.rank),i=function(e){const t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      ".concat(r," resRC = getOutputCoords();\n      setOutput(getA(").concat(i,"));\n    }\n    ")}}class x8{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let c=0;c<n.length;c++)n[c]=e[t[c]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const r=K4(this.rank),i=g6("rc",this.rank),a=new Array(this.rank);for(let c=0;c<t.length;c++)a[t[c]]=i[c];const o="vec2(".concat(a.slice(-2).join(),")"),s="++".concat(i[this.rank-1]," < ").concat(n[this.rank-1]),l="getChannel(getA(".concat(a.join(),"), ").concat(o,")");this.userCode="\n    void main() {\n      ".concat(r," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(l,";\n      if(").concat(s,") {\n        result[1] = ").concat(l,";\n      }\n      --").concat(i[this.rank-1],";\n      if(++").concat(i[this.rank-2]," < ").concat(n[this.rank-2],") {\n        result[2] = ").concat(l,";\n        if(").concat(s,") {\n          result[3] = ").concat(l,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}function w8(e,t,n){const r=HN().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new x8(e.shape,t):new y8(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function _8(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r;return function(e,t,n,r){const i=t,a=e.shape.length,o=xN(i,e.shape);let s=o;const l=UF(s,a),c=null!=l;let u=e;c&&(u=w8(e,l,r),s=qF(s.length,a)),VF("sum",s,a);const[d,h]=BF(u.shape,s);let p=d;n&&(p=WF(d,o));const f=pN(h),m=f8({inputs:{x:u},attrs:{shape:[pN(e.shape)/f,f]},backend:r}),g=b8(m,cP(e.dtype),"sum",r),v=f8({inputs:{x:g},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),c&&r.disposeIntermediateTensorInfo(u),v}(i,a,o,n)}const k8={kernelName:TD,backendName:"webgl",kernelFunc:_8};function S8(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{perm:a}=r,o=n,s=i.shape.length,l=new Array(s);for(let u=0;u<l.length;u++)l[u]=i.shape[a[u]];let c;if(o.shouldExecuteOnCPU([i])){const e=o.texData.get(i.dataId).values,t=f6(e,i.shape,i.dtype,a,l);c=o.makeTensorInfo(l,i.dtype);o.texData.get(c.dataId).values=t}else c=w8(i,a,o);return c}const C8={kernelName:KD,backendName:"webgl",kernelFunc:S8},A8=1e3;function T8(e){let{a:t,b:n,transposeA:r,transposeB:i,backend:a,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:c=null}=e;const u=t.shape.length,d=n.shape.length,h=r?t.shape[u-2]:t.shape[u-1],p=i?n.shape[d-1]:n.shape[d-2],f=r?t.shape[u-1]:t.shape[u-2],m=i?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),v=n.shape.slice(0,-2),b=pN(g),y=pN(v),x=eL(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);uN(h===p,(()=>"Error in matMul: inner shapes (".concat(h,") and (")+"".concat(p,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(i," must match.")));const w=r?[b,h,f]:[b,f,h],_=i?[y,m,p]:[y,p,m],k=f8({inputs:{x:t},backend:a,attrs:{shape:w}}),S=f8({inputs:{x:n},backend:a,attrs:{shape:_}}),C=[k,S],A=Math.max(b,y),T=r?k.shape[1]:k.shape[2],I=null!=o,E=null!=s,N="leakyrelu"===c,M=null!=c?s8(c,!0):null;let j;if((1===f||1===m)&&T>A8&&!1===(I||E||N||null!=M)){let e=k,t=S;r&&(e=S8({inputs:{x:k},backend:a,attrs:{perm:[0,2,1]}}),C.push(e)),i&&(t=S8({inputs:{x:S},backend:a,attrs:{perm:[0,2,1]}}),C.push(t));const n=1===m;let o=e;1!==m&&(o=f8({inputs:{x:e},backend:a,attrs:{shape:[A,T,1]}}),C.push(o));const s=1===m?2:1;let l=t;n&&(l=f8({inputs:{x:t},backend:a,attrs:{shape:[A,1,T]}}),C.push(l));const c=h8({inputs:{a:o,b:l},backend:a});j=_8({inputs:{x:c},backend:a,attrs:{axis:s,keepDims:!0}}),C.push(c)}else{const e=lP(t.dtype,n.dtype),c=new l8(w,_,[A,f,m],r,i,I,M,E,N),u=[k,S];if(null!=o&&u.push(o),E&&u.push(s),N){const e=a.makeTensorInfo([],"float32",MR(l,"float32"));u.push(e),C.push(e)}j=a.runWebGLProgram(c,u,e)}const D=f8({inputs:{x:j},backend:a,attrs:{shape:x}});C.push(j);for(const R of C)a.disposeIntermediateTensorInfo(R);return D}const I8={kernelName:rR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:i,b:a,bias:o,preluActivationWeights:s}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=r;return T8({a:i,b:a,transposeA:l,transposeB:c,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:d,activation:u})}},E8="return abs(x);";const N8={kernelName:KN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=e6(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let i;return i=HN().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new F6(r.shape,E8):new S6(r.shape,E8),n.runWebGLProgram(i,[r],r.dtype)}},M8=a8({opSnippet:C6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),j8={kernelName:ZN,backendName:"webgl",kernelFunc:M8},D8=a8({opSnippet:C6+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),R8={kernelName:JN,backendName:"webgl",kernelFunc:D8},P8="return a + b;",O8=o8({opSnippet:P8,packedOpSnippet:P8,supportsComplex:!0,cpuKernelImpl:w5}),L8={kernelName:QN,backendName:"webgl",kernelFunc:O8};class F8{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));const r=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        float result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}class z8{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));const r=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        vec4 result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}const B8={kernelName:$N,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,i=n;if(1===i.length)return X6({inputs:{x:i[0]},backend:r});if(i.length>HN().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(i.length/2),n=e({inputs:i.slice(0,t),backend:r}),a=e({inputs:i.slice(t),backend:r});return e({inputs:[n,a],backend:r})}const a=i.map((e=>e.dtype)).reduce(((e,t)=>lP(e,t))),o=i.map((e=>e.shape)),s=HN().getBool("WEBGL_PACK")?new z8(i[0].shape,o):new F8(i[0].shape,o);return r.runWebGLProgram(s,i,a)}};const W8={kernelName:eM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r,s=i.shape.length,l=xN(a,i.shape);let c=l;const u=UF(c,s);let d=i;null!=u&&(d=S8({inputs:{x:i},backend:n,attrs:{perm:u}}),c=qF(c.length,s)),VF("all",c,s);const[h,p]=BF(d.shape,c),f=f8({inputs:{x:d},backend:n,attrs:{shape:[-1,pN(p)]}}),m=b8(f,f.dtype,"all",n);let g;if(o){g=f8({inputs:{x:m},backend:n,attrs:{shape:WF(h,l)}})}else g=f8({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};const V8={kernelName:tM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r,s=i.shape.length,l=xN(a,i.shape);let c=l;const u=UF(c,s);let d=i;null!=u&&(d=S8({inputs:{x:i},backend:n,attrs:{perm:u}}),c=qF(c.length,s)),VF("any",c,s);const[h,p]=BF(d.shape,c),f=f8({inputs:{x:d},backend:n,attrs:{shape:[-1,pN(p)]}}),m=b8(f,f.dtype,"any",n);let g;if(o){g=f8({inputs:{x:m},backend:n,attrs:{shape:WF(h,l)}})}else g=f8({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};class U8{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:i,outSize:a}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];const o="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(r,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          int inIdx = ").concat(s,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(o," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}class H8{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,uN(e.length>2,(()=>"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")));const i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");const o=this.outputShape,s=o.length,l=K4(s),c=v6("coords",s);let u,d;if(1===a){d=s+1;const e=K4(d);u="\n        ".concat(e," sourceLocR = ").concat(e,"(").concat(c.join(),", 0);\n        ++").concat(c[s-1],";\n        ").concat(e," sourceLocG = ").concat(e,"(").concat(c.join(),", 0);\n        ++").concat(c[s-2],";\n        ").concat(e," sourceLocA = ").concat(e,"(").concat(c.join(),", 0);\n        --").concat(c[s-1],";\n        ").concat(e," sourceLocB = ").concat(e,"(").concat(c.join(),", 0);\n        --").concat(c[s-2],";")}else d=s,u="\n        ".concat(l," sourceLocR = coords;\n        ++").concat(c[s-1],";\n        ").concat(l," sourceLocG = coords;\n        ++").concat(c[s-2],";\n        ").concat(l," sourceLocA = coords;\n        --").concat(c[s-1],";\n        ").concat(l," sourceLocB = coords;\n        --").concat(c[s-2],";");const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],f=h.map((e=>"int "+e)),m=v6("sourceLocR",d-1).concat("inIdx.r"),g=v6("sourceLocG",d-1).concat("inIdx.g"),v=v6("sourceLocB",d-1).concat("inIdx.b"),b=v6("sourceLocA",d-1).concat("inIdx.a"),y="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(m.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(v.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),")));"),w="vec4(\n            getAChannel(".concat(m.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(v.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(b.join(),") : 0.)"),_=r?"":"\n      float getBestIndicesAChannel(".concat(f.join(),") {\n        return getChannel(getBestIndicesA(").concat(h.join(),"),\n                                          vec2(").concat(h.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(f.join(),") {\n        return getChannel(getA(").concat(h.join(),"),\n                               vec2(").concat(h.slice(-2).join(),"));\n      }\n      ").concat(_,"\n      void main() {\n        ").concat(l," coords = getOutputCoords();\n        bool hasNextCol = ").concat(c[s-1]," < ").concat(o[s-1]-1,";\n        bool hasNextRow = ").concat(c[s-2]," < ").concat(o[s-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(p,", sourceLocG").concat(p,",\n          sourceLocB").concat(p,", sourceLocA").concat(p,") * ").concat(t,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(w,";\n\n        for (int i = 0; i < ").concat(t,"; i++) {\n          inIdx = srcIdx;\n          ").concat(x,"\n          vec4 candidate = ").concat(w,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(y,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}function q8(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.shape[0],a=t.shape[1];null!=r&&(i=r.shape[0],a=r.shape[1]);const o=QB(a),s={windowSize:o,inSize:a,batchSize:i,outSize:Math.ceil(a/o)},l=new U8(s,n,null==r),c=[t];null!=r&&c.push(r);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const d=q8(e,t,n,u);return e.disposeIntermediateTensorInfo(u),d}function G8(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=null!=r?r.shape:t.shape,a=QB(i[i.length-1]),o=new H8(i,a,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(o,s,"int32");if(l.shape.length===t.shape.length){const r=G8(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function Y8(e,t,n,r){const i=[n];if(VF("arg"+r.charAt(0).toUpperCase()+r.slice(1),i,t.shape.length),!HN().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],a=e.texData.get(t.dataId);let o=t;null!==a&&a.isPacked&&(o=e.unpackTensor(t),n.push(o));const[s,l]=BF(o.shape,i),c=pN(l),u=f8({inputs:{x:o},backend:e,attrs:{shape:[-1,c]}});n.push(u);const d=q8(e,u,r);n.push(d);const h=f8({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),h}return G8(e,t,r)}const X8={kernelName:nM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a}=r;let o=xN(a,i.shape);const s=UF(o,i.shape.length);let l=i;const c=[];null!=s&&(l=S8({inputs:{x:i},backend:n,attrs:{perm:s}}),c.push(l),o=qF(o.length,l.shape.length)),VF("argMax",[o[0]],l.shape.length);const u=Y8(n,l,o[0],"max");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const K8={kernelName:rM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a}=r;let o=xN(a,i.shape);const s=UF(o,i.shape.length);let l=i;const c=[];null!=s&&(l=S8({inputs:{x:i},backend:n,attrs:{perm:s}}),c.push(l),o=qF(o.length,l.shape.length)),VF("argMin",[o[0]],l.shape.length);const u=Y8(n,l,o[0],"min");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},Z8=a8({opSnippet:C6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),J8={kernelName:iM,backendName:"webgl",kernelFunc:Z8},Q8=a8({opSnippet:C6+"return log(x + sqrt(x * x + 1.0));"}),$8={kernelName:aM,backendName:"webgl",kernelFunc:Q8},e7=a8({opSnippet:C6+"\n  return atan(x);\n"}),t7={kernelName:oM,backendName:"webgl",kernelFunc:e7},n7=o8({opSnippet:H6+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+G6+"\n  return result;\n"}),r7={kernelName:lM,backendName:"webgl",kernelFunc:n7},i7=a8({opSnippet:C6+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),a7={kernelName:sM,backendName:"webgl",kernelFunc:i7};class o7{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let v="0.0";if(f||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec2 strides = ivec2(".concat(o,", ").concat(s,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(u,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(t," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(r?i?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let b="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(b="avgValue / max(count, 1.0)");const y=4*Math.floor(a/4),x=a%4,w="\n      if (".concat(f,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n      const float initializationValue = ").concat(v,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(v,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(y,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(w,"\n          }\n\n          int xC = xCCorner + ").concat(y,";\n          if (").concat(1===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(2===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(3===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(w,"\n          }\n        }\n        setOutput(").concat(b,");\n      }\n    ")}}class s7{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideDepth,s=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let y="0.0";if(b||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(o,", ").concat(s,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(v,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(u,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(f,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(t," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(r?i?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(p," * ").concat(f," +\n                      wR * ").concat(f," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let x="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(x="avgValue / max(count, 1.0)");const w=4*Math.floor(a/4),_=a%4,k="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(o,", ").concat(s,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(v,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(u,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(k,"\n            }\n\n            int xC = xCCorner + ").concat(w,";\n            if (").concat(1===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(k,"\n            } else if (").concat(2===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(k,"\n            } else if (").concat(3===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(k,"\n            }\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}}const l7={kernelName:cM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t;M4(i,"avgPool");const{filterSize:a,strides:o,pad:s,dimRoundingMode:l}=r;uN(XL(o,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const c=FL(i.shape,a,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&fN(c.inShape,c.outShape))return X6({inputs:{x:i},backend:n});const u=new o7(c,"avg",!1);return n.runWebGLProgram(u,[i],"float32")}};const c7={kernelName:dM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{filterSize:a,strides:o,pad:s,dimRoundingMode:l,dataFormat:c}=r,u=zL(i.shape,a,o,[1,1,1],s,l,c),d=new s7(u,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}};class u7{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.top,u=l-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(s,";\n            wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(o,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class d7{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=d-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(f,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n            wD += ").concat(s,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const h7={kernelName:hM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a}=t,o=a,{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=r,d=zL(o.shape,s,l,[1,1,1],c,u),h=new d7(d);return n.runWebGLProgram(h,[i],o.dtype)}};const p7={kernelName:uM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a}=t,o=a;M4([i,a],"avgPoolGrad");const{filterSize:s,strides:l,pad:c}=r,u=FL(o.shape,s,l,1,c),d=new u7(u);return n.runWebGLProgram(d,[i],o.dtype)}};const f7={kernelName:pM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:i,b:a}=t,{transposeA:o,transposeB:s}=r;return T8({a:i,b:a,transposeA:o,transposeB:s,backend:n})}};class m7{constructor(e,t,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],eL(e,t),eL(e,n);let o="0.0";null!=r&&(eL(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let s="1.0";null!=i&&(eL(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(o,";\n        float scale = ").concat(s,";\n        float inv = scale * inversesqrt(variance + float(").concat(a,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}class g7{constructor(e,t,n,r,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],eL(e,t),eL(e,n);let o="vec4(0.0)";null!=r&&(eL(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=i&&(eL(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(o,";\n        vec4 scale = ").concat(s,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(a,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}const v7={kernelName:aj,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:i,mean:a,variance:o,offset:s,scale:l}=t;uN(a.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),uN(null==s||a.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),uN(null==l||a.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:c}=r;null==c&&(c=.001);const u=[i,a,o];let d=null;null!=s&&(d=s.shape,u.push(s));let h=null;null!=l&&(h=l.shape,u.push(l));const p=HN().getBool("WEBGL_PACK_NORMALIZATION")?new g7(i.shape,a.shape,o.shape,d,h,c):new m7(i.shape,a.shape,o.shape,d,h,c);return n.runWebGLProgram(p,u,u[0].dtype)}};class b7{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=K4(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return y7.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank);let r;const i=e.map(((e,t)=>"sourceLoc.".concat(y7[t]," = start[").concat(t,"] + coords.").concat(y7[t],";")));r="\n        ".concat(t," sourceLoc;\n        ").concat(t," coords = getOutputCoords();\n        ").concat(i.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(n,"));\n      }\n    ")}}const y7=["x","y","z","w","u","v"];class x7{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=K4(this.rank),n=v6("coords",this.rank),r=v6("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(r.slice(-2).join(),")"),a="getChannel(getSource(".concat(r.join(),"), ").concat(i,")"),o="\n      result.x = ".concat(a,";\n      if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(r[this.rank-1],";\n        result.y = ").concat(a,";\n        --").concat(r[this.rank-1],";\n      }\n    "),s=1===this.rank?"":"\n      --".concat(n[this.rank-1],";\n      if (++").concat(n[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(r[this.rank-2],";\n        result.z = ").concat(a,";\n        if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(r[this.rank-1],";\n          result.w = ").concat(a,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(t,"(").concat(e.map(((e,t)=>"start[".concat(t,"]"))).join(),");"):e.map(((e,t)=>"".concat(r[t]," = ").concat(n[t]," + start[").concat(t,"];"))).join("\n");this.userCode="\n      void main() {\n        ".concat(t," coords = getOutputCoords();\n        ").concat(t," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(o,"\n        ").concat(s,"\n        setOutput(result);\n      }\n    ")}}function w7(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{begin:a,size:o}=r,[s,l]=ML(i,a,o);if(vL(i,s,l),0===pN(l))return n.makeTensorInfo(l,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||"string"===i.dtype){const e=n.texData.get(i.dataId),t=t6(e.values,s,l,i.shape,i.dtype);return n.makeTensorInfo(l,i.dtype,t)}const{isPacked:c}=n.texData.get(i.dataId),u=EL(i.shape,s,l);if(c||!u){const e=HN().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new x7(l):new b7(l),t=[s];return n.runWebGLProgram(e,[i],i.dtype,t)}return n.uploadToGPU(i.dataId),function(e,t,n,r){const i=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),o=r.texData.get(a.dataId);Object.assign(o,i),o.refCount=1,o.shape=n,o.dtype=e.dtype;let s=NL(t,MN(e.shape));i.slice&&(s+=i.slice.flatOffset),o.slice={flatOffset:s,origDataId:i.slice&&i.slice.origDataId||e.dataId};const l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),a}(i,s,l,n)}const _7={kernelName:xD,backendName:"webgl",kernelFunc:w7},k7={kernelName:fM,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{blockShape:a,crops:o}=r;uN(i.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=a.reduce(((e,t)=>e*t)),l=eW(i.shape,a,s),c=tW(l.length,a.length),u=nW(i.shape,a,s),d=rW(o,a.length),h=iW(u,o,a.length),p=[],f=f8({inputs:{x:i},backend:n,attrs:{shape:l}}),m=S8({inputs:{x:f},backend:n,attrs:{perm:c}}),g=f8({inputs:{x:m},backend:n,attrs:{shape:u}}),v=w7({inputs:{x:g},backend:n,attrs:{begin:d,size:h}});return p.push(f),p.push(m),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}};const S7={kernelName:mM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,weights:a}=t,{size:o}=r,s=n.readSync(i.dataId),l=n.readSync(a.dataId),c=_5(s,l,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};const C7={kernelName:gM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:i}=t,a=HN().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=HN().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,i])||1===o){const e=n.texData.get(r.dataId).values,t=n.texData.get(i.dataId).values,[a,o]=S5(r.shape,i.shape,e,t,r.dtype),s=n.makeTensorInfo(o,r.dtype);return n.texData.get(s.dataId).values=a,s}let s;return s=a?new Y6("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,i.shape,!1):new q6("\n  return float(int(a.r) & int(b.r));\n",r.shape,i.shape),n.runWebGLProgram(s,[r,i],r.dtype)}};const A7={kernelName:vM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:i}=t,a=n.readSync(r.dataId),o=n.readSync(i.dataId),s=eL(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},T7=o8({opSnippet:"return float(a != b);",cpuKernelImpl:q5,dtype:"bool"}),I7={kernelName:Vj,backendName:"webgl",kernelFunc:T7};function E7(e){const{inputs:t,backend:n}=e,{input:r}=t;return X6({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const N7={kernelName:rD,backendName:"webgl",kernelFunc:E7},M7="return float(int(x));";const j7={kernelName:bM,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:i}=t,{x:a}=n,{dtype:o}=i;if("complex64"===o){if("complex64"===a.dtype)return X6({inputs:{x:a},backend:r});const t=iz(a.shape),n=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),i=Z6({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),i}if("complex64"===a.dtype){const t=E7({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(t),n}if(!SN(a.dtype,o)){const e=X6({inputs:{x:a},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:o}}if(r.shouldExecuteOnCPU([a])){const e=r.texData.get(a.dataId).values,[t,n,i]=C5(e,a.shape,a.dtype,o);return r.makeTensorInfo(t,n,i)}if("int32"===o)return function(e,t){const n=new S6(e.shape,M7),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===o){const e=r.makeTensorInfo([],"bool",_N("bool",1)),t=T7({inputs:{a:a,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}},D7="return ceil(x);",R7=a8({opSnippet:D7,packedOpSnippet:D7,cpuKernelImpl:A5}),P7={kernelName:yM,backendName:"webgl",kernelFunc:R7};class O7{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class L7{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const F7={kernelName:xM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{clipValueMin:a,clipValueMax:o}=r;let s;s=HN().getBool("WEBGL_PACK_CLIP")?new L7(i.shape):new O7(i.shape);const l=[[a],[o]];return n.runWebGLProgram(s,[i],i.dtype,l)}};class z7{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function B7(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const W7={kernelName:_M,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,i=n.texData.get(r.dataId),a=new z7(r.shape),o=[B7(r,i.complexTensorInfos.real),B7(r,i.complexTensorInfos.imag)];return n.runWebGLProgram(a,o,o[0].dtype)}};class V7{constructor(e){this.outputShape=[],this.outputShape=qB(e,1),this.variableNames=e.map(((e,t)=>"T".concat(t)));const t=new Array(e.length-1);t[0]=e[0][1];for(let a=1;a<t.length;a++)t[a]=t[a-1]+e[a][1];const n=["if (yC < ".concat(t[0],") setOutput(getT0(yR, yC));")];for(let a=1;a<t.length;a++){const e=t[a-1];n.push("else if (yC < ".concat(t[a],") ")+"setOutput(getT".concat(a,"(yR, yC-").concat(e,"));"))}const r=t.length,i=t[t.length-1];n.push("else setOutput(getT".concat(r,"(yR, yC-").concat(i,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(n.join("\n        "),"\n      }\n    ")}}class U7{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=qB(e,t);const n=this.outputShape,r=n.length,i=K4(r),a=v6("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>"T".concat(t)));const s=new Array(e.length-1);s[0]=e[0][t];for(let f=1;f<s.length;f++)s[f]=s[f-1]+e[f][t];const l=o[t],c=o.slice(-2),u=o.join();let d="if (".concat(l," < ").concat(s[0],") {\n        return getChannel(\n            getT0(").concat(u,"), vec2(").concat(c.join(),"));\n        }");for(let f=1;f<s.length;f++){const e=s[f-1];d+="\n        if (".concat(l," < ").concat(s[f],"  && ").concat(l," >= ").concat(s[f-1],") {\n          return getChannel(\n            getT").concat(f,"(").concat(H7(o,l,e),"),\n            vec2(").concat(H7(c,l,e),"));\n        }")}const h=s.length,p=s[s.length-1];d+="\n        return getChannel(\n          getT".concat(h,"(").concat(H7(o,l,p),"),\n          vec2(").concat(H7(c,l,p),"));"),this.userCode="\n      float getValue(".concat(o.map((e=>"int "+e)),") {\n        ").concat(d,"\n      }\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(a,"), 0., 0., 0.);\n\n        ").concat(a[r-1]," = ").concat(a[r-1]," + 1;\n        if (").concat(a[r-1]," < ").concat(n[r-1],") {\n          result.g = getValue(").concat(a,");\n        }\n\n        ").concat(a[r-2]," = ").concat(a[r-2]," + 1;\n        if (").concat(a[r-2]," < ").concat(n[r-2],") {\n          result.a = getValue(").concat(a,");\n        }\n\n        ").concat(a[r-1]," = ").concat(a[r-1]," - 1;\n        if (").concat(a[r-2]," < ").concat(n[r-2]," &&\n            ").concat(a[r-1]," < ").concat(n[r-1],") {\n          result.b = getValue(").concat(a,");\n        }\n        setOutput(result);\n      }\n    ")}}function H7(e,t,n){const r=e.indexOf(t),i=e.map(((e,t)=>t===r?"".concat(e," - ").concat(n):e));return i.join()}function q7(e){const{inputs:t,backend:n}=e,{input:r}=t;return X6({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const G7={kernelName:hj,backendName:"webgl",kernelFunc:q7};function Y7(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>E7({inputs:{input:e},backend:n}))),i=e.map((e=>q7({inputs:{input:e},backend:n}))),a=Y7(r,t,n),o=Y7(i,t,n),s=Z6({inputs:{real:a,imag:o},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),i.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),s}let i=n.shouldExecuteOnCPU(e);if("string"===r&&(i=!0),i){const i=e.map((e=>{const r=pN(e.shape.slice(t));return f8({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),a=i.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),o=qB(i.map((e=>e.shape)),1),s=1===i[0].shape[0],l=T5(a,o,r,s),c=qB(e.map((e=>e.shape)),t),u=n.makeTensorInfo(c,r,l);return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const a=e.filter((e=>pN(e.shape)>0)),o=HN().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(1===a.length){const t=o?new S6(e[0].shape,M6):new F6(e[0].shape,M6);return n.runWebGLProgram(t,e,r)}const s=HN().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>s){const e=[];for(let i=0;i<a.length;i+=s){const r=a.slice(i,i+s);e.push(Y7(r,t,n))}const r=Y7(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(o){const e=new U7(a.map((e=>e.shape)),t);return n.runWebGLProgram(e,a,r)}const{tensors2D:l,outShape:c}=function(e,t,n){const r=qB(e.map((e=>e.shape)),t),i=e.map((e=>f8({inputs:{x:e},attrs:{shape:[-1,pN(e.shape.slice(t))]},backend:n})));return{tensors2D:i,outShape:r}}(a,t,n),u=new V7(l.map((e=>e.shape))),d=n.runWebGLProgram(u,l,r);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const h=f8({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),h}function X7(e){const{inputs:t,backend:n,attrs:r}=e,{axis:i}=r,a=xN(i,t[0].shape)[0];HB(t.map((e=>e.shape)),a);const o=qB(t.map((e=>e.shape)),a);if(0===pN(o))return n.makeTensorInfo(o,t[0].dtype,[]);const s=t.filter((e=>pN(e.shape)>0));return 1===s.length?X6({inputs:{x:s[0]},backend:n}):Y7(s,a,n)}const K7={kernelName:kM,backendName:"webgl",kernelFunc:X7};class Z7{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,o=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,v=m?2:3,b=m?3:1;let y="",x="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(y,"\n\n      const ivec2 strides = ivec2(").concat(s,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(a,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(v,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===f,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(2===f,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===f,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}}class J7{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,d=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(a,", ").concat(o,");\n      const ivec3 pads = ivec3(").concat(t,", ").concat(n,", ").concat(r,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(u,"; wF++) {\n          int xF = xFCorner + wF * ").concat(s,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===f,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(2===f,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===f,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Q7{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=n5(this.outputShape.length);const a=e.padInfo.left,o=e.strideWidth,s=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,u=c;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<c;m++)d+="\n           vec4 xTexelC".concat(2*m,";\n           int xTexelC").concat(2*m,"Ready;\n           vec4 xTexelC").concat(2*m+1,";\n           int xTexelC").concat(2*m+1,"Ready;\n           vec4 xC").concat(m,";");d+="\n     for (int r = 0; r < ".concat(l,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let m=0;m<c;m++)d+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(d+="\n           xC = xCCorner + ".concat(t*s,";\n           "),1===o){if(t<c&&(a%2===1?(d+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n               "),d+=1===s&&t>0?"\n                 xC".concat(t," = vec4(xTexelC").concat(t-2,".zw, xTexelC").concat(t,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(t," = vec4(previous.zw, xTexelC").concat(t,".xy);\n                   } else {\n                     xC").concat(t," = vec4(0.0, 0.0, xTexelC").concat(t,".xy);\n                   }\n                   ")):d+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xC").concat(t," = xTexelC").concat(t,";\n                 "),t+1<c)){const e=a%2===0?lN(s):s;s%2===0&&a%2===1||s%2!==0&&a%2!==1?(d+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(e,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                     xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(t+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(t+1,"Ready = 1;\n                   }\n                   "),d+=s>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(t+1," = vec4(previous.zw, xTexelC").concat(t+1,".xy);\n                     } else {\n                      xC").concat(t+1," = vec4(0.0, 0.0, xTexelC").concat(t+1,".xy);\n                     }\n                     "):"\n                     xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".xy);\n                     ")):d+=1===e?"\n                     xC".concat(t+1," = xTexelC").concat(t,";\n                     "):"\n                     xCOffset = xC + ".concat(e,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                       xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(t+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(t+1,"Ready = 1;\n                     }\n\n                     xC").concat(t+1," = xTexelC").concat(t+1,";\n                     ")}}else t<c&&(a%2===1?(d+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n               "),t+1<c&&(d+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(t+1," = vec4(xTexelC").concat(t+1,".xy, final.xy);\n                 "))):(d+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(\n                   xTexelC").concat(t,".xy, xTexelC").concat(t+1,".xy);\n               "),t+1<c&&(d+="\n                   xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n                 "))));t<c&&(d+="\n             wTexel = getW(r, ".concat(t,", d1, d2);\n             dotProd += xC").concat(t,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(t,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),t+1<c&&(d+="\n               wTexel = getW(r, ".concat(t+1,", d1, d2);\n               dotProd += xC").concat(t+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(t+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let h="",p="";n&&(h=r?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(n,"\n         }"):i?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(n,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(n,"\n         }"),p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(h,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(d,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(f,"\n         ").concat(p,"\n         setOutput(result);\n       }\n     ")}}class $7{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=n5(this.outputShape.length);const{dataFormat:n}=t,r=D4(),i="channelsLast"===n,a=i?1:2,o=i?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let l="";for(let c=0;c<=1;c++)for(let e=0;e<=1;e++)l+="\n          blockIndex = rc.z + ".concat(e,";\n          pos = rc.y + ").concat(c,";\n\n          ").concat(s,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(a,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(o,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(i,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+e,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+e,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(l,"\n\n        ").concat(r.output," = result;\n      }\n    ")}}function e9(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function t9(e){let{x:t,filter:n,convInfo:r,backend:i,bias:a=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}=e;const c=t.shape,u=i.texData.get(t.dataId),d=r.inChannels,h=c[0]*c[1]*c[2],p=r.outChannels,f="channelsLast"===r.dataFormat,m=!1;let g;const v=[];if(null!=o){const e=e9(o.shape,f);null!=e&&(o=f8({inputs:{x:o},backend:i,attrs:{shape:e}}),v.push(o))}if(null!=a){const e=e9(a.shape,f);null!=e&&(a=f8({inputs:{x:a},backend:i,attrs:{shape:e}}),v.push(a))}if(!((1===h||1===p)&&d>A8)&&u.isPacked&&f&&null!=u.texture&&c[2]%2!==0&&fN(u.shape.slice(-3),c.slice(-3))){const e=c[0]*c[1]*(c[2]+1),d={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},h=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,uN(S4(u.shape,d.shape),(()=>"packed reshape ".concat(u.shape," to ").concat(d.shape," isn't free")));const p=f8({inputs:{x:n},backend:i,attrs:{shape:[1,r.inChannels,r.outChannels]}});v.push(p);const f=T8({a:d,b:p,backend:i,transposeA:false,transposeB:m,bias:a,activation:l,preluActivationWeights:o,leakyreluAlpha:s}),b=i.texData.get(f.dataId);uN(b.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=h,b.shape=r.outShape,g=X6({inputs:{x:f},backend:i}),g.shape=r.outShape,v.push(f)}else{const e=r.outHeight*r.outWidth,c=f8({inputs:{x:t},backend:i,attrs:{shape:f?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),u=f8({inputs:{x:n},backend:i,attrs:{shape:[1,r.inChannels,r.outChannels]}}),d=T8({a:f?c:u,b:f?u:c,transposeA:!f,transposeB:m,backend:i,bias:a,activation:l,preluActivationWeights:o,leakyreluAlpha:s});g=f8({inputs:{x:d},backend:i,attrs:{shape:r.outShape}}),v.push(c),v.push(u),v.push(d)}for(const b of v)i.disposeIntermediateTensorInfo(b);return g}function n9(e){let{x:t,filter:n,convInfo:r,backend:i,bias:a=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}=e;const{filterWidth:c,filterHeight:u,inChannels:d,outWidth:h,outHeight:p,dataFormat:f}=r,m="channelsLast"===f,g=c*u*d,v=p*h,b=[r.batchSize,g,v],y=[];if(null!=o){const e=e9(o.shape,m);null!=e&&(o=f8({inputs:{x:o},backend:i,attrs:{shape:e}}),y.push(o))}if(null!=a){const e=e9(a.shape,m);null!=e&&(a=f8({inputs:{x:a},backend:i,attrs:{shape:e}}),y.push(a))}const x=f8({inputs:{x:n},backend:i,attrs:{shape:[1,g,pN(n.shape)/g]}});y.push(x);const w=new $7(b,r),_=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],k=i.runWebGLProgram(w,[t],"float32",_),S=f8({inputs:{x:k},backend:i,attrs:{shape:b}});y.push(k),y.push(S);const C=null!=a,A=null!=o,T="leakyrelu"===l,I=l?s8(l,!0):null,E=new l8(m?S.shape:x.shape,m?x.shape:S.shape,m?[r.batchSize,v,r.outChannels]:[r.batchSize,r.outChannels,v],!0,!1,C,I,A,T),N=m?[S,x]:[x,S];if(a&&N.push(a),A&&N.push(o),T){const e=i.makeTensorInfo([],"float32",MR(s,"float32"));N.push(e),y.push(e)}const M=i.runWebGLProgram(E,N,"float32"),j=f8({inputs:{x:M},backend:i,attrs:{shape:r.outShape}});y.push(M);for(const D of y)i.disposeIntermediateTensorInfo(D);return j}const r9={kernelName:SM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dataFormat:l,dilations:c,dimRoundingMode:u}=r,d=ZL(l),h=BL(i.shape,a.shape,o,c,s,u,!1,d);let p;if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(h.strideWidth<=2&&"channelsLast"===d&&HN().getBool("WEBGL_EXP_CONV")){const e=new Q7(h),t=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];p=n.runWebGLProgram(e,[i,a],"float32",t)}else if(HN().getBool("WEBGL_CONV_IM2COL"))p=n9({x:i,filter:a,convInfo:h,backend:n});else{const e=new Z7(h);p=n.runWebGLProgram(e,[i,a],"float32")}else p=t9({x:i,filter:a,convInfo:h,backend:n});const f=f8({inputs:{x:p},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class i9{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(a?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class a9{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=a?1:2,c=a?2:3,u=a?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(u,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(a,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class o9{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(t," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class s9{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(s,", ").concat(l,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(t,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(t," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(n,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(n," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(r,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(r," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const l9={kernelName:CM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,dy:a}=t,{strides:o,pad:s,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,d=ZL(l),h=BL(i.shape,u,o,1,s,c,!1,d),p=new i9(h);return n.runWebGLProgram(p,[i,a],"float32")}};class c9{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=n5(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,i=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(r,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}const u9={kernelName:AM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,filter:a}=t,{inputShape:o,strides:s,pad:l,dataFormat:c,dimRoundingMode:u}=r,d=ZL(c),h=BL(o,a.shape,s,1,l,u,!1,d);if(HN().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[h.strideHeight,h.strideWidth]],t=new c9(h);return n.runWebGLProgram(t,[i,a],"float32",e)}{const e=new a9(h);return n.runWebGLProgram(e,[i,a],"float32")}}};const d9={kernelName:TM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dilations:l}=r,c=WL(i.shape,a.shape,o,l,s),u=new J7(c);return n.runWebGLProgram(u,[i,a],"float32")}};const h9={kernelName:IM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,dy:a}=t,{strides:o,pad:s,filterShape:l}=r,c=WL(i.shape,l,o,1,s),u=new o9(c);return n.runWebGLProgram(u,[i,a],"float32")}};const p9={kernelName:EM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,filter:a}=t,{pad:o,strides:s,inputShape:l}=r,c=WL(l,a.shape,s,1,o),u=new s9(c);return n.runWebGLProgram(u,[i,a],"float32")}},f9=a8({opSnippet:i8+"\n  return cos(x);\n",packedOpSnippet:"\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(G6,"\n  return result;\n")}),m9={kernelName:NM,backendName:"webgl",kernelFunc:f9},g9=a8({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),v9={kernelName:MM,backendName:"webgl",kernelFunc:g9};class b9{constructor(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,o,s,l]=e,[c]=t,[u,d]=n;this.outputShape=[c,u,d,l];const h="bilinear"===r?1:0,[p,f]=["".concat(o-1,".0"),"".concat(s-1,".0")],[m,g,v]=u>1?["".concat((o-1)/(u-1)),"(y2-y1) * height_ratio","y1*".concat(p," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(p)],[b,y,x]=d>1?["".concat((s-1)/(d-1)),"(x2-x1) * width_ratio","x1*".concat(f," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(f)];this.userCode="\n      const float height_ratio = float(".concat(m,");\n      const float width_ratio = float(").concat(b,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(a,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(y,";\n\n        float in_y = ").concat(v,";\n        if( in_y < 0.0 || in_y > ").concat(p," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(x,";\n        if( in_x < 0.0 || in_x > ").concat(f," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(h," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}const y9={kernelName:RM,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:i,boxes:a,boxInd:o}=t,{cropSize:s,method:l,extrapolationValue:c}=r,u=new b9(i.shape,a.shape,s,l,c);return n.runWebGLProgram(u,[i,a,o],"float32")}};var x9;!function(e){e.Prod="*",e.Sum="+"}(x9||(x9={}));class w9{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,a=this.op===x9.Prod?"1.0":"0.0",o=n?a:"getX(".concat(_9(i,"coords",this.op),")"),s=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=r?"end != ".concat(s-1):"end != 0",c=r?"end + 1":"end - 1"):(l=r?"end + pow2 < ".concat(s):"end >= pow2",c=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(K4(i)," coords = getOutputCoords();\n        int end = ").concat(k9(i,"coords",this.op),";\n        float val = ").concat(o,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(l,") {\n          int idx = ").concat(c,";\n          ").concat(k9(i,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(_9(i,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function _9(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function k9(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function S9(e,t,n,r,i,a){const o=t.shape.length,s=UF([r],o);let l=t;null!=s&&(l=S8({inputs:{x:t},backend:n,attrs:{perm:s}}));const c=qF(1,o)[0];if(c!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));const u=l.shape[c];let d=X6({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const t=new w9(e,l.shape,!1,a),r=[[h]],i=d;d=n.runWebGLProgram(t,[d],d.dtype,r),n.disposeIntermediateTensorInfo(i)}if(i){const t=new w9(e,l.shape,i,a),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=s){const e=S8({inputs:{x:d},backend:n,attrs:{perm:HF(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}const C9={kernelName:jM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,exclusive:o,reverse:s}=r;return S9(x9.Prod,i,n,a,o,s)}};const A9={kernelName:DM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,exclusive:o,reverse:s}=r;return S9(x9.Sum,i,n,a,o,s)}};const T9={kernelName:PM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,weights:a}=t,{size:o,binaryOutput:s}=r;if(1===i.shape.length){const e=n.readSync(i.dataId),t=n.readSync(a.dataId),r=_5(e,t,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,r)}if(2===i.shape.length){const e=n.bufferSync(i),t=n.bufferSync(a),r=k5(e,t,o,s);return n.makeTensorInfo(r.shape,a.dtype,r.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}};class I9{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(t,";\n      int offset_h = imod(h, ").concat(t,");\n      int in_w = w / ").concat(t,";\n      int offset_w = imod(w, ").concat(t,");\n      int offset_d = (offset_h * ").concat(t," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const E9={kernelName:OM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{blockSize:a,dataFormat:o}=r,s=i.shape[0],l=("NHWC"===o?i.shape[1]:i.shape[2])*a,c=("NHWC"===o?i.shape[2]:i.shape[3])*a,u=("NHWC"===o?i.shape[3]:i.shape[1])/(a*a),d=new I9("NHWC"===o?[s,l,c,u]:[s,u,l,c],a,o);return n.runWebGLProgram(d,[i],i.dtype)}};class N9{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=n5(this.outputShape.length);const a=e.filterHeight,o=e.filterWidth,s=e.outChannels/e.inChannels;let l="",c="";n&&(l=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(l,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(a,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(u,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")}}class M9{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=n5(this.outputShape.length);const a=e.outChannels/e.inChannels,o=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let h="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)h+="\n          vec4 xTexelC".concat(2*g,";\n          int xTexelC").concat(2*g,"Ready;\n          vec4 xTexelC").concat(2*g+1,";\n          int xTexelC").concat(2*g+1,"Ready;\n          vec4 xC").concat(g,";");h+="\n    for (int r = 0; r < ".concat(c,"; r++) {\n      ");for(let g=0;g<u;g++)h+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");h+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(h+="\n          xC = xCCorner + ".concat(e*l,";\n          "),1===s){if(e<u&&(o%2===1?(h+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n              "),h+=1===l&&e>0?"\n                xC".concat(e," = vec4(xTexelC").concat(e-2,".zw, xTexelC").concat(e,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(e," = vec4(previous.zw, xTexelC").concat(e,".xy);\n                  } else {\n                    xC").concat(e," = vec4(0.0, 0.0, xTexelC").concat(e,".xy);\n                  }\n                  ")):h+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xC").concat(e," = xTexelC").concat(e,";\n                "),e+1<u)){const t=o%2===0?lN(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(h+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(t,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                    xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(e+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(e+1,"Ready = 1;\n                  }\n                  "),h+=l>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(e+1," = vec4(previous.zw, xTexelC").concat(e+1,".xy);\n                    } else {\n                     xC").concat(e+1," = vec4(0.0, 0.0, xTexelC").concat(e+1,".xy);\n                    }\n                    "):"\n                    xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".xy);\n                    ")):h+=1===t?"\n                    xC".concat(e+1," = xTexelC").concat(e,";\n                    "):"\n                    xCOffset = xC + ".concat(t,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                      xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(e+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(e+1,"Ready = 1;\n                    }\n\n                    xC").concat(e+1," = xTexelC").concat(e+1,";\n                    ")}}else e<u&&(o%2===1?(h+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n              "),e+1<u&&(h+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(e+1," = vec4(xTexelC").concat(e+1,".xy, final.xy);\n                "))):(h+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(\n                  xTexelC").concat(e,".xy, xTexelC").concat(e+1,".xy);\n              "),e+1<u&&(h+="\n                  xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n                "))));e<u&&(h+="\n            wTexel = getW(r, ".concat(e,", d1, q);\n            dotProd += xC").concat(e," * vec4(wTexel.xz, wTexel.xz);\n          "),e+1<u&&(h+="\n              wTexel = getW(r, ".concat(e+1,", d1, q);\n              dotProd += xC").concat(e+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}h+="\n    }\n  ",h+="\n      }\n    ";let p="",f="";n&&(p=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):i?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(n,"\n        }"),f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(p,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(a,";\n        int q = d2 - d1 * ").concat(a,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(h,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(m,"\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}const j9={kernelName:LM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dilations:l,dimRoundingMode:c}=r;let u=l;null==u&&(u=[1,1]),uN(XL(o,u),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(u,"'")));const d=BL(i.shape,a.shape,o,u,s,c,!0);let h;h=HN().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new M9(d):new N9(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[i,a],"float32",p)}};class D9{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(a," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class R9{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(s,"; dm++) {\n              int d2 = d1 * ").concat(s," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const P9={kernelName:FM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,dy:a}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:c,filterShape:u}=r,d=BL(i.shape,u,o,s,l,c,!0),h=new D9(d);return n.runWebGLProgram(h,[i,a],"float32")}};const O9={kernelName:zM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,filter:a}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:c,inputShape:u}=r,d=BL(u,a.shape,o,s,l,c,!0),h=new R9(d);return n.runWebGLProgram(h,[i,a],"float32")}};class L9{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const F9={kernelName:BM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,i=[...r.shape,...r.shape],a=pN(r.shape),o=f8({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new L9(a),l=n.runWebGLProgram(s,[o],o.dtype),c=f8({inputs:{x:l},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}};class z9{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:i,strideWidth:a,filterHeight:o,filterWidth:s,dilationHeight:l,dilationWidth:c}=e,{top:u,left:d}=r;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(a,");\n      const ivec2 pads = ivec2(").concat(u,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(o,"; h++) {\n          int hIn = hBeg + h * ").concat(l,";\n\n          if (hIn >= 0 && hIn < ").concat(t,") {\n            for (int w = 0; w < ").concat(s,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(n,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}const B9={kernelName:WM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a}=t,{strides:o,pad:s,dilations:l}=r,c=LL(i.shape,a.shape,o,s,"NHWC",l);let u;const d=new z9(c);u=n.runWebGLProgram(d,[i,a],"float32");const h=f8({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),h}};const W9={kernelName:GM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:i}=r,a=t,{allDims:o,summedDims:s,idDims:l}=EW(i,a.length);MW(o.length,l,a);const{path:c,steps:u}=jW(s,l),d=u.length;let h=null,p=o.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=NW(p,l[e]);let i;DW(t)?i=a[e]:(i=S8({inputs:{x:a[e]},backend:n,attrs:{perm:t}}),f.push(i));const o=i.shape.slice();for(let e=0;e<r.length;++e)o.splice(r[e],0,1);fN(i.shape,o)||(i=f8({inputs:{x:i},backend:n,attrs:{shape:o}}),f.push(i)),null===h?h=i:(h=h8({inputs:{a:i,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=_8({inputs:{x:h},backend:n,attrs:{axis:c[m]-(o.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}},V9=a8({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),U9={kernelName:YM,backendName:"webgl",kernelFunc:V9},H9={kernelName:XM,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:i}=t,a=HN().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Y6("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,i.shape):new q6("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,i.shape);return n.runWebGLProgram(a,[r,i],r.dtype)}},q9=o8({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:I5}),G9={kernelName:ZM,backendName:"webgl",kernelFunc:q9},Y9=a8({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(dW,";\n  float a1 = ").concat(hW,";\n  float a2 = ").concat(pW,";\n  float a3 = ").concat(fW,";\n  float a4 = ").concat(mW,";\n  float a5 = ").concat(gW,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),X9={kernelName:KM,backendName:"webgl",kernelFunc:Y9},K9=a8({opSnippet:i8+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:E5,dtype:"float32"}),Z9={kernelName:JM,backendName:"webgl",kernelFunc:K9};function J9(e){const{inputs:t,attrs:n,backend:r}=e,{dim:i}=n,{input:a}=t,o=a.shape.length,s=a.shape.slice();let l=i;return i<0&&(uN(-(o+1)<=i,(()=>"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]"))),l=o+i+1),s.splice(l,0,1),f8({inputs:{x:a},backend:r,attrs:{shape:s}})}const Q9={kernelName:QM,backendName:"webgl",kernelFunc:J9},$9="return exp(x) - 1.0;",eee=a8({opSnippet:$9,packedOpSnippet:$9,cpuKernelImpl:N5}),tee={kernelName:$M,backendName:"webgl",kernelFunc:eee};class nee{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const i=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),a=n?"".concat(r,".0"):"1.0";let o;if("real"===e)o="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));o="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(i,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(o,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(r,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(a,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}function ree(e,t,n){const r=n.texData.get(e.dataId),i=pN(e.shape),a=e.shape[e.shape.length-1],o=f8({inputs:{x:e},backend:n,attrs:{shape:[i/a,a]}}),s=o.shape,l=new nee("real",s,t),c=new nee("imag",s,t),u=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,u,"float32"),h=n.runWebGLProgram(c,u,"float32"),p=Z6({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const f=f8({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(p),f}const iee={kernelName:ej,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return ree(r,!1,n)}};class aee{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function oee(e){const{backend:t,attrs:n}=e,{shape:r,value:i}=n;let{dtype:a}=n;if(a=a||IN(i),"string"===a){const e=kN(a,pN(r));return e.fill(i),t.makeTensorInfo(r,a,e)}{const e=new aee(r,i),n=[[i]];return t.runWebGLProgram(e,[],a,n)}}const see={kernelName:tj,backendName:"webgl",kernelFunc:oee};class lee{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(t," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(t,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const cee={kernelName:nj,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,i=n,a=new lee(r.shape);return i.runWebGLProgram(a,[r],r.dtype)}},uee="return floor(x);",dee=a8({opSnippet:uee,packedOpSnippet:uee,cpuKernelImpl:M5}),hee={kernelName:rj,backendName:"webgl",kernelFunc:dee},pee=o8({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),fee={kernelName:ij,backendName:"webgl",kernelFunc:pee};class mee{constructor(e){this.variableNames=["A"];const t=D4(),[n,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(r,".0, ").concat(n,".0);\n\n        vec4 values = ").concat(t.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}class gee{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=D4(),[n,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(r,".0, ").concat(n,".0);\n            vec4 values = ").concat(t.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}const vee={kernelName:tR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:i}=t;const{numChannels:a}=r,o="undefined"!==typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement,[l,c]=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],u=[c,l],d=[c,l,a];if(s||o){const e=HN().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=bee&&e===yee||(yee=e,bee=document.createElement("canvas").getContext("2d",{willReadFrequently:yee})),bee.canvas.width=l,bee.canvas.height=c,bee.drawImage(i,0,0,l,c),i=bee.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=t4.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),i);const p=HN().getBool("WEBGL_PACK")?new gee(d):new mee(d),f=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),f}};let bee,yee=HN().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const xee={kernelName:iR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a,bias:o,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=r,m=ZL(u),g=BL(i.shape,a.shape,l,d,c,h,!1,m);let v;const b=[],y=null!=o,x=null!=s,w="leakyrelu"===p,_=()=>{const e=[i,a],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=f8({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(y&&e.push(t(o,u)),x&&e.push(t(s,u)),w){const t=n.makeTensorInfo([],"float32",MR(f,"float32"));e.push(t),b.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&HN().getBool("WEBGL_EXP_CONV")){const e=p?s8(p,!0):null,t=new Q7(g,y,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],i=_();v=n.runWebGLProgram(t,i,"float32",r)}else if(HN().getBool("WEBGL_CONV_IM2COL"))v=n9({x:i,filter:a,convInfo:g,backend:n,bias:o,activation:p,preluActivationWeights:s,leakyreluAlpha:f});else{const e=p?s8(p,!1):null,t=new Z7(g,y,e,x,w),r=_();v=n.runWebGLProgram(t,r,"float32")}else v=t9({x:i,filter:a,convInfo:g,backend:n,bias:o,activation:p,preluActivationWeights:s,leakyreluAlpha:f});const k=f8({inputs:{x:v},backend:n,attrs:{shape:g.outShape}});return b.push(v),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),k}};const wee={kernelName:aR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:a,bias:o,preluActivationWeights:s}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,f=[];let m=u;null==m&&(m=[1,1]),uN(XL(l,m),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'")));const g=BL(i.shape,a.shape,l,m,c,d,!0),v=HN().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,b=h?s8(h,v):null,y=[i,a],x=null!=o,w=null!=s,_="leakyrelu"===h;if(x&&y.push(o),w&&y.push(s),_){const e=n.makeTensorInfo([],"float32",MR(p,"float32"));y.push(e),f.push(e)}let k;k=v?new M9(g,x,b,w,_):new N9(g,x,b,w,_);const S=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],C=n.runWebGLProgram(k,y,"float32",S);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),C}};class _ee{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const i=K4(n.length);let a="\n    int index;";for(let o=0;o<this.sliceDim;o++)a+="\n          index = round(getIndices(coords[0], ".concat(o,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[o],";\n          flattenIndex += index * ").concat(this.strides[o],";");this.userCode="\n         void main() {\n          ".concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(a,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}const kee={kernelName:sj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:i}=t,a=i.shape,o=a[a.length-1],s=pN(r.shape),[l,c,u,d]=aW(r,i),h=f8({inputs:{x:i},backend:n,attrs:{shape:[c,o]}}),p=f8({inputs:{x:r},backend:n,attrs:{shape:[pN(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,i])||"string"===r.dtype){const e=n.readSync(i.dataId),t=n.bufferSync(r),a=j5(e,t,r.dtype,c,o,u,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,a.values)}const f=new _ee(o,d,[c,u],r.shape),m=n.runWebGLProgram(f,[p,h],p.dtype),g=f8({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class See{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=K4(this.rank),r=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let i=0;i<e.length;i++)2===i?r.push("index"):r.push("".concat(n[i]));return r.join()}(e);this.userCode="\n      void main() {\n        ".concat(n," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(r,"));\n      }\n    ")}}function Cee(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,indices:a}=t,{axis:o,batchDims:s}=r,l=xN(o,i.shape)[0];if(HN().get("DEBUG")){const e=n.readSync(a.dataId),t=i.shape[l];for(let n=0;n<e.length;++n){const r=e[n];uN(r<=t-1&&r>=0,(()=>"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")))}}const c=ZW(i,a,l,s),u=pN(a.shape),d=[],h=f8({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=f8({inputs:{x:a},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(h),d.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([i,a])||"string"===i.dtype){const e=n.bufferSync(p),t=n.bufferSync(h),r=D5(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c.outputShape,r.dtype,r.values)}const m=new See(h.shape,f),g=n.runWebGLProgram(m,[h,p],h.dtype);d.push(g);const v=f8({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}const Aee={kernelName:oj,backendName:"webgl",kernelFunc:Cee},Tee=o8({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:R5,dtype:"bool"}),Iee={kernelName:lj,backendName:"webgl",kernelFunc:Tee},Eee=o8({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:P5}),Nee={kernelName:cj,backendName:"webgl",kernelFunc:Eee};const Mee={kernelName:dj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return ree(r,!0,n)}},jee=a8({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Dee={kernelName:pj,backendName:"webgl",kernelFunc:jee},Ree=a8({opSnippet:"return float(isinf(x));",dtype:"bool"}),Pee={kernelName:fj,backendName:"webgl",kernelFunc:Ree},Oee=a8({opSnippet:"return float(isnan(x));",dtype:"bool"}),Lee={kernelName:mj,backendName:"webgl",kernelFunc:Oee},Fee=o8({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:O5,dtype:"bool"}),zee={kernelName:vj,backendName:"webgl",kernelFunc:Fee},Bee=o8({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:L5,dtype:"bool"}),Wee={kernelName:bj,backendName:"webgl",kernelFunc:Bee};const Vee={kernelName:yj,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:i,num:a}=n,o=F5(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Uee=a8({opSnippet:i8+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:z5}),Hee={kernelName:xj,backendName:"webgl",kernelFunc:Uee},qee=a8({opSnippet:i8+"\n  return log(1.0 + x);\n"}),Gee={kernelName:wj,backendName:"webgl",kernelFunc:qee},Yee=o8({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Xee={kernelName:_j,backendName:"webgl",kernelFunc:Yee},Kee=a8({opSnippet:"return float(!(x >= 1.0));"}),Zee={kernelName:kj,backendName:"webgl",kernelFunc:Kee},Jee=o8({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Qee={kernelName:Sj,backendName:"webgl",kernelFunc:Jee};class $ee{constructor(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];const a=t,o=e[3]-1;let s;this.outputShape=e;const l="float(".concat(n,") + float(").concat(r,") * sum");s=.5===i?"inversesqrt(".concat(l,")"):1===i?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(a,"; j <= ").concat(a,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(o,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(s,";\n        setOutput(val);\n      }\n    ")}}class ete{constructor(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=t,o=e[3]-1;let s;this.outputShape=e;const l="float(".concat(n,") + float(").concat(r,") * sum");s=.5===i?"inversesqrt(".concat(l,")"):1===i?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(a,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(a,"; j <= ").concat(a,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(o,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(s,";\n        setOutput(result);\n      }\n    ")}}const tte={kernelName:Cj,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{depthRadius:a,bias:o,alpha:s,beta:l}=r,c=HN().getBool("WEBGL_PACK_NORMALIZATION")?new ete(i.shape,a,o,s,l):new $ee(i.shape,a,o,s,l);return n.runWebGLProgram(c,[i],i.dtype)}};class nte{constructor(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(t,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(t," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(r,") * norm + float(").concat(n,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(r,")\n                * float(").concat(i,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}const rte={kernelName:Aj,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:i,y:a,dy:o}=t,{depthRadius:s,bias:l,alpha:c,beta:u}=r,d=new nte(i.shape,s,l,c,u);return n.runWebGLProgram(d,[i,a,o],i.dtype)}};function ite(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{reductionIndices:a,keepDims:o}=r,s=i.shape.length,l=xN(a,i.shape);let c=l;const u=UF(c,s),d=null!=u,h=n.shouldExecuteOnCPU([i]);let p=i;if(d){if(h){const e=n.texData.get(p.dataId).values,t=new Array(s);for(let n=0;n<t.length;n++)t[n]=i.shape[u[n]];const r=f6(e,i.shape,i.dtype,u,t);p=n.makeTensorInfo(t,i.dtype);n.texData.get(p.dataId).values=r}else p=w8(i,u,n);c=qF(c.length,s)}VF("max",c,s);const[f,m]=BF(p.shape,c);let g,v=f;if(o&&(v=WF(f,l)),h){const e=n.texData.get(p.dataId).values,t=B5(e,pN(m),v,i.dtype);g=n.makeTensorInfo(v,i.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const i=pN(t),a=f8({inputs:{x:e},attrs:{shape:[pN(e.shape)/i,i]},backend:r}),o=b8(a,e.dtype,"max",r),s=f8({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(p,m,v,n);return d&&n.disposeIntermediateTensorInfo(p),g}const ate={kernelName:Tj,backendName:"webgl",kernelFunc:ite},ote=o8({opSnippet:H6+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+G6+"\n  return result;\n",cpuKernelImpl:W5}),ste={kernelName:Ij,backendName:"webgl",kernelFunc:ote};const lte={kernelName:Ej,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t;M4(i,"maxPool");const{filterSize:a,strides:o,pad:s,dimRoundingMode:l}=r;uN(XL(o,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")));const c=FL(i.shape,a,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&fN(c.inShape,c.outShape))return X6({inputs:{x:i},backend:n});const u=new o7(c,"max",!1);return n.runWebGLProgram(u,[i],i.dtype)}};const cte={kernelName:Mj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{filterSize:a,strides:o,pad:s,dataFormat:l,dimRoundingMode:c}=r,u=zL(i.shape,a,o,[1,1,1],s,c,l),d=new s7(u,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}};class ute{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,l=i*a-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(r,") {\n          float dyR = float(dyRCorner + wR) / ").concat(t,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(a,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(a," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class dte{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=s-1-e.padInfo.front,d=l-1-e.padInfo.top,h=c-1-e.padInfo.left,p=s*l*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(s,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(t,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(a,") {\n            float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(o,") {\n              float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const hte={kernelName:jj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a}=t,o=a,{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=r,d=zL(o.shape,s,l,[1,1,1],c,u),h=new s7(d,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),f=new dte(d),m=n.runWebGLProgram(f,[i,p],o.dtype);return n.disposeIntermediateTensorInfo(p),m}};const pte={kernelName:Nj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:i,input:a,output:o}=t,s=a;M4([a,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,h=FL(s.shape,l,c,1,u,d),p=new o7(h,"max",!0),f=n.runWebGLProgram(p,[s],s.dtype),m=new ute(h),g=n.runWebGLProgram(m,[i,f],s.dtype);return n.disposeIntermediateTensorInfo(f),g}};const fte={kernelName:Dj,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:i}=t,{filterSize:a,strides:o,pad:s,includeBatchInIndex:l}=n,c=r;uN(4===i.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,".")));const u=[1,1];uN(XL(o,u),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(u,"'")));const d=FL(i.shape,a,o,u,s),[h,p]=function(e,t,n,r){let i=new o7(n,"max",!1);const a=r.runWebGLProgram(i,[e],"float32");return i=new o7(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,l,d,c);return[h,p]}};const mte={kernelName:Rj,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:i}=t,{keepDims:a,axis:o}=n,s=r,l=i.shape.length,c=xN(o,i.shape);let u=c;const d=UF(u,l),h=null!=d,p=s.shouldExecuteOnCPU([i]),f=[];let m=i;if(h){if(p){const e=s.texData.get(m.dataId).values,t=new Array(l);for(let r=0;r<t.length;r++)t[r]=i.shape[d[r]];const n=f6(e,i.shape,i.dtype,d,t);m=s.makeTensorInfo(t,i.dtype);s.texData.get(m.dataId).values=n}else m=w8(i,d,s);f.push(m),u=qF(u.length,l)}VF("sum",u,l);const[g,v]=BF(m.shape,u);let b=g;a&&(b=WF(g,c));const y=function(e,t,n,r){const i=pN(t),a=f8({inputs:{x:e},attrs:{shape:[pN(e.shape)/i,i]},backend:r}),o=b8(a,"float32","mean",r),s=f8({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(m,v,b,s);for(const x of f)s.disposeIntermediateTensorInfo(x);return y}};const gte={kernelName:Pj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r,s=i.shape.length,l=xN(a,i.shape);let c=l;const u=UF(c,s);let d=i;null!=u&&(d=S8({inputs:{x:i},backend:n,attrs:{perm:u}}),c=qF(c.length,i.shape.length)),VF("min",c,s);const[h,p]=BF(d.shape,c),f=f8({inputs:{x:d},backend:n,attrs:{shape:[-1,pN(p)]}}),m=b8(f,f.dtype,"min",n);let g;if(o){g=f8({inputs:{x:m},backend:n,attrs:{shape:WF(h,l)}})}else g=f8({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}},vte=o8({opSnippet:H6+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+G6+"\n  return result;\n",cpuKernelImpl:V5}),bte={kernelName:Oj,backendName:"webgl",kernelFunc:vte};class yte{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,i=K4(r),a=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?"\n      ".concat(i," start = ").concat(i,"(").concat(a,");\n      ").concat(i," end = ").concat(i,"(").concat(o,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(r,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(l,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(l,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(s,"));\n      }\n    "):"\n        int start = ".concat(a,";\n        int end = ").concat(o,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(l,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(l,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")}}class xte{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,i=K4(r),a=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),s=v6("rc",r),l=v6("source",r),c="".concat(s[r-1]," < ").concat(this.outputShape[r-1]),u=1===r?"source":"vec2(".concat(l.slice(-2).join(),")"),d="reflect"===n?0:1;let h="";if(1===r){const e="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        ").concat(s[r-1]," += 1;\n        if(").concat(c,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n      ")}else{const e="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        ").concat(s[r-1]," += 1;\n        if(").concat(c,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n        rc = outputLoc;\n        ").concat(s[r-2]," += 1;\n        if(").concat(s[r-2]," < ").concat(this.outputShape[r-2],") {\n          ").concat(e,"\n          result[2] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n          ").concat(s[r-1]," += 1;\n          if(").concat(c,") {\n            ").concat(e,"\n            result[3] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(a,");\n      const ").concat(i," end = ").concat(i,"(").concat(o,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")}}const wte={kernelName:Lj,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:i}=t,{paddings:a,mode:o}=r,s=HN().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xte(i.shape,a,o):new yte(i.shape,a,o);return n.runWebGLProgram(s,[i],i.dtype)}},_te=o8({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+G6+"\n  return result;\n"}),kte={kernelName:Fj,backendName:"webgl",kernelFunc:_te};class Ste{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(t-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(t-1,"));\n      }\n    ")}}const Cte=o8({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Ate={kernelName:qM,backendName:"webgl",kernelFunc:Cte},Tte="return a - b;",Ite=o8({opSnippet:Tte,packedOpSnippet:Tte,supportsComplex:!0,cpuKernelImpl:d6}),Ete={kernelName:UD,backendName:"webgl",kernelFunc:Ite};function Nte(e){const{inputs:t,backend:n,attrs:r}=e,{logits:i}=t,{dim:a}=r,o=xN([a],i.shape),s=ite({inputs:{x:i},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=WF(s.shape,o),c=f8({inputs:{x:s},backend:n,attrs:{shape:l}}),u=Ite({inputs:{a:i,b:c},backend:n}),d=K9({inputs:{x:u},backend:n}),h=_8({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),p=f8({inputs:{x:h},backend:n,attrs:{shape:l}}),f=Cte({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}const Mte={kernelName:ND,backendName:"webgl",kernelFunc:Nte};const jte={kernelName:zj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:i}=t,{numSamples:a,seed:o,normalized:s}=r,l=s?i:Nte({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new Ste(c,u,a),h=[[o]],p=n.runWebGLProgram(d,[l],"int32",h);return s||n.disposeIntermediateTensorInfo(l),p}},Dte=C6+"\n  return -x;\n";const Rte={kernelName:Wj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,i]=H5(e.values,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,t)}let i;return i=HN().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new F6(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new S6(r.shape,Dte),n.runWebGLProgram(i,[r],r.dtype)}},Pte=dB;const Ote={kernelName:Uj,backendName:"webgl",kernelFunc:function(e){oR("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:i,scores:a}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l}=r,c=n.readSync(i.dataId),u=n.readSync(a.dataId),{selectedIndices:d}=Pte(c,u,o,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Lte=hB;const Fte={kernelName:Hj,backendName:"webgl",kernelFunc:function(e){oR("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:i,scores:a}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(i.dataId),d=n.readSync(a.dataId),{selectedIndices:h,validOutputs:p}=Lte(u,d,o,s,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},zte=pB;const Bte={kernelName:qj,backendName:"webgl",kernelFunc:function(e){oR("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:i,scores:a}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(i.dataId),d=n.readSync(a.dataId),h=o,p=s,f=l,m=c,{selectedIndices:g,selectedScores:v}=zte(u,d,h,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}};class Wte{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(r,"), float(").concat(n,"),\n                      float(index == coords.y)));\n      }\n    ")}}const Vte={kernelName:Yj,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:i}=t,{dtype:a,depth:o,onValue:s,offValue:l}=r,c=pN(i.shape),u=new Wte(c,o,s,l),d=f8({inputs:{x:i},backend:n,attrs:{shape:[c]}}),h=n.runWebGLProgram(u,[d],a);n.disposeIntermediateTensorInfo(d);const p=f8({inputs:{x:h},backend:n,attrs:{shape:[...i.shape,o]}});return n.disposeIntermediateTensorInfo(h),p}};function Ute(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=E7({inputs:{input:r},backend:n}),t=Ute({inputs:{x:e},backend:n}),i=q7({inputs:{input:r},backend:n}),a=Ute({inputs:{x:i},backend:n}),o=Z6({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),o}return oee({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const Hte={kernelName:$D,backendName:"webgl",kernelFunc:Ute};const qte={kernelName:Gj,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:i}=n;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){const t=E7({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r}),a=q7({inputs:{input:i},backend:r}),o=Ute({inputs:{x:a},backend:r}),s=Z6({inputs:{real:n,imag:o},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}return oee({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:r})}};const Gte={kernelName:Xj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:i}=r;if(1===t.length)return J9({inputs:{input:t[0]},backend:n,attrs:{dim:i}});const a=t[0].shape,o=t[0].dtype;t.forEach((e=>{dN(a,e.shape,"All tensors passed to stack must have matching shapes"),uN(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=X7({inputs:t.map((e=>{const t=J9({inputs:{input:e},backend:n,attrs:{dim:i}});return s.push(t),t})),backend:n,attrs:{axis:i}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class Yte{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,i=K4(r),a=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      ".concat(i," start = ").concat(i,"(").concat(a,");\n      ").concat(i," end = ").concat(i,"(").concat(o,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(s,"));\n        }\n      }\n    "):"\n        int start = ".concat(a,";\n        int end = ").concat(o,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")}}class Xte{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,i=K4(r),a=t.map((e=>e[0])).join(","),o=t.map(((t,n)=>t[0]+e[n])).join(","),s=v6("rc",r),l=v6("source",r),c="".concat(s[r-1]," < ").concat(this.outputShape[r-1]),u=1===r?"source":"vec2(".concat(l.slice(-2).join(),")"),d=["".concat(i," rc = outputLoc;"),"".concat(s[r-1]," += 1;\n       if(").concat(c,") {\n      "),1===r?"":"}\n       rc = outputLoc;\n       ".concat(s[r-2]," += 1;\n       if(").concat(s[r-2]," < ").concat(this.outputShape[r-2],") {"),1===r?"":"  ".concat(s[r-1]," += 1;\n         if(").concat(c,") {")],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let f=0,m=1===r?2:4;f<m;f++)p+="\n        ".concat(d[f],"\n        if (").concat(h,") {\n          result[").concat(f,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(f,"] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n      ");p+=1===r?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(a,");\n      const ").concat(i," end = ").concat(i,"(").concat(o,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}const Kte=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{paddings:a,constantValue:o}=r;if(0===pN(i.shape)){const e=a.map(((e,t)=>e[0]+i.shape[t]+e[1]));return oee({backend:n,attrs:{shape:e,value:o,dtype:i.dtype}})}const s=HN().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Xte(i.shape,a,o):new Yte(i.shape,a,o),l=[[o]];return n.runWebGLProgram(s,[i],i.dtype,l)},Zte={kernelName:Kj,backendName:"webgl",kernelFunc:Kte},Jte=o8({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+G6+"\n  return result;\n"}),Qte={kernelName:Zj,backendName:"webgl",kernelFunc:Jte};const $te={kernelName:Qj,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:a,keepDims:o}=r,s=i.shape.length,l=[],c=xN(a,i.shape);let u=c;const d=UF(u,s);let h,p=i;if(null!=d&&(p=S8({inputs:{x:i},backend:n,attrs:{perm:d}}),u=qF(u.length,s),l.push(p)),VF("prod",u,s),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:r,outDtype:i}=G5(p.shape,p.dtype,e,u);h=n.makeTensorInfo(r,i,t)}else{const[e,t]=BF(p.shape,u),r=pN(t),a=f8({inputs:{x:p},backend:n,attrs:{shape:[-1,r]}}),o=b8(a,cP(i.dtype),"prod",n);h=f8({inputs:{x:o},backend:n,attrs:{shape:e}}),l.push(a),l.push(o)}if(o){l.push(h);const e=WF(h.shape,c);h=f8({inputs:{x:h},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const ene={kernelName:$j,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:i,paramsDenseValues:a,indices:o}=t,{outputRaggedRank:s}=r,l=i.map((e=>n.readSync(e.dataId))),c=i.map((e=>e.shape)),u=n.readSync(a.dataId),d=n.readSync(o.dataId),[h,p,f]=Y5(l,c,u,a.shape,a.dtype,d,o.shape,s),m=h.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,a.dtype,p);return m.concat([g])}};const tne={kernelName:eD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:i,deltas:a}=t,o=n.readSync(r.dataId),s=n.readSync(i.dataId),l=n.readSync(a.dataId),[c,u]=X5(o,r.shape,r.dtype,s,i.shape,l,a.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],r.dtype,u)]}};const nne={kernelName:tD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:i,values:a,defaultValue:o,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,c=n.readSync(i.dataId),u=n.readSync(a.dataId),d=n.readSync(o.dataId),h=s.map((e=>n.readSync(e.dataId))),p=s.map((e=>e.shape)),[f,m]=K5(c,i.shape,u,a.shape,a.dtype,d,o.shape,h,p,l);return n.makeTensorInfo(f,a.dtype,m)}},rne=e=>{const{backend:t,attrs:n}=e,{start:r,stop:i,step:a,dtype:o}=n,s=Z5(r,i,a,o);return t.makeTensorInfo([s.length],o,s)},ine={kernelName:nD,backendName:"webgl",kernelFunc:rne},ane=a8({opSnippet:"return 1.0 / x;"}),one={kernelName:iD,backendName:"webgl",kernelFunc:ane},sne=a8({opSnippet:C6+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),lne={kernelName:aD,backendName:"webgl",kernelFunc:sne},cne=a8({opSnippet:C6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),une={kernelName:dD,backendName:"webgl",kernelFunc:cne};class dne{constructor(e,t,n,r,i){this.variableNames=["A"],this.outputShape=[];const[a,o,s,l]=e;this.outputShape=[a,t,n,l];const c=[r&&t>1?o-1:o,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(o,".0, ").concat(s,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}class hne{constructor(e,t,n,r,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,s,l]=e;this.outputShape=[a,t,n,l];const c=[r&&t>1?o-1:o,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],",\n          ").concat(c[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(o,".0, ").concat(s,".0,\n                                     ").concat(s,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}const pne={kernelName:cD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i}=t,{alignCorners:a,halfPixelCenters:o,size:s}=r,[l,c]=s,u=HN().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new hne(i.shape,l,c,a,o):new dne(i.shape,l,c,a,o);return n.runWebGLProgram(u,[i],"float32")}};class fne{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,i]=t,[,a,o]=e,s=[n&&a>1?r-1:r,n&&o>1?i-1:i],l=[n&&a>1?a-1:a,n&&o>1?o-1:o],c=s[0]/l[0],u=s[1]/l[1],d=1/c,h=1/u,p=2*Math.ceil(d)+2,f=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(c,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(h,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(a,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(o,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(r-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(i-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const mne={kernelName:uD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i,dy:a}=t,{alignCorners:o}=r,s=new fne(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}};class gne{constructor(e,t,n,r,i){this.variableNames=["A"],this.outputShape=[];const[a,o,s,l]=e;this.outputShape=[a,t,n,l];const c=[r&&t>1?o-1:o,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let h;h=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(o,".0, ").concat(s,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}class vne{constructor(e,t,n,r,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,s,l]=e;this.outputShape=[a,t,n,l];const c=[r&&t>1?o-1:o,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let h;h=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],",\n          ").concat(c[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(o,".0, ").concat(s,".0,\n                                     ").concat(s,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}const bne={kernelName:sD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i}=t,{alignCorners:a,halfPixelCenters:o,size:s}=r,[l,c]=s,u=HN().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new vne(i.shape,l,c,a,o):new gne(i.shape,l,c,a,o);return n.runWebGLProgram(u,[i],i.dtype)}};class yne{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,i]=t,[,a,o]=e,s=[n&&a>1?r-1:r,n&&o>1?i-1:i],l=[n&&a>1?a-1:a,n&&o>1?o-1:o],c=s[0]/l[0],u=s[1]/l[1],d=1/c,h=1/u,p=2*Math.ceil(d)+2,f=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(c,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(h,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(a,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(o,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(s[0],") *\n                (float(dyR) / float(").concat(l[0],"));\n\n            float sourceFracCol =\n                float(").concat(s[1],") *\n                  (float(dyC) / float(").concat(l[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(n," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(n," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const xne={kernelName:lD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:i,dy:a}=t,{alignCorners:o}=r,s=new yne(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}};class wne{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=e,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      "));const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]"))(r))).join(","),i=K4(n);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(r,"));\n      }\n    ")}}class _ne{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));this.outputShape=e;const r=v6("rc",n),i="".concat(r[n-1]," + 1 < ").concat(this.outputShape[n-1]),a="".concat(r[n-2]," + 1 < ").concat(this.outputShape[n-2]),o=K4(n);function s(n){const r=e.map(((r,i)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - ").concat(r[n]," - 1"):"".concat(r[n])}(i,n))),i=r.join(","),a=r.slice(-2).join(",");return"getChannel(getX(".concat(i,"), vec2(").concat(a,"))")}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(o," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return s(e)}(r.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice()),";\n          }\n          if(").concat(a,") {\n            result.b = ").concat(function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}}const kne={kernelName:hD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{dims:a}=r,o=i.shape.length,s=xN(a,i.shape);if(0===o)return X6({inputs:{x:i},backend:n});const l=HN().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _ne(i.shape,s):new wne(i.shape,s);return n.runWebGLProgram(l,[i],i.dtype)}};class Sne{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let i="";i="number"===typeof t?"float outputValue = ".concat(t.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(t.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(r," && coordY >= 0 && coordY < ").concat(n,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const Cne={kernelName:nR,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:i}=t,{radians:a,fillValue:o,center:s}=n,l=r,c=new Sne(i.shape,o),[u,d]=$B(s,i.shape[1],i.shape[2]),h=[[u,d,Math.sin(a),Math.cos(a)]];return l.runWebGLProgram(c,[i],i.dtype,h)}},Ane=a8({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Tne={kernelName:pD,backendName:"webgl",kernelFunc:Ane},Ine=a8({opSnippet:"return inversesqrt(x);",cpuKernelImpl:J5}),Ene={kernelName:fD,backendName:"webgl",kernelFunc:Ine};class Nne{constructor(e,t,n,r,i,a){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const s=K4(i.length),l=K4(a.length);let c="";1===n?c="i":2===n&&(c="i, j");const u="getIndices(".concat(c,")");let d="";1===r?d="i":2===r&&(d="i, coords[1]");const h="getUpdates(".concat(d,")");let p="";o&&(p="coords[0], coords[1]");const f="getDefaultValue(".concat(p,")"),m=t>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(i,");\n\n        void main() {\n          ").concat(l," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(t,"; j++) {\n              int index = round(").concat(u,");\n              flattenedIndex += index * ").concat(m,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(h,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(f,", sum, float(found)));\n        }\n      ")}}class Mne{constructor(e,t,n,r,i,a){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const s=K4(i.length),l=K4(a.length);let c="";1===n?c="i":2===n&&(c="i, j");const u="getIndices(".concat(c,")");let d="";1===r?d="i":2===r&&(d="i, coords[1]");const h="getUpdates(".concat(d,")");let p="";o&&(p="coords[0], coords[1]");const f="getDefaultValue(".concat(p,")"),m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(i,");\n\n        void main() {\n          ").concat(l," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(t,"; j+=2) {\n              ivec4 index = round(").concat(u,");\n              flattenedIndex += index.xz * ").concat(m,";\n              if (j + 1 < ").concat(t,") {\n                flattenedIndex += index.yw * ").concat(g,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(h,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(f,", sum, found));\n        }\n      ")}}const jne={kernelName:mD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:i,updates:a}=t,{shape:o}=r,{sliceRank:s,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=lW(0,i,o),h=[d/c,c];if(0===d)return n.makeTensorInfo(o,i.dtype);const p=f8({inputs:{x:i},backend:n,attrs:{shape:[l,s]}}),f=f8({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=HN().getBool("WEBGL_PACK")?new Mne(l,s,p.shape.length,f.shape.length,u,h):new Nne(l,s,p.shape.length,f.shape.length,u,h);const v=n.runWebGLProgram(g,[f,p,m],f.dtype),b=f8({inputs:{x:v},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),b}};class Dne{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const i="for (int i = 0; i < ".concat(Math.ceil(Math.log2(t+1)),"; ++i) { if (left >= right) break;"),a=2===HN().getNumber("WEBGL_VERSION")?"while (left < right) {":i,o="left"===r?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(a,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(o," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}const Rne={kernelName:vD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:i,values:a}=t,{side:o}=r,s=new Dne(i.shape[0],i.shape[1],a.shape[1],o),l=[[i.shape[1]]];return n.runWebGLProgram(s,[i,a],"int32",l)}};class Pne{constructor(e,t,n){let r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)i="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],o=[];for(let r=0;r<t.length;r++)o.push("".concat(n[r])),r<e&&a.push("".concat(n[r]));r=a.join(),i=o.join()}const a=K4(n);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        float cVal = getC(").concat(r,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")}}const One={kernelName:bD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:i,e:a}=t,o=new Pne(r.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(o,[r,i,a],lP(i.dtype,a.dtype))}},Lne=a8({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(cW,";\n  float scale = ").concat(uW,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),Fne={kernelName:yD,backendName:"webgl",kernelFunc:Lne},zne=a8({opSnippet:i8+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:$5}),Bne={kernelName:SD,backendName:"webgl",kernelFunc:zne},Wne=a8({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Vne={kernelName:kD,backendName:"webgl",kernelFunc:Wne},Une=a8({opSnippet:i8+"\n  return sin(x);\n",packedOpSnippet:"\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(G6,"\n  return result;\n")}),Hne={kernelName:wD,backendName:"webgl",kernelFunc:Une},qne=a8({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Gne={kernelName:_D,backendName:"webgl",kernelFunc:qne},Yne=a8({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Xne={kernelName:CD,backendName:"webgl",kernelFunc:Yne},Kne={kernelName:ID,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{blockShape:a,paddings:o}=r;uN(i.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=a.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...o);for(let v=1+a.length;v<i.shape.length;++v)l.push([0,0]);const c=[],u=Kte({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),d=eW(u.shape,a,s,!1),h=tW(d.length,a.length,!1),p=nW(u.shape,a,s,!1),f=f8({inputs:{x:u},backend:n,attrs:{shape:d}}),m=S8({inputs:{x:f},backend:n,attrs:{perm:h}}),g=f8({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const Zne={kernelName:MD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:i,denseShape:a,defaultValue:o}=t;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));const s=n.readSync(r.dataId),l=n.readSync(i.dataId),c=n.readSync(a.dataId),u=n.readSync(o.dataId)[0],[d,h,p,f,m]=n6(s,r.shape,r.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([h[0]],i.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const Jne={kernelName:jD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:i,newShape:a}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));const o=Array.from(n.readSync(i.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(a.dataId)),[c,u,d]=r6(s,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}};const Qne={kernelName:DD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:i,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(a.shape));const o=n.readSync(r.dataId),s=n.readSync(i.dataId),l=n.readSync(a.dataId),[c,u]=i6(o,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(u,r.dtype,c)}};const $ne={kernelName:RD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:i,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(a.shape));const o=n.readSync(r.dataId),s=n.readSync(i.dataId),l=n.readSync(a.dataId),[c,u]=i6(o,r.shape,r.dtype,s,l);return n.makeTensorInfo(u,r.dtype,c)}};const ere={kernelName:PD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:i,sparseValues:a,defaultValue:o}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=lW(0,i,s),p=!1;if("string"===a.dtype){const e=n.bufferSync(i),t=n.bufferSync(a),r=PR(n.readSync(o.dataId)[0]),f=Q5(e,t,s,h,u,c,l,d,r,p);return n.makeTensorInfo(s,f.dtype,f.values)}const f=new Nne(c,l,i.shape.length,a.shape.length,d,[h,1],p),m=n.runWebGLProgram(f,[a,i,o],a.dtype),g=f8({inputs:{x:m},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(m),g}};const tre={kernelName:ED,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{numOrSizeSplits:a,axis:o}=r,s=xN(o,i.shape)[0],l=PW(i,a,s),c=i.shape.length,u=new Array(c).fill(0),d=i.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const r=w7({inputs:{x:i},backend:n,attrs:{begin:u,size:t}});return u[s]+=e,r}))}},nre="return sqrt(x);",rre=a8({opSnippet:nre,packedOpSnippet:nre,cpuKernelImpl:a6}),ire={kernelName:AD,backendName:"webgl",kernelFunc:rre},are={kernelName:LD,backendName:"webgl",kernelFunc:a8({opSnippet:"return x * x;"})},ore="return (a - b) * (a - b);",sre=o8({opSnippet:ore,packedOpSnippet:ore}),lre={kernelName:OD,backendName:"webgl",kernelFunc:sre};const cre={kernelName:FD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");const a=JW(n.readSync(i.dataId)),o=o6(a,"string",r);return n.makeTensorInfo(i.shape,"string",o)}};const ure={kernelName:eR,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:i}=t,a=C6+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new S6(i.shape,a);return r.runWebGLProgram(o,[i],i.dtype)}};class dre{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,i=K4(n.length),a=K4(n.length);let o="";if(1===r)o="coords * strides + begin";else{let e=0;o=n.map(((t,r)=>(e++,1===n.length?"coords * strides[".concat(r,"] + begin[").concat(r,"]"):"coords[".concat(e-1,"] * strides[").concat(r,"] + begin[").concat(r,"]")))).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(e,");\n      ").concat(i," strides = ").concat(i,"(").concat(t,");\n\n      void main() {\n        ").concat(a," coords = getOutputCoords();\n        setOutput(getX(").concat(o,"));\n      }\n    ")}}const hre={kernelName:zD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{begin:a,end:o,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=r,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:b,end:y,strides:x}=jL(i.shape,a,o,s,l,c,u,d,h);let w;if(m)w=f8({inputs:{x:i},backend:n,attrs:{shape:f}});else if(g||v){uN(i.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(i.shape.length)));const e=yL(b,y,x),t=w7({inputs:{x:i},backend:n,attrs:{begin:b,size:e}});w=f8({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([i])){const e=n.readSync(i.dataId),t=AO(i.shape,i.dtype,e),r=s6(p,t,x,b);w=n.makeTensorInfo(f,i.dtype,r.values)}else{const e=new dre(b,x,p);w=n.runWebGLProgram(e,[i],i.dtype)}}const _=f8({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),_}};const pre={kernelName:BD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:i,nGramWidths:a,leftPad:o,rightPad:s,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:d}=t,h=n.readSync(u.dataId),p=n.readSync(d.dataId),[f,m]=l6(h,p,i,a,o,s,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const fre={kernelName:WD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:i}=r,{input:a,delimiter:o}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));const s=n.readSync(a.dataId),l=n.readSync(o.dataId)[0],[c,u,d]=c6(s,l,i),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const mre={kernelName:VD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:i}=r,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(a.dataId),s=u6(o,i);return n.makeTensorInfo(a.shape,"int32",s)}},gre=a8({opSnippet:"return tan(x);"}),vre={kernelName:HD,backendName:"webgl",kernelFunc:gre},bre=a8({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),yre={kernelName:qD,backendName:"webgl",kernelFunc:bre};const xre={kernelName:gD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:i,indices:a,updates:o}=t,{}=r,{sliceRank:s,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=lW(0,a,i.shape),h=[d/c,c];if(0===d)return n.makeTensorInfo(i.shape,a.dtype);const p=f8({inputs:{x:a},backend:n,attrs:{shape:[l,s]}}),f=f8({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=f8({inputs:{x:i},backend:n,attrs:{shape:h}}),g=new Nne(l,s,p.shape.length,f.shape.length,u,h,!1,!0),v=n.runWebGLProgram(g,[f,p,m],m.dtype),b=f8({inputs:{x:v},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),b}};class wre{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;const r=K4(this.rank),i=function(e){const t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let i=0;i<e.length;i++)r.push("imod(".concat(n[i],", ").concat(e[i],")"));return r.join()}(e);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        setOutput(getA(").concat(i,"));\n      }\n    ")}}function _re(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{reps:a}=r;if("string"===i.dtype||i.shape.length>5){const e=n.readSync(i.dataId),t="string"===i.dtype?e.map((e=>PR(e))):e,r=AO(i.shape,i.dtype,t),o=h6(r,a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const o=new wre(i.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const kre={kernelName:GD,backendName:"webgl",kernelFunc:_re};class Sre{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class Cre{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function Are(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function Tre(e){let t=1;for(;t<e;)t*=2;return t}const Ire={kernelName:YD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{k:a,sorted:o}=r,s=HN().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=HN().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=i.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([i])||u<s||a>l){const e=n.readSync(i.dataId),[t,r]=p6(e,c,i.dtype,a,o);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===a)return c[c.length-1]=0,[n.makeTensorInfo(c,i.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[i,oee({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(i.dataId),h=null!==d&&d.isPacked,p=h?n.unpackTensor(i):i,f=pN(c)/u,m=f8({inputs:{x:p},attrs:{shape:[f,u]},backend:n});h&&Are(n,p);const g=Tre(a),v=Tre(u);let b=null;const y=()=>null===b?[m,m]:[m,b],x=(e,t,r)=>{const i=y(),a=new Sre(r),o=[[u],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=b;b=n.runWebGLProgram(a,i,"int32",o),Are(n,s)};for(let C=1;C<g;C*=2){const e=2*C;for(let t=C;t>=1;t/=2)x(e,t,[f,v])}for(let C=v;C>g;C/=2){const e=y(),t=new Cre([f,C/2]),r=[[u],[null===b?1:0],[g]],i=b;b=n.runWebGLProgram(t,e,"int32",r),Are(n,i);const a=g/2,o=2*a;for(let n=a;n>=1;n/=2)x(o,n,b.shape)}let w=b;b=w7({inputs:{x:b},backend:n,attrs:{begin:0,size:[f,a]}}),Are(n,w);let _=Cee({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});Are(n,m);const k=c.slice(0,-1);k.push(a),w=b,b=f8({inputs:{x:b},attrs:{shape:k},backend:n}),Are(n,w);const S=_;return _=f8({inputs:{x:_},attrs:{shape:k},backend:n}),Are(n,S),[_,b]}};class Ere{constructor(e,t,n,r,i,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const o="nearest"===n?1:2;let s;switch(r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(t,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(t,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(o," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}const Nre={kernelName:XD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:i,transforms:a}=t,{interpolation:o,fillMode:s,fillValue:l,outputShape:c}=r,[u,d,h,p]=i.shape,[f,m]=null!=c?c:[d,h],g=new Ere(d,h,o,s,l,[u,f,m,p]);return n.runWebGLProgram(g,[i,a],"float32")}};const Mre={kernelName:ZD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:i}=n,{x:a}=t;M4(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(a.dataId),{outputValues:s,outputShape:l,indices:c}=m6(o,i,a.shape,a.dtype);return[r.makeTensorInfo(l,a.dtype,s),r.makeTensorInfo([c.length],"int32",c)]}};const jre={kernelName:JD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:i}=t;let{axis:a}=r;a<0&&(a+=i.shape.length);const o=i,s=o.shape.length,l=i.shape[a],c=new Array(s-1);let u=0;for(let m=0;m<s;m++)m!==a&&(c[u++]=o.shape[m]);const d=[],h=new Array(s).fill(0),p=o.shape.slice();p[a]=1;const f=new Array(l);for(let m=0;m<f.length;m++){h[a]=m;const e=w7({inputs:{x:o},backend:n,attrs:{begin:h,size:p}}),t=f8({inputs:{x:e},backend:n,attrs:{shape:c}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class Dre{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];const s=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";i%n>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));let d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(a,")) * float(").concat(n,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(a,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}}const Rre={kernelName:QD,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,segmentIds:a}=t,{numSegments:o}=r,s=i.shape.length,l=[];let c=0;const u=UF([c],s);let d=i;null!=u&&(d=S8({inputs:{x:i},backend:n,attrs:{perm:u}}),l.push(d),c=qF(1,s)[0]);const h=KW(d.shape,c,o),p=pN([d.shape[c]]),f=f8({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=cP(i.dtype),g=(e,t,r,i,a)=>{const o=e.shape[0],s=e.shape[1],c=XW(s,a),u=new Dre({windowSize:c,inSize:s,batchSize:o,numSegments:a},t),d=n.compileAndRun(u,[e,r],i);if(l.push(d),d.shape[1]===a)return d;const h=rne({backend:n,attrs:{start:0,stop:a,step:1,dtype:"float32"}}),p=_re({inputs:{x:h},backend:n,attrs:{reps:[s/c]}});l.push(h),l.push(p);return g(d,t,p,i,a)},v=f8({inputs:{x:g(f,"unsortedSegmentSum",a,m,o)},backend:n,attrs:{shape:h}});let b=v;if(null!=u){l.push(v);const e=HF(u);b=S8({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},Pre=[I8,N8,j8,R8,L8,B8,W8,V8,X8,K8,J8,$8,t7,r7,a7,l7,c7,h7,p7,f7,v7,k7,S7,C7,A7,j7,P7,F7,J6,W7,K7,r9,l9,u9,d9,h9,p9,m9,v9,y9,C9,A9,T9,E9,j9,P9,O9,F9,B9,W9,U9,H9,G9,X9,Z9,Q9,tee,iee,see,cee,hee,fee,vee,xee,wee,kee,Aee,Iee,Nee,K6,Mee,G7,Dee,Pee,Lee,e8,zee,Wee,Vee,Hee,Gee,Xee,Zee,Qee,tte,rte,ate,ste,lte,cte,hte,pte,fte,mte,gte,bte,wte,kte,jte,p8,Rte,Ote,Fte,Bte,I7,Vte,qte,Gte,Zte,Qte,r8,$te,ene,tne,nne,ine,N7,Ate,one,lne,une,m8,pne,mne,bne,xne,kne,Cne,Tne,Ene,jne,Rne,One,Fne,Bne,Vne,Hne,Gne,_7,Mte,Xne,Kne,Zne,Jne,Qne,$ne,ere,tre,ire,are,lre,cre,ure,hre,pre,fre,mre,Ete,k8,vre,yre,xre,kre,Ire,Nre,C8,Mre,jre,Rre,Hte];for(const pie of Pre)pR(pie);const Ore=function(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(!0),[i,a]=(0,o.useState)(null),s=[100,120,100,110,170,140,145,150,160,165,170,175,160,180,185,180,100,120,100,110,170,140,145,150,160,165,170,175,160,180,185,180,100,120,100,110,170,140,145,150,160,165,170,175,160,180,185,180],l=async()=>{const e=(e=>{const t=Math.min(...e),n=Math.max(...e);return e.map((e=>(e-t)/(n-t)))})(s),n=function(e){return new bX(e)}();n.add(FZ({units:10,activation:"relu",inputShape:[1]})),n.add(FZ({units:1})),n.compile({optimizer:"adam",loss:"meanSquaredError"});const i=jz(e.slice(0,-1),[e.length-1,1]),a=jz(e.slice(1),[e.length-1,1]);await n.fit(i,a,{epochs:100}),t(n),r(!1)};return(0,o.useEffect)((()=>{l()}),[]),(0,It.jsxs)("div",{children:[(0,It.jsx)("h2",{children:"Forecasting Component"}),n?(0,It.jsx)("p",{children:"Loading model..."}):(0,It.jsxs)("div",{children:[(0,It.jsx)("button",{onClick:async()=>{if(!e)return;let t=[...s];for(let n=0;n<6;n++){const n=jz([t[t.length-1]],[1,1]),r=e.predict(n).dataSync();t.push(r[0])}a(t.slice(-6))},children:"Make Predictions for 6 months"}),null!==i&&(0,It.jsxs)("div",{children:[(0,It.jsx)("h3",{children:"Next 6 months sales predictions:"}),(0,It.jsx)("ul",{children:i.map(((e,t)=>(0,It.jsxs)("li",{children:["Month ",t+1,": ",e]},t)))})]})]})]})};const Lre=function(){const e=St({palette:{primary:{main:"#1976d2"}}}),[t,n]=(0,o.useState)({data:[{id:"1284203014755719863",account_id:"1284203014403398326",duplicated:!1,mode:"normal",status:"posted",made_on:"2024-03-26",amount:1e4,currency_code:"EUR",description:"Income for Simple account 1 MasterCard",category:"income",extra:{payee:"DE11100110012612442222",payer:"DE12345678912345678912",payee_information:"John Smith",payer_information:"Sample client",account_balance_snapshot:1999.5,categorization_confidence:1},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"},{id:"1284203014755719864",account_id:"1284203014403398326",duplicated:!1,mode:"normal",status:"posted",made_on:"2024-04-25",amount:1e4,currency_code:"EUR",description:"Income for Simple account 1 MasterCard",category:"income",extra:{payee:"DE11100110012612442222",payer:"DE12345678912345678912",payee_information:"John Smith",payer_information:"Sample client",account_balance_snapshot:1999.5,categorization_confidence:1},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"},{id:"1284203014755719865",account_id:"1284203014403398326",duplicated:!1,mode:"normal",status:"posted",made_on:"2024-05-23",amount:5,currency_code:"EUR",description:"Sample transaction 1 for 2024-05-25",category:"fees_and_charges",extra:{payee:"DE11100110012612442222",payer:"DE12345678912345678912",posting_date:"2024-05-25",payee_information:"John Smith",payer_information:"Sample client",account_balance_snapshot:1999.5,categorization_confidence:.73},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"},{id:"1284203014764108474",account_id:"1284203014403398326",duplicated:!1,mode:"fee",status:"posted",made_on:"2024-05-25",amount:-15,currency_code:"EUR",description:"Sample transaction 2 for 2024-05-25",category:"provider_fee",extra:{payee:"DE12345678912345678912",payer:"DE11100110012612442222",payee_information:"Sample client",payer_information:"John Smith",account_balance_snapshot:1999.5,categorization_confidence:.9},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"}]}),[r,i]=(0,o.useState)([]),[a,s]=(0,o.useState)(),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)(!1),[f,m]=(0,o.useState)(!0),g=(0,xv.q)();let v=["Ventes de produits ou/ et services","Emprunts bancaires","Fonds d\u2019investissement","Subventions ou aides","Revenues de portefeuilles","Achats de marchandises et mati\xe8res premi\xe8res ","Marketing & Communications","Salaires, Avantages sociaux, Retraites","Charges externes (Location, \xc9lectricit\xe9, Connexion, Entretien)","Remboursement d\u2019emprunts","Imp\xf4ts sur revenus","Autres Taxes TVA","Acquisitions d\u2019actifs","Investissements financiers","Frais g\xe9n\xe9raux","Logistiques","Dettes fournisseurs"];const[b,y]=(0,o.useState)(0),x=hl(CI)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.light,color:t.palette.common.white,fontWeight:"bold"}})),w=async()=>{const e=await Promise.all(t.data.map((async e=>{const t=await(async e=>{try{return b%10===0?(await g.post("/v1/categorize",{categories:v,memo:"".concat(e.description," ").concat(e.category)})).data.category:(await g.post("/v1/categorize",{categories:"Utilisez la meme liste de cat\xe9gories pour cette transaction",memo:"".concat(e.description," ").concat(e.category)})).data.category}catch(t){return console.error("Erreur lors de la cat\xe9gorisation de la transaction :",t),"Non cat\xe9goris\xe9"}})(e);return{transaction:e,category:t}})));console.log("transactionsWithCategories",e),i(e),m(!1),y(b+1)};(0,o.useEffect)((()=>{w()}),[]);const[_,k]=(0,o.useState)(["income","fees_and_charges","provider_fee"]),[S,C]=(0,o.useState)(["Produit X","Produit Y","Produit Z"]),[A,T]=(0,o.useState)(["Projet X","Projet Y","Projet Z"]),[I,E]=(0,o.useState)(),[N,M]=(0,o.useState)({}),[j,D]=(0,o.useState)({}),[R,P]=(0,o.useState)(!1),[O,L]=(0,o.useState)(""),[F,z]=(0,o.useState)(""),[B,W]=(0,o.useState)({}),V=e=>{L(e),P(!0)},U=()=>{P(!1),z("")},[H,q]=(0,o.useState)(!1),[G,Y]=(0,o.useState)(!1),[X,K]=(0,o.useState)([]),[Z,J]=(0,o.useState)([]),Q=()=>{d(!1),q(!1),K([])},$=()=>{p(!1),Y(!1),J([])};return(0,It.jsxs)(nN,{theme:e,children:[(0,It.jsx)(YE,{}),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsx)("div",{className:"row",children:(0,It.jsxs)("div",{className:"",children:[(0,It.jsx)("h1",{children:"Financial Transaction Categorise UI GPT-4"}),(0,It.jsx)("p",{className:"text-muted",children:"Notre plateforme offre une fonctionnalit\xe9 avanc\xe9e permettant de r\xe9cup\xe9rer les transactions financi\xe8res de vos comptes bancaires, puis de les cat\xe9goriser automatiquement pour une meilleure analyse et une gestion plus efficace des finances de votre entreprise."}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-12 mb-3 px-2 py-2 my-div",children:(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)(EI,{component:Ku,children:[(0,It.jsx)(rr,{variant:"h6",component:"div",sx:{padding:"16px"},children:"Transaction Details"}),(0,It.jsxs)(RI,{sx:{minWidth:650},"aria-label":"transactions table",children:[(0,It.jsx)(BI,{children:(0,It.jsxs)(YI,{children:[(0,It.jsx)(x,{children:"Category"}),(0,It.jsx)(x,{children:"Description"}),(0,It.jsx)(x,{align:"right",children:"Amount"}),(0,It.jsx)(x,{children:"Date Created"}),(0,It.jsx)(x,{children:"Produit"}),(0,It.jsx)(x,{children:"Projet"}),(0,It.jsx)(x,{children:"Actions"})]})}),(0,It.jsx)($I,{children:r.map((e=>(0,It.jsxs)(YI,{children:[(0,It.jsx)(CI,{children:B[e.transaction.id]?(0,It.jsxs)(Gd,{value:j[e.transaction.id]||e.category,onChange:t=>((e,t)=>{D((n=>({...n,[e]:t.target.value}))),W((t=>({...t,[e]:!1})))})(e.transaction.id,t),displayEmpty:!0,fullWidth:!0,children:[(0,It.jsx)(cE,{value:"",disabled:!0,children:"Select category"}),_.map((e=>(0,It.jsx)(cE,{value:e,children:e},e))),(0,It.jsx)(cE,{value:"add_category",children:(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>V("category"),children:"+ Add Category"})})]}):(0,It.jsxs)("div",{children:[j[e.transaction.id]||e.category,(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>{return t=e.transaction.id,void W((e=>({...e,[t]:!0})));var t},children:"Modifier"})]})}),(0,It.jsx)(CI,{children:e.transaction.description}),(0,It.jsx)(CI,{align:"right",children:(0,It.jsxs)("span",{className:"".concat(e.transaction.amount>0?"badge bg-primary h3":"badge bg-danger h3"),children:[e.transaction.amount," ",e.transaction.currency_code]})}),(0,It.jsx)(CI,{children:new Date(e.transaction.created_at).toLocaleDateString()}),(0,It.jsx)(CI,{children:(0,It.jsxs)(Gd,{value:I?I[e.transaction.id]:"",onChange:t=>((e,t)=>{E((n=>({...n,[e]:t.target.value})))})(e.transaction.id,t),displayEmpty:!0,fullWidth:!0,children:[(0,It.jsx)(cE,{value:"",disabled:!0,children:"Select Produit"}),S.map((e=>(0,It.jsx)(cE,{value:e,children:e},e))),(0,It.jsx)(cE,{value:"add_produit",children:(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>V("produit"),children:"+ Add Produit"})})]})}),(0,It.jsx)(CI,{children:(0,It.jsxs)(Gd,{value:N[e.transaction.id]||"",onChange:t=>((e,t)=>{M((n=>({...n,[e]:t.target.value})))})(e.transaction.id,t),displayEmpty:!0,fullWidth:!0,children:[(0,It.jsx)(cE,{value:"",disabled:!0,children:"Select Projet"}),A.map((e=>(0,It.jsx)(cE,{value:e,children:e},e))),(0,It.jsx)(cE,{value:"add_projet",children:(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>V("projet"),children:"+ Add Projet"})})]})}),(0,It.jsxs)(CI,{children:[(0,It.jsx)(bi,{variant:"contained",className:"mb-2",color:"primary",onClick:()=>{return t=e.transaction.id,K([t]),void d(!0);var t},children:"Apply Produit Changes"}),(0,It.jsx)(bi,{variant:"contained",color:"secondary",onClick:()=>{return t=e.transaction.id,J([t]),void p(!0);var t},children:"Apply Projet Changes"})]})]},e.transaction.id)))})]})]}),(0,It.jsxs)(wg,{open:R,onClose:U,size:"sm",children:[(0,It.jsxs)(hE,{children:["Add New ",O]}),(0,It.jsxs)(hg,{children:[(0,It.jsxs)(gE,{children:["Please enter the name of the new ",O," you want to add."]}),(0,It.jsx)($d,{autoFocus:!0,margin:"dense",id:"newItem",label:"New ".concat(O),type:"text",fullWidth:!0,value:F,onChange:e=>z(e.target.value)})]}),(0,It.jsxs)(Tp,{children:[(0,It.jsx)(bi,{onClick:U,color:"primary",children:"Cancel"}),(0,It.jsx)(bi,{onClick:()=>{"produit"===O?C([...S,F]):"projet"===O?T([...A,F]):"category"===O&&k([..._,F]),U()},color:"primary",children:"Add"})]})]}),(0,It.jsxs)(wg,{open:u,onClose:Q,maxWidth:"lg",fullWidth:!0,children:[(0,It.jsx)(hE,{children:"Apply Produit Changes"}),(0,It.jsxs)(hg,{children:[(0,It.jsx)(gE,{children:"Choose which transactions to apply the changes to:"}),(0,It.jsx)(_E,{control:(0,It.jsx)(BE,{checked:H,onChange:e=>q(e.target.checked),color:"primary"}),label:"Apply to All Transactions"}),(0,It.jsx)(Gd,{multiple:!0,value:X,onChange:e=>K(e.target.value),fullWidth:!0,renderValue:e=>(0,It.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map((e=>(0,It.jsx)(Qp,{label:e,style:{margin:"2px"}},e)))}),children:r.map((e=>(0,It.jsxs)(cE,{value:e.transaction.id,children:[(0,It.jsx)(BE,{checked:X.includes(e.transaction.id)}),(0,It.jsx)(HE,{primary:"".concat(e.transaction.id,"  ").concat(e.transaction.description,"  ").concat(e.transaction.amount,"  ").concat(e.transaction.currency_code," ")})]},e.transaction.id)))})]}),(0,It.jsxs)(Tp,{children:[(0,It.jsx)(bi,{onClick:Q,color:"primary",children:"Cancel"}),(0,It.jsx)(bi,{onClick:()=>{const e=I[X[0]],t={...I};(H?r.map((e=>e.transaction.id)):X).forEach((n=>{t[n]=e})),E(t),Q()},color:"primary",children:"Apply"})]})]}),(0,It.jsxs)(wg,{open:h,onClose:$,maxWidth:"lg",fullWidth:!0,children:[(0,It.jsx)(hE,{children:"Apply Projet Changes"}),(0,It.jsxs)(hg,{children:[(0,It.jsx)(gE,{children:"Choose which transactions to apply the changes to:"}),(0,It.jsx)(_E,{control:(0,It.jsx)(BE,{checked:G,onChange:e=>Y(e.target.checked),color:"primary"}),label:"Apply to All Transactions"}),(0,It.jsx)(Gd,{multiple:!0,value:Z,onChange:e=>J(e.target.value),fullWidth:!0,renderValue:e=>(0,It.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map((e=>(0,It.jsx)(Qp,{label:e,style:{margin:"2px"}},e)))}),children:r.map((e=>(0,It.jsxs)(cE,{value:e.transaction.id,children:[(0,It.jsx)(BE,{checked:Z.includes(e.transaction.id)}),(0,It.jsx)(HE,{primary:"".concat(e.transaction.id,"  ").concat(e.transaction.description,"  ").concat(e.transaction.amount,"  ").concat(e.transaction.currency_code)})]},e.transaction.id)))})]}),(0,It.jsxs)(Tp,{children:[(0,It.jsx)(bi,{onClick:$,color:"primary",children:"Cancel"}),(0,It.jsx)(bi,{onClick:()=>{const e=N[Z[0]],t={...N};(G?r.map((e=>e.transaction.id)):Z).forEach((n=>{t[n]=e})),M(t),$()},color:"primary",children:"Apply"})]})]})]})}),(0,It.jsx)("div",{className:"col-md-12 mb-3 px-2 py-2 my-div",children:(0,It.jsx)(Ore,{})})]})]})})})})]})};const Fre=function(){const e=(0,xv.q)(),{vehiculeId:t,mois:n}=(JSON.parse(window.localStorage.getItem("me")),ie()),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)("0"),[l,c]=(0,o.useState)("0"),[u,d]=(0,o.useState)("0"),[h,p]=(0,o.useState)("0"),[f,m]=(0,o.useState)("0"),[g,v]=(0,o.useState)("0"),[b,y]=(0,o.useState)("0"),[x,w]=(0,o.useState)("0");return(0,o.useEffect)((()=>{(async()=>{try{const n=await e.get("/reservationpreferences/getbyvehiculeid/"+t);n.data&&(i(n.data.reservationsInstantanne),s(n.data.home_preavis),c(n.data.HomePeriodTempo),d(n.data.home_minDureeVoyage),p(n.data.home_maxDureeVoyage),m(n.data.locationDelivery_preavis),w(n.data.locationDeliveryPeriodTempo),v(n.data.locationDelivery_minDureeVoyage),y(n.data.locationDelivery_maxDureeVoyage))}catch(n){console.error("Erreur lors de la requ\xeate Axios :",n)}})()}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(yv,{}),(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block d-flex justify-content-start",children:(0,It.jsx)(Iv,{vehiculeId:t})}),(0,It.jsx)("div",{className:"col-md-6 mb-3",children:(0,It.jsxs)("div",{className:"my-div w-100",children:[(0,It.jsxs)("h1",{className:"mb-3",children:["Pr\xe9f\xe9rences de r\xe9servation"," ",(0,It.jsx)("span",{children:(0,It.jsx)("ion-icon",{name:"information-circle-outline"})})]}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Domicile"})}),(0,It.jsx)("p",{className:"text-muted",children:"Rue de Provence, \xc9chirolles, FR 38130."}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",value:r,checked:r,onChange:e=>i(!r),id:"reservationInstantaneCheck"}),(0,It.jsx)("label",{class:"form-check-label",for:"reservationInstantaneCheck",children:"R\xe9servation instantan\xe9e"})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"preavis",children:"Preavis"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:a,onChange:e=>s(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"1 heure"}),(0,It.jsx)("option",{value:"1",children:"2 heures"}),(0,It.jsx)("option",{value:"2",children:"3 heures"}),(0,It.jsx)("option",{value:"3",children:"6 heures"}),(0,It.jsx)("option",{value:"4",children:"12 heures"}),(0,It.jsx)("option",{value:"5",children:"1 jour"}),(0,It.jsx)("option",{value:"6",children:"2 jours"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"minDuree",children:"P\xe9riode tampon"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:l,onChange:e=>c(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"3 heures"}),(0,It.jsx)("option",{value:"1",children:"4 heures"}),(0,It.jsx)("option",{value:"2",children:"5 heures"}),(0,It.jsx)("option",{value:"3",children:"6 heures"}),(0,It.jsx)("option",{value:"4",children:"7 heures"}),(0,It.jsx)("option",{value:"5",children:"8 heures"}),(0,It.jsx)("option",{value:"6",children:"12 heures"}),(0,It.jsx)("option",{value:"7",children:"1 jour"}),(0,It.jsx)("option",{value:"8",children:"2 jours"}),(0,It.jsx)("option",{value:"9",children:"3 jours"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"minDuree",children:"Dur\xe9e de voyage minimale"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>d(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"Peu importe"}),(0,It.jsx)("option",{value:"1",children:"1 jour"}),(0,It.jsx)("option",{value:"2",children:"2 jours"}),(0,It.jsx)("option",{value:"3",children:"3 jours"}),(0,It.jsx)("option",{value:"4",children:"5 jours"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"minDuree",children:"Dur\xe9e de voyage maximale"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:h,onChange:e=>p(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"5 jours"}),(0,It.jsx)("option",{value:"1",children:"1 semaine"}),(0,It.jsx)("option",{value:"2",children:"2 semaines"}),(0,It.jsx)("option",{value:"3",children:"1 mois"}),(0,It.jsx)("option",{value:"4",children:"3 mois"}),(0,It.jsx)("option",{value:"5",children:"Peu importe"})]})]}),(0,It.jsx)("hr",{className:"col-md-6"}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Lieux de livraison"})}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"preavis",children:"Preavis"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:f,onChange:e=>m(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"1 heure"}),(0,It.jsx)("option",{value:"1",children:"2 heures"}),(0,It.jsx)("option",{value:"2",children:"3 heures"}),(0,It.jsx)("option",{value:"3",children:"6 heures"}),(0,It.jsx)("option",{value:"4",children:"12 heures"}),(0,It.jsx)("option",{value:"5",children:"1 jour"}),(0,It.jsx)("option",{value:"6",children:"2 jours"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"minDuree",children:"Dur\xe9e de voyage minimale"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:g,onChange:e=>v(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"Peu importe"}),(0,It.jsx)("option",{value:"1",children:"1 jour"}),(0,It.jsx)("option",{value:"2",children:"2 jours"}),(0,It.jsx)("option",{value:"3",children:"3 jours"}),(0,It.jsx)("option",{value:"4",children:"5 jours"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"minDuree",children:"Dur\xe9e de voyage maximale"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:b,onChange:e=>y(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"5 jours"}),(0,It.jsx)("option",{value:"1",children:"1 semaine"}),(0,It.jsx)("option",{value:"2",children:"2 semaines"}),(0,It.jsx)("option",{value:"3",children:"1 mois"}),(0,It.jsx)("option",{value:"4",children:"3 mois"}),(0,It.jsx)("option",{value:"5",children:"Peu importe"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"minDuree",children:"P\xe9riode tampon"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",value:x,onChange:e=>w(e.target.value),children:[(0,It.jsx)("option",{value:"0",children:"3 heures"}),(0,It.jsx)("option",{value:"1",children:"4 heures"}),(0,It.jsx)("option",{value:"2",children:"5 heures"}),(0,It.jsx)("option",{value:"3",children:"6 heures"}),(0,It.jsx)("option",{value:"4",children:"7 heures"}),(0,It.jsx)("option",{value:"5",children:"8 heures"}),(0,It.jsx)("option",{value:"6",children:"12 heures"}),(0,It.jsx)("option",{value:"7",children:"1 jour"}),(0,It.jsx)("option",{value:"8",children:"2 jours"}),(0,It.jsx)("option",{value:"9",children:"3 jours"})]})]}),(0,It.jsx)("hr",{className:"col-md-6"}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Dur\xe9e de voyage minimale sur un week-end"})}),(0,It.jsx)("p",{className:"text-muted col-md-6",children:"Les voyages d\xe9butant les vendredis, samedis ou dimanches doivent durer au moins 2 jours."}),(0,It.jsx)("button",{className:"btn btn-tertiary col-md-6",type:"button",onClick:function(){(async()=>{try{(await e.put("/reservationpreferences/"+t,{reservationsInstantanne:r,home_preavis:a,home_minDureeVoyage:u,home_maxDureeVoyage:h,locationDelivery_preavis:f,locationDelivery_minDureeVoyage:g,locationDelivery_maxDureeVoyage:b,locationDeliveryPeriodTempo:x,HomePeriodTempo:l})).data&&dv.success("Vos param\xe8tres de reservations ont \xe9t\xe9 modifi\xe9s avec succ\xe8s")}catch(n){console.error("Erreur lors de la requ\xeate Axios :",n)}})()},children:"Enregistrer"})]})}),(0,It.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,It.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,It.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,It.jsx)("h3",{className:"me-2",children:(0,It.jsx)("ion-icon",{name:"alert-circle"})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Action requise : activer la R\xe9servation instantan\xe9e avant le 26 mars 2024"})}),(0,It.jsx)("small",{children:"L\u2019annonce pour votre v\xe9hicule risque d\u2019\xeatre d\xe9sactiv\xe9e \xe0 cette date \xe0 moins que vous activiez la R\xe9servation instantan\xe9e pour votre domicile."})]})]}),(0,It.jsx)("div",{className:"d-flex justify-content-end",children:(0,It.jsx)("a",{type:"button",href:"#",className:"btn btn-tertiary",children:"En savoir plus"})})]}),(0,It.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,It.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,It.jsx)("h3",{className:"me-2",children:(0,It.jsx)("ion-icon",{name:"alert-circle"})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Action requise : activer la R\xe9servation instantan\xe9e avant le 26 mars 2024"})}),(0,It.jsx)("small",{className:"text-muted",children:"Les lieux de livraison risquent d\u2019\xeatre d\xe9sactiv\xe9s \xe0 cette date \xe0 moins que vous activiez la R\xe9servation instantan\xe9e pour vos livraisons."})]})]}),(0,It.jsx)("div",{className:"d-flex justify-content-end",children:(0,It.jsx)("a",{type:"button",href:"#",className:"btn btn-tertiary",children:"En savoir plus"})})]})]})]})]})})};const zre=function(){const e=(0,xv.q)(),[t,n]=(0,o.useState)([]),{vehiculeId:r,mois:i}=(JSON.parse(window.localStorage.getItem("me")),ie()),[a,s]=(0,o.useState)(0),[l,c]=(0,o.useState)(0),[u,d]=(0,o.useState)(0),[h,p]=(0,o.useState)(0),[f,m]=(0,o.useState)(0),[g,v]=(0,o.useState)(0),[b,y]=(0,o.useState)([]);function x(e,t){for(const n of e)if(n.reservation_duration===t)return n.pourcentage_reduction;return null}return(0,o.useEffect)((()=>{(async()=>{try{const t=await e.get("/availabilities/getbyvehiculeid/"+r);t.data&&s(t.data[0].Default_price);const n=await e.get("/discounts/getbyvehiculeid/"+r);n.data&&(y(n.data),c(x(n.data,"0")),d(x(n.data,"1")),p(x(n.data,"2")),m(x(n.data,"3")),v(x(n.data,"4")))}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(yv,{}),(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block d-flex justify-content-start",children:(0,It.jsx)(Iv,{vehiculeId:r})}),(0,It.jsx)("div",{className:"col-md-8 mb-3",children:(0,It.jsxs)("div",{className:"w-100 my-div",children:[(0,It.jsx)("h1",{className:"mb-3",children:"Prix et r\xe9ductions"}),(0,It.jsx)("h3",{children:(0,It.jsx)("strong",{children:"Prix"})}),(0,It.jsx)("p",{children:"G\xe9rez vos param\xe8tres de prix."}),(0,It.jsx)(Ne,{className:"mb-3",type:"button","data-bs-toggle":"modal","data-bs-target":"#commentGagnerArgent",children:"Comment vais-je gagner ?"}),(0,It.jsx)("div",{class:"modal fade",id:"commentGagnerArgent","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"commentGagnerArgentLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsx)("div",{class:"modal-header",children:(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),(0,It.jsxs)("div",{class:"modal-body",children:[(0,It.jsx)("h3",{children:"Revenus"}),(0,It.jsx)("p",{children:"Avec vos param\xe8tres de prix actuels, vous recevez 85 % du prix du voyage, incluant toute r\xe9duction applicable. La diff\xe9rence sert \xe0 prot\xe9ger votre v\xe9hicule et \xe0 couvrir les frais d\u2019exploitation de la plateforme Turo, notamment pour la v\xe9rification des invit\xe9s et l\u2019acc\xe8s 24 h/24, 7 j/7 \xe0 notre Service Clients."}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Exemple"})}),(0,It.jsx)("p",{children:"Votre prix journalier moyen pour les sept prochains jours est de 25\u20ac."})]})]})})}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Prix par jour"})}),(0,It.jsx)("p",{children:"D\xe9finissez votre prix journalier par d\xe9faut. Vous pourrez toujours personnaliser le prix pour certains jours sur votre calendrier. Les prix ne tiennent pas compte des r\xe9ductions applicables."}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[" ",(0,It.jsx)("div",{className:"card p-2",children:"Nous collectons encore des donn\xe9es pour am\xe9liorer les recommandations de prix pour votre r\xe9gion."})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[" ",(0,It.jsx)("label",{htmlFor:"prixparjour",children:"Prix par jour"}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"prixParJour","aria-describedby":"priceHelp",title:"Prix par jour",placeholder:"Prix par jour",value:a,onChange:e=>s(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"\u20ac"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 31 \u20ac"})]}),(0,It.jsx)("p",{className:"mt-3",children:(0,It.jsx)("strong",{children:(0,It.jsx)("small",{className:"",children:"Prix personnalis\xe9"})})}),(0,It.jsx)("p",{children:"Affichez vos prix sur le calendrier et d\xe9finissez un prix sp\xe9cifique pour certaines journ\xe9es."}),(0,It.jsx)(Ne,{className:"mb-3",to:"/account/voiture/"+r+"/calendar/0",children:"G\xe9rer les prix sur le calendrier"}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Majoration de derni\xe8re minute"})}),(0,It.jsx)("p",{className:"mb-3",children:"Maximisez vos gains sur les voyages de derni\xe8re minute en majorant automatiquement vos prix pour les r\xe9servations effectu\xe9es le jour m\xeame. Assurez-vous que le pr\xe9avis dans vos pr\xe9f\xe9rences de r\xe9servation permet les r\xe9servations le jour m\xeame."}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[" ",(0,It.jsx)(Ne,{children:"Fonctionnement de la majoration tarifiaire"}),(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",children:[(0,It.jsx)("option",{value:"1",children:"Aucun"}),(0,It.jsx)("option",{value:"2",children:"5%"}),(0,It.jsx)("option",{value:"3",children:"10%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 5 % "})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{children:[(0,It.jsx)("h3",{children:"R\xe9duction"}),(0,It.jsx)("p",{children:"Fixez des r\xe9ductions personnalis\xe9es pour inciter les invit\xe9s \xe0 planifier \xe0 l\u2019avance et \xe0 r\xe9server des voyages plus longs."}),(0,It.jsx)(Ne,{className:"mb-3",children:"Fonctionnement des r\xe9ductions"}),(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Tarif d\xe9gressif"})}),(0,It.jsx)("p",{children:"Incitez les invit\xe9s \xe0 r\xe9server votre voiture pour de plus longues p\xe9riodes en offrant des r\xe9ductions pour les voyages d\u2019une fin de semaine, d\u2019une semaine ou d\u2019un mois."}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"R\xe9duction pour 3 jours ou plus",children:"R\xe9duction pour 3 jours ou plus"}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"ReductionTroisouPlus","aria-describedby":"priceHelp",title:"R\xe9duction pour 3 jours ou plus",placeholder:"EX: 10",value:l,onChange:e=>c(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 10%"})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"R\xe9duction pour 3 jours ou plus",children:"R\xe9duction pour 7 jours ou plus"}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"ReductionTroisouPlus","aria-describedby":"priceHelp",title:"R\xe9duction pour 3 jours ou plus",placeholder:"EX: 10",value:u,onChange:e=>d(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 10%"})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"R\xe9duction pour 3 jours ou plus",children:"R\xe9duction pour deux semaines"}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"ReductionTroisouPlus","aria-describedby":"priceHelp",title:"R\xe9duction pour 3 jours ou plus",placeholder:"EX: 10",value:h,onChange:e=>p(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 25%"})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"R\xe9duction pour 3 jours ou plus",children:"R\xe9duction pour 30 jours ou plus"}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"ReductionTroisouPlus","aria-describedby":"priceHelp",title:"R\xe9duction pour 3 jours ou plus",placeholder:"EX: 10",value:f,onChange:e=>m(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 30%"})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("label",{htmlFor:"R\xe9duction pour 3 jours ou plus",children:"R\xe9duction pour deux mois"}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"ReductionTroisouPlus","aria-describedby":"priceHelp",title:"R\xe9duction pour 3 jours ou plus",placeholder:"EX: 10",value:g,onChange:e=>v(e.target.value)}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:"%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 40%"})]}),(0,It.jsx)("p",{className:"mb-3",children:(0,It.jsx)("strong",{children:"R\xe9duction pour la r\xe9servation anticip\xe9e"})}),(0,It.jsx)("p",{children:"Incitez les invit\xe9s \xe0 r\xe9server \xe0 l\u2019avance en offrant une r\xe9duction pour la r\xe9servation anticip\xe9e."}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[" ",(0,It.jsx)("label",{htmlFor:"",children:"Au moins 7 jours \xe0 l\u2019avance"})," ",(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",children:[(0,It.jsx)("option",{value:"1",children:"Aucun"}),(0,It.jsx)("option",{value:"2",children:"5%"}),(0,It.jsx)("option",{value:"3",children:"10%"})]}),(0,It.jsx)("small",{className:"text-muted",children:"Recommandation : 5 % "})]}),(0,It.jsx)("div",{children:(0,It.jsx)("button",{type:"button",className:"btn btn-tertiary",onClick:function(){console.log(a),(async()=>{try{(await e.put("/availabilities/updatePrincingbyDefaultVehicule/"+r,{vehiculeId:r,Default_price:a})).data&&dv.success("Prix ajout\xe9 pour votre v\xe9hicule")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}try{(await e.put("/discounts/updateOrCreateDiscounts/"+r,{vehiculeId:r,reservation_duration:"0",pourcentage_reduction:l})).data&&dv.success("R\xe9duction pour plus de 3 jours ajout\xe9 pour votre v\xe9hicule")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}try{(await e.put("/discounts/updateOrCreateDiscounts/"+r,{vehiculeId:r,reservation_duration:"1",pourcentage_reduction:u})).data&&dv.success("R\xe9duction pour plus de 7 jours ajout\xe9 pour votre v\xe9hicule")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}try{(await e.put("/discounts/updateOrCreateDiscounts/"+r,{vehiculeId:r,reservation_duration:"2",pourcentage_reduction:h})).data&&dv.success("R\xe9duction pour plus de 2 semaines ajout\xe9 pour votre v\xe9hicule")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}try{(await e.put("/discounts/updateOrCreateDiscounts/"+r,{vehiculeId:r,reservation_duration:"3",pourcentage_reduction:f})).data&&dv.success("R\xe9duction pour plus de 30 jours ajout\xe9 pour votre v\xe9hicule")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}try{(await e.put("/discounts/updateOrCreateDiscounts/"+r,{vehiculeId:r,reservation_duration:"4",pourcentage_reduction:g})).data&&dv.success("R\xe9duction pour plus de 2 mois ajout\xe9 pour votre v\xe9hicule")}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()},children:"Enregistrer"})})]})]})})]})]})})},Bre=Qb("https://moovicar-9c0b59206766.herokuapp.com");const Wre=function(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),c=JSON.parse(window.localStorage.getItem("me"));(0,o.useEffect)((()=>{localStorage.setItem("mode","guest")}),[]);const u=(0,xv.q)(),{reservationId:d}=ie();(0,o.useEffect)((()=>{(async()=>{try{Bre.on("connect",(()=>{console.log("WebSocket Client Connected successfully lorem ipsum "),console.log("Socket ID:",Bre.reservationId),Bre.emit("reservationId",d),Bre.on("conversation",(e=>{t((t=>[...t,e])),console.log(e)}))}));const e=await u.get("/conversations/"+d);e.data&&t(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,o.useEffect)((()=>{(async()=>{try{const e=await u.get("/conversations/"+d);e.data&&t(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]);const[h,p]=(0,o.useState)(0);function f(){u.post("/conversations",{authorDriverRole:1,driversId:e[0].driversId,sentTime:new Date,reservationId:e[0].reservationId,message:i}).then((r=>{var i,a,o;u.get("/conversations/"+e[0].reservationId).then((e=>t(e.data))).catch((e=>console.log(e))),u.post("/notifications",{Titre:"Nouveau message",message:"".concat(null===c||void 0===c?void 0:c.firstName," vous a envoy\xe9 un message \xe0 propos de votre ").concat(null===n||void 0===n||null===(i=n.Vehicle)||void 0===i||null===(a=i.VehicleModel)||void 0===a?void 0:a.marque," modele ").concat(null===n||void 0===n||null===(o=n.Vehicle)||void 0===o?void 0:o.VehicleModel.modele),userId:(null===c||void 0===c?void 0:c.id)||Av.Cc}).then((e=>{})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))}(0,o.useEffect)((()=>{(async()=>{try{const n=await u.get("/reservations/getbyid/"+d);if(n.data){var e,t;r(n.data);const i=new Date(null===(e=n.data)||void 0===e?void 0:e.endDate).getTime()-new Date(null===(t=n.data)||void 0===t?void 0:t.startDate).getTime();p(i/864e5)}}catch(n){console.error("Erreur lors de la requ\xeate Axios :",n)}})()}),[]);const[m,g]=(0,o.useState)(5),[v,b]=(0,o.useState)((null===c||void 0===c?void 0:c.id)||Av.Cc),[y,x]=(0,o.useState)(!1);return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(yv,{}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block",children:(0,It.jsx)(Tv,{})}),(0,It.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"row w-100  w-md-75 my-div ".concat(y?"hovered":""),onMouseEnter:()=>{x(!0)},onMouseLeave:()=>{x(!1)},children:[(0,It.jsx)("div",{className:"col-md-4 col-12",children:(0,It.jsxs)("div",{class:"col mx-auto position-relative",children:[(0,It.jsx)("img",{className:"me-2 img-fluid",src:null===n||void 0===n?void 0:n.Vehicle.principalPhotos,alt:"voiture",style:{borderRadius:"10px"}}),(0,It.jsxs)("div",{class:"position-absolute top-0 end-0 p-1 text-center float-end",children:["0"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-warning",children:[" ",(0,It.jsx)("i",{class:"bi bi-clock-history"})," Demande en attente"]}),"1"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-tertiary",children:[" ",(0,It.jsx)("i",{class:"bi bi-patch-check"})," Demande accept\xe9e"]}),"2"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-danger",children:[" ",(0,It.jsx)("i",{class:"bi bi-x-circle"})," Demande annul\xe9e"]}),"3"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-primary",children:[" ",(0,It.jsx)("i",{class:"bi bi-patch-check"})," Reservation pay\xe9e"]})]})]})}),(0,It.jsxs)("div",{className:"col-md-8 col-12",children:[(0,It.jsxs)("p",{className:"h1 text-tertiary",children:[" ",(0,It.jsx)("strong",{children:"D\xe9tails de la r\xe9servation"})]}),(0,It.jsxs)("p",{className:"h3",children:[null===n||void 0===n?void 0:n.Vehicle.VehicleModel.marque," ",null===n||void 0===n?void 0:n.Vehicle.VehicleModel.modele," ","0"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-warning",children:[" ",(0,It.jsx)("i",{class:"bi bi-clock-history"})," Demande en attente"]}),"1"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-tertiary",children:[" ",(0,It.jsx)("i",{class:"bi bi-patch-check"})," Demande accept\xe9e"]}),"2"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-danger",children:[" ",(0,It.jsx)("i",{class:"bi bi-x-circle"})," Demande annul\xe9e"]}),"3"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("span",{className:"badge bg-primary",children:[" ",(0,It.jsx)("i",{class:"bi bi-patch-check"})," Reservation pay\xe9e"]})]}),(0,It.jsxs)("p",{className:"small",children:["Propri\xe9taire de la voiture:"," ",(0,It.jsxs)("strong",{children:[null===n||void 0===n?void 0:n.Host.firstName," ",null===n||void 0===n?void 0:n.Host.lastName]})]}),(0,It.jsxs)("p",{className:"small",children:[ey()(new Date(null===n||void 0===n?void 0:n.startDate)).format("MMM Do YY")," ","\xe0"," ",ey()(new Date(null===n||void 0===n?void 0:n.endDate)).format("MMM Do YY")]}),"1"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)(Ne,{to:"/checkout?fraisVoyage=30&FreeMinDistance=".concat(n.VehiculeAnnonce.distanceOutMin,"&vehiculeAnnonceId=").concat(n.VehiculeAnnonce.vehiculeAnnonceId,"&priceU=").concat(n.VehiculeAnnonce.reservationPrice,"&NombreJour=").concat(h,"&vehicleId=").concat(n.Vehicle.id,"&reservationId=")+n.reservationId,className:"btn btn-primary  text-white float-end",children:[(0,It.jsx)("i",{class:"bi bi-bag-check-fill h6"})," Effectuer le paiment"]})]})]})}),"4"!=(null===n||void 0===n?void 0:n.status)&&(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container py-5",children:(0,It.jsxs)("div",{className:"",children:[(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flx jystify-content-between",children:[(0,It.jsx)("h3",{className:"mb-1",children:"Messages"}),(0,It.jsx)(Ne,{to:"/guest/chatbox/"+d,children:"Aller au messagerie"})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"chat-page",children:[(0,It.jsxs)("div",{className:"msg-inbox",children:[(0,It.jsx)("div",{className:"chats",children:(0,It.jsx)("div",{className:"msg-page annonce-list",children:e&&e.map((e=>(0,It.jsx)(It.Fragment,{children:"0"==e.authorDriverRole?(0,It.jsx)(NA,{data:e}):(0,It.jsx)(MA,{data:e})})))})}),(0,It.jsx)("div",{className:"msg-bottom",children:(0,It.jsxs)("div",{className:"input-group",children:[(0,It.jsx)("input",{className:"form-control",placeholder:"Taper un message...",value:i,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&f()}}),"0"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("span",{className:"input-group-text send-icon",children:(0,It.jsx)("i",{className:"bi bi-send",onClick:f})})})]})})]}),(0,It.jsx)("button",{type:"button",className:"col btn btn-danger mt-2 col-md-4 btn-rounded float-end mx-auto me-2",onClick:function(){window.confirm("\xcates-vous s\xfbr de vouloir annuler ce voyage ?")?(console.log("Action confirm\xe9e !"),u.post("/conversations",{authorDriverRole:1,driversId:e[0].driversId,sentTime:new Date,reservationId:e[0].reservationId,message:"L'invit\xe9 \xe0 annuler la reservation"}).then((n=>{u.get("/conversations/"+e[0].reservationId).then((e=>t(e.data))).catch((e=>console.log(e))),u.put("/reservations/"+e[0].reservationId,{status:"2"}).then((e=>{r(e.data),window.location.reload()})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))):console.log("Action annul\xe9e !")},children:"Annuler la reservation"}),"2"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsxs)("div",{class:"alert alert-danger col-md-6 mt-2",role:"alert",children:[(0,It.jsx)("i",{class:"bi bi-chat-right-dots-fill h5"})," Cette reservation a \xe9t\xe9 annul\xe9 Lorem ipsum dolor, sit amet consectetur adipisicing elit. Cumque, praesentium vero autem iste architecto error temporibus neque, soluta inventore vitae nostrum ducimus animi sint cupiditate aperiam minus, unde dolore est."]})]})]})})}),"4"===(null===n||void 0===n?void 0:n.status)&&(0,It.jsx)("section",{children:(0,It.jsx)("div",{className:"border rounded-3 row ",children:(0,It.jsxs)("div",{className:"col-md-12 col-12",children:[(0,It.jsxs)("p",{className:"h2 text-tertiary",children:[" ",(0,It.jsxs)("strong",{children:["Laissez un avis pour cette location termin\xe9e"," "]})]}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)(_l,{spacing:1,className:"mb-3",children:(0,It.jsx)(NT,{name:"size-large",value:m,onChange:(e,t)=>{g(t)},defaultValue:5,size:"large"})}),(0,It.jsx)("div",{className:"form-outline mb-3",children:(0,It.jsx)("textarea",{className:"form-control",id:"textAreaExample2",rows:"4",value:s,onChange:e=>l(e.target.value)})}),(0,It.jsx)("button",{type:"button",className:"col btn btn-tertiary  col-md-4 btn-rounded float-end mx-auto",onClick:function(){console.log("review: ",{rating:m,content:s}),u.post("/reviews",{rating:m,content:s,userId:v,vehiculeId:n.Vehicle.id}).then((e=>{dv.success("Avis ajout\xe9 pour cette location termin\xe9e")})).catch((e=>console.log(e)))},children:"Soumettre un avis"})]})]})})})]})]})]})})};const Vre=function(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(null),s=(0,xv.q)(),{reservationId:l}=ie();function c(){s.post("/conversations",{authorDriverRole:0,driversId:e[0].driversId,sentTime:new Date,reservationId:e[0].reservationId,message:n}).then((n=>{s.get("/conversations/"+e[0].reservationId).then((e=>t(e.data))).catch((e=>console.log(e)))})).catch((e=>console.log(e)))}return(0,o.useEffect)((()=>{(async()=>{try{const e=await s.get("/conversations/"+l);e.data&&t(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,o.useEffect)((()=>{const e=setInterval((()=>{(async()=>{try{const e=await s.get("/conversations/"+l);e.data&&t(e.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),2e3);return()=>clearInterval(e)}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsx)("section",{children:(0,It.jsx)("div",{className:"container py-5",children:(0,It.jsxs)("div",{className:"",children:[(0,It.jsx)("hr",{}),(0,It.jsx)("h3",{className:"mb-1",children:"Messages"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"chat-page",children:[(0,It.jsxs)("div",{className:"msg-inbox",children:[(0,It.jsx)("div",{className:"chats",children:(0,It.jsx)("div",{className:"msg-page",children:e&&e.map((e=>(0,It.jsx)(It.Fragment,{children:"1"==e.authorDriverRole?(0,It.jsx)(NA,{data:e}):(0,It.jsx)(MA,{data:e})})))})}),(0,It.jsx)("div",{className:"msg-bottom",children:(0,It.jsxs)("div",{className:"input-group",children:[(0,It.jsx)("input",{className:"form-control",placeholder:"Taper un message...",value:n,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&c()}}),(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("span",{className:"input-group-text send-icon",children:(0,It.jsx)("i",{className:"bi bi-send",onClick:c})})})]})})]}),(0,It.jsx)("button",{type:"button",className:"col btn btn-danger mt-2 col-md-4 btn-rounded float-end mx-auto me-2",onClick:function(){s.post("/conversations",{authorDriverRole:0,driversId:e[0].driversId,sentTime:new Date,reservationId:e[0].reservationId,message:"Le hote a annul\xe9 la reservation"}).then((n=>{s.get("/conversations/"+e[0].reservationId).then((e=>t(e.data))).catch((e=>console.log(e))),s.put("/reservations/"+e[0].reservationId,{status:"2"}).then((e=>a(e.data))).catch((e=>console.log(e)))})).catch((e=>console.log(e)))},children:"Annuler la reservation"}),"2"===(null===i||void 0===i?void 0:i.status)&&(0,It.jsxs)("div",{class:"alert alert-danger col-md-6 mt-2",role:"alert",children:[(0,It.jsx)("i",{class:"bi bi-chat-right-dots-fill h5"})," Cette reservation a \xe9t\xe9 annul\xe9 Lorem ipsum dolor, sit amet consectetur adipisicing elit. Cumque, praesentium vero autem iste architecto error temporibus neque, soluta inventore vitae nostrum ducimus animi sint cupiditate aperiam minus, unde dolore est."]})]})]})})})})})};var Ure=__webpack_require__(7154);const Hre="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAB8KSURBVHic7d17sK13Xd/x9zlJYIAESAjBkXuigAkiqPWGIVUBOxUL9UZlLOAFnPGGYHWmdTpt/2irUq2XtlOxKqKC2lYRvBWtowGRijcuAQJiwdEqECCQjEICSf94clgn4Zycvc9ea/2etZ7Xa+aZJCd7r/3da+/f7/me3+95Pk8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAmR0bXQBbd171KdWDq4dWD7rt3x9QXVDd7bZ/nlfde1CNwPpcX91c3VD93W3//Mvqnbcd77jtn2++7eNYCA3AfjtWfWr1mScdj6ruOrIoYJY+XL2u+sPqj6rXVm+sbh1ZFJujAdg/96i+sHpS9SXV/ceWA+yw91S/U/1K9bKm1QT2hAZgP1xQfWX1NdWV1bljywH20M3VK6ufqf5H01YCO0wDsLuOV59X/dPqadX5Y8sBFuRD1curF1T/O9sEO0kDsHvuWj29+q7qkwbXAvDW6vnVi6qbBtfCIWgAdsf51ddX/6zpin2AOXlX9V+r/1h9YHAtHIAGYP7uUn1b9c+riwbXAnAm763+XfUjua1w1jQA8/b46oeqy0cXAnBIb6u+u/rvowvh1DQA83R504n/8aMLATiiV1TPqd4yuhBu75zRBXA7x6pnV/+zevjgWgDW4bLqG6qPVK/JHQOzYQVgPh5S/WT198eWAbAxr66eUf3Z6EKY7iVnvK+tXp+TP7DfPq/64+qZg+sgWwCjndt0tezzk88PLMNdq6dUn9h0fcBHx5azXLYAxrm4+oXqC0YXAjDIq5pizP9mdCFLpAEY49Orl1YPHF0IwGB/UT25+tPRhSyNBmD7rmx6stY9RxcCMBM3NjUBvz26kCVxEeB2fUH1azn5A5zs/KaHC33x6EKWRAOwPV/adPL31D6Aj3f36mXVl40uZClsAWzHk5uen33u6EIAZu4jTU3Ay0cXsu80AJv32U3Py77H6EIAdsTfVU9sukuADdEAbNbl1SvzFD+Aw3pv00XTbx5dyL7SAGzOA5piL93qB3B2/qIpPfCvRheyj1wEuBl3rX4pJ3+Ao3hQ9YtJSt0IUcCb8SNNF/4BcDT3r+5V/froQvaNBmD9nlp97+giAPbIZ1dvb3poGmviGoD1elj12gT9AKzbjU2NwJtGF7IvXAOwPudUP5uTP8AmnF+9MCvXa+ONXJ/vrJ4xugiAPXb/6gPV748uZB/YAliPh1ZvSNgPwKb9bfWopmsCOAJbAEd3rHpBTv4A23D36sfyF9gj0wAc3ddUjx9dBMCCfEH11aOL2HU6qKO5S1NM5aWjCwFYmHdUj6g+PLiOnWUF4Gi+JSd/gBEeUn3j6CJ2mRWAs3dB9WfVJaMLAVio66rLqg+OLmQXWQE4e9+Vkz/ASBdXzxtdxK6yAnB27tH0lCqP+QUY6/qmB6/dOLqQXWMF4Ox8XU7+AHNw7+rpo4vYRVYADu9Y05X/Dx9dCABVva3pjoBbRheyS6wAHN6TcvIHmJNPrv7B6CJ2jQbg8L5ldAEAfJxvHV3ArrEFcDifUP1lHqIEMDe3NF0M+P9GF7IrrAAczlNz8geYo+PVl48uYpdoAA7nqaMLAOC0zNGHYAvg4B5YvTPvGcBc3doUz/6OwXXsBCsAB/fUnPwB5uxY9RWji9gVGoCDe8roAgA4oyePLmBX+BvtwVxUvTsXAALM3Ueb7ti6bnQhc2cF4GC+JCd/gF1wTkKBDkQDcDBfOroAAA7MnH0AtgDO7Lym5f97jy4EgAP5YHXf6qbRhcyZFYAzuyonf4Bdcs/qytFFzJ0G4MyeNLoAAA7N3H0GtgDO7G3VJ40uAoBD+fPqstFFzJkVgDt3eU7+ALvo0upTRhcxZxqAO+dKUoDdZQ6/ExqAO+eXB2B3mcPvhGsATk/6H8Bukwp4J6wAnJ70P4DdJhXwTmgATs/SEcDuM5efhi2AU5P+B7AfpAKehhWAU5P+B7AfpAKehgbg1CRIAewPc/op2AI4Nel/APtDKiAHcnl1q6Nbq5874nsJjPXzjZ9H5nJIBbwDWwAfzxWjKy8fXQBwJMbwirmdM3pV4zvVORwfqe5zxPcSGOui6ubGzydzOK4+4nvJnruo6cQ3+hd1DofBAvvhlY2fT+ZwfKS6+Ijv5V6xBXB70v9WLB3CfjCWJ1IB70ADcHv2iFZMGrAfjOUVc/xJ3Aa4Iv1v5e25DRL2yVurTx5dxAxIBTyJFYCVq3LyP+FlowsA1upXRxcwE1IBT6IBWJEUtfIrowsA1sqYXjHX38YWwIr0v8kHqkuyRAb7xBbnilTA21gBmFyek/8Jv5GTP+ybm6tXjC5iJi5NKmClATjBlaErrhiG/WRsr5jz+Rjpf6ugDOl/sJ+kAq4OQWdU0wlP+p9BAUsgFXA6pAJmC6Ck/53MEiHsN2N8IhUwDUC5JeRkJgfYb8b4yuKvA1j6bYBujVmR/gfLIBVwsvhUwKWvAFyVk/8J0v9gGaQCThafCrj0BmDxS0AnkRQGy2Csryx6C3jpWwDS/ybS/2A5bH2uLDoVcMkrANL/VqT/wXJIBVxZdCrgkhsAy/8rrgyGZTHmV5wLFkj63yoQQ/ofLItUwNUhAG1hpP/55Yelkwo4HYtNBVzqFoD0vxVLgbBMxv5ksamAS20AFn3rxx2YBGCZjP2VRV4HsMTbAN0CsyL9D5ZNKuBkkamAS1wBuCon/xOk/8GySQWcLDIVcIkNwCKXek5DIhgsmzlgZXFbw0vcApD+N5H+B9gSXVlcKuDSVgCk/61I/wOkAq4sLhVwaQ2A5f8VVwADZS44mXPEHpP+twq+kP4HlFTAkw/BaHtK+p9fcuDUpAJOx6JSAZe0BSD9b8WSH3Ayc8JkUamAS2oAFneLx50w2IGTmRNWFnMdwFJuA3Sry4r0P+BUpAJOFpMKuJQVgKty8j9B+h9wKlIBJ4tJBVxKA7CYJZ0DkPwFnIq5YWURW8ZL2QKQ/jeR/gecjq3SlUWkAi5hBUD634r0P+B0pAKuLCIVcAkNgOX/FVf6AnfGHLHi3LEHpP+tAi6k/wF3Rirg6hCYtuOk//llBg5HKuB07H0q4L5vAUj/W7G0BxyEuWKy96mA+94ALOJWjgMyqIGDMFes7PV1APt8G6BbWlak/wGHIRVwstepgPu8AnBVTv4nSP8DDkMq4OSe1eePLmJT9rkB2Oulm0OS8AUchjljZW/PJfu8BSD9byL9DzgsW6gre5sKuK8rANL/VqT/AYclFXBlb1MB97UB2Nslm7Pgil7gbJg7VpxTdoj0v1WQhfQ/4GxIBVwdgtR2hPS/1fG7R3wvgWW7uvHz2ByOvUwF3MctAOl/K67kBY7CHDLZy1TAfWwApP+t2MMDjsIcsrJ31wHs222Abl1Zkf4HrINUwMnepQLu2wrAVTn5nyD9D1gHqYCTvUsF3LcGYO+WaI7A3h2wDuaSlb06x+zbFoD0v4n0P2BdbK2u7FUq4D6tAEj/W5H+B6yLVMCVvUoF3KcGYK+WZo7IlbvAOplTVpxrZkj63yqwQvofsE5SAVeHVMCZkf63OqT/AZsgFXA69iYVcF+2AKT/rbhiF9gEc8tkb1IB96UBkP63Yq8O2ARzy8peXAewD7cBukVlRfofsElSASd7kQq4DysAV+Xkf4L0P2CTpAJO9iIVcB8agL1YilkTe3TAJpljVnb+3LMPWwDS/ybS/4BNs+W6svOpgLu+AiD9b0X6H7BpUgFXdj4VcNcbgJ1fglkjV+gC22CuWXEOGkj63yqYQvofsA1SAVeHVMBBpP+tDul/wDZJBZyOnU4F3OUtAOl/K67MBbbJnDPZ6VTAXW4ApP+t2JMDtsmcs7Kz1wHs6m2AbkVZkf4HjCAVcLKzqYC7ugJwVU7+J0j/A0aQCjjZ2VTAXW0AdnbJZQPsxQEjmHtWdvKctKtbANL/JtL/gFFsxa7sZCrgLq4AXJGT/wnS/4BRpAKu7GQq4C42AK7+X3ElLjCSOWhlJ7cBdo30v1UAhfQ/YCSpgKtDKuCGSf9bHdL/gDmQCjgdO5cKuGtbANL/VlyBC8yBuWiyc6mAu9YA2P9fsfcGzIG5aGWnzlG7dBugW05WpP8BcyIVcLJTt2bv0grAVTn5nyD9D5gTqYCTe7VDqYC71AC4xWLFnhswJ+aklZ05V+3SFoD0v8lOLTEBi2CLdmVnUgF3ZQVA+t+K9D9gbqQCruxMKuCuNAA7dWXlhrniFpgjc9OKc9YaSf9bBU1I/wPmSCrg6pAKuCbS/1aH9D9gzqQCTsdOpALuwhaA9L8VV9oCc2aOmuxEKuAuNAD2UlbssQFzZo5amf25a+63Abq1BIBdNPtbtue+AnBVTv4A7J7ZpwLOvQHYmUQlALiDWZ/D5r4FIP0PgF0161TAOa8ASP8DYJfNOhVwrrfXXVE9P4+XBGC3XVr9afWe0YXc0dy2AB5dPa96WvNtTgDgMG5temTyv61eM7iWj5lLA/Copr/xP3F0IQCwQf+r+s7qDaMLGX0NwH2qH6r+OCd/APbfFzdtCbyout/IQkYts59TPbf6xaZ7/Uc3IgCwLceqT6ueVX24em3TNsHWi9i2T6p+orpywNcGgLn5P9XXVm/e5hfd5grA8aZu56W5vQ8ATnhA9fVNTxF8TVtaDdjWCsAnVj/fzGMRAWCwq6t/Uv31pr/QNvber6z+MCd/ADiTx1Wvq75o019o01sAz6t+pumhCADAmd2jKQ/nxjaYG7CpLYBzqv9cfeOGXh8AluCFTdfPfWTdL7yJBuDuTfv9T9rAawPA0ry86bqAv13ni667Abioeln12DW/LgAs2R80/cV6bc8UWGcDcO/qt6vHrPE1AYDJ66svrN67jhdb110A96p+Myd/ANiUR1W/VV24jhdbRwNwj6b9ic9cw2sBAKf36KYnC15w1Bc6agNwXtPJX6wvAGzH5zY9S+e8o7zIUXMA/kv1FUd8DQDgcC6t7t904f1ZOUoD8B3VvzjC5wMAZ+8x1fVNDxM6tLO9C+BLql9u3OOEAYD6aNPtgb9x2E88mwbg/k05xfc5i88FANbr/U0XB/7FYT7psBcBHq9elJM/AMzFhdVPd8hV+cMu4X930zOLAYD5eHD1oepVB/2Ew2wBfFb1e9W5hywKANi8m6vPq/7wIB980Abg3KYcYkl/ADBfr68+owM8PfCgWwDPrZ5xlIoAgI27X9NFga850wceZAXgQdU11flHLAoA2Lwbqsurv7yzDzrIXQA/kJM/AOyKC6rvP9MHnWkF4DOb9v7X+dhgAGCzbq0+p+kcfkpnWgH49zn5A8CuOVb9mzN9wOk8rvrdtZYDAGzTF1S/c6r/cWcNwKuqx26iGgBgK66urjrV/zhdA/A51e9vrBwAYFs+u1NcC3C6awCes9laAIAt+dZT/eGpVgA+sXpHdd4mqwEAtuLm6qHVX538h6daAfjmnPwBYF+cVz37jn94xxWA49U7qwdsoyIAYCv+onpIUz5A9fErAFfm5A8A++ZBTU8K/Jg7NgBfvb1aAIAtut05/uQtgPOqv67us9VyAIBteE91/6aLAm+3AvC4nPwBYF/dt/r8E/9xcgPwxO3XAgBs0eNP/MvJDcATBhQCAGzPx871J64BuLh6V2d+OiAAsLs+Wl1Sve/ECf+LcvIHgH13TtMTAj920v+scbUAAFv092rVADx6YCEAwPY8plbXALy3umhcLQDAllxX3fdY9eCmp/8BAMvwwOPVFaOrAAC26pHHm1YAAIDleNDx6oGjqwAAtuqBx5seEQgALIcVAABYoAceb4oBBgCW477Hq7uPrgIA2Kq7Ha/uNroKAGCr7m4FAACW5+7Hqpurc0dXAgBszc3HqltHVwEAbNfxM38IALBvNAAAsEAaAABYIA0AACyQBgAAFkgDAAALpAEAgAXSAADAAmkAAGCBNAAAsEAaAABYIA0AACyQBgAAFkgDAAALpAEAgAU6d3QBbNy7q6ura6q3VG+t3l9dX91428ecX927urB6ePWI6orqyuqSLdcLrI/xz2kdq24dXQRr99rqJdUrqjd19j/jY00TwROrr64+cy3VAZtk/HMgGoD98cHqR6ufrN68oa9xefW11TdWF2zoawCHZ/xzaBqA3fe+6ger/9S0tLcNF1bfVj3ntn8HxjD+OZJbHTt53FK9qLrvx/9It+ai6oeqjzb+/XA4lnQY/44jH1YAdtPbqmdWrx5cxwmPrX6qumx0IbAAxj9r4TbA3fOL1Wc1n8Ff9XvVY6qfG10I7Dnjn7XRAOyOW6pvr7686Raeubmh6Urh72iqFVgf45+1swWwG26qntHudNhPq15YnTe4DtgHxj8boQGYv5uqp1S/PrqQQ/qS6pcyCcBRGP9sjC2Aebu1ela7N/irfrXpby2WA+HsGP9s1DnVvx5dBKf13OoFo4s4gjdWf9uUJAYcjvHPRtkCmK9fqJ46uog1eXHTBULAwRj/bJwGYJ7+rPqMpnjPfXCv6o+rS0cXAjvA+GcrXAMwP7dUT29/Bn/VB5qCSzSbcOeMf7ZGAzA/P1H9/ugiNuCVTdGlwOkZ/2yNLYB5eV/T87ivG13IhlxSXdv07HHg9ox/tsoKwLz8YPs7+KveXf3w6CJgpox/tsoKwHx8sHpI23uk5ygXVe/I88ThZMY/W2cFYD5e0P4P/pqWOX9sdBEwM8Y/W2cFYD4+tSk4Ywkur64ZXQTMiPHP1lkBmIfXtpzBX/Wm6k9GFwEzYfwzhAZgHl4yuoABXjy6AJgJ458hNADz8IrRBQzwW6MLgJkw/hnCNQDjvbv6hJb3czjW9L1fPLoQGMj4ZxgrAONd3fIGf03f89Wji4DBjH+G0QCMt+SrYZf8vUMtewws+XufBQ3AeG8ZXcBA144uAAYz/hlGAzDe20YXMNBbRxcAgxn/DKMBGG+fs7/PZMnfO9Syx8CSv/dZ0ACMd8PoAgZa8vcOtewxsOTvfRY0AOPdOLqAgUwALJ3xzzAaAABYIA3AeOePLmAgjwRl6Yx/htEAjLfkQbDk7x1q2WNgyd/7LGgAxltyFOaSv3eoZY+BJX/vs6ABGO9howsY6OGjC4DBjH+G0QCMt+RBsOTvHWrZY2DJ3/ssaADGe+ToAga6YnQBMJjxzzAeBzzeUh8Herx6V/YBWTbjn2GsAIx3ScvshD8tgx+Mf4bRAMzDE0YXMMDjRxcAM2H8M4QGYB6eNrqAAZb4PcOpLHEsLPF7nh3XAMzHp1ZvHF3EllxeXTO6CJgR45+tswIwH88YXcAWff3oAmBmjH+2zgrAfNxQPbh6/+hCNuyi6h2JAYWTGf9snRWA+big+tbRRWzBt2fwwx0Z/2ydFYB5eX9TOtZ7RheyIferrq3uNboQmCHjn62yAjAvF1bfM7qIDXp+Bj+cjvHPVlkBmJ9bq8+vXj26kDV7XPU7Tb9zwKkZ/2yNBmCe3l59RvWB0YWsyb2rP6ouHV0I7ADjn62wBTBPl1U/NrqINfrxDH44KOOfrdAAzNdXVs8dXcQafFf1ZaOLgB1j/LNxtgDm7dbqa6ufGl3IWXpa9dNpNOFsGP9slAZg/m6q/nH1a6MLOaQnVb9YnTe6ENhhxj8bozObv7tUv1x93ehCDuFrMvhhHYx/NkYDsBvObboo6DtGF3IGx5r2/F6UwQ/rYvyzEbYAds9Lm/42MLfM8Hs2TVJfNboQ2GPGP2ujAdhNb6+eWb1qcB0nPK56YfXQwXXAEhj/rIUtgN10WXV101LbJQPruKj60aaEL4MftsP4Zy2sAOy+66sfqn64et+WvuZ9qudU35ZsbxjJ+OesaQD2xw1Ne3A/UV2zoa/xyKb9x2dV52/oawCHZ/xzaBqA/fTH1Uuq36xe39n/jI9Xj6qe0BTq8ei1VAdskvHPgWgA9t91TfuFb6reXL21aanw+urG2z7m/KYHdlzU9DzyR1RXVFdWF2+5XmB9jH9OSwMAAAvkLgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAABggTQAALBAGgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAABggTQAALBAGgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAABggTQAALBAGgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAABggTQAALBAGgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAABggTQAALBAGgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAABggY5XN40uAgDYqg8fr24cXQUAsFU3HK9uGF0FALBVNxyvrhtdBQCwVdcdr946ugoAYKuuPV5dO7oKAGCrrj1evXF0FQDAVl1zrLqk+pvq2OBiAIDNu6W63/Hq3dU1g4sBALbjdd12EWDVb46sBADYmt+qVRTwiwcWAgBsz4vr9vv+b6geOaYWAGAL3lRdUbd/GNBPjakFANiSHz/xLyevAFxQvbO6cOvlAACb9r7qId32CICTVwBuqH5kQEEAwOb9YCc9/+eO9/5f2JQMeN9tVgQAbNS7qodXHzjxB+fc4QM+VL23evIWiwIANuubqj84+Q9Olf53rHpl9dhtVAQAbNTV1d+vbj35D08X/3tZ9UfVvTZbEwCwQddXn1H9+R3/x/GP/9iq3l59wyYrAgA27us7xcm/Pv4agJO9qbpn9bmbqAgA2Kjv607u7ruzBqCmZwQ8uHr0OisCADbqxdU3d4d9/5Md5BHA51Uvrf7hmooCADbnV6ovq26+sw860wpATc8N/oXqAdVjjl4XALAhP1M9rTOc/OtgDUBNTcDLq3tUn3f2dQEAG3Br9fymZf+PHuQTDrIFcEdPqX4izwwAgDn4YPWsptX6AzubBqDq0uqF1ZVn+fkAwNFdXT2z+r+H/cTT5QCcyZ9XV1XPqN59lq8BAJyd91Xf2JTwd+iTfx38GoDTeV3136q/qz6tutsRXw8AOL33Vt/TdKHfq4/yQme7BXAq51fPrr6uumKNrwsAS/fGpuvvfqy6cR0vuM4G4GSPaepOnlB9ame/1QAAS3RL9fqmQL4XV3+67i+wqQbgZBdXj6surz6lelh1UXXvplWDu2yhBgCYm5ua/jZ/fdOe/rXVW6prmp7Ke90mv/g2GoAzOW1MIRv30erc0UUAw5h/xxp6DrY0D7BMc/gLIANpAABggTQAALBAGgAAWCANAAAskAYAABZIAwAAC6QBAIAF0gAAwAJpAJZNEAjAQmkAAGCBNAAAsEAaAABYIA0AACyQBgAAFkgDAAALpAEAgAXSAADAAmkAAGCBNAAAsEAagGUTBQywUBoAAFggDQAALJAGAAAWSAMAAAukAQCABdIAAMACaQAAYIE0AACwQBoAAFggDcCySQIEWKg5NAA3jS5gwT48ugBgmFurm0cXsWDD5985NAA3ji5gwW4YXQAwlPl3nOHz7xwagOFvwoJ572HZzAHjDH/v59AAXDe6gAXz3sOymQPGGf7ez6EBeOvoAhbs2tEFAEOZf8cZPv/OoQEY/iYsmPcels0cMM7w934ODcAbRxewYNeMLgAYyvw7zvD5dw73gV9S/U3zqGVJbqnu1wz2oYBhzL9jzGL+ncMKwLubQSe0QK/LyR+W7t3Vm0YXsUCzmH/n0ABU/eboAhbot0YXAMzCK0YXsECzmH/n0gC8eHQBC+Q9B6peMrqABZrF/DunfZ83VI8cXcRCvKm6YnQRwGy8MXPCtsxm/p3LCkDVT40uYEF+fHQBwKy8cHQBCzKb+XdOKwAXVO+sLhxdyJ57X/WQZhBDCczGPat3ZP7dtFnNv3NaAbih+pHRRSzADzaTXz5gNj6Y+XcbZjX/zmkFoKbu89rqvqML2VPvqh5efWB0IcDsXNgUDXzx6EL21Ozm33NGF3AHH6reWz15dCF76puqPxhdBDBLH2paov5HowvZU+bfAzhW/V51q2Otx+82vxUfYF6OVa9q/Hy1b4f59xAuq65v/A9tX473V5ce6icALJX51/w73Fc2/ge3L8eXHfK9B5bN/Gv+He4HGv/D2/Xjew/9rgPU9zd+/tr1w/x7BMeaAipG/xB39fjZ5nWrJ7A7zL/m3+HuUv1q43+Yu3a8vDrvLN5vgBPMv+bf4c5tik8c/UPdleOn88sHrIf51/w73PHqPzT+hzvn45amPSe3mwDrZP41/87CU5rCKkb/sOd2fKD6qiO8rwBnYv41/w53WfXKxv/Q53L8bvXQI72jAAdj/jX/DnesenpTvvLoX4BRx3urZ2fJCdgu86/5dxbuXf2rph/G6F+IbR3XVf+yutca3j+As2X+ZRYuqJ5XvbHxvyCbOt5QPbc6f03vGcA6mH+ZjU+vnl/9adOVmaN/cc72+Gj1J9X3VY9e6zsEsBnm3x2xhL2Li6vHVZdXn1I9rLqoaenq/Kagi5Fuqm5sevjG+6prq7dU1zRdaHPduNIAjuTE/HtF9YjMvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALBz/j9braC1iq08kQAAAABJRU5ErkJggg==",qre=JSON.parse('{"jy":{"0":"Ethanol","1":"Diesel","2":"Gazole","3":"Hydrog\xe8ne"},"wz":{"0":"2","1":"3","2":"4","3":"5","4":"6","5":"7+"},"fR":{"0":"2","1":"3","2":"4","3":"5","4":"6","5":"7","6":"8","7":"9+"}}'),Gre=e=>{let{centers:t,centercoords:n,Ischanged:r}=e;const i=te(),[a,s]=(0,o.useState)(t);return(0,o.useEffect)((()=>{s(t)}),[,r,t,n,i.pathname]),(0,It.jsx)(It.Fragment,{children:(0,It.jsxs)(GT,{center:n,zoom:16,style:{height:i.pathname.includes("search")?"100vh":"500px",width:(i.pathname.includes("search"),"100%")},scrollWheelZoom:!1,children:[(0,It.jsx)(rI,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,It.jsxs)(oI,{children:[a.map((e=>(0,It.jsx)(sI,{position:[parseFloat(e.locationCoordinates.split(",")[0]),parseFloat(e.locationCoordinates.split(",")[1])],icon:new(FT().DivIcon)({className:"custom-marker",html:'<div class="badge-container"><span class="badge bg-tertiary" style="font-size: 16px;"><ion-icon name="car-sport-outline"></ion-icon> '.concat(e.reservationPrice,"\u20ac</span>\n                  </div>")}),children:(0,It.jsx)(lI,{children:(0,It.jsxs)("div",{style:{textAlign:"center"},children:[(0,It.jsx)("strong",{children:e.locationAddress}),(0,It.jsx)("br",{}),"Price: $",e.reservationPrice]})})},e.vehiculeAnnonceId))),(0,It.jsx)(cI,{center:n,radius:400,fillColor:"blue",fillOpacity:.2})]})]})})};const Yre=function(e){let{data:t,NombreAvis:n,MeanRating:r}=e;const i=t.createdAt,a=new Date(i).toLocaleDateString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return(0,It.jsx)(Ne,{to:"#",children:(0,It.jsx)("div",{className:"border border-primary bg-body-tertiary rounded mb-2 w-100 d-md-block w-md-75",children:(0,It.jsxs)("div",{class:"row p-2",children:[(0,It.jsxs)("div",{class:"col-md-3 col",style:{width:"270px"},children:[(0,It.jsx)("img",{src:t.UserProfile.profile_url||Cv,alt:"",width:"40px"}),(0,It.jsxs)("div",{children:[(0,It.jsx)(_l,{spacing:1,className:"mb-3",children:(0,It.jsx)(NT,{name:"size-large",value:t.rating,size:"medium",readOnly:!0})}),(0,It.jsx)("small",{className:"text-muted",children:a})]})]}),(0,It.jsxs)("div",{class:"col-md-6 col text-muted",children:[(0,It.jsxs)("h4",{children:[" ",t.UserProfile.firstName," ",t.UserProfile.lastName]}),(0,It.jsx)("p",{children:t.content})]})]})})})};const Xre=function(e){var t,n,r,i,a,s;let{annonceID:l,vehiculeId:c}=e;const u=l,[d,h]=(0,o.useState)([]),[p,f]=(0,o.useState)({vehiculeAnnonceId:1,reservationPrice:"300",locationMode:"0",vehiculeType:"Voyage",vehiculeId:1,minDistanceInclus:"0",additionalDriverInclus:"0",annulationAnnonceDelayBefore:"1",carburantInclus:"1",supplementJeuneDriver:"0",distanceOutMin:"300",locationAddress:"Grenoble Gare",locationCoordinates:"45.1914,5.714",createdAt:"2024-01-29T16:53:03.000Z",updatedAt:"2024-01-29T16:53:07.000Z",Vehicle:{vehiculeId:1,description:"Voiture Tesla ",images:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Tesla_Model_Y_1X7A6211.jpg",modeleId:1603,userId:1,kilometrage:"2",VehicleModel:{id:1603,marque:"VOLVO",modele:"480"},UserProfile:{id:1,firstName:"Fatah",lastName:"Ahmed",city:"Paris",country:"France",immatriculation:"AXT5-780"}}}),[m,g]=(0,o.useState)([]),[v,b]=(0,o.useState)([]),[y,x]=(0,o.useState)(null),[w,_]=(0,o.useState)(null),k=te(),S=new URLSearchParams(k.search),C=S.get("start"),A=S.get("end");var T=C.split(" ");T=T.slice(1,4).join(" ")+" "+T[4]+" "+T[5];var I=A.split(" ");I=I.slice(1,4).join(" ")+" "+I[4]+" "+I[5];var E=new Date(T),N=new Date(I),M=E.getFullYear()+"-"+("0"+(E.getMonth()+1)).slice(-2)+"-"+("0"+E.getDate()).slice(-2),j=N.getFullYear()+"-"+("0"+(N.getMonth()+1)).slice(-2)+"-"+("0"+N.getDate()).slice(-2);const[D,R]=(0,o.useState)(M),[P,O]=(0,o.useState)(j);(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/vehicleAnnonces/getannoncebyid/")+u);e.data&&(f(e.data),g(e.data.Vehicle.images.split(",")));const t=await Ure.A.get("".concat(Av.f9,"/api/vehicleOptionRecords/")+e.data.Vehicle.id);e.data&&b(t.data);const n=await Ure.A.get("".concat(Av.f9,"/api/deliverylocation/getannoncebyid/")+u);n.data&&x(n.data[0].addressEmplacementDelivery);const r=await Ure.A.get("".concat(Av.f9,"/api/availabilities/getbyvehiculeid/")+e.data.Vehicle.id);r.data&&_(r.data);const i=await Ure.A.get("".concat(Av.f9,"/api/discounts/getbyvehiculeid/")+e.data.Vehicle.id);i.data&&ie(i.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/reviews/getbyvehiculeId/")+p.Vehicle.id);if(e.data){const t=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));h(t)}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[p]);const[L,F]=(0,o.useState)("08:30"),[z,B]=(0,o.useState)("22:30"),W=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,It.jsx)("option",{value:a,children:a},a))}return e},V=e=>{const t=e.getDay();return 0===t?6:t-1};function U(e,t,n){let r=0,i=new Date(t);const a=new Date(n);for(;i<=a;){const t=V(i);let n=0;e&&(n=e[t].Default_price),r+=n,i.setDate(i.getDate()+1)}return r}const[H,q]=(0,o.useState)(0),[G,Y]=(0,o.useState)(0),[X,K]=(0,o.useState)(!1),[Z,J]=(0,o.useState)(!1),[Q,$]=(0,o.useState)(null),[ee,ne]=(0,o.useState)(null),[re,ie]=(0,o.useState)(null),[ae,oe]=(0,o.useState)(""),[se,le]=(0,o.useState)(0),[ce,ue]=(0,o.useState)(null),[de,he]=(0,o.useState)(null);(0,o.useEffect)((()=>{if(D&&P&&w){var e=(new Date(P).getTime()-new Date(D).getTime())/864e5;Y(e),q(e*w[0].Default_price),re.length>0&&(e>3?le(re[0].pourcentage_reduction):e>7?le(re[1].pourcentage_reduction):e>14?le(re[2].pourcentage_reduction):e>30?le(re[3].pourcentage_reduction):e>60&&le(re[4].pourcentage_reduction))}}),[D,P]),(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/unavailabilities/getbyvehiculeid-date/")+p.Vehicle.id+"?date="+D);e.data.length>0?($(e.data[0].start_date),ne(e.data[0].end_date),K(!0),console.log("StartDate:",Q),console.log("EndDate:",ee)):K(!1);const t=new Date(Q),n=new Date(ee),r=new Date(D),i=new Date(P);K(t<=r&&r<=n||t<=i&&i<=n||r<=t&&n<=i)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[D]),(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/unavailabilities/getbyvehiculeid-date/")+p.Vehicle.id+"?date="+P);e.data.length>0?($(e.data[0].start_date),ne(e.data[0].end_date),K(!0),J(!0)):(K(!1),J(!1));const t=new Date(Q),n=new Date(ee),r=new Date(D),i=new Date(P);J(t<=r&&r<=n||t<=i&&i<=n||r<=t&&n<=i)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[P]);const[pe,fe]=(0,o.useState)([]),[me,ge]=(0,o.useState)({}),[ve,be]=(0,o.useState)(0),[ye,xe]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e={};d.forEach((t=>{e[t.rating]=(e[t.rating]||0)+1}));let t=0;d.forEach((n=>{e[n.rating]=(e[n.rating]||0)+1,t+=parseInt(n.rating)})),ge(e);const n=t/d.length;be(n),xe(d.length)}),[d]);const we=e=>{pe.includes(e)?fe(pe.filter((t=>t!==e))):fe([...pe,e])},_e=0===pe.length?d:d.filter((e=>pe.includes(e.rating.toString()))),ke=Dt()(E),Se=Dt()(N),[Ce,Ae]=(0,o.useState)([ke,Se]);return(0,o.useEffect)((()=>{if(E&&N&&w&&re){var e=(new Date(N).getTime()-new Date(E).getTime())/864e5;console.log("NOMBRE JOUR",e),Y(e),q(e*w[0].Default_price),re.length>0&&(e>3?le(re[0].pourcentage_reduction):e>7?le(re[1].pourcentage_reduction):e>14?le(re[2].pourcentage_reduction):e>30?le(re[3].pourcentage_reduction):e>60&&le(re[4].pourcentage_reduction)),console.log("DISCOUNT",re)}}),[w]),(0,o.useEffect)((()=>{(async()=>{try{const t=await Ure.A.get("".concat(Av.f9,"/api/unavailabilities/getbyvehiculeid/")+c);if(t.data.length>0)for(var e=0;e<t.data.length;e++){const n=new Date(t.data[e].start_date),r=new Date(t.data[e].end_date),i=E,a=N;console.log("start",i),console.log("end",a);const o=n<=i&&i<=r||n<=a&&a<=r||i<=n&&r<=a;if(K(o),!0===o)break}}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()}),[]),(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{id:"myCarousel",class:"carousel slide mb-6 pointer-event","data-bs-ride":"carousel",children:[(0,It.jsxs)("div",{class:"carousel-indicators",children:[(0,It.jsx)("button",{type:"button","data-bs-target":"#myCarousel","data-bs-slide-to":"0",class:"","aria-label":"Slide 1"}),(0,It.jsx)("button",{type:"button","data-bs-target":"#myCarousel","data-bs-slide-to":"1","aria-label":"Slide 2",class:"active","aria-current":"true"}),(0,It.jsx)("button",{type:"button","data-bs-target":"#myCarousel","data-bs-slide-to":"2","aria-label":"Slide 3",class:""})]}),(0,It.jsxs)("div",{class:"carousel-inner",children:[(0,It.jsx)("div",{class:"carousel-item",children:(0,It.jsx)("img",{src:m[0],alt:"",width:" 100%"})}),(0,It.jsx)("div",{class:"carousel-item active",children:(0,It.jsx)("img",{src:m[1],alt:"",width:"100%"})}),(0,It.jsxs)("div",{class:"carousel-item",children:[(0,It.jsx)("img",{src:m[2],alt:"",width:"100%"})," "]})]}),(0,It.jsxs)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#myCarousel","data-bs-slide":"prev",children:[(0,It.jsx)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),(0,It.jsx)("span",{class:"visually-hidden",children:"Previous"})]}),(0,It.jsxs)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#myCarousel","data-bs-slide":"next",children:[(0,It.jsx)("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),(0,It.jsx)("span",{class:"visually-hidden",children:"Next"})]})]}),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsx)("div",{class:"",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-8 mb-3",children:(0,It.jsxs)("div",{className:"w-100 d-md-block my-div",children:[(0,It.jsx)("h1",{children:p.Vehicle.description}),(0,It.jsxs)("span",{className:"mb-3",children:[(0,It.jsx)("strong",{children:"5.0"})," (1 Voyage)"]}),(0,It.jsxs)("div",{className:"row mb-3",children:[(0,It.jsxs)("div",{className:"col",children:[(0,It.jsxs)("div",{className:"row mb-2",children:[" ",(0,It.jsx)("div",{className:"col-1 me-3",children:(0,It.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",viewBox:"0 0 24 24",class:"seo-pages-0",role:"img",version:"1.1",children:[(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M9.58 15.24c0 1.6 1.3 2.9 2.9 2.9a2.9 2.9 0 0 0 2.89-2.9c0-1.02-1.11-3.29-2.04-5.02-.34-.63-1.37-.63-1.71 0-.93 1.73-2.04 4-2.04 5.02Zm1.25 0c0-.52.64-2.05 1.65-3.97 1.01 1.92 1.64 3.46 1.65 3.97 0 .91-.74 1.65-1.65 1.65-.91 0-1.65-.74-1.65-1.65Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M20.95 22.35V1.62c0-.34-.27-.62-.62-.62h-4.87c-1.04 0-2.04.39-2.8 1.1a.61.61 0 0 0-.04.88c.24.25.63.27.89.03.53-.49 1.22-.76 1.95-.76h4.25V4.5H9.84c-.16 0-.32.07-.44.18L4.19 9.89c-.11.11-.18.27-.18.44v12.03c0 .34.27.62.62.62h15.7c.35 0 .63-.28.62-.63Zm-1.24-.62H5.26V10.59l4.84-4.84h9.61v15.98Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214",d:"M4.18 7.43a.63.63 0 0 0 .89-.01l1.85-1.85c.24-.24.24-.64 0-.88a.628.628 0 0 0-.88 0L4.18 6.55c-.24.24-.24.64 0 .88Z"})]})}),(0,It.jsx)("div",{className:"col",children:qre.jy[p.Vehicle.carburantType]})]}),(0,It.jsxs)("div",{className:"row",children:[" ",(0,It.jsx)("div",{className:"col-1 me-3",children:(0,It.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",fill:"none",viewBox:"0 0 24 24",class:"seo-pages-0",role:"img",version:"1.1",children:[(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M14.32 5.75h1.16c.45 0 .86-.23 1.11-.6.25-.37.3-.84.13-1.25l-.35-.86a1.83 1.83 0 0 0-1.7-1.14H9.29c-.75 0-1.42.45-1.7 1.15l-.35.86c-.17.41-.12.88.13 1.25s.66.59 1.11.59h1.16v.992A3.484 3.484 0 0 0 6.34 9.6l-.89 4.85c-.08.41-.09.81-.03 1.2a2.877 2.877 0 0 0-1.92 2.7v.8c0 1.58 1.28 2.87 2.86 2.87h11.21a2.88 2.88 0 0 0 2.87-2.86v-.8c0-1.48-1.16-2.73-2.63-2.85-.28-.02-.55.17-.65.44a2.443 2.443 0 0 1-2.68 1.59l-.92-.15c-.63-.1-1.26-.13-1.88-.11-.03 0-.69.01-1.3.11l-.91.15c-.79.13-1.57-.13-2.13-.7-.25-.25-.43-.54-.55-.85a.358.358 0 0 0-.04-.11 2.51 2.51 0 0 1-.07-1.19l.89-4.86A2.24 2.24 0 0 1 9.77 8h4.39c1.08 0 2 .77 2.2 1.83l.68 3.71a.626.626 0 0 0 1.23-.23l-.68-3.71a3.484 3.484 0 0 0-3.27-2.856V5.75Zm-1.24 0h-2.2v.99h2.2v-.99Zm-3.79-2.6c-.24 0-.45.14-.54.37l-.35.86.08.12h7c.01 0 .05 0 .07-.04l-.34-.94a.577.577 0 0 0-.54-.36H9.29v-.01ZM5.81 16.84c-.62.23-1.06.83-1.06 1.51v.8c0 .89.72 1.61 1.61 1.61h11.2c.89 0 1.61-.72 1.61-1.61v-.8c0-.69-.44-1.29-1.07-1.52-.75 1.4-2.28 2.18-3.84 1.93l-.91-.15c-.54-.09-1.1-.12-1.64-.1-.01 0-.61.01-1.14.1l-.91.15c-1.2.19-2.37-.2-3.22-1.07-.26-.25-.47-.54-.63-.85Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M13.87 16.27a1.558 1.558 0 0 0 1.37-.46c.36-.37.51-.89.42-1.4l-.58-3.19a2.047 2.047 0 0 0-2.01-1.68h-2.19c-.99 0-1.83.71-2.01 1.68l-.58 3.18c-.09.51.07 1.03.43 1.4.36.37.87.54 1.39.46l1.23-.2c.4-.06.81-.06 1.21 0l1.32.21Zm-1.14-1.44a5.322 5.322 0 0 0-1.59 0l-1.23.2a.35.35 0 0 1-.3-.1.338.338 0 0 1-.09-.3l.58-3.18c.07-.38.4-.65.78-.65h2.2c.38 0 .71.27.78.65l.58 3.19c.03.15-.04.25-.09.3a.35.35 0 0 1-.3.1l-1.32-.21Z","clip-rule":"evenodd"})]})}),(0,It.jsxs)("div",{className:"col",children:[qre.fR[p.Vehicle.siegeNumber]," ","Si\xe8ges"]})]})]}),(0,It.jsx)("div",{className:"col",children:(0,It.jsxs)("div",{className:"row",children:[" ",(0,It.jsx)("div",{className:"col-1 me-3",children:(0,It.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",fill:"none",viewBox:"0 0 24 24",class:"seo-pages-0",role:"img",version:"1.1",children:[(0,It.jsx)("path",{fill:"#121214",d:"M19.67 21.45H7.27c-1.33 0-2.5-.85-2.91-2.1l-2.2-6.68c-.38-1.14-.05-2.4.83-3.21l6.08-5.63c.8-.75 2.28-1.33 3.38-1.33h8.92c.35 0 .62.28.62.62 0 .34-.28.62-.62.62h-8.92c-.78 0-1.96.46-2.53.99l-6.09 5.64c-.52.48-.71 1.23-.49 1.9l2.2 6.68c.25.75.94 1.25 1.72 1.25h12.4c.59 0 1.07-.48 1.07-1.07V5.51c0-.34.28-.62.62-.62.34 0 .62.28.62.62v13.61a2.3 2.3 0 0 1-2.3 2.33Z"}),(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M18.15 11.33H6.92c-.7 0-.93-.39-1-.56-.06-.17-.16-.62.35-1.1l4.27-4.03c.46-.43 1.27-.76 1.9-.76h5.71c.81 0 1.47.66 1.47 1.47v3.51c0 .81-.66 1.47-1.47 1.47Zm-10.5-1.25h10.5c.13 0 .22-.1.22-.22v-3.5c0-.12-.1-.22-.22-.22h-5.71c-.31 0-.82.2-1.04.42l-3.75 3.52Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214",d:"M17.04 13.72h1.95c.35 0 .62-.28.62-.62 0-.34-.27-.62-.62-.62h-1.95c-.34 0-.62.28-.62.62 0 .34.27.62.62.62Z"})]})}),(0,It.jsxs)("div",{className:"col",children:[qre.wz[p.Vehicle.porteNumber]," ","portes"]})]})})]}),(0,It.jsx)("h3",{children:"Votre hote"}),(0,It.jsxs)("div",{className:"d-lex justify-content-center mb-3",children:[(0,It.jsx)("div",{children:(0,It.jsx)("img",{src:"",alt:""})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{children:(0,It.jsxs)("strong",{children:[null===p||void 0===p||null===(t=p.Vehicle)||void 0===t||null===(n=t.UserProfile)||void 0===n?void 0:n.firstName," ",null===p||void 0===p||null===(r=p.Vehicle)||void 0===r||null===(i=r.UserProfile)||void 0===i?void 0:i.lastName,"."]})}),(0,It.jsxs)("p",{children:["1 Voyage."," ",(0,It.jsxs)("span",{className:"text-success",children:["Membre depuis le"," ",ey()(null===p||void 0===p||null===(a=p.Vehicle)||void 0===a||null===(s=a.UserProfile)||void 0===s?void 0:s.createdAt).calendar()]})]}),(0,It.jsx)("small",{className:"text-muted",children:"R\xe9pond habituellement en 1 minute"}),(0,It.jsx)("p",{children:p.Vehicle.description}),(0,It.jsx)("div",{className:"row",children:v&&v.map(((e,t)=>(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)("p",{children:(0,It.jsx)("span",{className:"badge bg-tertiary",children:e.VehicleOption.name})})},t)))}),(0,It.jsx)("h3",{children:"\xc9valuations et commentaires"}),(0,It.jsx)("span",{children:ve}),(0,It.jsxs)("p",{children:[ye," \xe9valuation"]}),(0,It.jsxs)("dl",{className:"row",children:[(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",id:"excellentCheckbox",checked:pe.includes("5"),onChange:()=>we("5")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"excellentCheckbox",children:"EXCELLENT"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Excellent Progress","aria-valuenow":me[5]?me[5]/d.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(me[5]?me[5]/d.length*100:0,"%")},children:me[5]?"".concat((me[5]/d.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",id:"veryGoodCheckbox",checked:pe.includes("4"),onChange:()=>we("4")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"TRES BIEN"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":me[4]?me[4]/d.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(me[4]?me[4]/d.length*100:0,"%")},children:me[4]?"".concat((me[4]/d.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",id:"veryGoodCheckbox",checked:pe.includes("3"),onChange:()=>we("3")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"MOYEN"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":me[3]?me[3]/d.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(me[3]?me[3]/d.length*100:0,"%")},children:me[3]?"".concat((me[3]/d.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",id:"veryGoodCheckbox",checked:pe.includes("2"),onChange:()=>we("2")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"PASSABLE"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":me[2]?me[2]/d.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(me[2]?me[2]/d.length*100:0,"%")},children:me[2]?"".concat((me[2]/d.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",id:"veryGoodCheckbox",checked:pe.includes("1"),onChange:()=>we("1")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"MAUVAIS"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":me[1]?me[1]/d.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(me[1]?me[1]/d.length*100:0,"%")},children:me[1]?"".concat((me[1]/d.length*100).toFixed(2),"%"):""})})})]}),(0,It.jsx)("div",{className:"col-md-8 mb-3",children:_e&&_e.map((e=>(0,It.jsx)(Yre,{annuler:!0,data:e},e.id)))}),0===_e.length&&(0,It.jsx)("small",{className:"text-muted",children:"II n\u2019y a pas assez d\u2019\xe9valuations"}),(0,It.jsx)("h3",{children:"Commentaires"})]})]})]})}),(0,It.jsx)("div",{className:"col-md-3",children:(0,It.jsxs)("div",{className:"w-100 d-md-block my-div",children:[(0,It.jsx)("h2",{className:"mb-2",children:D&&P&&(0,It.jsxs)("strong",{children:[U(w,D,P),"\u20ac au total"]})}),(0,It.jsx)("a",{className:"mb-3","data-bs-toggle":"offcanvas",href:"#offcanvasExample"+l,role:"button","aria-controls":"offcanvasExample"+l,children:"Voir les prix en d\xe9tails"}),(0,It.jsx)("hr",{}),(0,It.jsx)(Mt,{dateAdapter:Zt,children:(0,It.jsx)(Dg,{components:["DateRangePicker"],children:(0,It.jsx)(Ig,{localeText:{start:"D\xe9but",end:"Fin"},value:Ce,onChange:e=>{var t,n;Ae(e);let r=new Date(null===(t=e[0])||void 0===t?void 0:t.$d),i=new Date(null===(n=e[1])||void 0===n?void 0:n.$d),a="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")),o="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0"));console.log("Date de debut",a),console.log("Date de fin",o),ue(a),he(o),R(a),O(o)},renderInput:(e,t)=>(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("input",{...e}),(0,It.jsx)("input",{...t})]})})})}),(0,It.jsxs)("div",{class:" mt-3 d-flex justify-content-between w-100 p",children:[(0,It.jsx)("div",{className:"col-md-5",children:(0,It.jsx)("select",{class:"form-select form-select-lg mb-3","aria-label":"Small select example",value:L,onChange:e=>{F(e.target.value),console.log(e.target.value)},children:W()})}),(0,It.jsx)("span",{children:"--"}),(0,It.jsx)("div",{className:"col-md-5",children:(0,It.jsx)("select",{class:"form-select form-select-lg mb-3","aria-label":"Small select example",value:z,onChange:e=>{B(e.target.value),console.log(e.target.value)},children:W()})})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("span",{className:"mb-3",children:(0,It.jsx)("strong",{children:"Lieu de prise en charge et de retour"})}),(0,It.jsx)("p",{children:y}),(0,It.jsx)("div",{className:" small text-muted mb-2",children:"Nous vous enverrons l\u2019adresse compl\xe8te d\xe8s que votre trajet sera r\xe9serv\xe9."}),(0,It.jsxs)("div",{class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasExample"+l,"aria-labelledby":"offcanvasExampleLabel"+l,children:[(0,It.jsxs)("div",{class:"offcanvas-header",children:[(0,It.jsx)("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"+l,children:"D\xe9tails du prix"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,It.jsx)("div",{class:"offcanvas-body",children:(0,It.jsxs)("dl",{class:"row",children:[(0,It.jsxs)("dt",{class:"col-sm-3",children:[H," \u20ac \xd7 ",G+1," jour"]}),w&&(0,It.jsx)("dd",{class:"col-sm-9",children:U(w,D,P)}),(0,It.jsx)("dt",{class:"col-sm-3",children:"Frais de voyage"}),(0,It.jsx)("dd",{class:"col-sm-9",children:(0,It.jsxs)("p",{children:[8,"\u20ac"]})}),(0,It.jsx)("dt",{class:"col-sm-3",children:"TVA"}),(0,It.jsxs)("dd",{class:"col-sm-9",children:[2,"\u20ac"]}),(0,It.jsx)("dt",{class:"col-sm-3 text-truncate",children:"Total"}),(0,It.jsxs)("dd",{class:"col-sm-9",children:[10,"\u20ac"]})]})})]}),G>3&&re.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 3 jours ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[re[0].pourcentage_reduction*U(w,D,P)/100,"\u20ac"]})]}),!X&&!Z&&G>7&&re.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 7 jours ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[re[1].pourcentage_reduction*U(w,D,P)/100,"\u20ac"]})]}),!X&&!Z&&G>14&&re.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 2 semaines ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[re[2].pourcentage_reduction*U(w,D,P)/100,"\u20ac"]})]}),!X&&!Z&&G>30&&re.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 30 jours ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[re[3].pourcentage_reduction*U(w,D,P)/100,"\u20ac"]})]}),!X&&!Z&&G>60&&re.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 2 mois ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[re[4].pourcentage_reduction*U(w,D,P)/100,"\u20ac"]})]}),(0,It.jsx)("button",{className:"btn btn-tertiary w-100 mb-2",disabled:X,onClick:function(){oe("&endDate="+j+"&endTime="+z+"&startDate="+M+"&startTime="+L+"&reservationLocationType=HOME&vehicleId="+p.Vehicle.id),window.location.href="".concat(Av.AJ,"/onboarding?action=CHECKOUT")+"&endDate="+j+"&endTime="+z+"&startDate="+M+"&startTime="+L+"&reservationLocationType=HOME&vehicleId="+p.Vehicle.id+"&NombreJour="+G+"&priceU="+w[0].Default_price+"&fraisVoyage=8&Tva=2&Reduction="+se+"&FreeMinDistance="+p.distanceOutMin+"&annonceId="+p.vehiculeAnnonceId},children:"Continuer"}),X&&(0,It.jsx)("div",{className:"small alert alert-danger",children:"Cette voiture n\u2019est pas disponible pour la p\xe9riode indiqu\xe9e."}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,It.jsx)("ion-icon",{name:"heart-dislike-outline"}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("span",{children:(0,It.jsx)("strong",{children:"Annulation gratuite"})})}),(0,It.jsx)("p",{className:"text-muted",children:"Remboursement complet avant le 18 janv., 10:00"})]})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("p",{className:"text-align-left",children:["Distance incluse: ",p.distanceOutMin," km"," "]}),(0,It.jsx)("small",{className:"text-muted text-align-left",children:"Frais de 0,13\u20ac pour chaque kilom\xe8tre suppl\xe9mentaire parcouru"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"text-align-left",children:[(0,It.jsx)("p",{children:"Assurance et protection"}),(0,It.jsx)("p",{children:"Assurance fournie par AXA France"})]}),(0,It.jsx)("hr",{className:"text-muted"}),(0,It.jsx)("button",{className:"btn btn-success w-100 mb-2",children:"Ajouter aux favoris"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex align-items-center flex-column mb-3",children:[(0,It.jsx)("a",{className:"mb-2",href:"#",children:"Signaler l'annonce"}),(0,It.jsx)("a",{href:"#",children:"Condition d'annulation"})]})]})})]})})})}),(0,It.jsx)(Gre,{centers:Array(p),centercoords:[parseFloat(p.locationCoordinates.split(",")[0]),parseFloat(p.locationCoordinates.split(",")[1])]})]})};const Kre=function(e){var t,n,r,i;let{propsData:a,onAjouter:s}=e;const l=te(),c=new URLSearchParams(l.search),u=(0,xv.q)(),d=c.get("start"),h=c.get("end");var p=d.split(" ");p=p.slice(1,4).join(" ")+" "+p[4]+" "+p[5];var f=h.split(" ");f=f.slice(1,4).join(" ")+" "+f[4]+" "+f[5];var m=new Date(p),g=new Date(f);const[v,b]=(0,o.useState)(!1),[y,x]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("selectedVoitures"))||[],t=e.findIndex((e=>e.id_de_la_voiture===a.Vehicle.id));x(-1!==t),console.log("voitures selectionn\xe9es",e)}),[a.Vehicle.id,y]);const w=e=>{var t;const n={dateEntree:m,dateSortie:g,prix_par_jour:a.reservationPrice,nombre_de_jours:(new Date(f).getTime()-new Date(p).getTime())/864e5,id_de_la_voiture:e,image_principal:null===a||void 0===a||null===(t=a.Vehicle)||void 0===t?void 0:t.images.split(",")[0],driverId:a.Vehicle.userId,vehiculeAnnonceId:a.vehiculeAnnonceId},r=JSON.parse(localStorage.getItem("selectedVoitures"))||[];-1===r.findIndex((e=>e.id_de_la_voiture===n.id_de_la_voiture))?(r.push(n),localStorage.setItem("selectedVoitures",JSON.stringify(r)),s()):console.log("La voiture est d\xe9j\xe0 s\xe9lectionn\xe9e."),x(!0)},_=e=>{let t=JSON.parse(localStorage.getItem("selectedVoitures"))||[];const n=t.findIndex((t=>t.id_de_la_voiture===e));-1!==n?(t.splice(n,1),localStorage.setItem("selectedVoitures",JSON.stringify(t)),console.log("La voiture a \xe9t\xe9 supprim\xe9e de la liste.")):console.log("La voiture n'existe pas dans la liste."),x(!1)};(0,o.useEffect)((()=>{(async()=>{try{const t=await u.get("/unavailabilities/getbyvehiculeid/"+a.Vehicle.id);if(t.data.length>0)for(var e=0;e<t.data.length;e++){const n=new Date(t.data[e].start_date),r=new Date(t.data[e].end_date),i=m,a=g;console.log("start",i),console.log("end",a);const o=n<=i&&i<=r||n<=a&&a<=r||i<=n&&r<=a;if(b(o),!0===o)break}}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()}),[]);const[k,S]=(0,o.useState)(null),[C,A]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{fetch("".concat(Av.AJ,"/location-voiture/").concat(a.vehiculeAnnonceId)).then((e=>{if(!e.ok)throw new Error("Erreur lors du chargement du contenu.");return e.text()})).then((e=>{S(e),A(!1),console.log(e)})).catch((e=>{console.error(e),S("Erreur lors du chargement du contenu."),A(!1)}))}),[a.vehiculeAnnonceId]),(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("div",{className:"my-div styled-image w-100 d-md-block w-md-75 d-none d-md-block",children:(0,It.jsxs)("div",{className:"d-flex row align-items-center",children:[(0,It.jsxs)("div",{className:"col-md-5 col-12",children:[(0,It.jsxs)("div",{className:"col mx-auto position-relative",children:[C?(0,It.jsx)(lT,{height:160}):(0,It.jsx)("img",{className:"img-fluid",src:(null===a||void 0===a||null===(t=a.Vehicle)||void 0===t||null===(n=t.images)||void 0===n?void 0:n.split(",")[0])||Hre,alt:"Annonce",style:{borderRadius:"0.3rem",height:"160px",width:"100%"},"data-bs-toggle":"modal","data-bs-target":"#fullScreen"+a.vehiculeAnnonceId}),!C&&(0,It.jsx)("div",{className:"position-absolute top-0 end-0 p-1 text-center float-end",children:(0,It.jsx)("div",{className:"badge bg-white text-secondary",children:"SUR RENDEZ-VOUS"})})]}),(0,It.jsx)("div",{className:"modal fade",id:"fullScreen"+a.vehiculeAnnonceId,tabIndex:"-1","aria-labelledby":"fullScreenLabel","aria-hidden":"true",children:(0,It.jsx)("div",{className:"modal-dialog modal-fullscreen",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("div",{className:"modal-header",children:(0,It.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),(0,It.jsx)("div",{className:"modal-body",children:C?(0,It.jsx)(lT,{count:5}):(0,It.jsx)(Xre,{annonceID:a.vehiculeAnnonceId,vehiculeId:a.Vehicle.id})})]})})})]}),(0,It.jsx)("div",{className:"col-md-7 col-12",children:(0,It.jsxs)("div",{className:"row p-2",children:[(0,It.jsxs)("div",{className:"col-md-6 col-12",children:[(0,It.jsx)("h3",{children:C?(0,It.jsx)(lT,{}):a.Vehicle.description}),C?(0,It.jsx)(lT,{width:150,height:20}):(0,It.jsx)("a",{href:"/location-voiture/"+a.vehiculeAnnonceId,className:"badge bg-primary text-white",children:"Moovicar Connect"}),(0,It.jsxs)("p",{className:"text-tertiary",children:[(0,It.jsx)("i",{className:"bi bi-star-fill h5"})," 4.33 (3)"]}),(0,It.jsxs)("p",{children:[(0,It.jsx)("i",{className:"bi bi-geo-alt h5"})," ",C?(0,It.jsx)(lT,{width:80}):"".concat(null===a||void 0===a?void 0:a.distance," km")]})]}),(0,It.jsxs)("div",{className:"col-md-6 col-12",children:[(0,It.jsx)("p",{className:"h2",children:(0,It.jsxs)("span",{className:"badge bg-tertiary",children:[(0,It.jsx)("i",{className:"bi bi-tags"})," ",(0,It.jsx)("strong",{children:C?(0,It.jsx)(lT,{width:50}):"".concat(a.reservationPrice," \u20ac")})]})}),v?(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("p",{className:"text-danger h4",children:"No disponible"}),(0,It.jsx)("p",{className:"text-secondary h6",children:"Plus d'infos"})]}):(0,It.jsxs)(It.Fragment,{children:[y?(0,It.jsxs)("button",{className:"btn btn-danger text-white",onClick:()=>_(a.Vehicle.id),children:[(0,It.jsx)("i",{className:"bi bi-trash3-fill h6"})," Annuler la demande"]}):(0,It.jsxs)("button",{className:"btn btn-primary text-white",onClick:()=>w(a.Vehicle.id),children:[(0,It.jsx)("i",{className:"bi bi-plus-square-fill h6"}),"Demande de r\xe9servation"]}),(0,It.jsx)("p",{className:"text-secondary h6",children:"Plus d'infos"})]}),(0,It.jsx)("small",{className:"text-muted float-end",children:C?(0,It.jsx)(lT,{width:50}):"Pour ".concat(null===a||void 0===a?void 0:a.nombreJours," jours")})]})]})})]})}),(0,It.jsx)("div",{className:"my-div mb-2 w-100 d-md-block w-md-75 d-md-none d-block",children:(0,It.jsxs)("div",{className:"d-flex row align-items-center",children:[(0,It.jsxs)("div",{className:"col-md-4 col-12",children:[(0,It.jsxs)("div",{className:"col-md-6 mx-auto position-relative",children:[C?(0,It.jsx)(lT,{height:160}):(0,It.jsx)("img",{className:"img-fluid",src:(null===a||void 0===a||null===(r=a.Vehicle)||void 0===r||null===(i=r.images)||void 0===i?void 0:i.split(",")[0])||Hre,alt:"Annonce",style:{borderRadius:"0.3rem",height:"160px",width:"100%"},"data-bs-toggle":"modal","data-bs-target":"#fullScreen"+a.vehiculeAnnonceId}),!C&&(0,It.jsx)("div",{className:"position-absolute top-0 end-0 p-1 text-center float-end",children:(0,It.jsx)("div",{className:"badge bg-white text-secondary",children:"SUR RENDEZ-VOUS"})})]}),(0,It.jsx)("div",{className:"modal fade",id:"fullScreen"+a.vehiculeAnnonceId,tabIndex:"-1","aria-labelledby":"fullScreenLabel","aria-hidden":"true",children:(0,It.jsx)("div",{className:"modal-dialog modal-fullscreen",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("div",{className:"modal-header",children:(0,It.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),(0,It.jsx)("div",{className:"modal-body",children:C?(0,It.jsx)(lT,{count:5}):(0,It.jsx)(Xre,{annonceID:a.vehiculeAnnonceId,vehiculeId:a.Vehicle.id})})]})})})]}),(0,It.jsx)("div",{className:"col-md-8 col-12",children:(0,It.jsxs)("div",{className:"row p-2",children:[(0,It.jsxs)("div",{className:"col",children:[(0,It.jsx)("h3",{children:C?(0,It.jsx)(lT,{}):a.Vehicle.description}),C?(0,It.jsx)(lT,{width:150,height:20}):(0,It.jsx)("a",{href:"/location-voiture/"+a.vehiculeAnnonceId,className:"badge bg-primary text-white",children:"Moovicar Connect"}),(0,It.jsxs)("p",{className:"text-tertiary",children:[(0,It.jsx)("i",{className:"bi bi-star-fill small"})," 4.33 (3)"]}),(0,It.jsxs)("p",{children:[(0,It.jsx)("i",{className:"bi bi-geo-alt small"})," ",C?(0,It.jsx)(lT,{width:80}):"".concat(null===a||void 0===a?void 0:a.distance," km")]})]}),(0,It.jsxs)("div",{className:"col",children:[(0,It.jsx)("p",{className:"h2 float-end",children:(0,It.jsxs)("span",{className:"badge bg-tertiary",children:[(0,It.jsx)("i",{className:"bi bi-tags"})," ",(0,It.jsx)("strong",{children:C?(0,It.jsx)(lT,{width:50}):"".concat(a.reservationPrice," \u20ac")})]})}),v?(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("p",{className:"text-danger h5 float-end",children:"No disponible"})}):(0,It.jsx)(It.Fragment,{children:y?(0,It.jsxs)("button",{className:"btn btn-danger text-white float-end",onClick:()=>_(a.Vehicle.id),children:[(0,It.jsx)("i",{className:"bi bi-trash3-fill h6"})," Annuler la demande"]}):(0,It.jsxs)("button",{className:"btn btn-primary text-white float-end",onClick:()=>w(a.Vehicle.id),children:[(0,It.jsx)("i",{className:"bi bi-plus-square-fill h6"})," Demande de r\xe9servation"]})}),(0,It.jsx)("small",{className:"text-muted float-end mt-1",children:C?(0,It.jsx)(lT,{width:50}):"Pour ".concat(null===a||void 0===a?void 0:a.nombreJours," jours")})]})]})})]})})]})};const Zre=function(){const[e,t]=(0,o.useState)(!1),n=re(),r=te(),i=new URLSearchParams(r.search),[a,s]=(0,o.useState)(""),[l,c]=(0,o.useState)(!0),[u,d]=(0,o.useState)([]),[h,p]=(0,o.useState)("1"),[f,m]=(0,o.useState)("1"),g=i.get("start"),v=i.get("end");var b=g.split(" ");b=b.slice(1,4).join(" ")+" "+b[4]+" "+b[5];var y=v.split(" ");y=y.slice(1,4).join(" ")+" "+y[4]+" "+y[5];const x=Dt()(b),w=Dt()(y),[_,k]=(0,o.useState)([x,w]),[S,C]=(0,o.useState)(!1),[A,T]=(0,o.useState)([0,0]);(0,o.useEffect)((()=>{0!==A[0]&&0!==A[1]&&I(A[0],A[1])}),[A,_]);const I=(e,t)=>{n("/search?address="+a+"&center="+A+"&address_source=mapbox&longitude="+A[0]+"&latitude="+A[1]+"&start="+new Date(_[0])+"&end="+new Date(_[1])),O(A[0]),R(A[1]);(async()=>{try{const n=await Ure.A.get("".concat(Av.f9,"/api/vehicleAnnonces/search-listing?latitude=")+t+"&longitude="+e);if(n.data){const r=_[0];let i=_[1].diff(r,"hours");const a=Math.floor(i/24),o=n.data.map((n=>{const[r,i]=n.locationCoordinates.split(","),o=G(t,e,parseFloat(r),parseFloat(i)).toFixed(2);return{...n,distance:o,nombreJours:a}}));d(o),H(!1),console.log("Afficher les annonces avec les distances",o)}}catch(n){console.error("Erreur lors de la requ\xeate Axios :",n),H(!0)}})()},[E,N]=(0,o.useState)(!1),[M,j]=(0,o.useState)(u);(0,o.useEffect)((()=>{(()=>{let e=[...u];"2"===h?e.sort(((e,t)=>e.reservationPrice-t.reservationPrice)):"3"===h&&e.sort(((e,t)=>t.reservationPrice-e.reservationPrice)),d(e),j(E?u.filter((e=>e.Vehicle.UserProfile.AcceptanceRate>=30)):u),H(!1)})()}),[h,u]),(0,o.useEffect)((()=>{(()=>{let e=[...u];"2"===f?e.sort(((e,t)=>e.distance-t.distance)):"3"===f&&e.sort(((e,t)=>t.distance-e.distance)),d(e),H(!1)})()}),[f,u]);const[D,R]=(0,o.useState)(i.get("latitude")),[P,O]=(0,o.useState)(i.get("longitude"));(0,o.useEffect)((()=>{const e=new URLSearchParams(r.search),t=e.get("latitude"),n=e.get("longitude");(async()=>{try{const a=await Ure.A.get("".concat(Av.f9,"/api/vehicleAnnonces/search-listing?latitude=")+t+"&longitude="+n);if(a.data){const o=e.get("start"),s=e.get("end");var r=o.split(" ");r=r.slice(1,4).join(" ")+" "+r[4]+" "+r[5];var i=s.split(" ");i=i.slice(1,4).join(" ")+" "+i[4]+" "+i[5];const l=Dt()(r);let c=Dt()(i).diff(l,"hours");const u=Math.floor(c/24),h=a.data.map((e=>{const[r,i]=e.locationCoordinates.split(","),a=G(t,n,parseFloat(r),parseFloat(i)).toFixed(2);return{...e,distance:a,nombreJours:u}}));d(h),H(!1),console.log("Afficher les annonces avec les distances",h)}}catch(a){console.error("Erreur lors de la requ\xeate Axios :",a),H(!0)}})()}),[]);const[L,F]=(0,o.useState)(0),[z,B]=(0,o.useState)([]),W=()=>{const e=JSON.parse(localStorage.getItem("selectedVoitures"))||[];B(e),F(e.length)},V=JSON.parse(window.localStorage.getItem("me")),[U,H]=(0,o.useState)(!0);function q(e){return e*(Math.PI/180)}function G(e,t,n,r){const i=q(n-e),a=q(r-t),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(q(e))*Math.cos(q(n))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))*1}return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("section",{className:"bg-body-tertiary",children:(0,It.jsxs)("div",{className:"",children:[(0,It.jsx)("section",{children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-2",children:(0,It.jsx)(zg,{handleSelectLocation:e=>{T(e.center),s(e.place_name),C(!S)},resetInput:l})}),(0,It.jsx)("div",{className:"col-md-3",children:(0,It.jsx)(Mt,{dateAdapter:Zt,children:(0,It.jsx)(Dg,{components:["DateRangePicker"],children:(0,It.jsx)(Ig,{localeText:{start:"D\xe9but",end:"Fin"},value:_,onChange:e=>{var t,r;k(e),n("/search?address="+a+"&center="+A+"&address_source=mapbox&longitude="+A[0]+"&latitude="+A[1]+"&start="+new Date(_[0])+"&end="+new Date(_[1]));let i=new Date(null===(t=e[0])||void 0===t?void 0:t.$d),o=new Date(null===(r=e[1])||void 0===r?void 0:r.$d),s="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0")),l="".concat(o.getFullYear(),"-").concat(String(o.getMonth()+1).padStart(2,"0"),"-").concat(String(o.getDate()).padStart(2,"0"));console.log("Date de debut",s),console.log("Date de fin",l)},renderInput:(e,t)=>(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("input",{...e}),(0,It.jsx)("input",{...t})]}),disablePastDates:!0})})})})]})}),(0,It.jsx)("section",{children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsxs)("button",{className:"btn btn-tertiary d-block d-md-none","data-bs-toggle":"modal","data-bs-target":"#fullScreenMap",children:[(0,It.jsx)("i",{class:"bi bi-map h3"})," Afficher la carte"]}),(0,It.jsx)("div",{class:"modal fade",id:"fullScreenMap",tabindex:"-1","aria-labelledby":"fullScreenLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog modal-fullscreen",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsx)("div",{class:"modal-header",children:(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),(0,It.jsx)("div",{class:"modal-body",children:(0,It.jsx)(Gre,{centers:u,centercoords:[D,P]})})]})})}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"row mb-2",children:[(0,It.jsx)("div",{className:"col-md-3",children:(0,It.jsxs)("select",{class:"form-select ","aria-label":"Default select example",onChange:e=>{p(e.target.value)},children:[(0,It.jsx)("option",{value:"1",children:"Peu importe"}),(0,It.jsx)("option",{value:"2",children:"Prix croissant"}),(0,It.jsx)("option",{value:"3",children:"Prix decroissant"})]})}),(0,It.jsx)("div",{className:"col-md-3",children:(0,It.jsxs)("select",{class:"form-select ","aria-label":"Default select example",onChange:e=>{m(e.target.value)},children:[(0,It.jsx)("option",{value:"1",children:"Peu importe"}),(0,It.jsx)("option",{value:"2",children:"Distance croissant"}),(0,It.jsx)("option",{value:"3",children:"Distance decroissant"})]})}),(0,It.jsx)("div",{className:"col-md-3",children:(0,It.jsxs)("button",{type:"button",class:"btn btn-primary text-white","data-bs-toggle":"modal","data-bs-target":"#moreFilter",children:[(0,It.jsx)("i",{class:"bi bi-filter-square h5"})," Filtres"]})})]}),(0,It.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,It.jsx)("h2",{children:(0,It.jsx)("span",{children:(0,It.jsxs)("strong",{children:["Plus de ",u.length," voitures disponibles"," ",(0,It.jsxs)("button",{type:"button",class:"btn btn-primary position-relative text-white float-end","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",children:["Demandes",(0,It.jsxs)("span",{class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger text-white",children:[L,(0,It.jsx)("span",{class:"visually-hidden",children:"unread messages"})]})]}),(0,It.jsx)("div",{class:"modal fade",id:"moreFilter","aria-hidden":"true","aria-labelledby":"moreFilterLabel",tabindex:"-1",children:(0,It.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsxs)("div",{class:"modal-header",children:[(0,It.jsx)("h2",{class:"modal-title fs-5",id:"moreFilterLabel",children:"Filtres"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"modal-body",children:[(0,It.jsx)("hr",{}),(0,It.jsx)("div",{class:"mb-3",children:(0,It.jsxs)("div",{className:"form-check form-switch",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",onChange:e=>{N(e.target.checked)}}),(0,It.jsxs)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault5",style:{fontSize:"13px"},children:[(0,It.jsx)("p",{children:"Taux d'acceptation"}),(0,It.jsx)("p",{children:(0,It.jsx)("small",{className:"text-muted",children:"Sup\xe9rieur \xe0 30%"})})]})]})}),(0,It.jsx)("hr",{}),(0,It.jsx)("button",{className:"btn btn-primary text-white w-100",children:"Rechercher"})]})]})})}),(0,It.jsxs)("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel",children:[(0,It.jsxs)("div",{class:"offcanvas-header",children:[(0,It.jsx)("h5",{class:"offcanvas-title",id:"offcanvasRightLabel",children:"Voitures selectionn\xe9s"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"offcanvas-body",children:[" ",(0,It.jsxs)("div",{children:[(0,It.jsx)("h2",{children:"Liste des \xe9l\xe9ments s\xe9lectionn\xe9s :"}),(0,It.jsx)("hr",{}),(0,It.jsx)("div",{className:"voiture-list",children:z.map(((e,t)=>(0,It.jsxs)("div",{className:"voiture-item",children:[(0,It.jsx)("img",{src:e.image_principal,alt:"Voiture"}),(0,It.jsx)("div",{className:"voiture-details float-end",children:(0,It.jsxs)("div",{className:"text-muted float-end",children:["Prix par jour : ",e.prix_par_jour,"\u20ac"]})})]},t)))}),z.length>0&&(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("button",{className:"btn btn-tertiary float-end",onClick:function(){for(let e=0;e<z.length;e++)Ure.A.post("".concat(Av.f9,"/api/reservations"),{driverHoteId:z[e].driverId,driverInviteId:(null===V||void 0===V?void 0:V.id)||Av.Cc,vehiculeId:z[e].id_de_la_voiture,startDate:z[e].dateEntree,endDate:z[e].dateSortie,vehiculeAnnonceId:z[e].vehiculeAnnonceId,PaymentIntentId:null}).then((t=>{Ure.A.post("".concat(Av.f9,"/api/conversations"),{authorDriverRole:1,driversId:z[e].driverId,sentTime:new Date,reservationId:t.data.reservationId,message:"Salut, je souhaite r\xe9server votre v\xe9hicule, si c'est possible "}).then((t=>{e===z.length-1&&(window.localStorage.removeItem("selectedVoitures"),window.location.href="".concat(Av.AJ,"/guest/listing/reservations"))})).catch((e=>console.log(e)))})).catch((e=>console.log(e)))},children:"Demander les r\xe9servations"})})]})]})]})]})})}),(0,It.jsx)("small",{className:"mb-3 text-muted",children:"Ces voitures peuvent \xeatre r\xe9cup\xe9r\xe9es dans cette ville."}),(0,It.jsxs)("div",{className:"annonce-list",children:[M&&M.map((e=>(0,It.jsx)(Kre,{propsData:e,onAjouter:W}))),0===M.length&&(0,It.jsx)("p",{children:"Il ny'a pas d'annonce sur ce secteur, veuillez r\xe9ssayer avec une autre adresse"})]})]}),(0,It.jsxs)("div",{className:"col-md-6 p-0 mb-3 colmd6map ".concat(e?"show-map":""),children:[(0,It.jsx)("h2",{children:"V\xe9hicule mapping"}),U?(0,It.jsx)(lT,{width:50}):(0,It.jsx)(Gre,{centers:u,centercoords:[D,P],Ischanged:S})]})]})})]})})})};var Jre=__webpack_require__(3638);const Qre=function(e){let{Data:t}=e;return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("div",{className:"card mb-2  ",children:(0,It.jsxs)("div",{className:"px-2 py-2  rounded  d-flex justify-content-between align-items-center",children:[(0,It.jsxs)("div",{className:"",children:[(0,It.jsx)("span",{className:"badge bg-danger",children:"Indisponilit\xe9(s)"}),(0,It.jsxs)("p",{className:"text-muted",children:[t.startDate,",",t.startTime," - ",t.endDate,",",t.endTime]})]}),(0,It.jsx)("i",{class:"bi bi-chevron-double-right"})]})})})};const $re=function(){const e=(0,xv.q)(),{vehiculeId:t}=ie(),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(""),[s,l]=(0,o.useState)("00:00"),[c,u]=(0,o.useState)("00:00"),[d,h]=(0,o.useState)([]),[p,f]=(0,o.useState)([]),[m,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{let t=window.localStorage.getItem("VehicleStorage");t=JSON.parse(t);const n=await e.get("/hoteavailabilities/"+t.userId),r=await e.get("/hoteunavailabilities/"+t.userId);r.data&&w(r.data),n.data&&(h(n.data.filter((e=>"0"===e.ModeAvailability))),f(n.data.filter((e=>"1"===e.ModeAvailability))),g(n.data.filter((e=>"0"===e.ModeAvailability))[0].alwaysAvailable),b(n.data.filter((e=>"1"===e.ModeAvailability))[0].alwaysAvailable))})()}),[]);const y=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,It.jsx)("option",{value:a,children:a},a))}return e},[x,w]=(0,o.useState)([]);return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(yv,{}),(0,It.jsx)(ry,{}),(0,It.jsx)("h1",{className:"mb-3",children:"Heures de prise en charge et de retour"}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block d-flex justify-content-start",children:(0,It.jsx)(Iv,{vehiculeId:t})}),(0,It.jsxs)("div",{className:"col-md-6 mb-3 card p-2",children:[(0,It.jsxs)("div",{class:"alert alert-success mb-3",role:"alert",children:[(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsx)("h3",{class:"me-2",children:(0,It.jsx)("i",{class:"bi bi-blockquote-left"})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Bloquer des disponibilit\xe9s"})}),(0,It.jsx)("p",{children:"Indiquez les moments o\xf9 vous n'etes pas disponibles pour rencontrer les invit\xe9s"}),(0,It.jsxs)("small",{className:"text-muted",children:[x.length," dates d'indisponibilit\xe9s ajout\xe9es"]})]})]}),(0,It.jsx)("div",{class:"d-flex justify-content-end",children:(0,It.jsx)("button",{type:"button",class:"btn btn-tertiary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Bloquer des disponibilit\xe9s"})}),(0,It.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,It.jsx)("div",{class:"modal-dialog",children:(0,It.jsxs)("div",{class:"modal-content",children:[(0,It.jsxs)("div",{class:"modal-header",children:[(0,It.jsx)("h2",{class:"modal-title fs-5",id:"exampleModalLabel",children:"Bloquer des disponibilit\xe9s"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,It.jsxs)("div",{class:"modal-body",children:[(0,It.jsx)("p",{className:"mb-3",children:"Bloquez vos disponibilit\xe9s de prise en charge et de retour, de sorte que seuls les voyages d\xe9butant et se terminant en dehors de ces p\xe9riodes puissent \xeatre r\xe9serv\xe9s."}),(0,It.jsx)("h3",{children:"Bloquer des disponibilit\xe9s"}),(0,It.jsx)("small",{children:"D\xe9but"}),(0,It.jsxs)("div",{class:"d-flex justify-content-start",children:[(0,It.jsx)("div",{class:"mb-3 me-2",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"exampleFormControlInput1",value:n,onChange:e=>r(e.target.value)})}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:s,onChange:e=>{l(e.target.value)},children:y()})]}),(0,It.jsx)("small",{children:"Fin"}),(0,It.jsxs)("div",{class:"d-flex justify-content-start",children:[(0,It.jsx)("div",{class:"mb-3 me-2",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"exampleFormControlInput1",value:i,onChange:e=>a(e.target.value)})}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:c,onChange:e=>{u(e.target.value)},children:y()})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("button",{className:"btn btn-tertiary mb-2 w-100",onClick:function(){(async()=>{let t=window.localStorage.getItem("VehicleStorage");t=JSON.parse(t);if((await e.post("/hoteunavailabilities",{userId:t.userId,startDate:new Date(n),endDate:new Date(i),startTime:s,endTime:c})).data){const n=await e.get("/hoteunavailabilities/"+t.userId);n.data&&w(n.data)}})()},children:"Enregistrer"}),(0,It.jsxs)("div",{class:"alert alert-success mb-3",role:"alert",children:[(0,It.jsxs)("div",{class:"d-flex justify-content-center",children:[(0,It.jsx)("h3",{class:"me-2",children:(0,It.jsx)("i",{class:"bi bi-arrow-left-right"})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Bloquer la disponibilit\xe9 du v\xe9hicule"})}),(0,It.jsx)("p",{children:"Votre v\xe9hicule peut \xeatre utilis\xe9 pour un voyage durant votre p\xe9riode d\u2019indisponibilit\xe9. Pour bloquer \xe9galement la disponibilit\xe9 du v\xe9hicule, acc\xe9dez au calendrier."})]})]}),(0,It.jsx)("div",{class:"d-flex justify-content-end",children:(0,It.jsx)("a",{type:"button",href:"",class:"btn btn-outline-tertiary",children:"Aller vers le calendrier"})})]}),(0,It.jsx)("hr",{}),x&&(0,It.jsxs)(It.Fragment,{children:[" ",x.map((e=>(0,It.jsx)(Qre,{Data:e},e.id)))]})]})]})})})]}),(0,It.jsxs)("ul",{class:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[(0,It.jsx)("li",{class:"nav-item",role:"presentation",style:{width:"33%"},children:(0,It.jsx)("button",{class:"nav-link w-100 active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true",children:"Accueil"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",style:{width:"33%"},children:(0,It.jsx)("button",{class:"nav-link w-100",id:"pills-delivery-tab","data-bs-toggle":"pill","data-bs-target":"#pills-delivery",type:"button",role:"tab","aria-controls":"pills-delivery","aria-selected":"false",children:"Livraison"})}),(0,It.jsx)("li",{class:"nav-item",role:"presentation",style:{width:"33%"},children:(0,It.jsx)("button",{class:"nav-link w-100",id:"pills-personalized-tab","data-bs-toggle":"pill","data-bs-target":"#pills-personalized",type:"button",role:"tab","aria-controls":"pills-personalized","aria-selected":"false",children:"Personnalis\xe9e"})})]}),(0,It.jsxs)("div",{class:"tab-content",id:"pills-tabContent",children:[(0,It.jsxs)("div",{class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab",tabindex:"0",children:[(0,It.jsx)("h3",{children:"Heures de prise en charge et de retour \xe0 votre domicile"}),(0,It.jsx)("p",{className:"mb-3",children:"Les invit\xe9s peuvent r\xe9server uniquement des voyages qui commencent et se terminent lorsque vous \xeates disponible. Les heures d\xe9finies s\u2019appliquent \xe0 tous vos v\xe9hicules."}),(0,It.jsxs)("div",{className:"card mb-3",children:[" ",(0,It.jsxs)("div",{className:"form-check form-switch d-flex justify-content-between p-2",children:[(0,It.jsx)("label",{className:"form-check-label py-1",htmlFor:"flexSwitchCheckDefault5",children:(0,It.jsx)("strong",{children:"Toujours disponible"})}),(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",style:{height:"30px",width:"70px"},checked:m,onChange:function(){(async()=>{let t=window.localStorage.getItem("VehicleStorage");t=JSON.parse(t),g(!m);let n=!m;if((await e.put("/hoteavailabilities/updateHoteAvailabilitiesByUserId/"+t.userId,{alwaysAvailable:n,ModeAvailability:"0"})).data){const n=await e.get("/hoteavailabilities/"+t.userId);n.data&&(h(n.data.filter((e=>"0"===e.ModeAvailability))),f(n.data.filter((e=>"1"===e.ModeAvailability))),g(n.data.filter((e=>"0"===e.ModeAvailability))[0].alwaysAvailable),b(n.data.filter((e=>"1"===e.ModeAvailability))[0].alwaysAvailable))}})()}})]})]}),(0,It.jsx)("hr",{}),0===d.length&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{class:"alert alert-danger mb-3 d-flex justify-content-start",role:"alert",children:[(0,It.jsx)("h3",{children:(0,It.jsx)("i",{class:"bi bi-info-circle"})}),(0,It.jsxs)("p",{children:["  ","Veuillez configurer vos disponibilit\xe9s pour compl\xe8ter votre annonce"]})]}),(0,It.jsxs)("button",{className:"btn btn-tertiary",children:[(0,It.jsx)("i",{class:"bi bi-plus-circle"})," Ajouter des disponibilit\xe9s d'Accueil par d\xe9faut"]})]}),d.length>0&&!m&&(0,It.jsx)(It.Fragment,{children:d.map((e=>(0,It.jsx)(Jre.A,{WeekDay:e.Weekday,Data:e},e.id)))})]}),(0,It.jsxs)("div",{class:"tab-pane fade",id:"pills-delivery",role:"tabpanel","aria-labelledby":"pills-delivery-tab",tabindex:"0",children:[(0,It.jsx)("h3",{children:"Heures de prise en charge et de retour au lieu de livraison"})," ",(0,It.jsx)("p",{children:"Ces heures s\u2019appliquent aux v\xe9hicules livr\xe9s aux lieux que vous avez d\xe9finis."}),(0,It.jsxs)("div",{className:"card mb-3",children:[" ",(0,It.jsxs)("div",{className:"form-check form-switch d-flex justify-content-between p-2",children:[(0,It.jsx)("label",{className:"form-check-label py-1",htmlFor:"flexSwitchCheckDefault5",children:(0,It.jsx)("strong",{children:"Toujours disponible"})}),(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",style:{height:"30px",width:"70px"},checked:v,onChange:function(){(async()=>{let t=window.localStorage.getItem("VehicleStorage");t=JSON.parse(t),b(!v);let n=!v;if((await e.put("/hoteavailabilities/updateHoteAvailabilitiesByUserId/"+t.userId,{alwaysAvailable:n,ModeAvailability:"1"})).data){const n=await e.get("/hoteavailabilities/"+t.userId);n.data&&(h(n.data.filter((e=>"0"===e.ModeAvailability))),f(n.data.filter((e=>"1"===e.ModeAvailability))),g(n.data.filter((e=>"0"===e.ModeAvailability))[0].alwaysAvailable),b(n.data.filter((e=>"1"===e.ModeAvailability))[0].alwaysAvailable))}})()}})]})]}),(0,It.jsx)("hr",{}),0===p.length&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{class:"alert alert-danger mb-3 d-flex justify-content-start",role:"alert",children:[(0,It.jsx)("h3",{children:(0,It.jsx)("i",{class:"bi bi-info-circle"})}),(0,It.jsxs)("p",{children:["  ","Veuillez configurer vos disponibilit\xe9s pour compl\xe8ter votre annonce"]})]}),(0,It.jsxs)("button",{className:"btn btn-tertiary",children:[(0,It.jsx)("i",{class:"bi bi-plus-circle"})," Ajouter des disponibilit\xe9s de livraison par d\xe9faut"]})]}),p.length>0&&!v&&(0,It.jsx)(It.Fragment,{children:p.map((e=>(0,It.jsx)(Jre.A,{WeekDay:e.Weekday,Data:e},e.id)))})]}),(0,It.jsx)("div",{class:"tab-pane fade",id:"pills-personalized",role:"tabpanel","aria-labelledby":"pills-personalized-tab",tabindex:"0",children:"Personalized content..."})]})]})]})]})})};const eie=function(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(null),i=(0,xv.q)();return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsxs)("div",{className:"row d-flex align-items-center my-2 my-md-5",children:[" ",(0,It.jsx)("div",{className:"col-11 col-lg-8 pt-3 mx-auto text-center",children:(0,It.jsx)("h2",{children:"Connectez-vous \xe0 votre compte"})}),(0,It.jsx)("div",{className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsxs)("div",{className:"col-12 col-md-6 d-flex flex-column mx-auto gap-2",children:[(0,It.jsxs)("a",{className:"btn btn-tertiary",href:"".concat(Av.f9,"/api/auth/google"),children:[(0,It.jsx)("i",{class:"bi bi-google h3"})," Continuer avec Google"]}),(0,It.jsxs)("button",{className:"btn btn-tertiary",children:[(0,It.jsx)("i",{class:"bi bi-facebook h3"})," Continuer avec Facebook"]}),(0,It.jsxs)("button",{className:"btn btn-secondary",children:[(0,It.jsx)("i",{class:"bi bi-apple h3"})," Continuer avec Apple"]})]})}),(0,It.jsx)("div",{className:"col-12 col-md-6 g-0 mx-auto",children:(0,It.jsx)("div",{className:"text-center",children:"Ou utiliser l'email"})}),(0,It.jsx)("form",{action:"",className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsxs)("div",{className:"col-12 col-md-6 mx-auto",children:[(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"email",class:"form-control",name:"email","aria-describedby":"emailHelp",title:"Adresse email",placeholder:"Adresse email",value:e,onChange:e=>{t(e.target.value)}}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:(0,It.jsx)("ion-icon",{name:"mail-outline"})})]}),(0,It.jsxs)("div",{class:"input-group mt-2",children:[(0,It.jsx)("input",{type:"password",class:"form-control",name:"password","aria-describedby":"passwordHelp",title:"Mot de passe",placeholder:"Mot de passe",value:n,onChange:e=>{r(e.target.value)}}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:(0,It.jsx)("ion-icon",{name:"key-outline"})})]})]})}),(0,It.jsx)("div",{class:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsxs)("div",{className:"col-12 col-md-6 d-flex flex-column mx-auto gap-2",children:[(0,It.jsx)(Ne,{to:"#",children:"Mot de passe oubli\xe9"}),(0,It.jsx)("button",{type:"button",class:"btn-block btn btn-primary text-white",id:"userbutton",onClick:function(){(async()=>{await i.post("/login",{email:e,password:n})&&(window.location.href="/account/voitures")})()},children:"Se connecter"}),(0,It.jsxs)("p",{children:["Pas encore de compte Moovicar ?"," ",(0,It.jsx)(Ne,{to:"/signup",children:"S'inscrire"})]})]})})]})})})};const tie=function(){return(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsxs)("div",{className:"row d-flex align-items-center my-2 my-md-5",children:[" ",(0,It.jsx)("div",{className:"col-11 col-lg-8 pt-3 mx-auto text-center",children:(0,It.jsx)("h2",{children:"Cr\xe9ez votre compte"})}),(0,It.jsx)("div",{className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsxs)("div",{className:"col-12 col-md-6 d-flex flex-column mx-auto gap-2",children:[(0,It.jsx)("a",{className:"btn btn-tertiary",href:"".concat(Av.f9,"/api/auth/google"),children:"Continuer avec Google"}),(0,It.jsx)("button",{className:"btn btn-tertiary",children:"Continuer avec Facebook"}),(0,It.jsx)("button",{className:"btn btn-secondary",children:"Continuer avec Apple"})]})}),(0,It.jsx)("div",{className:"col-12 col-md-6 g-0 mx-auto",children:(0,It.jsx)("div",{className:"text-center",children:"Ou utiliser l'email"})}),(0,It.jsx)("form",{action:"",className:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsxs)("div",{className:"col-12 col-md-6 mx-auto",children:[(0,It.jsxs)("div",{class:"input-group mb-2",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"firstName","aria-describedby":"firstNameHelp",title:"Pr\xe9nom",placeholder:"Pr\xe9nom",value:""}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:(0,It.jsx)("ion-icon",{name:"person-circle-outline"})})]}),(0,It.jsxs)("div",{class:"input-group mb-2",children:[(0,It.jsx)("input",{type:"text",class:"form-control",name:"lastName","aria-describedby":"lastNameHelp",title:"Nom",placeholder:"Nom",value:""}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:(0,It.jsx)("ion-icon",{name:"person-circle-outline"})})]}),(0,It.jsxs)("div",{class:"input-group",children:[(0,It.jsx)("input",{type:"email",class:"form-control",name:"email","aria-describedby":"emailHelp",title:"Adresse email",placeholder:"Adresse email",value:""}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:(0,It.jsx)("ion-icon",{name:"mail-outline"})})]}),(0,It.jsxs)("div",{class:"input-group mt-2",children:[(0,It.jsx)("input",{type:"password",class:"form-control",name:"password","aria-describedby":"passwordHelp",title:"Mot de passe",placeholder:"Mot de passe",value:""}),(0,It.jsx)("span",{class:"input-group-text bg-primary text-white border-primary",children:(0,It.jsx)("ion-icon",{name:"key-outline"})})]})]})}),(0,It.jsx)("div",{class:"col-11 col-lg-8 py-4 px-lg-6 mx-auto",children:(0,It.jsxs)("div",{className:"col-12 col-md-6 d-flex flex-column mx-auto gap-2",children:[(0,It.jsxs)("div",{class:"form-check mb-3",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",name:"pc",id:"pc",value:""}),(0,It.jsxs)("label",{class:"form-check-label",for:"cgv",children:["J'accepte la"," ",(0,It.jsx)(Ne,{to:"#",children:"politique de confidentialit\xe9"})]})]}),(0,It.jsxs)("div",{class:"form-check mb-3",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",name:"cgv",id:"cgv",value:""}),(0,It.jsx)("label",{class:"form-check-label",for:"cgv",children:"Je souhaite recevoir les bons plans, promos et nouveaut\xe9s + 5\u20ac offerts sur ma premi\xe8re location"})]}),(0,It.jsxs)("p",{children:["En vous inscrivant, vous acceptez nos"," ",(0,It.jsx)(Ne,{to:"#",children:"conditions g\xe9n\xe9rales d'utilisation."})]}),(0,It.jsx)("button",{type:"submit",class:"btn-block btn btn-primary text-white",id:"userbutton",children:"S'incrire"}),(0,It.jsxs)("p",{children:["D\xe9j\xe0 un compte sur Moovicar ?"," ",(0,It.jsx)(Ne,{to:"/signin",children:" Se connecter"})]})]})})]})})})};const nie=function(){const e=St({palette:{primary:{main:"#1976d2"}}}),[t,n]=(0,o.useState)({data:[{id:"1284203014755719863",account_id:"1284203014403398326",duplicated:!1,mode:"normal",status:"posted",made_on:"2024-03-26",amount:1e4,currency_code:"EUR",description:"Income for Simple account 1 MasterCard",category:"income",extra:{payee:"DE11100110012612442222",payer:"DE12345678912345678912",payee_information:"John Smith",payer_information:"Sample client",account_balance_snapshot:1999.5,categorization_confidence:1},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"},{id:"1284203014755719864",account_id:"1284203014403398326",duplicated:!1,mode:"normal",status:"posted",made_on:"2024-04-25",amount:1e4,currency_code:"EUR",description:"Income for Simple account 1 MasterCard",category:"income",extra:{payee:"DE11100110012612442222",payer:"DE12345678912345678912",payee_information:"John Smith",payer_information:"Sample client",account_balance_snapshot:1999.5,categorization_confidence:1},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"},{id:"1284203014755719865",account_id:"1284203014403398326",duplicated:!1,mode:"normal",status:"posted",made_on:"2024-05-23",amount:5,currency_code:"EUR",description:"Sample transaction 1 for 2024-05-25",category:"fees_and_charges",extra:{payee:"DE11100110012612442222",payer:"DE12345678912345678912",posting_date:"2024-05-25",payee_information:"John Smith",payer_information:"Sample client",account_balance_snapshot:1999.5,categorization_confidence:.73},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"},{id:"1284203014764108474",account_id:"1284203014403398326",duplicated:!1,mode:"fee",status:"posted",made_on:"2024-05-25",amount:-15,currency_code:"EUR",description:"Sample transaction 2 for 2024-05-25",category:"provider_fee",extra:{payee:"DE12345678912345678912",payer:"DE11100110012612442222",payee_information:"Sample client",payer_information:"John Smith",account_balance_snapshot:1999.5,categorization_confidence:.9},created_at:"2024-05-25T09:08:25Z",updated_at:"2024-05-25T09:08:25Z"}]}),[r,i]=(0,o.useState)([]),[a,s]=(0,o.useState)(),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!0),h=(0,xv.q)();let p=["Ventes de produits ou/ et services","Emprunts bancaires","Fonds d\u2019investissement","Subventions ou aides","Revenues de portefeuilles","Achats de marchandises et mati\xe8res premi\xe8res ","Marketing & Communications","Salaires, Avantages sociaux, Retraites","Charges externes (Location, \xc9lectricit\xe9, Connexion, Entretien)","Remboursement d\u2019emprunts","Imp\xf4ts sur revenus","Autres Taxes TVA","Acquisitions d\u2019actifs","Investissements financiers","Frais g\xe9n\xe9raux","Logistiques","Dettes fournisseurs"];const[f,m]=(0,o.useState)(0),g=hl(CI)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.light,color:t.palette.common.white,fontWeight:"bold"}})),v=async()=>{const e=await Promise.all(t.data.map((async e=>{const t=await(async e=>{try{return f%10===0?(await h.post("/v1/categorize",{categories:p,memo:"".concat(e.description," ").concat(e.category)})).data.category:(await h.post("/v1/categorize",{categories:"Utilisez la meme liste de cat\xe9gories pour cette transaction",memo:"".concat(e.description," ").concat(e.category)})).data.category}catch(t){return console.error("Erreur lors de la cat\xe9gorisation de la transaction :",t),"Non cat\xe9goris\xe9"}})(e);return{transaction:e,category:t}})));console.log("transactionsWithCategories",e),i(e),d(!1),m(f+1)};(0,o.useEffect)((()=>{v()}),[]);const[b,y]=(0,o.useState)(["income","fees_and_charges","provider_fee"]),[x,w]=(0,o.useState)(["Produit X","Produit Y","Produit Z"]),[_,k]=(0,o.useState)(["Projet X","Projet Y","Projet Z"]),[S,C]=(0,o.useState)(),[A,T]=(0,o.useState)({}),[I,E]=(0,o.useState)({}),[N,M]=(0,o.useState)(!1),[j,D]=(0,o.useState)(""),[R,P]=(0,o.useState)(""),[O,L]=(0,o.useState)({}),[F,z]=(0,o.useState)([]),[B,W]=(0,o.useState)(!1),V=e=>{D(e),M(!0)},U=()=>{M(!1),P("")},[H,q]=(0,o.useState)(!1),[G,Y]=(0,o.useState)(!1),[X,K]=(0,o.useState)([]),[Z,J]=(0,o.useState)(null),Q=()=>{q(!1),Y(!1),K([])};return(0,It.jsxs)(nN,{theme:e,children:[(0,It.jsx)(YE,{}),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsx)("div",{className:"row",children:(0,It.jsxs)("div",{className:"",children:[(0,It.jsx)("h1",{children:"Financial Transaction Categorise UI GPT-4"}),(0,It.jsx)("p",{className:"text-muted",children:"Notre plateforme offre une fonctionnalit\xe9 avanc\xe9e permettant de r\xe9cup\xe9rer les transactions financi\xe8res de vos comptes bancaires, puis de les cat\xe9goriser automatiquement pour une meilleure analyse et une gestion plus efficace des finances de votre entreprise."}),(0,It.jsx)("div",{className:"row",children:(0,It.jsx)("div",{className:"col-md-12 mb-3 px-2 py-2 my-div",children:(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)(EI,{component:Ku,children:[(0,It.jsx)(rr,{variant:"h6",component:"div",sx:{padding:"16px"},children:"Transaction Details"}),(0,It.jsxs)(RI,{sx:{minWidth:650},"aria-label":"transactions table",children:[(0,It.jsx)(BI,{children:(0,It.jsxs)(YI,{children:[(0,It.jsx)(g,{children:"Category"}),(0,It.jsx)(g,{children:"Description"}),(0,It.jsx)(g,{align:"right",children:"Amount"}),(0,It.jsx)(g,{children:"Date Created"}),(0,It.jsx)(g,{children:"Produit"}),(0,It.jsx)(g,{children:"Projet"}),(0,It.jsx)(g,{children:"Actions"})]})}),(0,It.jsx)($I,{children:r.map((e=>(0,It.jsxs)(YI,{children:[(0,It.jsx)(CI,{children:O[e.transaction.id]?(0,It.jsxs)(Gd,{value:I[e.transaction.id]||e.category,onChange:t=>((e,t)=>{E((n=>({...n,[e]:t.target.value}))),L((t=>({...t,[e]:!1})))})(e.transaction.id,t),displayEmpty:!0,fullWidth:!0,children:[(0,It.jsx)(cE,{value:"",disabled:!0,children:"Select category"}),b.map((e=>(0,It.jsx)(cE,{value:e,children:e},e))),(0,It.jsx)(cE,{value:"add_category",children:(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>V("category"),children:"+ Add Category"})})]}):(0,It.jsxs)("div",{children:[I[e.transaction.id]||e.category,(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>{return t=e.transaction.id,void L((e=>({...e,[t]:!0})));var t},children:"Modifier"})]})}),(0,It.jsx)(CI,{children:e.transaction.description}),(0,It.jsx)(CI,{align:"right",children:(0,It.jsxs)("span",{className:"".concat(e.transaction.amount>0?"badge bg-primary":"badge bg-danger"),children:[e.transaction.amount," ",e.transaction.currency_code]})}),(0,It.jsx)(CI,{children:new Date(e.transaction.created_at).toLocaleDateString()}),(0,It.jsx)(CI,{children:(0,It.jsxs)(Gd,{value:S?S[e.transaction.id]:"",onChange:t=>((e,t)=>{C((n=>({...n,[e]:t.target.value})))})(e.transaction.id,t),displayEmpty:!0,fullWidth:!0,children:[(0,It.jsx)(cE,{value:"",disabled:!0,children:"Select Produit"}),x.map((e=>(0,It.jsx)(cE,{value:e,children:e},e))),(0,It.jsx)(cE,{value:"add_produit",children:(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>V("produit"),children:"+ Add Produit"})})]})}),(0,It.jsx)(CI,{children:(0,It.jsxs)(Gd,{value:A[e.transaction.id]||"",onChange:t=>((e,t)=>{T((n=>({...n,[e]:t.target.value})))})(e.transaction.id,t),displayEmpty:!0,fullWidth:!0,children:[(0,It.jsx)(cE,{value:"",disabled:!0,children:"Select Projet"}),_.map((e=>(0,It.jsx)(cE,{value:e,children:e},e))),(0,It.jsx)(cE,{value:"add_projet",children:(0,It.jsx)(bi,{variant:"text",color:"primary",onClick:()=>V("projet"),children:"+ Add Projet"})})]})}),(0,It.jsx)(CI,{children:(0,It.jsx)(bi,{variant:"contained",color:"primary",onClick:()=>{return t=e.transaction.id,J(t),void q(!0);var t},children:"Apply to Others"})})]},e.transaction.id)))})]})]}),(0,It.jsxs)(wg,{open:N,onClose:U,children:[(0,It.jsxs)(hE,{children:["Add New ",j]}),(0,It.jsxs)(hg,{children:[(0,It.jsxs)(gE,{children:["Please enter the name of the new ",j," you want to add."]}),(0,It.jsx)($d,{autoFocus:!0,margin:"dense",id:"newItem",label:"New ".concat(j),type:"text",fullWidth:!0,value:R,onChange:e=>P(e.target.value)})]}),(0,It.jsxs)(Tp,{children:[(0,It.jsx)(bi,{onClick:U,color:"primary",children:"Cancel"}),(0,It.jsx)(bi,{onClick:()=>{"produit"===j?w([...x,R]):"projet"===j?k([..._,R]):"category"===j&&y([...b,R]),U()},color:"primary",children:"Add"})]})]}),(0,It.jsxs)(wg,{open:H,onClose:Q,children:[(0,It.jsx)(hE,{children:"Apply Changes"}),(0,It.jsxs)(hg,{children:[(0,It.jsx)(gE,{children:"Choose which transactions to apply the changes to:"}),(0,It.jsx)(_E,{control:(0,It.jsx)(BE,{checked:G,onChange:e=>Y(e.target.checked),color:"primary"}),label:"Apply to All Transactions"}),(0,It.jsx)(Gd,{multiple:!0,value:X,onChange:e=>K(e.target.value),fullWidth:!0,renderValue:e=>(0,It.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map((e=>(0,It.jsx)(Qp,{label:e,style:{margin:"2px"}},e)))}),children:r.map((e=>(0,It.jsxs)(cE,{value:e.transaction.id,children:[(0,It.jsx)(BE,{checked:X.includes(e.transaction.id)}),(0,It.jsx)(HE,{primary:e.transaction.id})]},e.transaction.id)))})]}),(0,It.jsxs)(Tp,{children:[(0,It.jsx)(bi,{onClick:Q,color:"primary",children:"Cancel"}),(0,It.jsx)(bi,{onClick:()=>{const e=S[Z],t=A[Z],n={...S},i={...A};(G?r.map((e=>e.transaction.id)):X).forEach((r=>{n[r]=e,i[r]=t})),C(n),T(i),Q()},color:"primary",children:"Apply"})]})]})]})})})]})})})})]})};function rie(e){let{date:t,price:n,currentMonth:r,WeekDAY:i,VehiculeId:a,unavailable:s}=e;const[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[h,p]=(0,o.useState)([]),[f,m]=(0,o.useState)(0),g=(0,xv.q)(),v=parseInt(r.toString())+1,b=(v<10?"0":"")+v.toString(),y=(t<10?"0":"")+t.toString(),x=2024,[w,_]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),[k,S]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),[C,A]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y)),[T,I]=(0,o.useState)("".concat(x,"-").concat(b,"-").concat(y));const[E,N]=(0,o.useState)(!0);(0,o.useEffect)((()=>{(async()=>{try{const e=await g.get("/unavailabilities/getbyvehiculeid-date/"+a+"?date="+k);e.data&&(p(e.data),e.data.length>0?j(!0):j(!1))}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[,t]);const[M,j]=(0,o.useState)(!1);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(yv,{}),(0,It.jsxs)("button",{className:" yourCarAvailabilityDay calendarButtonPlus  ".concat(s?"yourCarAvailabilityDay--disabled":""),type:"button",children:[(0,It.jsx)("div",{className:"yourCarAvailabilityDay-unavailabilities",children:s&&(0,It.jsx)("div",{class:"",style:{left:"41.6956%",width:"58.3044%",position:"relative"},children:(0,It.jsx)("span",{className:"text-danger",children:(0,It.jsx)("strong",{children:(0,It.jsx)("ion-icon",{name:"close-circle-outline"})})})})}),(0,It.jsxs)("div",{className:"yourCarAvailabilityDay-content",children:[(0,It.jsx)("span",{className:"text-tertiary","data-testid":"yourCarAvailabilityDay-date",children:t}),(0,It.jsx)("span",{className:"css-1iutgu0-StyledText-YourCarAvailabilityDay-YourCarAvailabilityDay","data-testid":"yourCarAvailabilityDay-price",children:(0,It.jsx)("span",{class:"badge bg-primary",style:{fontSize:"12px"},children:n})})]})]})]})}const iie=function(e){let{vehiculeId:t,mois:n}=e;const[r,i]=(0,o.useState)([]),a=(0,xv.q)(),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)([]),d=e=>{const t=e.getDay();return 0===t?6:t-1},h=(e,t,n,r)=>{const i=((e,t)=>new Date(e,t+1,0).getDate())(n,r);console.log("Nombre de jour dans un mois et une ann\xe9e",i);const a=[],o=new Date(n,r,1),s=d(o);for(let l=0;l<s;l++)a.push({spacer:!0});for(let l=1;l<=i;l++){const o=e.find((e=>e.WeekDAY===String(d(new Date(n,r,l)))));if(o){const e=t.find((e=>e.WeekDAY===String(d(new Date(n,r,l)))&&"0"===e.type)),s=t.find((e=>new Date(n,r,l)>=new Date(e.start_date)&&new Date(n,r,l)<=new Date(e.end_date)&&"1"===e.type));let c=!1;c=!!e||!!s,a.push({date:l,price:"".concat(o.Default_price,"\u20ac"),unavailable:c,daysInMonth:i,WeekDAY:o.WeekDAY,VehiculeId:o.vehiculeId})}else a.push({date:l,price:null,unavailable:!0})}return a};(0,o.useEffect)((()=>{(async()=>{try{const e=await a.get("/availabilities/getbyvehiculeid/"+t);e.data&&l(e.data.filter((e=>"0"==e.type)));const n=await a.get("/unavailabilities/getbyvehiculeid/"+t);n.data&&u(n.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[,window.location.href]),(0,o.useEffect)((()=>{i(h(s,c,2024,parseInt(n)))}),[,s]);const[p,f]=(0,o.useState)(n);return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("div",{class:"yourCarAvailabilityView",children:(0,It.jsx)("div",{class:"yourCarAvailabilityCalendarView",children:(0,It.jsx)("div",{class:"yourCarAvailabilityCalendar",children:(0,It.jsxs)("div",{class:"yourCarAvailabilityCalendar-container",children:[(0,It.jsxs)("div",{class:"yourCarAvailabilityMonthHeader",children:[(0,It.jsxs)("h2",{class:"css-cbcbkz-StyledText",children:[{0:"Janvier",1:"F\xe9vrier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",7:"Ao\xfbt",8:"Septembre",9:"Octobre",10:"Novembre",11:"D\xe9cembre"}[n]," 2024"]}),(0,It.jsxs)("div",{class:"yourCarAvailabilityMonthHeader-actions",children:[(0,It.jsx)(Ne,{className:"prev",onClick:()=>{f((p-1+12)%12)},to:"/unavailabilities-car/"+t+"/calendar/"+p,children:"\u276e"}),(0,It.jsx)(Ne,{className:"next",onClick:()=>{f((p+1)%12)},to:"/unavailabilities-car/"+t+"/calendar/"+p,children:"\u276f"})]})]}),(0,It.jsxs)("div",{class:"yourCarAvailabilityWeekdaysHeader",children:[(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"lun."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"mar."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"mer."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"jeu."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"ven."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"sam."}),(0,It.jsx)("span",{class:"css-1pb77wb-StyledText-YourCarAvailabilityWeekdaysHeader-YourCarAvailabilityWeekdaysHeader","data-testid":"yourCarAvailabilityWeekdaysHeader-label",children:"dim."})]}),(0,It.jsx)("div",{className:"yourCarAvailabilityCalendar-days",children:r.map(((e,t)=>(0,It.jsx)(o.Fragment,{children:e.spacer?(0,It.jsx)("div",{className:"yourCarAvailabilityDaySpacer"}):(0,It.jsx)(rie,{date:e.date,price:e.price,currentMonth:n,WeekDAY:e.WeekDAY,unavailable:e.unavailable,VehiculeId:e.VehiculeId})},t)))})]})})})})})};const aie=function(){const{voitureId:e,mois:t}=ie(),[n,r]=(0,o.useState)(0),[i,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[c,u]=(0,o.useState)([]),[d,h]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[m,g]=(0,o.useState)(""),[v,b]=(0,o.useState)("0"),y=(0,xv.q)(),x=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,It.jsx)("option",{value:a,children:a},a))}return e},[w,_]=(0,o.useState)(!0),k=e=>{const t=e.getDay();return 0===t?6:t-1};return(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("section",{class:"mb-3 container",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{class:"container col-md-9 w-md-50",children:(0,It.jsxs)("div",{className:"w-100 my-div",children:[(0,It.jsx)("div",{class:"mb-2",children:(0,It.jsx)("div",{class:"progress",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":"99","aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"},children:(0,It.jsx)("div",{class:"progress-bar",style:{width:"99%"}})})}),(0,It.jsx)(iie,{mois:parseInt(t),vehiculeId:parseInt(e)})]})}),(0,It.jsxs)("div",{className:"mb-3 col-md-3",children:[" ",(0,It.jsxs)("div",{className:"w-100 my-div",children:[(0,It.jsx)("p",{children:(0,It.jsx)("strong",{children:"Indisponibilit\xe9"})}),(0,It.jsx)("p",{children:"D\xe9finissez l\u2019indisponibilit\xe9 de votre voiture pour bloquer les r\xe9servations pendant ces p\xe9riodes."}),(0,It.jsxs)("button",{className:"btn btn-outline-tertiary mb-2","data-bs-toggle":"collapse","data-bs-target":"#collapseAjouterIndis","aria-expanded":"false","aria-controls":"collapseAjouterIndis",children:["+ Ajouter une p\xe9riode d'indisponibilit\xe9"," "]}),(0,It.jsx)("div",{class:"collapse mb-2",id:"collapseAjouterIndis",children:(0,It.jsxs)("div",{class:"card card-body",children:[(0,It.jsx)("h3",{children:"Ajouter une indisponibilit\xe9"}),(0,It.jsx)("p",{className:"mb-3",children:"Bloquez les p\xe9riodes o\xf9 votre voiture n\u2019est pas disponible. N\u2019oubliez pas que plus votre voiture est disponible, plus vous recevrez de demandes de voyage, surtout les week-ends et les jours f\xe9ri\xe9s."}),(0,It.jsx)("small",{children:"D\xe9but"}),(0,It.jsxs)("div",{class:"d-flex justify-content-start",children:[(0,It.jsx)("div",{class:"mb-3 me-2",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"exampleFormControlInput1",value:i,onChange:e=>a(e.target.value)})}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:p,onChange:e=>{f(e.target.value),console.log(e.target.value)},children:x()})]}),(0,It.jsx)("small",{children:"Fin"}),(0,It.jsxs)("div",{class:"d-flex justify-content-start",children:[(0,It.jsx)("div",{class:"mb-3 me-2",children:(0,It.jsx)("input",{type:"date",class:"form-control",id:"exampleFormControlInput1",value:s,onChange:e=>l(e.target.value)})}),(0,It.jsx)("select",{class:"form-select form-select-sm mb-3","aria-label":"Small select example",value:m,onChange:e=>{g(e.target.value),console.log(e.target.value)},children:x()})]}),(0,It.jsxs)("div",{class:"form-check",children:[(0,It.jsx)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked",checked:w,onChange:()=>{_(!w)}}),(0,It.jsx)("label",{class:"form-check-label",for:"flexCheckChecked",children:"R\xe9p\xe9ter cette indisponibilit\xe9 chaque semaine"})]}),(0,It.jsx)("button",{type:"button",className:"btn btn-tertiary mb-2",onClick:function(){(async()=>{try{if((await y.post("/unavailabilities/",{vehiculeId:e,start_date:i,end_date:s,start_time:p,end_time:m,type:w?"0":"1",WeekDAY:k(new Date(i))})).data){dv.success("Indisponibilit\xe9 ajout\xe9e pour votre v\xe9hicule");const t=await y.get("/unavailabilities/getbyvehiculeid-date/"+e+"?date="+d);t.data&&u(t.data),window.location.href="/account/voitures"}}catch(t){console.error("Erreur lors de la requ\xeate Axios :",t)}})()},children:"D\xe9finir l'indisponibilit\xe9"})]})}),(0,It.jsx)("a",{href:"/account/voitures",className:"btn btn-tertiary mb-2 w-100",children:"Aller dans le compte du hote"})," ",(0,It.jsx)("div",{children:(0,It.jsx)("h4",{children:"Indisponibilit\xe9s des v\xe9hicules"})}),c&&c.map((e=>(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("p",{className:"mb-2",children:[(0,It.jsx)("span",{className:"text-danger me-2",children:e.start_date}),(0,It.jsx)("span",{className:"badge bg-danger me-2",children:e.start_time})]}),(0,It.jsxs)("p",{children:[(0,It.jsx)("span",{className:"text-danger me-2",children:e.end_date}),(0,It.jsx)("span",{className:"badge bg-danger me-2",children:e.end_time})]})]})))]})]})]})})})})};const oie=function(){var e,t;const[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),[c,u]=(0,o.useState)(null),[d,h]=(0,o.useState)(!0),[p,f]=(0,o.useState)({}),[m,g]=(0,o.useState)(!1),{voitureId:v}=ie(),b=(0,xv.q)();return(0,o.useEffect)((()=>{(async()=>{let e=window.localStorage.getItem("VehicleStorage");e=JSON.parse(e),f(e),console.log(e);const t=await b.get("/vehicles/searchbyid/"+v);if(t.data){f(t.data),l(t.data.modeleId);let e=JSON.stringify(t.data);window.localStorage.setItem("VehicleStorage",e)}})()}),[]),(0,It.jsx)(It.Fragment,{children:(0,It.jsx)("main",{children:(0,It.jsx)("section",{class:"mt-2 container col-md-4",children:(0,It.jsxs)("div",{class:"my-div  w-100 d-md-block w-md-75",children:[(0,It.jsx)("div",{class:"mb-2",children:(0,It.jsx)("div",{class:"progress",role:"progressbar","aria-label":"Example 20px high","aria-valuenow":"5","aria-valuemin":"0","aria-valuemax":"100",style:{height:"20px"},children:(0,It.jsx)("div",{class:"progress-bar",style:{width:"5%"}})})}),(0,It.jsx)("p",{class:"text-muted",children:(0,It.jsx)("strong",{children:"Inscrire ma voiture"})}),(0,It.jsx)("h4",{children:"Confirmez le mod\xe8le de votre voiture"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"mb-2",children:[(0,It.jsx)("button",{className:"btn btn-success me-2",onClick:function(){g(!0)},children:"Modifier"}),(0,It.jsx)("button",{className:"btn btn-danger",onClick:function(){g(!1)},children:"Annuler"})]}),m&&(0,It.jsx)(mI,{handleSelectModel:e=>{l(e.id),u(e.modele)},resetInput:d}),!m&&p&&(0,It.jsxs)("div",{className:"mb-2",children:[(0,It.jsx)("span",{className:"badge bg-tertiary me-2",children:null===p||void 0===p||null===(e=p.VehicleModel)||void 0===e?void 0:e.marque}),(0,It.jsx)("span",{className:"badge bg-success me-2",children:null===p||void 0===p||null===(t=p.VehicleModel)||void 0===t?void 0:t.modele})]}),(0,It.jsx)("div",{class:"alert alert-warning mb-3",role:"alert",children:"Dans quelques minutes, votre annonce sera mise en ligne \u23f1\ufe0f"}),(0,It.jsx)("hr",{}),(0,It.jsx)("button",{type:"button",class:"btn btn-primary btn-lg",onClick:function(){const e={...p};e.modelId=s,f(e);let t=e;t=JSON.stringify(t),window.localStorage.setItem("VehicleStorage",t),window.location.href="/advancedconfig/"+e.id},children:"Confirmer"})]})})})})};const sie=function(){var e,t,n,r,i,a;const{annonceid:s}=ie(),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)({vehiculeAnnonceId:1,reservationPrice:"300",locationMode:"0",vehiculeType:"Voyage",vehiculeId:1,minDistanceInclus:"0",additionalDriverInclus:"0",annulationAnnonceDelayBefore:"1",carburantInclus:"1",supplementJeuneDriver:"0",distanceOutMin:"300",locationAddress:"Grenoble Gare",locationCoordinates:"45.1914,5.714",createdAt:"2024-01-29T16:53:03.000Z",updatedAt:"2024-01-29T16:53:07.000Z",Vehicle:{vehiculeId:1,description:"Voiture Tesla ",images:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Tesla_Model_Y_1X7A6211.jpg",modeleId:1603,userId:1,kilometrage:"2",VehicleModel:{id:1603,marque:"VOLVO",modele:"480"},UserProfile:{id:1,firstName:"Fatah",lastName:"Ahmed",city:"Paris",country:"France",immatriculation:"AXT5-780"}}}),[h,p]=(0,o.useState)([]),[f,m]=(0,o.useState)([]),[g,v]=(0,o.useState)(null),[b,y]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/vehicleAnnonces/getannoncebyid/")+s);e.data&&(d(e.data),p(e.data.Vehicle.images.split(",")));const t=await Ure.A.get("".concat(Av.f9,"/api/vehicleOptionRecords/")+e.data.Vehicle.id);e.data&&m(t.data);const n=await Ure.A.get("".concat(Av.f9,"/api/deliverylocation/getannoncebyid/")+s);n.data&&v(n.data[0].addressEmplacementDelivery);const r=await Ure.A.get("".concat(Av.f9,"/api/availabilities/getbyvehiculeid/")+e.data.Vehicle.id);r.data&&y(r.data);const i=await Ure.A.get("".concat(Av.f9,"/api/discounts/getbyvehiculeid/")+e.data.Vehicle.id);i.data&&H(i.data)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[]),(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/reviews/getbyvehiculeId/")+u.Vehicle.id);if(e.data){const t=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));c(t)}}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[u]);const[x,w]=(0,o.useState)(""),[_,k]=(0,o.useState)(""),S=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),a="".concat(r,":").concat(i);e.push((0,It.jsx)("option",{value:a,children:a},a))}return e},C=e=>{const t=e.getDay();return 0===t?6:t-1};function A(e,t,n){let r=0,i=new Date(t);const a=new Date(n);for(;i<=a;){const t=C(i);let n=0;e&&(n=e[t].Default_price),r+=n,i.setDate(i.getDate()+1)}return r}const[T,I]=(0,o.useState)(null),[E,N]=(0,o.useState)(null),[M,j]=(0,o.useState)(0),[D,R]=(0,o.useState)(0),[P,O]=(0,o.useState)(!1),[L,F]=(0,o.useState)(!1),[z,B]=(0,o.useState)(null),[W,V]=(0,o.useState)(null),[U,H]=(0,o.useState)(null),[q,G]=(0,o.useState)(""),[Y,X]=(0,o.useState)(0),[K,Z]=(0,o.useState)([null,null]),[J,Q]=(0,o.useState)(null),[$,ee]=(0,o.useState)(null);(0,o.useEffect)((()=>{if(T&&E){var e=(new Date(E).getTime()-new Date(T).getTime())/864e5;R(e),j(e*b[0].Default_price),U.length>0&&(e>3?X(U[0].pourcentage_reduction):e>7?X(U[1].pourcentage_reduction):e>14?X(U[2].pourcentage_reduction):e>30?X(U[3].pourcentage_reduction):e>60&&X(U[4].pourcentage_reduction))}}),[T,E]),(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/unavailabilities/getbyvehiculeid-date/")+u.Vehicle.id+"?date="+T);e.data.length>0?(B(e.data[0].start_date),V(e.data[0].end_date),O(!0),console.log("StartDate:",z),console.log("EndDate:",W)):O(!1);const t=new Date(z),n=new Date(W),r=new Date(T),i=new Date(E);O(t<=r&&r<=n||t<=i&&i<=n||r<=t&&n<=i)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[T]),(0,o.useEffect)((()=>{(async()=>{try{const e=await Ure.A.get("".concat(Av.f9,"/api/unavailabilities/getbyvehiculeid-date/")+u.Vehicle.id+"?date="+E);e.data.length>0?(B(e.data[0].start_date),V(e.data[0].end_date),O(!0),F(!0)):(O(!1),F(!1));const t=new Date(z),n=new Date(W),r=new Date(T),i=new Date(E);F(t<=r&&r<=n||t<=i&&i<=n||r<=t&&n<=i)}catch(e){console.error("Erreur lors de la requ\xeate Axios :",e)}})()}),[E]);const[te,ne]=(0,o.useState)([]),[re,ae]=(0,o.useState)({}),[oe,se]=(0,o.useState)(0),[le,ce]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e={};l.forEach((t=>{e[t.rating]=(e[t.rating]||0)+1}));let t=0;l.forEach((n=>{e[n.rating]=(e[n.rating]||0)+1,t+=parseInt(n.rating)})),ae(e);const n=t/l.length;se(n),ce(l.length)}),[l]);const ue=e=>{te.includes(e)?ne(te.filter((t=>t!==e))):ne([...te,e])},de=0===te.length?l:l.filter((e=>te.includes(e.rating.toString())));return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{id:"myCarousel",class:"carousel slide mb-6 pointer-event","data-bs-ride":"carousel",children:[(0,It.jsxs)("div",{class:"carousel-indicators",children:[(0,It.jsx)("button",{type:"button","data-bs-target":"#myCarousel","data-bs-slide-to":"0",class:"","aria-label":"Slide 1"}),(0,It.jsx)("button",{type:"button","data-bs-target":"#myCarousel","data-bs-slide-to":"1","aria-label":"Slide 2",class:"active","aria-current":"true"}),(0,It.jsx)("button",{type:"button","data-bs-target":"#myCarousel","data-bs-slide-to":"2","aria-label":"Slide 3",class:""})]}),(0,It.jsxs)("div",{class:"carousel-inner",children:[(0,It.jsx)("div",{class:"carousel-item",children:(0,It.jsx)("img",{src:h[0],alt:"",width:" 100%"})}),(0,It.jsx)("div",{class:"carousel-item active",children:(0,It.jsx)("img",{src:h[1],alt:"",width:"100%"})}),(0,It.jsxs)("div",{class:"carousel-item",children:[(0,It.jsx)("img",{src:h[2],alt:"",width:"100%"})," "]})]}),(0,It.jsxs)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#myCarousel","data-bs-slide":"prev",children:[(0,It.jsx)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),(0,It.jsx)("span",{class:"visually-hidden",children:"Previous"})]}),(0,It.jsxs)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#myCarousel","data-bs-slide":"next",children:[(0,It.jsx)("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),(0,It.jsx)("span",{class:"visually-hidden",children:"Next"})]})]}),(0,It.jsx)("section",{className:"mb-3 bg-body-tertiary",children:(0,It.jsx)("div",{className:"container",children:(0,It.jsx)("div",{class:"",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-8 mb-3",children:(0,It.jsxs)("div",{className:"w-100 d-md-block my-div ",children:[(0,It.jsx)("h1",{children:u.Vehicle.description}),(0,It.jsxs)("span",{className:"mb-3",children:[(0,It.jsx)("strong",{children:"5.0"})," (1 Voyage)"]}),(0,It.jsxs)("div",{className:"row mb-3",children:[(0,It.jsxs)("div",{className:"col",children:[(0,It.jsxs)("div",{className:"row mb-2",children:[" ",(0,It.jsx)("div",{className:"col-1 me-3",children:(0,It.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",viewBox:"0 0 24 24",class:"seo-pages-0",role:"img",version:"1.1",children:[(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M9.58 15.24c0 1.6 1.3 2.9 2.9 2.9a2.9 2.9 0 0 0 2.89-2.9c0-1.02-1.11-3.29-2.04-5.02-.34-.63-1.37-.63-1.71 0-.93 1.73-2.04 4-2.04 5.02Zm1.25 0c0-.52.64-2.05 1.65-3.97 1.01 1.92 1.64 3.46 1.65 3.97 0 .91-.74 1.65-1.65 1.65-.91 0-1.65-.74-1.65-1.65Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M20.95 22.35V1.62c0-.34-.27-.62-.62-.62h-4.87c-1.04 0-2.04.39-2.8 1.1a.61.61 0 0 0-.04.88c.24.25.63.27.89.03.53-.49 1.22-.76 1.95-.76h4.25V4.5H9.84c-.16 0-.32.07-.44.18L4.19 9.89c-.11.11-.18.27-.18.44v12.03c0 .34.27.62.62.62h15.7c.35 0 .63-.28.62-.63Zm-1.24-.62H5.26V10.59l4.84-4.84h9.61v15.98Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214",d:"M4.18 7.43a.63.63 0 0 0 .89-.01l1.85-1.85c.24-.24.24-.64 0-.88a.628.628 0 0 0-.88 0L4.18 6.55c-.24.24-.24.64 0 .88Z"})]})}),(0,It.jsx)("div",{className:"col",children:qre.jy[u.Vehicle.carburantType]})]}),(0,It.jsxs)("div",{className:"row",children:[" ",(0,It.jsx)("div",{className:"col-1 me-3",children:(0,It.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",fill:"none",viewBox:"0 0 24 24",class:"seo-pages-0",role:"img",version:"1.1",children:[(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M14.32 5.75h1.16c.45 0 .86-.23 1.11-.6.25-.37.3-.84.13-1.25l-.35-.86a1.83 1.83 0 0 0-1.7-1.14H9.29c-.75 0-1.42.45-1.7 1.15l-.35.86c-.17.41-.12.88.13 1.25s.66.59 1.11.59h1.16v.992A3.484 3.484 0 0 0 6.34 9.6l-.89 4.85c-.08.41-.09.81-.03 1.2a2.877 2.877 0 0 0-1.92 2.7v.8c0 1.58 1.28 2.87 2.86 2.87h11.21a2.88 2.88 0 0 0 2.87-2.86v-.8c0-1.48-1.16-2.73-2.63-2.85-.28-.02-.55.17-.65.44a2.443 2.443 0 0 1-2.68 1.59l-.92-.15c-.63-.1-1.26-.13-1.88-.11-.03 0-.69.01-1.3.11l-.91.15c-.79.13-1.57-.13-2.13-.7-.25-.25-.43-.54-.55-.85a.358.358 0 0 0-.04-.11 2.51 2.51 0 0 1-.07-1.19l.89-4.86A2.24 2.24 0 0 1 9.77 8h4.39c1.08 0 2 .77 2.2 1.83l.68 3.71a.626.626 0 0 0 1.23-.23l-.68-3.71a3.484 3.484 0 0 0-3.27-2.856V5.75Zm-1.24 0h-2.2v.99h2.2v-.99Zm-3.79-2.6c-.24 0-.45.14-.54.37l-.35.86.08.12h7c.01 0 .05 0 .07-.04l-.34-.94a.577.577 0 0 0-.54-.36H9.29v-.01ZM5.81 16.84c-.62.23-1.06.83-1.06 1.51v.8c0 .89.72 1.61 1.61 1.61h11.2c.89 0 1.61-.72 1.61-1.61v-.8c0-.69-.44-1.29-1.07-1.52-.75 1.4-2.28 2.18-3.84 1.93l-.91-.15c-.54-.09-1.1-.12-1.64-.1-.01 0-.61.01-1.14.1l-.91.15c-1.2.19-2.37-.2-3.22-1.07-.26-.25-.47-.54-.63-.85Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M13.87 16.27a1.558 1.558 0 0 0 1.37-.46c.36-.37.51-.89.42-1.4l-.58-3.19a2.047 2.047 0 0 0-2.01-1.68h-2.19c-.99 0-1.83.71-2.01 1.68l-.58 3.18c-.09.51.07 1.03.43 1.4.36.37.87.54 1.39.46l1.23-.2c.4-.06.81-.06 1.21 0l1.32.21Zm-1.14-1.44a5.322 5.322 0 0 0-1.59 0l-1.23.2a.35.35 0 0 1-.3-.1.338.338 0 0 1-.09-.3l.58-3.18c.07-.38.4-.65.78-.65h2.2c.38 0 .71.27.78.65l.58 3.19c.03.15-.04.25-.09.3a.35.35 0 0 1-.3.1l-1.32-.21Z","clip-rule":"evenodd"})]})}),(0,It.jsxs)("div",{className:"col",children:[qre.fR[u.Vehicle.siegeNumber]," ","Si\xe8ges"]})]})]}),(0,It.jsx)("div",{className:"col",children:(0,It.jsxs)("div",{className:"row",children:[" ",(0,It.jsx)("div",{className:"col-1 me-3",children:(0,It.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",fill:"none",viewBox:"0 0 24 24",class:"seo-pages-0",role:"img",version:"1.1",children:[(0,It.jsx)("path",{fill:"#121214",d:"M19.67 21.45H7.27c-1.33 0-2.5-.85-2.91-2.1l-2.2-6.68c-.38-1.14-.05-2.4.83-3.21l6.08-5.63c.8-.75 2.28-1.33 3.38-1.33h8.92c.35 0 .62.28.62.62 0 .34-.28.62-.62.62h-8.92c-.78 0-1.96.46-2.53.99l-6.09 5.64c-.52.48-.71 1.23-.49 1.9l2.2 6.68c.25.75.94 1.25 1.72 1.25h12.4c.59 0 1.07-.48 1.07-1.07V5.51c0-.34.28-.62.62-.62.34 0 .62.28.62.62v13.61a2.3 2.3 0 0 1-2.3 2.33Z"}),(0,It.jsx)("path",{fill:"#121214","fill-rule":"evenodd",d:"M18.15 11.33H6.92c-.7 0-.93-.39-1-.56-.06-.17-.16-.62.35-1.1l4.27-4.03c.46-.43 1.27-.76 1.9-.76h5.71c.81 0 1.47.66 1.47 1.47v3.51c0 .81-.66 1.47-1.47 1.47Zm-10.5-1.25h10.5c.13 0 .22-.1.22-.22v-3.5c0-.12-.1-.22-.22-.22h-5.71c-.31 0-.82.2-1.04.42l-3.75 3.52Z","clip-rule":"evenodd"}),(0,It.jsx)("path",{fill:"#121214",d:"M17.04 13.72h1.95c.35 0 .62-.28.62-.62 0-.34-.27-.62-.62-.62h-1.95c-.34 0-.62.28-.62.62 0 .34.27.62.62.62Z"})]})}),(0,It.jsxs)("div",{className:"col",children:[qre.wz[u.Vehicle.porteNumber]," ","portes"]})]})})]}),(0,It.jsx)("h3",{children:"Votre hote"}),(0,It.jsxs)("div",{className:"d-lex justify-content-center mb-3",children:[(0,It.jsx)("div",{children:(0,It.jsx)("img",{src:"",alt:""})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{children:(0,It.jsxs)("strong",{children:[null===u||void 0===u||null===(e=u.Vehicle)||void 0===e||null===(t=e.UserProfile)||void 0===t?void 0:t.firstName," ",null===u||void 0===u||null===(n=u.Vehicle)||void 0===n||null===(r=n.UserProfile)||void 0===r?void 0:r.lastName,"."]})}),(0,It.jsxs)("p",{children:["1 Voyage."," ",(0,It.jsxs)("span",{className:"text-success",children:["Membre depuis le"," ",ey()(null===u||void 0===u||null===(i=u.Vehicle)||void 0===i||null===(a=i.UserProfile)||void 0===a?void 0:a.createdAt).calendar()]})]}),(0,It.jsx)("div",{className:"small text-muted",children:"R\xe9pond habituellement en 1 minute"}),(0,It.jsx)("p",{children:u.Vehicle.description}),(0,It.jsx)("div",{className:"row",children:f&&f.map(((e,t)=>(0,It.jsx)("div",{className:"col-md-4",children:(0,It.jsx)("p",{children:(0,It.jsx)("span",{className:"badge bg-tertiary",children:e.VehicleOption.name})})},t)))}),(0,It.jsx)("h3",{children:"\xc9valuations et commentaires"}),(0,It.jsx)("span",{children:oe}),(0,It.jsxs)("p",{children:[le," \xe9valuation"]}),(0,It.jsxs)("dl",{className:"row",children:[(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"5",id:"excellentCheckbox",checked:te.includes("5"),onChange:()=>ue("5")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"excellentCheckbox",children:"EXCELLENT"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Excellent Progress","aria-valuenow":re[5]?re[5]/l.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(re[5]?re[5]/l.length*100:0,"%")},children:re[5]?"".concat((re[5]/l.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"4",id:"veryGoodCheckbox",checked:te.includes("4"),onChange:()=>ue("4")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"TRES BIEN"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":re[4]?re[4]/l.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(re[4]?re[4]/l.length*100:0,"%")},children:re[4]?"".concat((re[4]/l.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"3",id:"veryGoodCheckbox",checked:te.includes("3"),onChange:()=>ue("3")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"MOYEN"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":re[3]?re[3]/l.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(re[3]?re[3]/l.length*100:0,"%")},children:re[3]?"".concat((re[3]/l.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",id:"veryGoodCheckbox",checked:te.includes("2"),onChange:()=>ue("2")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"PASSABLE"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":re[2]?re[2]/l.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(re[2]?re[2]/l.length*100:0,"%")},children:re[2]?"".concat((re[2]/l.length*100).toFixed(2),"%"):""})})}),(0,It.jsx)("dt",{className:"col-sm-3",children:(0,It.jsxs)("div",{className:"form-check",children:[(0,It.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",id:"veryGoodCheckbox",checked:te.includes("1"),onChange:()=>ue("1")}),(0,It.jsx)("label",{className:"form-check-label",htmlFor:"veryGoodCheckbox",children:"MAUVAIS"})]})}),(0,It.jsx)("dd",{className:"col-sm-9",children:(0,It.jsx)("div",{className:"progress",role:"progressbar","aria-label":"Very Good Progress","aria-valuenow":re[1]?re[1]/l.length*100:0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,It.jsx)("div",{className:"progress-bar",style:{width:"".concat(re[1]?re[1]/l.length*100:0,"%")},children:re[1]?"".concat((re[1]/l.length*100).toFixed(2),"%"):""})})})]}),(0,It.jsx)("div",{className:"col-md-8 mb-3",children:de&&de.map((e=>(0,It.jsx)(Yre,{annuler:!0,data:e},e.id)))}),0===de.length&&(0,It.jsx)("div",{className:"small text-muted",children:"II n\u2019y a pas assez d\u2019\xe9valuations"}),(0,It.jsx)("h3",{children:"Commentaires"})]})]})]})}),(0,It.jsx)("div",{className:"col-md-3",children:(0,It.jsxs)("div",{className:"w-100 d-md-block my-div",children:[(0,It.jsx)("h2",{className:"mb-2",children:T&&E&&(0,It.jsxs)("strong",{children:[A(b,T,E),"\u20ac au total"]})}),(0,It.jsx)("a",{className:"mb-3","data-bs-toggle":"offcanvas",href:"#offcanvasExample",role:"button","aria-controls":"offcanvasExample",children:"Voir les prix en d\xe9tails"}),(0,It.jsx)("hr",{}),(0,It.jsx)(Mt,{dateAdapter:Zt,children:(0,It.jsx)(Dg,{components:["DateRangePicker"],children:(0,It.jsx)(Ig,{localeText:{start:"D\xe9but",end:"Fin"},value:K,onChange:e=>{var t,n;Z(e);let r=new Date(null===(t=e[0])||void 0===t?void 0:t.$d),i=new Date(null===(n=e[1])||void 0===n?void 0:n.$d),a="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")),o="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0"));console.log("Date de debut",a),console.log("Date de fin",o),Q(a),ee(o),I(a),N(o)},renderInput:(e,t)=>(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("input",{...e}),(0,It.jsx)("input",{...t})]})})})}),(0,It.jsxs)("div",{class:" mt-3 d-flex justify-content-between w-100 p",children:[(0,It.jsx)("div",{className:"col-md-5",children:(0,It.jsx)("select",{class:"form-select form-select-lg mb-3","aria-label":"Small select example",value:x,onChange:e=>{w(e.target.value),console.log(e.target.value)},children:S()})}),(0,It.jsx)("span",{children:"--"}),(0,It.jsx)("div",{className:"col-md-5",children:(0,It.jsx)("select",{class:"form-select form-select-lg mb-3","aria-label":"Small select example",value:_,onChange:e=>{k(e.target.value),console.log(e.target.value)},children:S()})})]}),(0,It.jsx)("hr",{}),(0,It.jsx)("span",{className:"mb-3",children:(0,It.jsx)("strong",{children:"Lieu de prise en charge et de retour"})}),(0,It.jsx)("p",{children:g}),(0,It.jsx)("div",{className:"small text-muted mb-2",children:"Nous vous enverrons l\u2019adresse compl\xe8te d\xe8s que votre trajet sera r\xe9serv\xe9."}),(0,It.jsxs)("div",{class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel",children:[(0,It.jsxs)("div",{class:"offcanvas-header",children:[(0,It.jsx)("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel",children:"D\xe9tails du prix"}),(0,It.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,It.jsx)("div",{class:"offcanvas-body",children:(0,It.jsxs)("dl",{class:"row",children:[(0,It.jsxs)("dt",{class:"col-sm-3",children:[M," \u20ac \xd7 ",D+1," jour"]}),b&&(0,It.jsx)("dd",{class:"col-sm-9",children:A(b,T,E)}),(0,It.jsx)("dt",{class:"col-sm-3",children:"Frais de voyage"}),(0,It.jsx)("dd",{class:"col-sm-9",children:(0,It.jsxs)("p",{children:[8,"\u20ac"]})}),(0,It.jsx)("dt",{class:"col-sm-3",children:"TVA"}),(0,It.jsxs)("dd",{class:"col-sm-9",children:[2,"\u20ac"]}),(0,It.jsx)("dt",{class:"col-sm-3 text-truncate",children:"Total"}),(0,It.jsxs)("dd",{class:"col-sm-9",children:[10,"\u20ac"]})]})})]}),!P&&!L&&D>3&&U.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 3 jours ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[U[0].pourcentage_reduction*A(b,T,E)/100,"\u20ac"]})]}),!P&&!L&&D>7&&U.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 7 jours ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[U[1].pourcentage_reduction*A(b,T,E)/100,"\u20ac"]})]}),!P&&!L&&D>14&&U.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 2 semaines ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[U[2].pourcentage_reduction*A(b,T,E)/100,"\u20ac"]})]}),!P&&!L&&D>30&&U.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 30 jours ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[U[3].pourcentage_reduction*A(b,T,E)/100,"\u20ac"]})]}),!P&&!L&&D>60&&U.length>0&&(0,It.jsxs)("div",{className:"alert alert-success mb-2",children:["R\xe9duction pour 2 mois ou plus:"," ",(0,It.jsxs)("strong",{className:"",children:[U[4].pourcentage_reduction*A(b,T,E)/100,"\u20ac"]})]}),(0,It.jsx)("button",{className:"btn btn-tertiary w-100 mb-2",disabled:P&&L,onClick:function(){G("&endDate="+E+"&endTime="+_+"&startDate="+T+"&startTime="+x+"&reservationLocationType=HOME&vehicleId="+u.Vehicle.id),window.location.href="".concat(Av.AJ,"/onboarding?action=CHECKOUT")+"&endDate="+E+"&endTime="+_+"&startDate="+T+"&startTime="+x+"&reservationLocationType=HOME&vehicleId="+u.Vehicle.id+"&NombreJour="+D+"&priceU="+b[0].Default_price+"&fraisVoyage=8&Tva=2&Reduction="+Y+"&FreeMinDistance="+u.distanceOutMin+"&annonceId="+u.vehiculeAnnonceId},children:"Continuer"}),P&&L&&(0,It.jsx)("div",{className:"small alert alert-danger",children:"Cette voiture n\u2019est pas disponible pour la p\xe9riode indiqu\xe9e."}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,It.jsx)("ion-icon",{name:"heart-dislike-outline"}),(0,It.jsxs)("div",{children:[(0,It.jsx)("p",{children:(0,It.jsx)("span",{children:(0,It.jsx)("strong",{children:"Annulation gratuite"})})}),(0,It.jsx)("p",{className:"text-muted",children:"Remboursement complet avant le 18 janv., 10:00"})]})]}),(0,It.jsx)("hr",{}),(0,It.jsxs)("p",{className:"text-align-left",children:["Distance incluse: ",u.distanceOutMin," km"," "]}),(0,It.jsx)("small",{className:"text-muted text-align-left",children:"Frais de 0,13\u20ac pour chaque kilom\xe8tre suppl\xe9mentaire parcouru"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"text-align-left",children:[(0,It.jsx)("p",{children:"Assurance et protection"}),(0,It.jsx)("p",{children:"Assurance fournie par AXA France"})]}),(0,It.jsx)("hr",{className:"text-muted"}),(0,It.jsx)("button",{className:"btn btn-success w-100 mb-2",children:"Ajouter aux favoris"}),(0,It.jsx)("hr",{}),(0,It.jsxs)("div",{className:"d-flex align-items-center flex-column mb-3",children:[(0,It.jsx)("a",{className:"mb-2",href:"#",children:"Signaler l'annonce"}),(0,It.jsx)("a",{href:"#",children:"Condition d'annulation"})]})]})})]})})})}),(0,It.jsx)(Gre,{centers:Array(u),centercoords:[parseFloat(u.locationCoordinates.split(",")[0]),parseFloat(u.locationCoordinates.split(",")[1])]})]})};const lie=function(){const e=(0,xv.q)(),[t,n]=(0,o.useState)([]),{vehiculeId:r,mois:i}=(JSON.parse(window.localStorage.getItem("me")),ie());return(0,o.useEffect)((()=>{(async()=>{window.localStorage.getItem("VehicleStorage");const t=await e.get("/vehicles/searchbyid/"+r);t.data&&window.localStorage.setItem("VehicleStorage",JSON.stringify(t.data))})()}),[]),(0,It.jsx)("section",{className:"mb-3",children:(0,It.jsxs)("div",{className:"container",children:[(0,It.jsx)(ry,{}),(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)("div",{className:"col-md-3 mb-3 d-none d-sm-block",children:(0,It.jsx)(Iv,{vehiculeId:r})}),(0,It.jsx)("div",{className:"col-md-8 mb-3",style:{overflowX:"auto"},children:(0,It.jsxs)("div",{class:"my-div w-100 col-11 col-lg-8 py-4 px-lg-6 mx-auto",style:{padding:"0px",minWidth:"366px"},children:[(0,It.jsx)("div",{class:"collapse navbar-collapse",id:"navListSearch",children:(0,It.jsx)("nav",{class:"navbar navbar-expand navbar-light shadow bg-body-tertiary rounded w-100 mb-2",children:(0,It.jsx)("div",{class:"container-fluid",children:(0,It.jsxs)("div",{class:"collapse navbar-collapse d-flex flex-column flex-md-row",id:"navbarScroll",children:[(0,It.jsxs)("ul",{class:"navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll d-flex flex-column flex-md-row",style:{height:"100px"},children:[(0,It.jsx)("li",{class:"nav-item me-2",children:(0,It.jsxs)("h3",{children:[t.length," voitures"]})}),(0,It.jsx)("li",{class:"nav-item dropdown",children:(0,It.jsxs)("select",{class:"form-select","aria-label":"Default select example",children:[(0,It.jsx)("option",{selected:!0,children:"Statut"}),(0,It.jsx)("option",{value:"1",children:"Toutes vos voitures"}),(0,It.jsx)("option",{value:"2",children:"Actives"}),(0,It.jsx)("option",{value:"3",children:"En attente"}),(0,It.jsx)("option",{value:"4",children:"Incompl\xe8te"}),(0,It.jsx)("option",{value:"5",children:"Desactiv\xe9"})]})})]}),(0,It.jsxs)("form",{class:"d-flex",children:[(0,It.jsx)("input",{class:"form-control me-2",type:"search",placeholder:"Rechercher une voiture","aria-label":"Search"}),(0,It.jsx)("button",{class:"btn btn-outline-success",type:"submit",children:"Search"})]})]})})})}),(0,It.jsx)(_v,{mois:parseInt(i),vehiculeId:parseInt(r)})]})})]})]})})},cie=e=>{let{Component:t}=e;const[n,r]=(0,o.useState)(!1),[i,a]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{(async()=>{try{const t=await Ure.A.get("".concat(Av.f9,"/api/auth/check-auth"));r(t.data.isAuthenticated),a(!1);const n=await Ure.A.get("".concat(Av.f9,"/api"));var e=JSON.stringify(n.data);localStorage.setItem("me",e)}catch(t){console.error("Error fetching authentication status:",t),a(!1)}})()}),[]),i?(0,It.jsx)("div",{children:"Loading..."}):n?(0,It.jsx)(t,{}):(0,It.jsx)(be,{to:"/signin"})},uie=()=>(0,It.jsx)(o.StrictMode,{children:(0,It.jsx)(xv.M,{children:(0,It.jsxs)(Te,{children:[(0,It.jsx)(Ev,{}),(0,It.jsxs)(we,{children:[(0,It.jsx)(ye,{path:"/",element:(0,It.jsx)(Bg,{})}),(0,It.jsx)(ye,{path:"/signin",element:(0,It.jsx)(eie,{})}),(0,It.jsx)(ye,{path:"/signup",element:(0,It.jsx)(tie,{})}),(0,It.jsx)(ye,{path:"/financial-transaction-gpt4",element:(0,It.jsx)(nie,{})}),(0,It.jsx)(ye,{path:"/financial-transaction-gpt4-v2",element:(0,It.jsx)(Lre,{})}),(0,It.jsx)(ye,{path:"/confirmmodel/:voitureId",element:(0,It.jsx)(oie,{})}),(0,It.jsx)(ye,{path:"/emplacement-delivery-car/:voitureId/annonce/:annonceId",element:(0,It.jsx)(iT,{})}),(0,It.jsx)(ye,{path:"/location-mode-car/:voitureId/annonce/:annonceId",element:(0,It.jsx)(hI,{})}),(0,It.jsx)(ye,{path:"/availabilities-car/:voitureId",element:(0,It.jsx)(EA,{})}),(0,It.jsx)(ye,{path:"/unavailabilities-car/:voitureId/calendar/:mois",element:(0,It.jsx)(aie,{})}),(0,It.jsx)(ye,{path:"/advancedconfig/:voitureId",element:(0,It.jsx)(IA,{})}),(0,It.jsx)(ye,{path:"/completeAnnonce",element:(0,It.jsx)(JA,{})}),(0,It.jsx)(ye,{path:"/account/your-car/edit-photos/:vehiculeId",element:(0,It.jsx)(nT,{})}),(0,It.jsx)(ye,{path:"/account/settings/availabilities/:vehiculeId",element:(0,It.jsx)($re,{})}),(0,It.jsx)(ye,{path:"/account",element:(0,It.jsx)(cie,{Component:oy})}),(0,It.jsx)(ye,{path:"/account-public",element:(0,It.jsx)(oy,{})}),(0,It.jsx)(ye,{path:"/account/demandes",element:(0,It.jsx)(cie,{Component:oy})}),(0,It.jsx)(ye,{path:"/account/asks",element:(0,It.jsx)(oy,{})}),(0,It.jsx)(ye,{path:"/account/locations",element:(0,It.jsx)(cie,{Component:pI})}),(0,It.jsx)(ye,{path:"/account/voitures",element:(0,It.jsx)(cie,{Component:AA})}),(0,It.jsx)(ye,{path:"/account/voitures-public",element:(0,It.jsx)(AA,{})}),(0,It.jsx)(ye,{path:"/account/performances",element:(0,It.jsx)(cie,{Component:SA})}),(0,It.jsx)(ye,{path:"/business/earnings",element:(0,It.jsx)(wA,{})}),(0,It.jsx)(ye,{path:"/location-voiture/:annonceid",element:(0,It.jsx)(sie,{})}),(0,It.jsx)(ye,{path:"/inbox/messages/thread/:messageid",element:(0,It.jsx)(cie,{Component:OT})}),(0,It.jsx)(ye,{path:"/location-voiture",element:(0,It.jsx)(gI,{})}),(0,It.jsx)(ye,{path:"/search",element:(0,It.jsx)(Zre,{})}),(0,It.jsx)(ye,{path:"/onboarding",element:(0,It.jsx)(vI,{})}),(0,It.jsx)(ye,{path:"/checkout",element:(0,It.jsx)(KA,{})}),(0,It.jsx)(ye,{path:"/guest/listing/reservations",element:(0,It.jsx)(dT,{})}),(0,It.jsx)(ye,{path:"/guest/listing/reviews",element:(0,It.jsx)(jT,{})}),(0,It.jsx)(ye,{path:"/calendar/:mois",element:(0,It.jsx)(_v,{})}),(0,It.jsx)(ye,{path:"/account/voiture/:vehiculeId/calendar/:mois",element:(0,It.jsx)(lie,{})}),(0,It.jsx)(ye,{path:"/account/voiture/prix-et-reductions/:vehiculeId",element:(0,It.jsx)(zre,{})}),(0,It.jsx)(ye,{path:"/account/voiture/emplcaments-et-livraison/:vehiculeId/annonce/:AnnonceId",element:(0,It.jsx)(dI,{})}),(0,It.jsx)(ye,{path:"/account/voiture/preferences-de-reservation/:vehiculeId",element:(0,It.jsx)(Fre,{})}),(0,It.jsx)(ye,{path:"/reservation/:reservationId",element:(0,It.jsx)(cie,{Component:Vre})}),(0,It.jsx)(ye,{path:"/guest/reservation/:reservationId",element:(0,It.jsx)(Wre,{})}),(0,It.jsx)(ye,{path:"/guest/chatbox/:reservationId",element:(0,It.jsx)(DA,{})})]}),(0,It.jsx)(kv,{})]})})});l.createRoot(document.getElementById("root")).render((0,It.jsx)(uie,{}))})()})();
//# sourceMappingURL=main.cf912532.js.map